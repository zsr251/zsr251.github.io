(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))f(v);new MutationObserver(v=>{for(const m of v)if(m.type==="childList")for(const A of m.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&f(A)}).observe(document,{childList:!0,subtree:!0});function s(v){const m={};return v.integrity&&(m.integrity=v.integrity),v.referrerPolicy&&(m.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?m.credentials="include":v.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function f(v){if(v.ep)return;v.ep=!0;const m=s(v);fetch(v.href,m)}})();var hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function kA(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var a=r.default;if(typeof a=="function"){var s=function f(){return this instanceof f?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(f){var v=Object.getOwnPropertyDescriptor(r,f);Object.defineProperty(s,f,v.get?v:{enumerable:!0,get:function(){return r[f]}})}),s}var ud={exports:{}},fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function MA(){if(gy)return fc;gy=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(f,v,m){var A=null;if(m!==void 0&&(A=""+m),v.key!==void 0&&(A=""+v.key),"key"in v){m={};for(var p in v)p!=="key"&&(m[p]=v[p])}else m=v;return v=m.ref,{$$typeof:r,type:f,key:A,ref:v!==void 0?v:null,props:m}}return fc.Fragment=a,fc.jsx=s,fc.jsxs=s,fc}var py;function LA(){return py||(py=1,ud.exports=MA()),ud.exports}var z=LA(),fd={exports:{}},vn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function UA(){if(yy)return vn;yy=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),A=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.iterator;function _(Ae){return Ae===null||typeof Ae!="object"?null:(Ae=L&&Ae[L]||Ae["@@iterator"],typeof Ae=="function"?Ae:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,H={};function T(Ae,Se,ze){this.props=Ae,this.context=Se,this.refs=H,this.updater=ze||V}T.prototype.isReactComponent={},T.prototype.setState=function(Ae,Se){if(typeof Ae!="object"&&typeof Ae!="function"&&Ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ae,Se,"setState")},T.prototype.forceUpdate=function(Ae){this.updater.enqueueForceUpdate(this,Ae,"forceUpdate")};function F(){}F.prototype=T.prototype;function U(Ae,Se,ze){this.props=Ae,this.context=Se,this.refs=H,this.updater=ze||V}var K=U.prototype=new F;K.constructor=U,P(K,T.prototype),K.isPureReactComponent=!0;var X=Array.isArray;function M(){}var I={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function j(Ae,Se,ze){var _e=ze.ref;return{$$typeof:r,type:Ae,key:Se,ref:_e!==void 0?_e:null,props:ze}}function ie(Ae,Se){return j(Ae.type,Se,Ae.props)}function de(Ae){return typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===r}function ee(Ae){var Se={"=":"=0",":":"=2"};return"$"+Ae.replace(/[=:]/g,function(ze){return Se[ze]})}var se=/\/+/g;function Ce(Ae,Se){return typeof Ae=="object"&&Ae!==null&&Ae.key!=null?ee(""+Ae.key):Se.toString(36)}function oe(Ae){switch(Ae.status){case"fulfilled":return Ae.value;case"rejected":throw Ae.reason;default:switch(typeof Ae.status=="string"?Ae.then(M,M):(Ae.status="pending",Ae.then(function(Se){Ae.status==="pending"&&(Ae.status="fulfilled",Ae.value=Se)},function(Se){Ae.status==="pending"&&(Ae.status="rejected",Ae.reason=Se)})),Ae.status){case"fulfilled":return Ae.value;case"rejected":throw Ae.reason}}throw Ae}function he(Ae,Se,ze,_e,Je){var Ne=typeof Ae;(Ne==="undefined"||Ne==="boolean")&&(Ae=null);var wt=!1;if(Ae===null)wt=!0;else switch(Ne){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(Ae.$$typeof){case r:case a:wt=!0;break;case D:return wt=Ae._init,he(wt(Ae._payload),Se,ze,_e,Je)}}if(wt)return Je=Je(Ae),wt=_e===""?"."+Ce(Ae,0):_e,X(Je)?(ze="",wt!=null&&(ze=wt.replace(se,"$&/")+"/"),he(Je,Se,ze,"",function(W){return W})):Je!=null&&(de(Je)&&(Je=ie(Je,ze+(Je.key==null||Ae&&Ae.key===Je.key?"":(""+Je.key).replace(se,"$&/")+"/")+wt)),Se.push(Je)),1;wt=0;var yt=_e===""?".":_e+":";if(X(Ae))for(var Q=0;Q<Ae.length;Q++)_e=Ae[Q],Ne=yt+Ce(_e,Q),wt+=he(_e,Se,ze,Ne,Je);else if(Q=_(Ae),typeof Q=="function")for(Ae=Q.call(Ae),Q=0;!(_e=Ae.next()).done;)_e=_e.value,Ne=yt+Ce(_e,Q++),wt+=he(_e,Se,ze,Ne,Je);else if(Ne==="object"){if(typeof Ae.then=="function")return he(oe(Ae),Se,ze,_e,Je);throw Se=String(Ae),Error("Objects are not valid as a React child (found: "+(Se==="[object Object]"?"object with keys {"+Object.keys(Ae).join(", ")+"}":Se)+"). If you meant to render a collection of children, use an array instead.")}return wt}function ve(Ae,Se,ze){if(Ae==null)return Ae;var _e=[],Je=0;return he(Ae,_e,"","",function(Ne){return Se.call(ze,Ne,Je++)}),_e}function ke(Ae){if(Ae._status===-1){var Se=Ae._result;Se=Se(),Se.then(function(ze){(Ae._status===0||Ae._status===-1)&&(Ae._status=1,Ae._result=ze)},function(ze){(Ae._status===0||Ae._status===-1)&&(Ae._status=2,Ae._result=ze)}),Ae._status===-1&&(Ae._status=0,Ae._result=Se)}if(Ae._status===1)return Ae._result.default;throw Ae._result}var Ue=typeof reportError=="function"?reportError:function(Ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ae=="object"&&Ae!==null&&typeof Ae.message=="string"?String(Ae.message):String(Ae),error:Ae});if(!window.dispatchEvent(Se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ae);return}console.error(Ae)},Me={map:ve,forEach:function(Ae,Se,ze){ve(Ae,function(){Se.apply(this,arguments)},ze)},count:function(Ae){var Se=0;return ve(Ae,function(){Se++}),Se},toArray:function(Ae){return ve(Ae,function(Se){return Se})||[]},only:function(Ae){if(!de(Ae))throw Error("React.Children.only expected to receive a single React element child.");return Ae}};return vn.Activity=R,vn.Children=Me,vn.Component=T,vn.Fragment=s,vn.Profiler=v,vn.PureComponent=U,vn.StrictMode=f,vn.Suspense=w,vn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vn.__COMPILER_RUNTIME={__proto__:null,c:function(Ae){return I.H.useMemoCache(Ae)}},vn.cache=function(Ae){return function(){return Ae.apply(null,arguments)}},vn.cacheSignal=function(){return null},vn.cloneElement=function(Ae,Se,ze){if(Ae==null)throw Error("The argument must be a React element, but you passed "+Ae+".");var _e=P({},Ae.props),Je=Ae.key;if(Se!=null)for(Ne in Se.key!==void 0&&(Je=""+Se.key),Se)!E.call(Se,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Se.ref===void 0||(_e[Ne]=Se[Ne]);var Ne=arguments.length-2;if(Ne===1)_e.children=ze;else if(1<Ne){for(var wt=Array(Ne),yt=0;yt<Ne;yt++)wt[yt]=arguments[yt+2];_e.children=wt}return j(Ae.type,Je,_e)},vn.createContext=function(Ae){return Ae={$$typeof:A,_currentValue:Ae,_currentValue2:Ae,_threadCount:0,Provider:null,Consumer:null},Ae.Provider=Ae,Ae.Consumer={$$typeof:m,_context:Ae},Ae},vn.createElement=function(Ae,Se,ze){var _e,Je={},Ne=null;if(Se!=null)for(_e in Se.key!==void 0&&(Ne=""+Se.key),Se)E.call(Se,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Je[_e]=Se[_e]);var wt=arguments.length-2;if(wt===1)Je.children=ze;else if(1<wt){for(var yt=Array(wt),Q=0;Q<wt;Q++)yt[Q]=arguments[Q+2];Je.children=yt}if(Ae&&Ae.defaultProps)for(_e in wt=Ae.defaultProps,wt)Je[_e]===void 0&&(Je[_e]=wt[_e]);return j(Ae,Ne,Je)},vn.createRef=function(){return{current:null}},vn.forwardRef=function(Ae){return{$$typeof:p,render:Ae}},vn.isValidElement=de,vn.lazy=function(Ae){return{$$typeof:D,_payload:{_status:-1,_result:Ae},_init:ke}},vn.memo=function(Ae,Se){return{$$typeof:C,type:Ae,compare:Se===void 0?null:Se}},vn.startTransition=function(Ae){var Se=I.T,ze={};I.T=ze;try{var _e=Ae(),Je=I.S;Je!==null&&Je(ze,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(M,Ue)}catch(Ne){Ue(Ne)}finally{Se!==null&&ze.types!==null&&(Se.types=ze.types),I.T=Se}},vn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vn.use=function(Ae){return I.H.use(Ae)},vn.useActionState=function(Ae,Se,ze){return I.H.useActionState(Ae,Se,ze)},vn.useCallback=function(Ae,Se){return I.H.useCallback(Ae,Se)},vn.useContext=function(Ae){return I.H.useContext(Ae)},vn.useDebugValue=function(){},vn.useDeferredValue=function(Ae,Se){return I.H.useDeferredValue(Ae,Se)},vn.useEffect=function(Ae,Se){return I.H.useEffect(Ae,Se)},vn.useEffectEvent=function(Ae){return I.H.useEffectEvent(Ae)},vn.useId=function(){return I.H.useId()},vn.useImperativeHandle=function(Ae,Se,ze){return I.H.useImperativeHandle(Ae,Se,ze)},vn.useInsertionEffect=function(Ae,Se){return I.H.useInsertionEffect(Ae,Se)},vn.useLayoutEffect=function(Ae,Se){return I.H.useLayoutEffect(Ae,Se)},vn.useMemo=function(Ae,Se){return I.H.useMemo(Ae,Se)},vn.useOptimistic=function(Ae,Se){return I.H.useOptimistic(Ae,Se)},vn.useReducer=function(Ae,Se,ze){return I.H.useReducer(Ae,Se,ze)},vn.useRef=function(Ae){return I.H.useRef(Ae)},vn.useState=function(Ae){return I.H.useState(Ae)},vn.useSyncExternalStore=function(Ae,Se,ze){return I.H.useSyncExternalStore(Ae,Se,ze)},vn.useTransition=function(){return I.H.useTransition()},vn.version="19.2.4",vn}var my;function Lh(){return my||(my=1,fd.exports=UA()),fd.exports}var ae=Lh();const Xr=Mh(ae);var dd={exports:{}},dc={},hd={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function FA(){return xy||(xy=1,(function(r){function a(he,ve){var ke=he.length;he.push(ve);e:for(;0<ke;){var Ue=ke-1>>>1,Me=he[Ue];if(0<v(Me,ve))he[Ue]=ve,he[ke]=Me,ke=Ue;else break e}}function s(he){return he.length===0?null:he[0]}function f(he){if(he.length===0)return null;var ve=he[0],ke=he.pop();if(ke!==ve){he[0]=ke;e:for(var Ue=0,Me=he.length,Ae=Me>>>1;Ue<Ae;){var Se=2*(Ue+1)-1,ze=he[Se],_e=Se+1,Je=he[_e];if(0>v(ze,ke))_e<Me&&0>v(Je,ze)?(he[Ue]=Je,he[_e]=ke,Ue=_e):(he[Ue]=ze,he[Se]=ke,Ue=Se);else if(_e<Me&&0>v(Je,ke))he[Ue]=Je,he[_e]=ke,Ue=_e;else break e}}return ve}function v(he,ve){var ke=he.sortIndex-ve.sortIndex;return ke!==0?ke:he.id-ve.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;r.unstable_now=function(){return m.now()}}else{var A=Date,p=A.now();r.unstable_now=function(){return A.now()-p}}var w=[],C=[],D=1,R=null,L=3,_=!1,V=!1,P=!1,H=!1,T=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(he){for(var ve=s(C);ve!==null;){if(ve.callback===null)f(C);else if(ve.startTime<=he)f(C),ve.sortIndex=ve.expirationTime,a(w,ve);else break;ve=s(C)}}function X(he){if(P=!1,K(he),!V)if(s(w)!==null)V=!0,M||(M=!0,ee());else{var ve=s(C);ve!==null&&oe(X,ve.startTime-he)}}var M=!1,I=-1,E=5,j=-1;function ie(){return H?!0:!(r.unstable_now()-j<E)}function de(){if(H=!1,M){var he=r.unstable_now();j=he;var ve=!0;try{e:{V=!1,P&&(P=!1,F(I),I=-1),_=!0;var ke=L;try{t:{for(K(he),R=s(w);R!==null&&!(R.expirationTime>he&&ie());){var Ue=R.callback;if(typeof Ue=="function"){R.callback=null,L=R.priorityLevel;var Me=Ue(R.expirationTime<=he);if(he=r.unstable_now(),typeof Me=="function"){R.callback=Me,K(he),ve=!0;break t}R===s(w)&&f(w),K(he)}else f(w);R=s(w)}if(R!==null)ve=!0;else{var Ae=s(C);Ae!==null&&oe(X,Ae.startTime-he),ve=!1}}break e}finally{R=null,L=ke,_=!1}ve=void 0}}finally{ve?ee():M=!1}}}var ee;if(typeof U=="function")ee=function(){U(de)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ce=se.port2;se.port1.onmessage=de,ee=function(){Ce.postMessage(null)}}else ee=function(){T(de,0)};function oe(he,ve){I=T(function(){he(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(he){he.callback=null},r.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<he?Math.floor(1e3/he):5},r.unstable_getCurrentPriorityLevel=function(){return L},r.unstable_next=function(he){switch(L){case 1:case 2:case 3:var ve=3;break;default:ve=L}var ke=L;L=ve;try{return he()}finally{L=ke}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(he,ve){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var ke=L;L=he;try{return ve()}finally{L=ke}},r.unstable_scheduleCallback=function(he,ve,ke){var Ue=r.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?Ue+ke:Ue):ke=Ue,he){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ke+Me,he={id:D++,callback:ve,priorityLevel:he,startTime:ke,expirationTime:Me,sortIndex:-1},ke>Ue?(he.sortIndex=ke,a(C,he),s(w)===null&&he===s(C)&&(P?(F(I),I=-1):P=!0,oe(X,ke-Ue))):(he.sortIndex=Me,a(w,he),V||_||(V=!0,M||(M=!0,ee()))),he},r.unstable_shouldYield=ie,r.unstable_wrapCallback=function(he){var ve=L;return function(){var ke=L;L=ve;try{return he.apply(this,arguments)}finally{L=ke}}}})(gd)),gd}var vy;function PA(){return vy||(vy=1,hd.exports=FA()),hd.exports}var pd={exports:{}},ha={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function VA(){if(Ay)return ha;Ay=1;var r=Lh();function a(w){var C="https://react.dev/errors/"+w;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)C+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+w+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var f={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},v=Symbol.for("react.portal");function m(w,C,D){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:R==null?null:""+R,children:w,containerInfo:C,implementation:D}}var A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(w,C){if(w==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return ha.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,ha.createPortal=function(w,C){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(a(299));return m(w,C,null,D)},ha.flushSync=function(w){var C=A.T,D=f.p;try{if(A.T=null,f.p=2,w)return w()}finally{A.T=C,f.p=D,f.d.f()}},ha.preconnect=function(w,C){typeof w=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,f.d.C(w,C))},ha.prefetchDNS=function(w){typeof w=="string"&&f.d.D(w)},ha.preinit=function(w,C){if(typeof w=="string"&&C&&typeof C.as=="string"){var D=C.as,R=p(D,C.crossOrigin),L=typeof C.integrity=="string"?C.integrity:void 0,_=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;D==="style"?f.d.S(w,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:R,integrity:L,fetchPriority:_}):D==="script"&&f.d.X(w,{crossOrigin:R,integrity:L,fetchPriority:_,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},ha.preinitModule=function(w,C){if(typeof w=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var D=p(C.as,C.crossOrigin);f.d.M(w,{crossOrigin:D,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&f.d.M(w)},ha.preload=function(w,C){if(typeof w=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var D=C.as,R=p(D,C.crossOrigin);f.d.L(w,D,{crossOrigin:R,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},ha.preloadModule=function(w,C){if(typeof w=="string")if(C){var D=p(C.as,C.crossOrigin);f.d.m(w,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:D,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else f.d.m(w)},ha.requestFormReset=function(w){f.d.r(w)},ha.unstable_batchedUpdates=function(w,C){return w(C)},ha.useFormState=function(w,C,D){return A.H.useFormState(w,C,D)},ha.useFormStatus=function(){return A.H.useHostTransitionStatus()},ha.version="19.2.4",ha}var Cy;function x2(){if(Cy)return pd.exports;Cy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),pd.exports=VA(),pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function QA(){if(by)return dc;by=1;var r=PA(),a=Lh(),s=x2();function f(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)n+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var n=e,c=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(c=n.return),e=n.return;while(e)}return n.tag===3?c:null}function A(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function w(e){if(m(e)!==e)throw Error(f(188))}function C(e){var n=e.alternate;if(!n){if(n=m(e),n===null)throw Error(f(188));return n!==e?null:e}for(var c=e,g=n;;){var S=c.return;if(S===null)break;var N=S.alternate;if(N===null){if(g=S.return,g!==null){c=g;continue}break}if(S.child===N.child){for(N=S.child;N;){if(N===c)return w(S),e;if(N===g)return w(S),n;N=N.sibling}throw Error(f(188))}if(c.return!==g.return)c=S,g=N;else{for(var q=!1,le=S.child;le;){if(le===c){q=!0,c=S,g=N;break}if(le===g){q=!0,g=S,c=N;break}le=le.sibling}if(!q){for(le=N.child;le;){if(le===c){q=!0,c=N,g=S;break}if(le===g){q=!0,g=N,c=S;break}le=le.sibling}if(!q)throw Error(f(189))}}if(c.alternate!==g)throw Error(f(190))}if(c.tag!==3)throw Error(f(188));return c.stateNode.current===c?e:n}function D(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=D(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,L=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case T:return"Profiler";case H:return"StrictMode";case X:return"Suspense";case M:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case U:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Ce(e.type)||"Memo";case E:n=e._payload,e=e._init;try{return Ce(e(n))}catch{}}return null}var oe=Array.isArray,he=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},Ue=[],Me=-1;function Ae(e){return{current:e}}function Se(e){0>Me||(e.current=Ue[Me],Ue[Me]=null,Me--)}function ze(e,n){Me++,Ue[Me]=e.current,e.current=n}var _e=Ae(null),Je=Ae(null),Ne=Ae(null),wt=Ae(null);function yt(e,n){switch(ze(Ne,n),ze(Je,e),ze(_e,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Up(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Up(n),e=Fp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Se(_e),ze(_e,e)}function Q(){Se(_e),Se(Je),Se(Ne)}function W(e){e.memoizedState!==null&&ze(wt,e);var n=_e.current,c=Fp(n,e.type);n!==c&&(ze(Je,e),ze(_e,c))}function re(e){Je.current===e&&(Se(_e),Se(Je)),wt.current===e&&(Se(wt),oc._currentValue=ke)}var O,Z;function be(e){if(O===void 0)try{throw Error()}catch(c){var n=c.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",Z=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+e+Z}var xe=!1;function Ze(e,n){if(!e||xe)return"";xe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(n){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(Xe){var Ke=Xe}Reflect.construct(e,[],ut)}else{try{ut.call()}catch(Xe){Ke=Xe}e.call(ut.prototype)}}else{try{throw Error()}catch(Xe){Ke=Xe}(ut=e())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(Xe){if(Xe&&Ke&&typeof Xe.stack=="string")return[Xe.stack,Ke.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),q=N[0],le=N[1];if(q&&le){var Be=q.split(`
`),Ge=le.split(`
`);for(S=g=0;g<Be.length&&!Be[g].includes("DetermineComponentFrameRoot");)g++;for(;S<Ge.length&&!Ge[S].includes("DetermineComponentFrameRoot");)S++;if(g===Be.length||S===Ge.length)for(g=Be.length-1,S=Ge.length-1;1<=g&&0<=S&&Be[g]!==Ge[S];)S--;for(;1<=g&&0<=S;g--,S--)if(Be[g]!==Ge[S]){if(g!==1||S!==1)do if(g--,S--,0>S||Be[g]!==Ge[S]){var rt=`
`+Be[g].replace(" at new "," at ");return e.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",e.displayName)),rt}while(1<=g&&0<=S);break}}}finally{xe=!1,Error.prepareStackTrace=c}return(c=e?e.displayName||e.name:"")?be(c):""}function gt(e,n){switch(e.tag){case 26:case 27:case 5:return be(e.type);case 16:return be("Lazy");case 13:return e.child!==n&&n!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return Ze(e.type,!1);case 11:return Ze(e.type.render,!1);case 1:return Ze(e.type,!0);case 31:return be("Activity");default:return""}}function dt(e){try{var n="",c=null;do n+=gt(e,c),c=e,e=e.return;while(e);return n}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Ve=Object.prototype.hasOwnProperty,pt=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Lt=r.unstable_shouldYield,St=r.unstable_requestPaint,Kt=r.unstable_now,An=r.unstable_getCurrentPriorityLevel,Ht=r.unstable_ImmediatePriority,rn=r.unstable_UserBlockingPriority,nn=r.unstable_NormalPriority,Vt=r.unstable_LowPriority,wn=r.unstable_IdlePriority,yn=r.log,Sn=r.unstable_setDisableYieldValue,Gt=null,at=null;function Qt(e){if(typeof yn=="function"&&Sn(e),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(Gt,e)}catch{}}var we=Math.clz32?Math.clz32:ot,Te=Math.log,$e=Math.LN2;function ot(e){return e>>>=0,e===0?32:31-(Te(e)/$e|0)|0}var et=256,Rt=262144,dn=4194304;function On(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zn(e,n,c){var g=e.pendingLanes;if(g===0)return 0;var S=0,N=e.suspendedLanes,q=e.pingedLanes;e=e.warmLanes;var le=g&134217727;return le!==0?(g=le&~N,g!==0?S=On(g):(q&=le,q!==0?S=On(q):c||(c=le&~e,c!==0&&(S=On(c))))):(le=g&~N,le!==0?S=On(le):q!==0?S=On(q):c||(c=g&~e,c!==0&&(S=On(c)))),S===0?0:n!==0&&n!==S&&(n&N)===0&&(N=S&-S,c=n&-n,N>=c||N===32&&(c&4194048)!==0)?n:S}function an(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function tt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function It(){var e=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),e}function _t(e){for(var n=[],c=0;31>c;c++)n.push(e);return n}function kt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tt(e,n,c,g,S,N){var q=e.pendingLanes;e.pendingLanes=c,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=c,e.entangledLanes&=c,e.errorRecoveryDisabledLanes&=c,e.shellSuspendCounter=0;var le=e.entanglements,Be=e.expirationTimes,Ge=e.hiddenUpdates;for(c=q&~c;0<c;){var rt=31-we(c),ut=1<<rt;le[rt]=0,Be[rt]=-1;var Ke=Ge[rt];if(Ke!==null)for(Ge[rt]=null,rt=0;rt<Ke.length;rt++){var Xe=Ke[rt];Xe!==null&&(Xe.lane&=-536870913)}c&=~ut}g!==0&&zt(e,g,0),N!==0&&S===0&&e.tag!==0&&(e.suspendedLanes|=N&~(q&~n))}function zt(e,n,c){e.pendingLanes|=n,e.suspendedLanes&=~n;var g=31-we(n);e.entangledLanes|=n,e.entanglements[g]=e.entanglements[g]|1073741824|c&261930}function Ct(e,n){var c=e.entangledLanes|=n;for(e=e.entanglements;c;){var g=31-we(c),S=1<<g;S&n|e[g]&n&&(e[g]|=n),c&=~S}}function Ut(e,n){var c=n&-n;return c=(c&42)!==0?1:sn(c),(c&(e.suspendedLanes|n))!==0?0:c}function sn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function on(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cn(){var e=ve.p;return e!==0?e:(e=window.event,e===void 0?32:oy(e.type))}function ht(e,n){var c=ve.p;try{return ve.p=e,n()}finally{ve.p=c}}var En=Math.random().toString(36).slice(2),fn="__reactFiber$"+En,Jt="__reactProps$"+En,Ar="__reactContainer$"+En,ma="__reactEvents$"+En,Ci="__reactListeners$"+En,ar="__reactHandles$"+En,Vi="__reactResources$"+En,na="__reactMarker$"+En;function Gr(e){delete e[fn],delete e[Jt],delete e[ma],delete e[Ci],delete e[ar]}function ir(e){var n=e[fn];if(n)return n;for(var c=e.parentNode;c;){if(n=c[Ar]||c[fn]){if(c=n.alternate,n.child!==null||c!==null&&c.child!==null)for(e=Kp(e);e!==null;){if(c=e[fn])return c;e=Kp(e)}return n}e=c,c=e.parentNode}return null}function $t(e){if(e=e[fn]||e[Ar]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Zr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(f(33))}function dr(e){var n=e[Vi];return n||(n=e[Vi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function hr(e){e[na]=!0}var lt=new Set,Dr={};function kn(e,n){jr(e,n),jr(e+"Capture",n)}function jr(e,n){for(Dr[e]=n,e=0;e<n.length;e++)lt.add(n[e])}var Ma=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_n={},J={};function te(e){return Ve.call(J,e)?!0:Ve.call(_n,e)?!1:Ma.test(e)?J[e]=!0:(_n[e]=!0,!1)}function ue(e,n,c){if(te(n))if(c===null)e.removeAttribute(n);else{switch(typeof c){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var g=n.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+c)}}function Re(e,n,c){if(c===null)e.removeAttribute(n);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+c)}}function nt(e,n,c,g){if(g===null)e.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(c);return}e.setAttributeNS(n,c,""+g)}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function At(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bt(e,n,c){var g=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,N=g.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return S.call(this)},set:function(q){c=""+q,N.call(this,q)}}),Object.defineProperty(e,n,{enumerable:g.enumerable}),{getValue:function(){return c},setValue:function(q){c=""+q},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=At(e)?"checked":"value";e._valueTracker=bt(e,n,""+e[n])}}function Gn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var c=n.getValue(),g="";return e&&(g=At(e)?e.checked?"true":"false":e.value),e=g,e!==c?(n.setValue(e),!0):!1}function pn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sr=/[\n"\\]/g;function en(e){return e.replace(sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function zn(e,n,c,g,S,N,q,le){e.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?e.type=q:e.removeAttribute("type"),n!=null?q==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+We(n)):e.value!==""+We(n)&&(e.value=""+We(n)):q!=="submit"&&q!=="reset"||e.removeAttribute("value"),n!=null?ge(e,q,We(n)):c!=null?ge(e,q,We(c)):g!=null&&e.removeAttribute("value"),S==null&&N!=null&&(e.defaultChecked=!!N),S!=null&&(e.checked=S&&typeof S!="function"&&typeof S!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?e.name=""+We(le):e.removeAttribute("name")}function Fe(e,n,c,g,S,N,q,le){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.type=N),n!=null||c!=null){if(!(N!=="submit"&&N!=="reset"||n!=null)){Zt(e);return}c=c!=null?""+We(c):"",n=n!=null?""+We(n):c,le||n===e.value||(e.value=n),e.defaultValue=n}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,e.checked=le?e.checked:!!g,e.defaultChecked=!!g,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(e.name=q),Zt(e)}function ge(e,n,c){n==="number"&&pn(e.ownerDocument)===e||e.defaultValue===""+c||(e.defaultValue=""+c)}function Bt(e,n,c,g){if(e=e.options,n){n={};for(var S=0;S<c.length;S++)n["$"+c[S]]=!0;for(c=0;c<e.length;c++)S=n.hasOwnProperty("$"+e[c].value),e[c].selected!==S&&(e[c].selected=S),S&&g&&(e[c].defaultSelected=!0)}else{for(c=""+We(c),n=null,S=0;S<e.length;S++){if(e[S].value===c){e[S].selected=!0,g&&(e[S].defaultSelected=!0);return}n!==null||e[S].disabled||(n=e[S])}n!==null&&(n.selected=!0)}}function jn(e,n,c){if(n!=null&&(n=""+We(n),n!==e.value&&(e.value=n),c==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=c!=null?""+We(c):""}function Cr(e,n,c,g){if(n==null){if(g!=null){if(c!=null)throw Error(f(92));if(oe(g)){if(1<g.length)throw Error(f(93));g=g[0]}c=g}c==null&&(c=""),n=c}c=We(n),e.defaultValue=c,g=e.textContent,g===c&&g!==""&&g!==null&&(e.value=g),Zt(e)}function ci(e,n){if(n){var c=e.firstChild;if(c&&c===e.lastChild&&c.nodeType===3){c.nodeValue=n;return}}e.textContent=n}var co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hn(e,n,c){var g=n.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?g?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":g?e.setProperty(n,c):typeof c!="number"||c===0||co.has(n)?n==="float"?e.cssFloat=c:e[n]=(""+c).trim():e[n]=c+"px"}function qt(e,n,c){if(n!=null&&typeof n!="object")throw Error(f(62));if(e=e.style,c!=null){for(var g in c)!c.hasOwnProperty(g)||n!=null&&n.hasOwnProperty(g)||(g.indexOf("--")===0?e.setProperty(g,""):g==="float"?e.cssFloat="":e[g]="");for(var S in n)g=n[S],n.hasOwnProperty(S)&&c[S]!==g&&hn(e,S,g)}else for(var N in n)n.hasOwnProperty(N)&&hn(e,N,n[N])}function er(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(e){return ra.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kr(){}var ca=null;function ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,Wn=null;function Sr(e){var n=$t(e);if(n&&(e=n.stateNode)){var c=e[Jt]||null;e:switch(e=n.stateNode,n.type){case"input":if(zn(e,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),n=c.name,c.type==="radio"&&n!=null){for(c=e;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<c.length;n++){var g=c[n];if(g!==e&&g.form===e.form){var S=g[Jt]||null;if(!S)throw Error(f(90));zn(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(n=0;n<c.length;n++)g=c[n],g.form===e.form&&Gn(g)}break e;case"textarea":jn(e,c.value,c.defaultValue);break e;case"select":n=c.value,n!=null&&Bt(e,!!c.multiple,n,!1)}}}var Yt=!1;function bi(e,n,c){if(Yt)return e(n,c);Yt=!0;try{var g=e(n);return g}finally{if(Yt=!1,(or!==null||Wn!==null)&&(gu(),or&&(n=or,e=Wn,Wn=or=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function un(e,n){var c=e.stateNode;if(c===null)return null;var g=c[Jt]||null;if(g===null)return null;c=g[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(e=e.type,g=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!g;break e;default:e=!1}if(e)return null;if(c&&typeof c!="function")throw Error(f(231,n,typeof c));return c}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=!1;if(Mn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{uo=!1}var va=null,Ea=null,wi=null;function Ia(){if(wi)return wi;var e,n=Ea,c=n.length,g,S="value"in va?va.value:va.textContent,N=S.length;for(e=0;e<c&&n[e]===S[e];e++);var q=c-e;for(g=1;g<=q&&n[c-g]===S[N-g];g++);return wi=S.slice(e,1<g?1-g:void 0)}function Sa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function La(){return!0}function fo(){return!1}function mr(e){function n(c,g,S,N,q){this._reactName=c,this._targetInst=S,this.type=g,this.nativeEvent=N,this.target=q,this.currentTarget=null;for(var le in e)e.hasOwnProperty(le)&&(c=e[le],this[le]=c?c(N):N[le]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?La:fo,this.isPropagationStopped=fo,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),n}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=mr(Aa),Ua=R({},Aa,{view:0,detail:0}),Qi=mr(Ua),Ei,ho,Hi,xs=R({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(Ei=e.screenX-Hi.screenX,ho=e.screenY-Hi.screenY):ho=Ei=0,Hi=e),Ei)},movementY:function(e){return"movementY"in e?e.movementY:ho}}),Fn=mr(xs),vs=R({},xs,{dataTransfer:0}),Gi=mr(vs),Ca=R({},Ua,{relatedTarget:0}),Ii=mr(Ca),qe=R({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),mn=mr(qe),Or=R({},Aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fa=mr(Or),As=R({},Aa,{data:0}),Cs=mr(As),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gr(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tr[e])?!!n[e]:!1}function Pa(){return gr}var pr=R({},Ua,{key:function(e){if(e.key){var n=go[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?po[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?Sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ui=mr(pr),Ja=R({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kn=mr(Ja),Xt=R({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),yo=mr(Xt),Pn=R({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Va=mr(Pn),$a=R({},xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bs=mr($a),ua=R({},Aa,{newState:0,oldState:0}),ws=mr(ua),Fo=[9,13,27,32],fi=Mn&&"CompositionEvent"in window,Qa=null;Mn&&"documentMode"in document&&(Qa=document.documentMode);var Po=Mn&&"TextEvent"in window&&!Qa,Es=Mn&&(!fi||Qa&&8<Qa&&11>=Qa),Ha=" ",Is=!1;function mo(e,n){switch(e){case"keyup":return Fo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Si(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var di=!1;function Ga(e,n){switch(e){case"compositionend":return Si(n);case"keypress":return n.which!==32?null:(Is=!0,Ha);case"textInput":return e=n.data,e===Ha&&Is?null:e;default:return null}}function Ss(e,n){if(di)return e==="compositionend"||!fi&&mo(e,n)?(e=Ia(),wi=Ea=va=null,di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Es&&n.locale!=="ko"?null:n.data;default:return null}}var aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ji(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!aa[e.type]:n==="textarea"}function fa(e,n,c,g){or?Wn?Wn.push(g):Wn=[g]:or=g,n=Cu(n,"onChange"),0<n.length&&(c=new Rr("onChange","change",null,c,g),e.push({event:c,listeners:n}))}var Ti=null,hi=null;function Rl(e){Dp(e,0)}function Ki(e){var n=Zr(e);if(Gn(n))return e}function Wr(e,n){if(e==="change")return n}var Ta=!1;if(Mn){var tr;if(Mn){var Ba="oninput"in document;if(!Ba){var Cn=document.createElement("div");Cn.setAttribute("oninput","return;"),Ba=typeof Cn.oninput=="function"}tr=Ba}else tr=!1;Ta=tr&&(!document.documentMode||9<document.documentMode)}function zi(){Ti&&(Ti.detachEvent("onpropertychange",$),hi=Ti=null)}function $(e){if(e.propertyName==="value"&&Ki(hi)){var n=[];fa(n,hi,e,ms(e)),bi(Rl,n)}}function t(e,n,c){e==="focusin"?(zi(),Ti=n,hi=c,Ti.attachEvent("onpropertychange",$)):e==="focusout"&&zi()}function i(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(hi)}function l(e,n){if(e==="click")return Ki(n)}function u(e,n){if(e==="input"||e==="change")return Ki(n)}function h(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var y=typeof Object.is=="function"?Object.is:h;function o(e,n){if(y(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var c=Object.keys(e),g=Object.keys(n);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var S=c[g];if(!Ve.call(n,S)||!y(e[S],n[S]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x(e,n){var c=d(e);e=0;for(var g;c;){if(c.nodeType===3){if(g=e+c.textContent.length,e<=n&&g>=n)return{node:c,offset:n-e};e=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=d(c)}}function b(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?b(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function B(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pn(e.document);n instanceof e.HTMLIFrameElement;){try{var c=typeof n.contentWindow.location.href=="string"}catch{c=!1}if(c)e=n.contentWindow;else break;n=pn(e.document)}return n}function k(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G=Mn&&"documentMode"in document&&11>=document.documentMode,Y=null,ne=null,fe=null,ce=!1;function pe(e,n,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ce||Y==null||Y!==pn(g)||(g=Y,"selectionStart"in g&&k(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),fe&&o(fe,g)||(fe=g,g=Cu(ne,"onSelect"),0<g.length&&(n=new Rr("onSelect","select",null,n,c),e.push({event:n,listeners:g}),n.target=Y)))}function me(e,n){var c={};return c[e.toLowerCase()]=n.toLowerCase(),c["Webkit"+e]="webkit"+n,c["Moz"+e]="moz"+n,c}var ye={animationend:me("Animation","AnimationEnd"),animationiteration:me("Animation","AnimationIteration"),animationstart:me("Animation","AnimationStart"),transitionrun:me("Transition","TransitionRun"),transitionstart:me("Transition","TransitionStart"),transitioncancel:me("Transition","TransitionCancel"),transitionend:me("Transition","TransitionEnd")},Ie={},Ee={};Mn&&(Ee=document.createElement("div").style,"AnimationEvent"in window||(delete ye.animationend.animation,delete ye.animationiteration.animation,delete ye.animationstart.animation),"TransitionEvent"in window||delete ye.transitionend.transition);function Le(e){if(Ie[e])return Ie[e];if(!ye[e])return e;var n=ye[e],c;for(c in n)if(n.hasOwnProperty(c)&&c in Ee)return Ie[e]=n[c];return e}var Qe=Le("animationend"),Oe=Le("animationiteration"),je=Le("animationstart"),it=Le("transitionrun"),xt=Le("transitionstart"),vt=Le("transitioncancel"),ft=Le("transitionend"),Nt=new Map,Et="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Et.push("scrollEnd");function mt(e,n){Nt.set(e,n),kn(n,[e])}var Dt=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gn=[],Tn=0,Wt=0;function xn(){for(var e=Tn,n=Wt=Tn=0;n<e;){var c=gn[n];gn[n++]=null;var g=gn[n];gn[n++]=null;var S=gn[n];gn[n++]=null;var N=gn[n];if(gn[n++]=null,g!==null&&S!==null){var q=g.pending;q===null?S.next=S:(S.next=q.next,q.next=S),g.pending=S}N!==0&&Bi(c,S,N)}}function lr(e,n,c,g){gn[Tn++]=e,gn[Tn++]=n,gn[Tn++]=c,gn[Tn++]=g,Wt|=g,e.lanes|=g,e=e.alternate,e!==null&&(e.lanes|=g)}function da(e,n,c,g){return lr(e,n,c,g),Ts(e)}function $n(e,n){return lr(e,null,null,n),Ts(e)}function Bi(e,n,c){e.lanes|=c;var g=e.alternate;g!==null&&(g.lanes|=c);for(var S=!1,N=e.return;N!==null;)N.childLanes|=c,g=N.alternate,g!==null&&(g.childLanes|=c),N.tag===22&&(e=N.stateNode,e===null||e._visibility&1||(S=!0)),e=N,N=N.return;return e.tag===3?(N=e.stateNode,S&&n!==null&&(S=31-we(c),e=N.hiddenUpdates,g=e[S],g===null?e[S]=[n]:g.push(n),n.lane=c|536870912),N):null}function Ts(e){if(50<ec)throw ec=0,k0=null,Error(f(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Vo={};function mv(e,n,c,g){this.tag=e,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,n,c,g){return new mv(e,n,c,g)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var c=e.alternate;return c===null?(c=ja(e.tag,n,e.key,e.mode),c.elementType=e.elementType,c.type=e.type,c.stateNode=e.stateNode,c.alternate=e,e.alternate=c):(c.pendingProps=n,c.type=e.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=e.flags&65011712,c.childLanes=e.childLanes,c.lanes=e.lanes,c.child=e.child,c.memoizedProps=e.memoizedProps,c.memoizedState=e.memoizedState,c.updateQueue=e.updateQueue,n=e.dependencies,c.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},c.sibling=e.sibling,c.index=e.index,c.ref=e.ref,c.refCleanup=e.refCleanup,c}function h1(e,n){e.flags&=65011714;var c=e.alternate;return c===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=c.childLanes,e.lanes=c.lanes,e.child=c.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=c.memoizedProps,e.memoizedState=c.memoizedState,e.updateQueue=c.updateQueue,e.type=c.type,n=c.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Fc(e,n,c,g,S,N){var q=0;if(g=e,typeof e=="function")Sf(e)&&(q=1);else if(typeof e=="string")q=bA(e,c,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=ja(31,c,n,S),e.elementType=j,e.lanes=N,e;case P:return xo(c.children,S,N,n);case H:q=8,S|=24;break;case T:return e=ja(12,c,n,S|2),e.elementType=T,e.lanes=N,e;case X:return e=ja(13,c,n,S),e.elementType=X,e.lanes=N,e;case M:return e=ja(19,c,n,S),e.elementType=M,e.lanes=N,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:q=10;break e;case F:q=9;break e;case K:q=11;break e;case I:q=14;break e;case E:q=16,g=null;break e}q=29,c=Error(f(130,e===null?"null":typeof e,"")),g=null}return n=ja(q,c,n,S),n.elementType=e,n.type=g,n.lanes=N,n}function xo(e,n,c,g){return e=ja(7,e,g,n),e.lanes=c,e}function Tf(e,n,c){return e=ja(6,e,null,n),e.lanes=c,e}function g1(e){var n=ja(18,null,null,0);return n.stateNode=e,n}function Bf(e,n,c){return n=ja(4,e.children!==null?e.children:[],e.key,n),n.lanes=c,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var p1=new WeakMap;function ei(e,n){if(typeof e=="object"&&e!==null){var c=p1.get(e);return c!==void 0?c:(n={value:e,source:n,stack:dt(n)},p1.set(e,n),n)}return{value:e,source:n,stack:dt(n)}}var Qo=[],Ho=0,Pc=null,Ol=0,ti=[],ni=0,Bs=null,Ni=1,_i="";function Yi(e,n){Qo[Ho++]=Ol,Qo[Ho++]=Pc,Pc=e,Ol=n}function y1(e,n,c){ti[ni++]=Ni,ti[ni++]=_i,ti[ni++]=Bs,Bs=e;var g=Ni;e=_i;var S=32-we(g)-1;g&=~(1<<S),c+=1;var N=32-we(n)+S;if(30<N){var q=S-S%5;N=(g&(1<<q)-1).toString(32),g>>=q,S-=q,Ni=1<<32-we(n)+S|c<<S|g,_i=N+e}else Ni=1<<N|c<<S|g,_i=e}function Nf(e){e.return!==null&&(Yi(e,1),y1(e,1,0))}function _f(e){for(;e===Pc;)Pc=Qo[--Ho],Qo[Ho]=null,Ol=Qo[--Ho],Qo[Ho]=null;for(;e===Bs;)Bs=ti[--ni],ti[ni]=null,_i=ti[--ni],ti[ni]=null,Ni=ti[--ni],ti[ni]=null}function m1(e,n){ti[ni++]=Ni,ti[ni++]=_i,ti[ni++]=Bs,Ni=n.id,_i=n.overflow,Bs=e}var ia=null,xr=null,Vn=!1,Ns=null,ri=!1,Df=Error(f(519));function _s(e){var n=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(ei(n,e)),Df}function x1(e){var n=e.stateNode,c=e.type,g=e.memoizedProps;switch(n[fn]=e,n[Jt]=g,c){case"dialog":Rn("cancel",n),Rn("close",n);break;case"iframe":case"object":case"embed":Rn("load",n);break;case"video":case"audio":for(c=0;c<nc.length;c++)Rn(nc[c],n);break;case"source":Rn("error",n);break;case"img":case"image":case"link":Rn("error",n),Rn("load",n);break;case"details":Rn("toggle",n);break;case"input":Rn("invalid",n),Fe(n,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Rn("invalid",n);break;case"textarea":Rn("invalid",n),Cr(n,g.value,g.defaultValue,g.children)}c=g.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||n.textContent===""+c||g.suppressHydrationWarning===!0||Mp(n.textContent,c)?(g.popover!=null&&(Rn("beforetoggle",n),Rn("toggle",n)),g.onScroll!=null&&Rn("scroll",n),g.onScrollEnd!=null&&Rn("scrollend",n),g.onClick!=null&&(n.onclick=Kr),n=!0):n=!1,n||_s(e,!0)}function v1(e){for(ia=e.return;ia;)switch(ia.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:ia=ia.return}}function Go(e){if(e!==ia)return!1;if(!Vn)return v1(e),Vn=!0,!1;var n=e.tag,c;if((c=n!==3&&n!==27)&&((c=n===5)&&(c=e.type,c=!(c!=="form"&&c!=="button")||X0(e.type,e.memoizedProps)),c=!c),c&&xr&&_s(e),v1(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));xr=jp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));xr=jp(e)}else n===27?(n=xr,js(e.type)?(e=ed,ed=null,xr=e):xr=n):xr=ia?ii(e.stateNode.nextSibling):null;return!0}function vo(){xr=ia=null,Vn=!1}function Rf(){var e=Ns;return e!==null&&(Ra===null?Ra=e:Ra.push.apply(Ra,e),Ns=null),e}function kl(e){Ns===null?Ns=[e]:Ns.push(e)}var Of=Ae(null),Ao=null,Xi=null;function Ds(e,n,c){ze(Of,n._currentValue),n._currentValue=c}function Zi(e){e._currentValue=Of.current,Se(Of)}function kf(e,n,c){for(;e!==null;){var g=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,g!==null&&(g.childLanes|=n)):g!==null&&(g.childLanes&n)!==n&&(g.childLanes|=n),e===c)break;e=e.return}}function Mf(e,n,c,g){var S=e.child;for(S!==null&&(S.return=e);S!==null;){var N=S.dependencies;if(N!==null){var q=S.child;N=N.firstContext;e:for(;N!==null;){var le=N;N=S;for(var Be=0;Be<n.length;Be++)if(le.context===n[Be]){N.lanes|=c,le=N.alternate,le!==null&&(le.lanes|=c),kf(N.return,c,e),g||(q=null);break e}N=le.next}}else if(S.tag===18){if(q=S.return,q===null)throw Error(f(341));q.lanes|=c,N=q.alternate,N!==null&&(N.lanes|=c),kf(q,c,e),q=null}else q=S.child;if(q!==null)q.return=S;else for(q=S;q!==null;){if(q===e){q=null;break}if(S=q.sibling,S!==null){S.return=q.return,q=S;break}q=q.return}S=q}}function jo(e,n,c,g){e=null;for(var S=n,N=!1;S!==null;){if(!N){if((S.flags&524288)!==0)N=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var q=S.alternate;if(q===null)throw Error(f(387));if(q=q.memoizedProps,q!==null){var le=S.type;y(S.pendingProps.value,q.value)||(e!==null?e.push(le):e=[le])}}else if(S===wt.current){if(q=S.alternate,q===null)throw Error(f(387));q.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(e!==null?e.push(oc):e=[oc])}S=S.return}e!==null&&Mf(n,e,c,g),n.flags|=262144}function Vc(e){for(e=e.firstContext;e!==null;){if(!y(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Co(e){Ao=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sa(e){return A1(Ao,e)}function Qc(e,n){return Ao===null&&Co(e),A1(e,n)}function A1(e,n){var c=n._currentValue;if(n={context:n,memoizedValue:c,next:null},Xi===null){if(e===null)throw Error(f(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return c}var xv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(c,g){e.push(g)}};this.abort=function(){n.aborted=!0,e.forEach(function(c){return c()})}},vv=r.unstable_scheduleCallback,Av=r.unstable_NormalPriority,Fr={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new xv,data:new Map,refCount:0}}function Ml(e){e.refCount--,e.refCount===0&&vv(Av,function(){e.controller.abort()})}var Ll=null,Uf=0,Ko=0,zo=null;function Cv(e,n){if(Ll===null){var c=Ll=[];Uf=0,Ko=V0(),zo={status:"pending",value:void 0,then:function(g){c.push(g)}}}return Uf++,n.then(C1,C1),n}function C1(){if(--Uf===0&&Ll!==null){zo!==null&&(zo.status="fulfilled");var e=Ll;Ll=null,Ko=0,zo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function bv(e,n){var c=[],g={status:"pending",value:null,reason:null,then:function(S){c.push(S)}};return e.then(function(){g.status="fulfilled",g.value=n;for(var S=0;S<c.length;S++)(0,c[S])(n)},function(S){for(g.status="rejected",g.reason=S,S=0;S<c.length;S++)(0,c[S])(void 0)}),g}var b1=he.S;he.S=function(e,n){ip=Kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Cv(e,n),b1!==null&&b1(e,n)};var bo=Ae(null);function Ff(){var e=bo.current;return e!==null?e:yr.pooledCache}function Hc(e,n){n===null?ze(bo,bo.current):ze(bo,n.pool)}function w1(){var e=Ff();return e===null?null:{parent:Fr._currentValue,pool:e}}var qo=Error(f(460)),Pf=Error(f(474)),Gc=Error(f(542)),jc={then:function(){}};function E1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function I1(e,n,c){switch(c=e[c],c===void 0?e.push(n):c!==n&&(n.then(Kr,Kr),n=c),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,T1(e),e;default:if(typeof n.status=="string")n.then(Kr,Kr);else{if(e=yr,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=n,e.status="pending",e.then(function(g){if(n.status==="pending"){var S=n;S.status="fulfilled",S.value=g}},function(g){if(n.status==="pending"){var S=n;S.status="rejected",S.reason=g}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,T1(e),e}throw Eo=n,qo}}function wo(e){try{var n=e._init;return n(e._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Eo=c,qo):c}}var Eo=null;function S1(){if(Eo===null)throw Error(f(459));var e=Eo;return Eo=null,e}function T1(e){if(e===qo||e===Gc)throw Error(f(483))}var Yo=null,Ul=0;function Kc(e){var n=Ul;return Ul+=1,Yo===null&&(Yo=[]),I1(Yo,e,n)}function Fl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zc(e,n){throw n.$$typeof===L?Error(f(525)):(e=Object.prototype.toString.call(n),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function B1(e){function n(Pe,De){if(e){var He=Pe.deletions;He===null?(Pe.deletions=[De],Pe.flags|=16):He.push(De)}}function c(Pe,De){if(!e)return null;for(;De!==null;)n(Pe,De),De=De.sibling;return null}function g(Pe){for(var De=new Map;Pe!==null;)Pe.key!==null?De.set(Pe.key,Pe):De.set(Pe.index,Pe),Pe=Pe.sibling;return De}function S(Pe,De){return Pe=qi(Pe,De),Pe.index=0,Pe.sibling=null,Pe}function N(Pe,De,He){return Pe.index=He,e?(He=Pe.alternate,He!==null?(He=He.index,He<De?(Pe.flags|=67108866,De):He):(Pe.flags|=67108866,De)):(Pe.flags|=1048576,De)}function q(Pe){return e&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function le(Pe,De,He,st){return De===null||De.tag!==6?(De=Tf(He,Pe.mode,st),De.return=Pe,De):(De=S(De,He),De.return=Pe,De)}function Be(Pe,De,He,st){var tn=He.type;return tn===P?rt(Pe,De,He.props.children,st,He.key):De!==null&&(De.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===E&&wo(tn)===De.type)?(De=S(De,He.props),Fl(De,He),De.return=Pe,De):(De=Fc(He.type,He.key,He.props,null,Pe.mode,st),Fl(De,He),De.return=Pe,De)}function Ge(Pe,De,He,st){return De===null||De.tag!==4||De.stateNode.containerInfo!==He.containerInfo||De.stateNode.implementation!==He.implementation?(De=Bf(He,Pe.mode,st),De.return=Pe,De):(De=S(De,He.children||[]),De.return=Pe,De)}function rt(Pe,De,He,st,tn){return De===null||De.tag!==7?(De=xo(He,Pe.mode,st,tn),De.return=Pe,De):(De=S(De,He),De.return=Pe,De)}function ut(Pe,De,He){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=Tf(""+De,Pe.mode,He),De.return=Pe,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case _:return He=Fc(De.type,De.key,De.props,null,Pe.mode,He),Fl(He,De),He.return=Pe,He;case V:return De=Bf(De,Pe.mode,He),De.return=Pe,De;case E:return De=wo(De),ut(Pe,De,He)}if(oe(De)||ee(De))return De=xo(De,Pe.mode,He,null),De.return=Pe,De;if(typeof De.then=="function")return ut(Pe,Kc(De),He);if(De.$$typeof===U)return ut(Pe,Qc(Pe,De),He);zc(Pe,De)}return null}function Ke(Pe,De,He,st){var tn=De!==null?De.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return tn!==null?null:le(Pe,De,""+He,st);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case _:return He.key===tn?Be(Pe,De,He,st):null;case V:return He.key===tn?Ge(Pe,De,He,st):null;case E:return He=wo(He),Ke(Pe,De,He,st)}if(oe(He)||ee(He))return tn!==null?null:rt(Pe,De,He,st,null);if(typeof He.then=="function")return Ke(Pe,De,Kc(He),st);if(He.$$typeof===U)return Ke(Pe,De,Qc(Pe,He),st);zc(Pe,He)}return null}function Xe(Pe,De,He,st,tn){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Pe=Pe.get(He)||null,le(De,Pe,""+st,tn);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case _:return Pe=Pe.get(st.key===null?He:st.key)||null,Be(De,Pe,st,tn);case V:return Pe=Pe.get(st.key===null?He:st.key)||null,Ge(De,Pe,st,tn);case E:return st=wo(st),Xe(Pe,De,He,st,tn)}if(oe(st)||ee(st))return Pe=Pe.get(He)||null,rt(De,Pe,st,tn,null);if(typeof st.then=="function")return Xe(Pe,De,He,Kc(st),tn);if(st.$$typeof===U)return Xe(Pe,De,He,Qc(De,st),tn);zc(De,st)}return null}function Mt(Pe,De,He,st){for(var tn=null,qn=null,jt=De,In=De=0,Un=null;jt!==null&&In<He.length;In++){jt.index>In?(Un=jt,jt=null):Un=jt.sibling;var Yn=Ke(Pe,jt,He[In],st);if(Yn===null){jt===null&&(jt=Un);break}e&&jt&&Yn.alternate===null&&n(Pe,jt),De=N(Yn,De,In),qn===null?tn=Yn:qn.sibling=Yn,qn=Yn,jt=Un}if(In===He.length)return c(Pe,jt),Vn&&Yi(Pe,In),tn;if(jt===null){for(;In<He.length;In++)jt=ut(Pe,He[In],st),jt!==null&&(De=N(jt,De,In),qn===null?tn=jt:qn.sibling=jt,qn=jt);return Vn&&Yi(Pe,In),tn}for(jt=g(jt);In<He.length;In++)Un=Xe(jt,Pe,In,He[In],st),Un!==null&&(e&&Un.alternate!==null&&jt.delete(Un.key===null?In:Un.key),De=N(Un,De,In),qn===null?tn=Un:qn.sibling=Un,qn=Un);return e&&jt.forEach(function(Xs){return n(Pe,Xs)}),Vn&&Yi(Pe,In),tn}function ln(Pe,De,He,st){if(He==null)throw Error(f(151));for(var tn=null,qn=null,jt=De,In=De=0,Un=null,Yn=He.next();jt!==null&&!Yn.done;In++,Yn=He.next()){jt.index>In?(Un=jt,jt=null):Un=jt.sibling;var Xs=Ke(Pe,jt,Yn.value,st);if(Xs===null){jt===null&&(jt=Un);break}e&&jt&&Xs.alternate===null&&n(Pe,jt),De=N(Xs,De,In),qn===null?tn=Xs:qn.sibling=Xs,qn=Xs,jt=Un}if(Yn.done)return c(Pe,jt),Vn&&Yi(Pe,In),tn;if(jt===null){for(;!Yn.done;In++,Yn=He.next())Yn=ut(Pe,Yn.value,st),Yn!==null&&(De=N(Yn,De,In),qn===null?tn=Yn:qn.sibling=Yn,qn=Yn);return Vn&&Yi(Pe,In),tn}for(jt=g(jt);!Yn.done;In++,Yn=He.next())Yn=Xe(jt,Pe,In,Yn.value,st),Yn!==null&&(e&&Yn.alternate!==null&&jt.delete(Yn.key===null?In:Yn.key),De=N(Yn,De,In),qn===null?tn=Yn:qn.sibling=Yn,qn=Yn);return e&&jt.forEach(function(OA){return n(Pe,OA)}),Vn&&Yi(Pe,In),tn}function fr(Pe,De,He,st){if(typeof He=="object"&&He!==null&&He.type===P&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case _:e:{for(var tn=He.key;De!==null;){if(De.key===tn){if(tn=He.type,tn===P){if(De.tag===7){c(Pe,De.sibling),st=S(De,He.props.children),st.return=Pe,Pe=st;break e}}else if(De.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===E&&wo(tn)===De.type){c(Pe,De.sibling),st=S(De,He.props),Fl(st,He),st.return=Pe,Pe=st;break e}c(Pe,De);break}else n(Pe,De);De=De.sibling}He.type===P?(st=xo(He.props.children,Pe.mode,st,He.key),st.return=Pe,Pe=st):(st=Fc(He.type,He.key,He.props,null,Pe.mode,st),Fl(st,He),st.return=Pe,Pe=st)}return q(Pe);case V:e:{for(tn=He.key;De!==null;){if(De.key===tn)if(De.tag===4&&De.stateNode.containerInfo===He.containerInfo&&De.stateNode.implementation===He.implementation){c(Pe,De.sibling),st=S(De,He.children||[]),st.return=Pe,Pe=st;break e}else{c(Pe,De);break}else n(Pe,De);De=De.sibling}st=Bf(He,Pe.mode,st),st.return=Pe,Pe=st}return q(Pe);case E:return He=wo(He),fr(Pe,De,He,st)}if(oe(He))return Mt(Pe,De,He,st);if(ee(He)){if(tn=ee(He),typeof tn!="function")throw Error(f(150));return He=tn.call(He),ln(Pe,De,He,st)}if(typeof He.then=="function")return fr(Pe,De,Kc(He),st);if(He.$$typeof===U)return fr(Pe,De,Qc(Pe,He),st);zc(Pe,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,De!==null&&De.tag===6?(c(Pe,De.sibling),st=S(De,He),st.return=Pe,Pe=st):(c(Pe,De),st=Tf(He,Pe.mode,st),st.return=Pe,Pe=st),q(Pe)):c(Pe,De)}return function(Pe,De,He,st){try{Ul=0;var tn=fr(Pe,De,He,st);return Yo=null,tn}catch(jt){if(jt===qo||jt===Gc)throw jt;var qn=ja(29,jt,null,Pe.mode);return qn.lanes=st,qn.return=Pe,qn}finally{}}}var Io=B1(!0),N1=B1(!1),Rs=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,n,c){var g=e.updateQueue;if(g===null)return null;if(g=g.shared,(Jn&2)!==0){var S=g.pending;return S===null?n.next=n:(n.next=S.next,S.next=n),g.pending=n,n=Ts(e),Bi(e,null,c),n}return lr(e,g,n,c),Ts(e)}function Pl(e,n,c){if(n=n.updateQueue,n!==null&&(n=n.shared,(c&4194048)!==0)){var g=n.lanes;g&=e.pendingLanes,c|=g,n.lanes=c,Ct(e,c)}}function Hf(e,n){var c=e.updateQueue,g=e.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var S=null,N=null;if(c=c.firstBaseUpdate,c!==null){do{var q={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};N===null?S=N=q:N=N.next=q,c=c.next}while(c!==null);N===null?S=N=n:N=N.next=n}else S=N=n;c={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},e.updateQueue=c;return}e=c.lastBaseUpdate,e===null?c.firstBaseUpdate=n:e.next=n,c.lastBaseUpdate=n}var Gf=!1;function Vl(){if(Gf){var e=zo;if(e!==null)throw e}}function Ql(e,n,c,g){Gf=!1;var S=e.updateQueue;Rs=!1;var N=S.firstBaseUpdate,q=S.lastBaseUpdate,le=S.shared.pending;if(le!==null){S.shared.pending=null;var Be=le,Ge=Be.next;Be.next=null,q===null?N=Ge:q.next=Ge,q=Be;var rt=e.alternate;rt!==null&&(rt=rt.updateQueue,le=rt.lastBaseUpdate,le!==q&&(le===null?rt.firstBaseUpdate=Ge:le.next=Ge,rt.lastBaseUpdate=Be))}if(N!==null){var ut=S.baseState;q=0,rt=Ge=Be=null,le=N;do{var Ke=le.lane&-536870913,Xe=Ke!==le.lane;if(Xe?(Ln&Ke)===Ke:(g&Ke)===Ke){Ke!==0&&Ke===Ko&&(Gf=!0),rt!==null&&(rt=rt.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var Mt=e,ln=le;Ke=n;var fr=c;switch(ln.tag){case 1:if(Mt=ln.payload,typeof Mt=="function"){ut=Mt.call(fr,ut,Ke);break e}ut=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=ln.payload,Ke=typeof Mt=="function"?Mt.call(fr,ut,Ke):Mt,Ke==null)break e;ut=R({},ut,Ke);break e;case 2:Rs=!0}}Ke=le.callback,Ke!==null&&(e.flags|=64,Xe&&(e.flags|=8192),Xe=S.callbacks,Xe===null?S.callbacks=[Ke]:Xe.push(Ke))}else Xe={lane:Ke,tag:le.tag,payload:le.payload,callback:le.callback,next:null},rt===null?(Ge=rt=Xe,Be=ut):rt=rt.next=Xe,q|=Ke;if(le=le.next,le===null){if(le=S.shared.pending,le===null)break;Xe=le,le=Xe.next,Xe.next=null,S.lastBaseUpdate=Xe,S.shared.pending=null}}while(!0);rt===null&&(Be=ut),S.baseState=Be,S.firstBaseUpdate=Ge,S.lastBaseUpdate=rt,N===null&&(S.shared.lanes=0),Ps|=q,e.lanes=q,e.memoizedState=ut}}function _1(e,n){if(typeof e!="function")throw Error(f(191,e));e.call(n)}function D1(e,n){var c=e.callbacks;if(c!==null)for(e.callbacks=null,e=0;e<c.length;e++)_1(c[e],n)}var Xo=Ae(null),qc=Ae(0);function R1(e,n){e=is,ze(qc,e),ze(Xo,n),is=e|n.baseLanes}function jf(){ze(qc,is),ze(Xo,Xo.current)}function Kf(){is=qc.current,Se(Xo),Se(qc)}var Ka=Ae(null),ai=null;function Ms(e){var n=e.alternate;ze(kr,kr.current&1),ze(Ka,e),ai===null&&(n===null||Xo.current!==null||n.memoizedState!==null)&&(ai=e)}function zf(e){ze(kr,kr.current),ze(Ka,e),ai===null&&(ai=e)}function O1(e){e.tag===22?(ze(kr,kr.current),ze(Ka,e),ai===null&&(ai=e)):Ls()}function Ls(){ze(kr,kr.current),ze(Ka,Ka.current)}function za(e){Se(Ka),ai===e&&(ai=null),Se(kr)}var kr=Ae(0);function Yc(e){for(var n=e;n!==null;){if(n.tag===13){var c=n.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||J0(c)||$0(c)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,bn=null,cr=null,Pr=null,Xc=!1,Zo=!1,So=!1,Zc=0,Hl=0,Wo=null,wv=0;function Br(){throw Error(f(321))}function qf(e,n){if(n===null)return!1;for(var c=0;c<n.length&&c<e.length;c++)if(!y(e[c],n[c]))return!1;return!0}function Yf(e,n,c,g,S,N){return Wi=N,bn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,he.H=e===null||e.memoizedState===null?yg:c0,So=!1,N=c(g,S),So=!1,Zo&&(N=M1(n,c,g,S)),k1(e),N}function k1(e){he.H=Kl;var n=cr!==null&&cr.next!==null;if(Wi=0,Pr=cr=bn=null,Xc=!1,Hl=0,Wo=null,n)throw Error(f(300));e===null||Vr||(e=e.dependencies,e!==null&&Vc(e)&&(Vr=!0))}function M1(e,n,c,g){bn=e;var S=0;do{if(Zo&&(Wo=null),Hl=0,Zo=!1,25<=S)throw Error(f(301));if(S+=1,Pr=cr=null,e.updateQueue!=null){var N=e.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}he.H=mg,N=n(c,g)}while(Zo);return N}function Ev(){var e=he.H,n=e.useState()[0];return n=typeof n.then=="function"?Gl(n):n,e=e.useState()[0],(cr!==null?cr.memoizedState:null)!==e&&(bn.flags|=1024),n}function Xf(){var e=Zc!==0;return Zc=0,e}function Zf(e,n,c){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c}function Wf(e){if(Xc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xc=!1}Wi=0,Pr=cr=bn=null,Zo=!1,Hl=Zc=0,Wo=null}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?bn.memoizedState=Pr=e:Pr=Pr.next=e,Pr}function Mr(){if(cr===null){var e=bn.alternate;e=e!==null?e.memoizedState:null}else e=cr.next;var n=Pr===null?bn.memoizedState:Pr.next;if(n!==null)Pr=n,cr=e;else{if(e===null)throw bn.alternate===null?Error(f(467)):Error(f(310));cr=e,e={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},Pr===null?bn.memoizedState=Pr=e:Pr=Pr.next=e}return Pr}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(e){var n=Hl;return Hl+=1,Wo===null&&(Wo=[]),e=I1(Wo,e,n),n=bn,(Pr===null?n.memoizedState:Pr.next)===null&&(n=n.alternate,he.H=n===null||n.memoizedState===null?yg:c0),e}function Jc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===U)return sa(e)}throw Error(f(438,String(e)))}function Jf(e){var n=null,c=bn.updateQueue;if(c!==null&&(n=c.memoCache),n==null){var g=bn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(n={data:g.data.map(function(S){return S.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),c===null&&(c=Wc(),bn.updateQueue=c),c.memoCache=n,c=n.data[n.index],c===void 0)for(c=n.data[n.index]=Array(e),g=0;g<e;g++)c[g]=ie;return n.index++,c}function Ji(e,n){return typeof n=="function"?n(e):n}function $c(e){var n=Mr();return $f(n,cr,e)}function $f(e,n,c){var g=e.queue;if(g===null)throw Error(f(311));g.lastRenderedReducer=c;var S=e.baseQueue,N=g.pending;if(N!==null){if(S!==null){var q=S.next;S.next=N.next,N.next=q}n.baseQueue=S=N,g.pending=null}if(N=e.baseState,S===null)e.memoizedState=N;else{n=S.next;var le=q=null,Be=null,Ge=n,rt=!1;do{var ut=Ge.lane&-536870913;if(ut!==Ge.lane?(Ln&ut)===ut:(Wi&ut)===ut){var Ke=Ge.revertLane;if(Ke===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),ut===Ko&&(rt=!0);else if((Wi&Ke)===Ke){Ge=Ge.next,Ke===Ko&&(rt=!0);continue}else ut={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Be===null?(le=Be=ut,q=N):Be=Be.next=ut,bn.lanes|=Ke,Ps|=Ke;ut=Ge.action,So&&c(N,ut),N=Ge.hasEagerState?Ge.eagerState:c(N,ut)}else Ke={lane:ut,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Be===null?(le=Be=Ke,q=N):Be=Be.next=Ke,bn.lanes|=ut,Ps|=ut;Ge=Ge.next}while(Ge!==null&&Ge!==n);if(Be===null?q=N:Be.next=le,!y(N,e.memoizedState)&&(Vr=!0,rt&&(c=zo,c!==null)))throw c;e.memoizedState=N,e.baseState=q,e.baseQueue=Be,g.lastRenderedState=N}return S===null&&(g.lanes=0),[e.memoizedState,g.dispatch]}function e0(e){var n=Mr(),c=n.queue;if(c===null)throw Error(f(311));c.lastRenderedReducer=e;var g=c.dispatch,S=c.pending,N=n.memoizedState;if(S!==null){c.pending=null;var q=S=S.next;do N=e(N,q.action),q=q.next;while(q!==S);y(N,n.memoizedState)||(Vr=!0),n.memoizedState=N,n.baseQueue===null&&(n.baseState=N),c.lastRenderedState=N}return[N,g]}function L1(e,n,c){var g=bn,S=Mr(),N=Vn;if(N){if(c===void 0)throw Error(f(407));c=c()}else c=n();var q=!y((cr||S).memoizedState,c);if(q&&(S.memoizedState=c,Vr=!0),S=S.queue,r0(P1.bind(null,g,S,e),[e]),S.getSnapshot!==n||q||Pr!==null&&Pr.memoizedState.tag&1){if(g.flags|=2048,Jo(9,{destroy:void 0},F1.bind(null,g,S,c,n),null),yr===null)throw Error(f(349));N||(Wi&127)!==0||U1(g,n,c)}return c}function U1(e,n,c){e.flags|=16384,e={getSnapshot:n,value:c},n=bn.updateQueue,n===null?(n=Wc(),bn.updateQueue=n,n.stores=[e]):(c=n.stores,c===null?n.stores=[e]:c.push(e))}function F1(e,n,c,g){n.value=c,n.getSnapshot=g,V1(n)&&Q1(e)}function P1(e,n,c){return c(function(){V1(n)&&Q1(e)})}function V1(e){var n=e.getSnapshot;e=e.value;try{var c=n();return!y(e,c)}catch{return!0}}function Q1(e){var n=$n(e,2);n!==null&&Oa(n,e,2)}function t0(e){var n=ba();if(typeof e=="function"){var c=e;if(e=c(),So){Qt(!0);try{c()}finally{Qt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function H1(e,n,c,g){return e.baseState=c,$f(e,cr,typeof g=="function"?g:Ji)}function Iv(e,n,c,g,S){if(nu(e))throw Error(f(485));if(e=n.action,e!==null){var N={payload:S,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){N.listeners.push(q)}};he.T!==null?c(!0):N.isTransition=!1,g(N),c=n.pending,c===null?(N.next=n.pending=N,G1(n,N)):(N.next=c.next,n.pending=c.next=N)}}function G1(e,n){var c=n.action,g=n.payload,S=e.state;if(n.isTransition){var N=he.T,q={};he.T=q;try{var le=c(S,g),Be=he.S;Be!==null&&Be(q,le),j1(e,n,le)}catch(Ge){n0(e,n,Ge)}finally{N!==null&&q.types!==null&&(N.types=q.types),he.T=N}}else try{N=c(S,g),j1(e,n,N)}catch(Ge){n0(e,n,Ge)}}function j1(e,n,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(g){K1(e,n,g)},function(g){return n0(e,n,g)}):K1(e,n,c)}function K1(e,n,c){n.status="fulfilled",n.value=c,z1(n),e.state=c,n=e.pending,n!==null&&(c=n.next,c===n?e.pending=null:(c=c.next,n.next=c,G1(e,c)))}function n0(e,n,c){var g=e.pending;if(e.pending=null,g!==null){g=g.next;do n.status="rejected",n.reason=c,z1(n),n=n.next;while(n!==g)}e.action=null}function z1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function q1(e,n){return n}function Y1(e,n){if(Vn){var c=yr.formState;if(c!==null){e:{var g=bn;if(Vn){if(xr){t:{for(var S=xr,N=ri;S.nodeType!==8;){if(!N){S=null;break t}if(S=ii(S.nextSibling),S===null){S=null;break t}}N=S.data,S=N==="F!"||N==="F"?S:null}if(S){xr=ii(S.nextSibling),g=S.data==="F!";break e}}_s(g)}g=!1}g&&(n=c[0])}}return c=ba(),c.memoizedState=c.baseState=n,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q1,lastRenderedState:n},c.queue=g,c=hg.bind(null,bn,g),g.dispatch=c,g=t0(!1),N=l0.bind(null,bn,!1,g.queue),g=ba(),S={state:n,dispatch:null,action:e,pending:null},g.queue=S,c=Iv.bind(null,bn,S,N,c),S.dispatch=c,g.memoizedState=e,[n,c,!1]}function X1(e){var n=Mr();return Z1(n,cr,e)}function Z1(e,n,c){if(n=$f(e,n,q1)[0],e=$c(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var g=Gl(n)}catch(q){throw q===qo?Gc:q}else g=n;n=Mr();var S=n.queue,N=S.dispatch;return c!==n.memoizedState&&(bn.flags|=2048,Jo(9,{destroy:void 0},Sv.bind(null,S,c),null)),[g,N,e]}function Sv(e,n){e.action=n}function W1(e){var n=Mr(),c=cr;if(c!==null)return Z1(n,c,e);Mr(),n=n.memoizedState,c=Mr();var g=c.queue.dispatch;return c.memoizedState=e,[n,g,!1]}function Jo(e,n,c,g){return e={tag:e,create:c,deps:g,inst:n,next:null},n=bn.updateQueue,n===null&&(n=Wc(),bn.updateQueue=n),c=n.lastEffect,c===null?n.lastEffect=e.next=e:(g=c.next,c.next=e,e.next=g,n.lastEffect=e),e}function J1(){return Mr().memoizedState}function eu(e,n,c,g){var S=ba();bn.flags|=e,S.memoizedState=Jo(1|n,{destroy:void 0},c,g===void 0?null:g)}function tu(e,n,c,g){var S=Mr();g=g===void 0?null:g;var N=S.memoizedState.inst;cr!==null&&g!==null&&qf(g,cr.memoizedState.deps)?S.memoizedState=Jo(n,N,c,g):(bn.flags|=e,S.memoizedState=Jo(1|n,N,c,g))}function $1(e,n){eu(8390656,8,e,n)}function r0(e,n){tu(2048,8,e,n)}function Tv(e){bn.flags|=4;var n=bn.updateQueue;if(n===null)n=Wc(),bn.updateQueue=n,n.events=[e];else{var c=n.events;c===null?n.events=[e]:c.push(e)}}function eg(e){var n=Mr().memoizedState;return Tv({ref:n,nextImpl:e}),function(){if((Jn&2)!==0)throw Error(f(440));return n.impl.apply(void 0,arguments)}}function tg(e,n){return tu(4,2,e,n)}function ng(e,n){return tu(4,4,e,n)}function rg(e,n){if(typeof n=="function"){e=e();var c=n(e);return function(){typeof c=="function"?c():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ag(e,n,c){c=c!=null?c.concat([e]):null,tu(4,4,rg.bind(null,n,e),c)}function a0(){}function ig(e,n){var c=Mr();n=n===void 0?null:n;var g=c.memoizedState;return n!==null&&qf(n,g[1])?g[0]:(c.memoizedState=[e,n],e)}function sg(e,n){var c=Mr();n=n===void 0?null:n;var g=c.memoizedState;if(n!==null&&qf(n,g[1]))return g[0];if(g=e(),So){Qt(!0);try{e()}finally{Qt(!1)}}return c.memoizedState=[g,n],g}function i0(e,n,c){return c===void 0||(Wi&1073741824)!==0&&(Ln&261930)===0?e.memoizedState=n:(e.memoizedState=c,e=op(),bn.lanes|=e,Ps|=e,c)}function og(e,n,c,g){return y(c,n)?c:Xo.current!==null?(e=i0(e,c,g),y(e,n)||(Vr=!0),e):(Wi&42)===0||(Wi&1073741824)!==0&&(Ln&261930)===0?(Vr=!0,e.memoizedState=c):(e=op(),bn.lanes|=e,Ps|=e,n)}function lg(e,n,c,g,S){var N=ve.p;ve.p=N!==0&&8>N?N:8;var q=he.T,le={};he.T=le,l0(e,!1,n,c);try{var Be=S(),Ge=he.S;if(Ge!==null&&Ge(le,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var rt=bv(Be,g);jl(e,n,rt,Xa(e))}else jl(e,n,g,Xa(e))}catch(ut){jl(e,n,{then:function(){},status:"rejected",reason:ut},Xa())}finally{ve.p=N,q!==null&&le.types!==null&&(q.types=le.types),he.T=q}}function Bv(){}function s0(e,n,c,g){if(e.tag!==5)throw Error(f(476));var S=cg(e).queue;lg(e,S,n,ke,c===null?Bv:function(){return ug(e),c(g)})}function cg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ke},next:null};var c={};return n.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:c},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ug(e){var n=cg(e);n.next===null&&(n=e.alternate.memoizedState),jl(e,n.next.queue,{},Xa())}function o0(){return sa(oc)}function fg(){return Mr().memoizedState}function dg(){return Mr().memoizedState}function Nv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var c=Xa();e=Os(c);var g=ks(n,e,c);g!==null&&(Oa(g,n,c),Pl(g,n,c)),n={cache:Lf()},e.payload=n;return}n=n.return}}function _v(e,n,c){var g=Xa();c={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},nu(e)?gg(n,c):(c=da(e,n,c,g),c!==null&&(Oa(c,e,g),pg(c,n,g)))}function hg(e,n,c){var g=Xa();jl(e,n,c,g)}function jl(e,n,c,g){var S={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(nu(e))gg(n,S);else{var N=e.alternate;if(e.lanes===0&&(N===null||N.lanes===0)&&(N=n.lastRenderedReducer,N!==null))try{var q=n.lastRenderedState,le=N(q,c);if(S.hasEagerState=!0,S.eagerState=le,y(le,q))return lr(e,n,S,0),yr===null&&xn(),!1}catch{}finally{}if(c=da(e,n,S,g),c!==null)return Oa(c,e,g),pg(c,n,g),!0}return!1}function l0(e,n,c,g){if(g={lane:2,revertLane:V0(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},nu(e)){if(n)throw Error(f(479))}else n=da(e,c,g,2),n!==null&&Oa(n,e,2)}function nu(e){var n=e.alternate;return e===bn||n!==null&&n===bn}function gg(e,n){Zo=Xc=!0;var c=e.pending;c===null?n.next=n:(n.next=c.next,c.next=n),e.pending=n}function pg(e,n,c){if((c&4194048)!==0){var g=n.lanes;g&=e.pendingLanes,c|=g,n.lanes=c,Ct(e,c)}}var Kl={readContext:sa,use:Jc,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br,useHostTransitionStatus:Br,useFormState:Br,useActionState:Br,useOptimistic:Br,useMemoCache:Br,useCacheRefresh:Br};Kl.useEffectEvent=Br;var yg={readContext:sa,use:Jc,useCallback:function(e,n){return ba().memoizedState=[e,n===void 0?null:n],e},useContext:sa,useEffect:$1,useImperativeHandle:function(e,n,c){c=c!=null?c.concat([e]):null,eu(4194308,4,rg.bind(null,n,e),c)},useLayoutEffect:function(e,n){return eu(4194308,4,e,n)},useInsertionEffect:function(e,n){eu(4,2,e,n)},useMemo:function(e,n){var c=ba();n=n===void 0?null:n;var g=e();if(So){Qt(!0);try{e()}finally{Qt(!1)}}return c.memoizedState=[g,n],g},useReducer:function(e,n,c){var g=ba();if(c!==void 0){var S=c(n);if(So){Qt(!0);try{c(n)}finally{Qt(!1)}}}else S=n;return g.memoizedState=g.baseState=S,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:S},g.queue=e,e=e.dispatch=_v.bind(null,bn,e),[g.memoizedState,e]},useRef:function(e){var n=ba();return e={current:e},n.memoizedState=e},useState:function(e){e=t0(e);var n=e.queue,c=hg.bind(null,bn,n);return n.dispatch=c,[e.memoizedState,c]},useDebugValue:a0,useDeferredValue:function(e,n){var c=ba();return i0(c,e,n)},useTransition:function(){var e=t0(!1);return e=lg.bind(null,bn,e.queue,!0,!1),ba().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,c){var g=bn,S=ba();if(Vn){if(c===void 0)throw Error(f(407));c=c()}else{if(c=n(),yr===null)throw Error(f(349));(Ln&127)!==0||U1(g,n,c)}S.memoizedState=c;var N={value:c,getSnapshot:n};return S.queue=N,$1(P1.bind(null,g,N,e),[e]),g.flags|=2048,Jo(9,{destroy:void 0},F1.bind(null,g,N,c,n),null),c},useId:function(){var e=ba(),n=yr.identifierPrefix;if(Vn){var c=_i,g=Ni;c=(g&~(1<<32-we(g)-1)).toString(32)+c,n="_"+n+"R_"+c,c=Zc++,0<c&&(n+="H"+c.toString(32)),n+="_"}else c=wv++,n="_"+n+"r_"+c.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:o0,useFormState:Y1,useActionState:Y1,useOptimistic:function(e){var n=ba();n.memoizedState=n.baseState=e;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=c,n=l0.bind(null,bn,!0,c),c.dispatch=n,[e,n]},useMemoCache:Jf,useCacheRefresh:function(){return ba().memoizedState=Nv.bind(null,bn)},useEffectEvent:function(e){var n=ba(),c={impl:e};return n.memoizedState=c,function(){if((Jn&2)!==0)throw Error(f(440));return c.impl.apply(void 0,arguments)}}},c0={readContext:sa,use:Jc,useCallback:ig,useContext:sa,useEffect:r0,useImperativeHandle:ag,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:sg,useReducer:$c,useRef:J1,useState:function(){return $c(Ji)},useDebugValue:a0,useDeferredValue:function(e,n){var c=Mr();return og(c,cr.memoizedState,e,n)},useTransition:function(){var e=$c(Ji)[0],n=Mr().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:L1,useId:fg,useHostTransitionStatus:o0,useFormState:X1,useActionState:X1,useOptimistic:function(e,n){var c=Mr();return H1(c,cr,e,n)},useMemoCache:Jf,useCacheRefresh:dg};c0.useEffectEvent=eg;var mg={readContext:sa,use:Jc,useCallback:ig,useContext:sa,useEffect:r0,useImperativeHandle:ag,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:sg,useReducer:e0,useRef:J1,useState:function(){return e0(Ji)},useDebugValue:a0,useDeferredValue:function(e,n){var c=Mr();return cr===null?i0(c,e,n):og(c,cr.memoizedState,e,n)},useTransition:function(){var e=e0(Ji)[0],n=Mr().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:L1,useId:fg,useHostTransitionStatus:o0,useFormState:W1,useActionState:W1,useOptimistic:function(e,n){var c=Mr();return cr!==null?H1(c,cr,e,n):(c.baseState=e,[e,c.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:dg};mg.useEffectEvent=eg;function u0(e,n,c,g){n=e.memoizedState,c=c(g,n),c=c==null?n:R({},n,c),e.memoizedState=c,e.lanes===0&&(e.updateQueue.baseState=c)}var f0={enqueueSetState:function(e,n,c){e=e._reactInternals;var g=Xa(),S=Os(g);S.payload=n,c!=null&&(S.callback=c),n=ks(e,S,g),n!==null&&(Oa(n,e,g),Pl(n,e,g))},enqueueReplaceState:function(e,n,c){e=e._reactInternals;var g=Xa(),S=Os(g);S.tag=1,S.payload=n,c!=null&&(S.callback=c),n=ks(e,S,g),n!==null&&(Oa(n,e,g),Pl(n,e,g))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var c=Xa(),g=Os(c);g.tag=2,n!=null&&(g.callback=n),n=ks(e,g,c),n!==null&&(Oa(n,e,c),Pl(n,e,c))}};function xg(e,n,c,g,S,N,q){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(g,N,q):n.prototype&&n.prototype.isPureReactComponent?!o(c,g)||!o(S,N):!0}function vg(e,n,c,g){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(c,g),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(c,g),n.state!==e&&f0.enqueueReplaceState(n,n.state,null)}function To(e,n){var c=n;if("ref"in n){c={};for(var g in n)g!=="ref"&&(c[g]=n[g])}if(e=e.defaultProps){c===n&&(c=R({},c));for(var S in e)c[S]===void 0&&(c[S]=e[S])}return c}function Ag(e){Dt(e)}function Cg(e){console.error(e)}function bg(e){Dt(e)}function ru(e,n){try{var c=e.onUncaughtError;c(n.value,{componentStack:n.stack})}catch(g){setTimeout(function(){throw g})}}function wg(e,n,c){try{var g=e.onCaughtError;g(c.value,{componentStack:c.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function d0(e,n,c){return c=Os(c),c.tag=3,c.payload={element:null},c.callback=function(){ru(e,n)},c}function Eg(e){return e=Os(e),e.tag=3,e}function Ig(e,n,c,g){var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var N=g.value;e.payload=function(){return S(N)},e.callback=function(){wg(n,c,g)}}var q=c.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(e.callback=function(){wg(n,c,g),typeof S!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var le=g.stack;this.componentDidCatch(g.value,{componentStack:le!==null?le:""})})}function Dv(e,n,c,g,S){if(c.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(n=c.alternate,n!==null&&jo(n,c,S,!0),c=Ka.current,c!==null){switch(c.tag){case 31:case 13:return ai===null?pu():c.alternate===null&&Nr===0&&(Nr=3),c.flags&=-257,c.flags|=65536,c.lanes=S,g===jc?c.flags|=16384:(n=c.updateQueue,n===null?c.updateQueue=new Set([g]):n.add(g),U0(e,g,S)),!1;case 22:return c.flags|=65536,g===jc?c.flags|=16384:(n=c.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([g])},c.updateQueue=n):(c=n.retryQueue,c===null?n.retryQueue=new Set([g]):c.add(g)),U0(e,g,S)),!1}throw Error(f(435,c.tag))}return U0(e,g,S),pu(),!1}if(Vn)return n=Ka.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=S,g!==Df&&(e=Error(f(422),{cause:g}),kl(ei(e,c)))):(g!==Df&&(n=Error(f(423),{cause:g}),kl(ei(n,c))),e=e.current.alternate,e.flags|=65536,S&=-S,e.lanes|=S,g=ei(g,c),S=d0(e.stateNode,g,S),Hf(e,S),Nr!==4&&(Nr=2)),!1;var N=Error(f(520),{cause:g});if(N=ei(N,c),$l===null?$l=[N]:$l.push(N),Nr!==4&&(Nr=2),n===null)return!0;g=ei(g,c),c=n;do{switch(c.tag){case 3:return c.flags|=65536,e=S&-S,c.lanes|=e,e=d0(c.stateNode,g,e),Hf(c,e),!1;case 1:if(n=c.type,N=c.stateNode,(c.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Vs===null||!Vs.has(N))))return c.flags|=65536,S&=-S,c.lanes|=S,S=Eg(S),Ig(S,e,c,g),Hf(c,S),!1}c=c.return}while(c!==null);return!1}var h0=Error(f(461)),Vr=!1;function oa(e,n,c,g){n.child=e===null?N1(n,null,c,g):Io(n,e.child,c,g)}function Sg(e,n,c,g,S){c=c.render;var N=n.ref;if("ref"in g){var q={};for(var le in g)le!=="ref"&&(q[le]=g[le])}else q=g;return Co(n),g=Yf(e,n,c,q,N,S),le=Xf(),e!==null&&!Vr?(Zf(e,n,S),$i(e,n,S)):(Vn&&le&&Nf(n),n.flags|=1,oa(e,n,g,S),n.child)}function Tg(e,n,c,g,S){if(e===null){var N=c.type;return typeof N=="function"&&!Sf(N)&&N.defaultProps===void 0&&c.compare===null?(n.tag=15,n.type=N,Bg(e,n,N,g,S)):(e=Fc(c.type,null,g,n,n.mode,S),e.ref=n.ref,e.return=n,n.child=e)}if(N=e.child,!C0(e,S)){var q=N.memoizedProps;if(c=c.compare,c=c!==null?c:o,c(q,g)&&e.ref===n.ref)return $i(e,n,S)}return n.flags|=1,e=qi(N,g),e.ref=n.ref,e.return=n,n.child=e}function Bg(e,n,c,g,S){if(e!==null){var N=e.memoizedProps;if(o(N,g)&&e.ref===n.ref)if(Vr=!1,n.pendingProps=g=N,C0(e,S))(e.flags&131072)!==0&&(Vr=!0);else return n.lanes=e.lanes,$i(e,n,S)}return g0(e,n,c,g,S)}function Ng(e,n,c,g){var S=g.children,N=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((n.flags&128)!==0){if(N=N!==null?N.baseLanes|c:c,e!==null){for(g=n.child=e.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~N}else g=0,n.child=null;return _g(e,n,N,c,g)}if((c&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hc(n,N!==null?N.cachePool:null),N!==null?R1(n,N):jf(),O1(n);else return g=n.lanes=536870912,_g(e,n,N!==null?N.baseLanes|c:c,c,g)}else N!==null?(Hc(n,N.cachePool),R1(n,N),Ls(),n.memoizedState=null):(e!==null&&Hc(n,null),jf(),Ls());return oa(e,n,S,c),n.child}function zl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _g(e,n,c,g,S){var N=Ff();return N=N===null?null:{parent:Fr._currentValue,pool:N},n.memoizedState={baseLanes:c,cachePool:N},e!==null&&Hc(n,null),jf(),O1(n),e!==null&&jo(e,n,g,!0),n.childLanes=S,null}function au(e,n){return n=su({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Dg(e,n,c){return Io(n,e.child,null,c),e=au(n,n.pendingProps),e.flags|=2,za(n),n.memoizedState=null,e}function Rv(e,n,c){var g=n.pendingProps,S=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vn){if(g.mode==="hidden")return e=au(n,g),n.lanes=536870912,zl(null,e);if(zf(n),(e=xr)?(e=Gp(e,ri),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:Ni,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},c=g1(e),c.return=n,n.child=c,ia=n,xr=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return au(n,g)}var N=e.memoizedState;if(N!==null){var q=N.dehydrated;if(zf(n),S)if(n.flags&256)n.flags&=-257,n=Dg(e,n,c);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(f(558));else if(Vr||jo(e,n,c,!1),S=(c&e.childLanes)!==0,Vr||S){if(g=yr,g!==null&&(q=Ut(g,c),q!==0&&q!==N.retryLane))throw N.retryLane=q,$n(e,q),Oa(g,e,q),h0;pu(),n=Dg(e,n,c)}else e=N.treeContext,xr=ii(q.nextSibling),ia=n,Vn=!0,Ns=null,ri=!1,e!==null&&m1(n,e),n=au(n,g),n.flags|=4096;return n}return e=qi(e.child,{mode:g.mode,children:g.children}),e.ref=n.ref,n.child=e,e.return=n,e}function iu(e,n){var c=n.ref;if(c===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(f(284));(e===null||e.ref!==c)&&(n.flags|=4194816)}}function g0(e,n,c,g,S){return Co(n),c=Yf(e,n,c,g,void 0,S),g=Xf(),e!==null&&!Vr?(Zf(e,n,S),$i(e,n,S)):(Vn&&g&&Nf(n),n.flags|=1,oa(e,n,c,S),n.child)}function Rg(e,n,c,g,S,N){return Co(n),n.updateQueue=null,c=M1(n,g,c,S),k1(e),g=Xf(),e!==null&&!Vr?(Zf(e,n,N),$i(e,n,N)):(Vn&&g&&Nf(n),n.flags|=1,oa(e,n,c,N),n.child)}function Og(e,n,c,g,S){if(Co(n),n.stateNode===null){var N=Vo,q=c.contextType;typeof q=="object"&&q!==null&&(N=sa(q)),N=new c(g,N),n.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=f0,n.stateNode=N,N._reactInternals=n,N=n.stateNode,N.props=g,N.state=n.memoizedState,N.refs={},Vf(n),q=c.contextType,N.context=typeof q=="object"&&q!==null?sa(q):Vo,N.state=n.memoizedState,q=c.getDerivedStateFromProps,typeof q=="function"&&(u0(n,c,q,g),N.state=n.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(q=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),q!==N.state&&f0.enqueueReplaceState(N,N.state,null),Ql(n,g,N,S),Vl(),N.state=n.memoizedState),typeof N.componentDidMount=="function"&&(n.flags|=4194308),g=!0}else if(e===null){N=n.stateNode;var le=n.memoizedProps,Be=To(c,le);N.props=Be;var Ge=N.context,rt=c.contextType;q=Vo,typeof rt=="object"&&rt!==null&&(q=sa(rt));var ut=c.getDerivedStateFromProps;rt=typeof ut=="function"||typeof N.getSnapshotBeforeUpdate=="function",le=n.pendingProps!==le,rt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(le||Ge!==q)&&vg(n,N,g,q),Rs=!1;var Ke=n.memoizedState;N.state=Ke,Ql(n,g,N,S),Vl(),Ge=n.memoizedState,le||Ke!==Ge||Rs?(typeof ut=="function"&&(u0(n,c,ut,g),Ge=n.memoizedState),(Be=Rs||xg(n,c,Be,g,Ke,Ge,q))?(rt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(n.flags|=4194308)):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=g,n.memoizedState=Ge),N.props=g,N.state=Ge,N.context=q,g=Be):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),g=!1)}else{N=n.stateNode,Qf(e,n),q=n.memoizedProps,rt=To(c,q),N.props=rt,ut=n.pendingProps,Ke=N.context,Ge=c.contextType,Be=Vo,typeof Ge=="object"&&Ge!==null&&(Be=sa(Ge)),le=c.getDerivedStateFromProps,(Ge=typeof le=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q!==ut||Ke!==Be)&&vg(n,N,g,Be),Rs=!1,Ke=n.memoizedState,N.state=Ke,Ql(n,g,N,S),Vl();var Xe=n.memoizedState;q!==ut||Ke!==Xe||Rs||e!==null&&e.dependencies!==null&&Vc(e.dependencies)?(typeof le=="function"&&(u0(n,c,le,g),Xe=n.memoizedState),(rt=Rs||xg(n,c,rt,g,Ke,Xe,Be)||e!==null&&e.dependencies!==null&&Vc(e.dependencies))?(Ge||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,Xe,Be),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,Xe,Be)),typeof N.componentDidUpdate=="function"&&(n.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof N.componentDidUpdate!="function"||q===e.memoizedProps&&Ke===e.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||q===e.memoizedProps&&Ke===e.memoizedState||(n.flags|=1024),n.memoizedProps=g,n.memoizedState=Xe),N.props=g,N.state=Xe,N.context=Be,g=rt):(typeof N.componentDidUpdate!="function"||q===e.memoizedProps&&Ke===e.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||q===e.memoizedProps&&Ke===e.memoizedState||(n.flags|=1024),g=!1)}return N=g,iu(e,n),g=(n.flags&128)!==0,N||g?(N=n.stateNode,c=g&&typeof c.getDerivedStateFromError!="function"?null:N.render(),n.flags|=1,e!==null&&g?(n.child=Io(n,e.child,null,S),n.child=Io(n,null,c,S)):oa(e,n,c,S),n.memoizedState=N.state,e=n.child):e=$i(e,n,S),e}function kg(e,n,c,g){return vo(),n.flags|=256,oa(e,n,c,g),n.child}var p0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function y0(e){return{baseLanes:e,cachePool:w1()}}function m0(e,n,c){return e=e!==null?e.childLanes&~c:0,n&&(e|=Ya),e}function Mg(e,n,c){var g=n.pendingProps,S=!1,N=(n.flags&128)!==0,q;if((q=N)||(q=e!==null&&e.memoizedState===null?!1:(kr.current&2)!==0),q&&(S=!0,n.flags&=-129),q=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vn){if(S?Ms(n):Ls(),(e=xr)?(e=Gp(e,ri),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:Ni,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},c=g1(e),c.return=n,n.child=c,ia=n,xr=null)):e=null,e===null)throw _s(n);return $0(e)?n.lanes=32:n.lanes=536870912,null}var le=g.children;return g=g.fallback,S?(Ls(),S=n.mode,le=su({mode:"hidden",children:le},S),g=xo(g,S,c,null),le.return=n,g.return=n,le.sibling=g,n.child=le,g=n.child,g.memoizedState=y0(c),g.childLanes=m0(e,q,c),n.memoizedState=p0,zl(null,g)):(Ms(n),x0(n,le))}var Be=e.memoizedState;if(Be!==null&&(le=Be.dehydrated,le!==null)){if(N)n.flags&256?(Ms(n),n.flags&=-257,n=v0(e,n,c)):n.memoizedState!==null?(Ls(),n.child=e.child,n.flags|=128,n=null):(Ls(),le=g.fallback,S=n.mode,g=su({mode:"visible",children:g.children},S),le=xo(le,S,c,null),le.flags|=2,g.return=n,le.return=n,g.sibling=le,n.child=g,Io(n,e.child,null,c),g=n.child,g.memoizedState=y0(c),g.childLanes=m0(e,q,c),n.memoizedState=p0,n=zl(null,g));else if(Ms(n),$0(le)){if(q=le.nextSibling&&le.nextSibling.dataset,q)var Ge=q.dgst;q=Ge,g=Error(f(419)),g.stack="",g.digest=q,kl({value:g,source:null,stack:null}),n=v0(e,n,c)}else if(Vr||jo(e,n,c,!1),q=(c&e.childLanes)!==0,Vr||q){if(q=yr,q!==null&&(g=Ut(q,c),g!==0&&g!==Be.retryLane))throw Be.retryLane=g,$n(e,g),Oa(q,e,g),h0;J0(le)||pu(),n=v0(e,n,c)}else J0(le)?(n.flags|=192,n.child=e.child,n=null):(e=Be.treeContext,xr=ii(le.nextSibling),ia=n,Vn=!0,Ns=null,ri=!1,e!==null&&m1(n,e),n=x0(n,g.children),n.flags|=4096);return n}return S?(Ls(),le=g.fallback,S=n.mode,Be=e.child,Ge=Be.sibling,g=qi(Be,{mode:"hidden",children:g.children}),g.subtreeFlags=Be.subtreeFlags&65011712,Ge!==null?le=qi(Ge,le):(le=xo(le,S,c,null),le.flags|=2),le.return=n,g.return=n,g.sibling=le,n.child=g,zl(null,g),g=n.child,le=e.child.memoizedState,le===null?le=y0(c):(S=le.cachePool,S!==null?(Be=Fr._currentValue,S=S.parent!==Be?{parent:Be,pool:Be}:S):S=w1(),le={baseLanes:le.baseLanes|c,cachePool:S}),g.memoizedState=le,g.childLanes=m0(e,q,c),n.memoizedState=p0,zl(e.child,g)):(Ms(n),c=e.child,e=c.sibling,c=qi(c,{mode:"visible",children:g.children}),c.return=n,c.sibling=null,e!==null&&(q=n.deletions,q===null?(n.deletions=[e],n.flags|=16):q.push(e)),n.child=c,n.memoizedState=null,c)}function x0(e,n){return n=su({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function su(e,n){return e=ja(22,e,null,n),e.lanes=0,e}function v0(e,n,c){return Io(n,e.child,null,c),e=x0(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lg(e,n,c){e.lanes|=n;var g=e.alternate;g!==null&&(g.lanes|=n),kf(e.return,n,c)}function A0(e,n,c,g,S,N){var q=e.memoizedState;q===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:S,treeForkCount:N}:(q.isBackwards=n,q.rendering=null,q.renderingStartTime=0,q.last=g,q.tail=c,q.tailMode=S,q.treeForkCount=N)}function Ug(e,n,c){var g=n.pendingProps,S=g.revealOrder,N=g.tail;g=g.children;var q=kr.current,le=(q&2)!==0;if(le?(q=q&1|2,n.flags|=128):q&=1,ze(kr,q),oa(e,n,g,c),g=Vn?Ol:0,!le&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lg(e,c,n);else if(e.tag===19)Lg(e,c,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(S){case"forwards":for(c=n.child,S=null;c!==null;)e=c.alternate,e!==null&&Yc(e)===null&&(S=c),c=c.sibling;c=S,c===null?(S=n.child,n.child=null):(S=c.sibling,c.sibling=null),A0(n,!1,S,c,N,g);break;case"backwards":case"unstable_legacy-backwards":for(c=null,S=n.child,n.child=null;S!==null;){if(e=S.alternate,e!==null&&Yc(e)===null){n.child=S;break}e=S.sibling,S.sibling=c,c=S,S=e}A0(n,!0,c,null,N,g);break;case"together":A0(n,!1,null,null,void 0,g);break;default:n.memoizedState=null}return n.child}function $i(e,n,c){if(e!==null&&(n.dependencies=e.dependencies),Ps|=n.lanes,(c&n.childLanes)===0)if(e!==null){if(jo(e,n,c,!1),(c&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(f(153));if(n.child!==null){for(e=n.child,c=qi(e,e.pendingProps),n.child=c,c.return=n;e.sibling!==null;)e=e.sibling,c=c.sibling=qi(e,e.pendingProps),c.return=n;c.sibling=null}return n.child}function C0(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vc(e)))}function Ov(e,n,c){switch(n.tag){case 3:yt(n,n.stateNode.containerInfo),Ds(n,Fr,e.memoizedState.cache),vo();break;case 27:case 5:W(n);break;case 4:yt(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zf(n),null;break;case 13:var g=n.memoizedState;if(g!==null)return g.dehydrated!==null?(Ms(n),n.flags|=128,null):(c&n.child.childLanes)!==0?Mg(e,n,c):(Ms(n),e=$i(e,n,c),e!==null?e.sibling:null);Ms(n);break;case 19:var S=(e.flags&128)!==0;if(g=(c&n.childLanes)!==0,g||(jo(e,n,c,!1),g=(c&n.childLanes)!==0),S){if(g)return Ug(e,n,c);n.flags|=128}if(S=n.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ze(kr,kr.current),g)break;return null;case 22:return n.lanes=0,Ng(e,n,c,n.pendingProps);case 24:Ds(n,Fr,e.memoizedState.cache)}return $i(e,n,c)}function Fg(e,n,c){if(e!==null)if(e.memoizedProps!==n.pendingProps)Vr=!0;else{if(!C0(e,c)&&(n.flags&128)===0)return Vr=!1,Ov(e,n,c);Vr=(e.flags&131072)!==0}else Vr=!1,Vn&&(n.flags&1048576)!==0&&y1(n,Ol,n.index);switch(n.lanes=0,n.tag){case 16:e:{var g=n.pendingProps;if(e=wo(n.elementType),n.type=e,typeof e=="function")Sf(e)?(g=To(e,g),n.tag=1,n=Og(null,n,e,g,c)):(n.tag=0,n=g0(null,n,e,g,c));else{if(e!=null){var S=e.$$typeof;if(S===K){n.tag=11,n=Sg(null,n,e,g,c);break e}else if(S===I){n.tag=14,n=Tg(null,n,e,g,c);break e}}throw n=Ce(e)||e,Error(f(306,n,""))}}return n;case 0:return g0(e,n,n.type,n.pendingProps,c);case 1:return g=n.type,S=To(g,n.pendingProps),Og(e,n,g,S,c);case 3:e:{if(yt(n,n.stateNode.containerInfo),e===null)throw Error(f(387));g=n.pendingProps;var N=n.memoizedState;S=N.element,Qf(e,n),Ql(n,g,null,c);var q=n.memoizedState;if(g=q.cache,Ds(n,Fr,g),g!==N.cache&&Mf(n,[Fr],c,!0),Vl(),g=q.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:q.cache},n.updateQueue.baseState=N,n.memoizedState=N,n.flags&256){n=kg(e,n,g,c);break e}else if(g!==S){S=ei(Error(f(424)),n),kl(S),n=kg(e,n,g,c);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xr=ii(e.firstChild),ia=n,Vn=!0,Ns=null,ri=!0,c=N1(n,null,g,c),n.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(vo(),g===S){n=$i(e,n,c);break e}oa(e,n,g,c)}n=n.child}return n;case 26:return iu(e,n),e===null?(c=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=c:Vn||(c=n.type,e=n.pendingProps,g=bu(Ne.current).createElement(c),g[fn]=n,g[Jt]=e,la(g,c,e),hr(g),n.stateNode=g):n.memoizedState=Xp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return W(n),e===null&&Vn&&(g=n.stateNode=zp(n.type,n.pendingProps,Ne.current),ia=n,ri=!0,S=xr,js(n.type)?(ed=S,xr=ii(g.firstChild)):xr=S),oa(e,n,n.pendingProps.children,c),iu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vn&&((S=g=xr)&&(g=cA(g,n.type,n.pendingProps,ri),g!==null?(n.stateNode=g,ia=n,xr=ii(g.firstChild),ri=!1,S=!0):S=!1),S||_s(n)),W(n),S=n.type,N=n.pendingProps,q=e!==null?e.memoizedProps:null,g=N.children,X0(S,N)?g=null:q!==null&&X0(S,q)&&(n.flags|=32),n.memoizedState!==null&&(S=Yf(e,n,Ev,null,null,c),oc._currentValue=S),iu(e,n),oa(e,n,g,c),n.child;case 6:return e===null&&Vn&&((e=c=xr)&&(c=uA(c,n.pendingProps,ri),c!==null?(n.stateNode=c,ia=n,xr=null,e=!0):e=!1),e||_s(n)),null;case 13:return Mg(e,n,c);case 4:return yt(n,n.stateNode.containerInfo),g=n.pendingProps,e===null?n.child=Io(n,null,g,c):oa(e,n,g,c),n.child;case 11:return Sg(e,n,n.type,n.pendingProps,c);case 7:return oa(e,n,n.pendingProps,c),n.child;case 8:return oa(e,n,n.pendingProps.children,c),n.child;case 12:return oa(e,n,n.pendingProps.children,c),n.child;case 10:return g=n.pendingProps,Ds(n,n.type,g.value),oa(e,n,g.children,c),n.child;case 9:return S=n.type._context,g=n.pendingProps.children,Co(n),S=sa(S),g=g(S),n.flags|=1,oa(e,n,g,c),n.child;case 14:return Tg(e,n,n.type,n.pendingProps,c);case 15:return Bg(e,n,n.type,n.pendingProps,c);case 19:return Ug(e,n,c);case 31:return Rv(e,n,c);case 22:return Ng(e,n,c,n.pendingProps);case 24:return Co(n),g=sa(Fr),e===null?(S=Ff(),S===null&&(S=yr,N=Lf(),S.pooledCache=N,N.refCount++,N!==null&&(S.pooledCacheLanes|=c),S=N),n.memoizedState={parent:g,cache:S},Vf(n),Ds(n,Fr,S)):((e.lanes&c)!==0&&(Qf(e,n),Ql(n,null,null,c),Vl()),S=e.memoizedState,N=n.memoizedState,S.parent!==g?(S={parent:g,cache:g},n.memoizedState=S,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=S),Ds(n,Fr,g)):(g=N.cache,Ds(n,Fr,g),g!==S.cache&&Mf(n,[Fr],c,!0))),oa(e,n,n.pendingProps.children,c),n.child;case 29:throw n.pendingProps}throw Error(f(156,n.tag))}function es(e){e.flags|=4}function b0(e,n,c,g,S){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(S&335544128)===S)if(e.stateNode.complete)e.flags|=8192;else if(fp())e.flags|=8192;else throw Eo=jc,Pf}else e.flags&=-16777217}function Pg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ey(n))if(fp())e.flags|=8192;else throw Eo=jc,Pf}function ou(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?It():536870912,e.lanes|=n,nl|=n)}function ql(e,n){if(!Vn)switch(e.tailMode){case"hidden":n=e.tail;for(var c=null;n!==null;)n.alternate!==null&&(c=n),n=n.sibling;c===null?e.tail=null:c.sibling=null;break;case"collapsed":c=e.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:g.sibling=null}}function vr(e){var n=e.alternate!==null&&e.alternate.child===e.child,c=0,g=0;if(n)for(var S=e.child;S!==null;)c|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=e,S=S.sibling;else for(S=e.child;S!==null;)c|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=e,S=S.sibling;return e.subtreeFlags|=g,e.childLanes=c,n}function kv(e,n,c){var g=n.pendingProps;switch(_f(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(n),null;case 1:return vr(n),null;case 3:return c=n.stateNode,g=null,e!==null&&(g=e.memoizedState.cache),n.memoizedState.cache!==g&&(n.flags|=2048),Zi(Fr),Q(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Go(n)?es(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rf())),vr(n),null;case 26:var S=n.type,N=n.memoizedState;return e===null?(es(n),N!==null?(vr(n),Pg(n,N)):(vr(n),b0(n,S,null,g,c))):N?N!==e.memoizedState?(es(n),vr(n),Pg(n,N)):(vr(n),n.flags&=-16777217):(e=e.memoizedProps,e!==g&&es(n),vr(n),b0(n,S,e,g,c)),null;case 27:if(re(n),c=Ne.current,S=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==g&&es(n);else{if(!g){if(n.stateNode===null)throw Error(f(166));return vr(n),null}e=_e.current,Go(n)?x1(n):(e=zp(S,g,c),n.stateNode=e,es(n))}return vr(n),null;case 5:if(re(n),S=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==g&&es(n);else{if(!g){if(n.stateNode===null)throw Error(f(166));return vr(n),null}if(N=_e.current,Go(n))x1(n);else{var q=bu(Ne.current);switch(N){case 1:N=q.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:N=q.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":N=q.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":N=q.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":N=q.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?q.createElement("select",{is:g.is}):q.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?q.createElement(S,{is:g.is}):q.createElement(S)}}N[fn]=n,N[Jt]=g;e:for(q=n.child;q!==null;){if(q.tag===5||q.tag===6)N.appendChild(q.stateNode);else if(q.tag!==4&&q.tag!==27&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===n)break e;for(;q.sibling===null;){if(q.return===null||q.return===n)break e;q=q.return}q.sibling.return=q.return,q=q.sibling}n.stateNode=N;e:switch(la(N,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&es(n)}}return vr(n),b0(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,c),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==g&&es(n);else{if(typeof g!="string"&&n.stateNode===null)throw Error(f(166));if(e=Ne.current,Go(n)){if(e=n.stateNode,c=n.memoizedProps,g=null,S=ia,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}e[fn]=n,e=!!(e.nodeValue===c||g!==null&&g.suppressHydrationWarning===!0||Mp(e.nodeValue,c)),e||_s(n,!0)}else e=bu(e).createTextNode(g),e[fn]=n,n.stateNode=e}return vr(n),null;case 31:if(c=n.memoizedState,e===null||e.memoizedState!==null){if(g=Go(n),c!==null){if(e===null){if(!g)throw Error(f(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[fn]=n}else vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vr(n),e=!1}else c=Rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),e=!0;if(!e)return n.flags&256?(za(n),n):(za(n),null);if((n.flags&128)!==0)throw Error(f(558))}return vr(n),null;case 13:if(g=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(S=Go(n),g!==null&&g.dehydrated!==null){if(e===null){if(!S)throw Error(f(318));if(S=n.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(f(317));S[fn]=n}else vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vr(n),S=!1}else S=Rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=S),S=!0;if(!S)return n.flags&256?(za(n),n):(za(n),null)}return za(n),(n.flags&128)!==0?(n.lanes=c,n):(c=g!==null,e=e!==null&&e.memoizedState!==null,c&&(g=n.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==S&&(g.flags|=2048)),c!==e&&c&&(n.child.flags|=8192),ou(n,n.updateQueue),vr(n),null);case 4:return Q(),e===null&&j0(n.stateNode.containerInfo),vr(n),null;case 10:return Zi(n.type),vr(n),null;case 19:if(Se(kr),g=n.memoizedState,g===null)return vr(n),null;if(S=(n.flags&128)!==0,N=g.rendering,N===null)if(S)ql(g,!1);else{if(Nr!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(N=Yc(e),N!==null){for(n.flags|=128,ql(g,!1),e=N.updateQueue,n.updateQueue=e,ou(n,e),n.subtreeFlags=0,e=c,c=n.child;c!==null;)h1(c,e),c=c.sibling;return ze(kr,kr.current&1|2),Vn&&Yi(n,g.treeForkCount),n.child}e=e.sibling}g.tail!==null&&Kt()>du&&(n.flags|=128,S=!0,ql(g,!1),n.lanes=4194304)}else{if(!S)if(e=Yc(N),e!==null){if(n.flags|=128,S=!0,e=e.updateQueue,n.updateQueue=e,ou(n,e),ql(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!Vn)return vr(n),null}else 2*Kt()-g.renderingStartTime>du&&c!==536870912&&(n.flags|=128,S=!0,ql(g,!1),n.lanes=4194304);g.isBackwards?(N.sibling=n.child,n.child=N):(e=g.last,e!==null?e.sibling=N:n.child=N,g.last=N)}return g.tail!==null?(e=g.tail,g.rendering=e,g.tail=e.sibling,g.renderingStartTime=Kt(),e.sibling=null,c=kr.current,ze(kr,S?c&1|2:c&1),Vn&&Yi(n,g.treeForkCount),e):(vr(n),null);case 22:case 23:return za(n),Kf(),g=n.memoizedState!==null,e!==null?e.memoizedState!==null!==g&&(n.flags|=8192):g&&(n.flags|=8192),g?(c&536870912)!==0&&(n.flags&128)===0&&(vr(n),n.subtreeFlags&6&&(n.flags|=8192)):vr(n),c=n.updateQueue,c!==null&&ou(n,c.retryQueue),c=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(c=e.memoizedState.cachePool.pool),g=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(g=n.memoizedState.cachePool.pool),g!==c&&(n.flags|=2048),e!==null&&Se(bo),null;case 24:return c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Zi(Fr),vr(n),null;case 25:return null;case 30:return null}throw Error(f(156,n.tag))}function Mv(e,n){switch(_f(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zi(Fr),Q(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return re(n),null;case 31:if(n.memoizedState!==null){if(za(n),n.alternate===null)throw Error(f(340));vo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(za(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(f(340));vo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Se(kr),null;case 4:return Q(),null;case 10:return Zi(n.type),null;case 22:case 23:return za(n),Kf(),e!==null&&Se(bo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zi(Fr),null;case 25:return null;default:return null}}function Vg(e,n){switch(_f(n),n.tag){case 3:Zi(Fr),Q();break;case 26:case 27:case 5:re(n);break;case 4:Q();break;case 31:n.memoizedState!==null&&za(n);break;case 13:za(n);break;case 19:Se(kr);break;case 10:Zi(n.type);break;case 22:case 23:za(n),Kf(),e!==null&&Se(bo);break;case 24:Zi(Fr)}}function Yl(e,n){try{var c=n.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var S=g.next;c=S;do{if((c.tag&e)===e){g=void 0;var N=c.create,q=c.inst;g=N(),q.destroy=g}c=c.next}while(c!==S)}}catch(le){rr(n,n.return,le)}}function Us(e,n,c){try{var g=n.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var N=S.next;g=N;do{if((g.tag&e)===e){var q=g.inst,le=q.destroy;if(le!==void 0){q.destroy=void 0,S=n;var Be=c,Ge=le;try{Ge()}catch(rt){rr(S,Be,rt)}}}g=g.next}while(g!==N)}}catch(rt){rr(n,n.return,rt)}}function Qg(e){var n=e.updateQueue;if(n!==null){var c=e.stateNode;try{D1(n,c)}catch(g){rr(e,e.return,g)}}}function Hg(e,n,c){c.props=To(e.type,e.memoizedProps),c.state=e.memoizedState;try{c.componentWillUnmount()}catch(g){rr(e,n,g)}}function Xl(e,n){try{var c=e.ref;if(c!==null){switch(e.tag){case 26:case 27:case 5:var g=e.stateNode;break;case 30:g=e.stateNode;break;default:g=e.stateNode}typeof c=="function"?e.refCleanup=c(g):c.current=g}}catch(S){rr(e,n,S)}}function Di(e,n){var c=e.ref,g=e.refCleanup;if(c!==null)if(typeof g=="function")try{g()}catch(S){rr(e,n,S)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(S){rr(e,n,S)}else c.current=null}function Gg(e){var n=e.type,c=e.memoizedProps,g=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":c.autoFocus&&g.focus();break e;case"img":c.src?g.src=c.src:c.srcSet&&(g.srcset=c.srcSet)}}catch(S){rr(e,e.return,S)}}function w0(e,n,c){try{var g=e.stateNode;rA(g,e.type,c,n),g[Jt]=n}catch(S){rr(e,e.return,S)}}function jg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&js(e.type)||e.tag===4}function E0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&js(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I0(e,n,c){var g=e.tag;if(g===5||g===6)e=e.stateNode,n?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(e,n):(n=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,n.appendChild(e),c=c._reactRootContainer,c!=null||n.onclick!==null||(n.onclick=Kr));else if(g!==4&&(g===27&&js(e.type)&&(c=e.stateNode,n=null),e=e.child,e!==null))for(I0(e,n,c),e=e.sibling;e!==null;)I0(e,n,c),e=e.sibling}function lu(e,n,c){var g=e.tag;if(g===5||g===6)e=e.stateNode,n?c.insertBefore(e,n):c.appendChild(e);else if(g!==4&&(g===27&&js(e.type)&&(c=e.stateNode),e=e.child,e!==null))for(lu(e,n,c),e=e.sibling;e!==null;)lu(e,n,c),e=e.sibling}function Kg(e){var n=e.stateNode,c=e.memoizedProps;try{for(var g=e.type,S=n.attributes;S.length;)n.removeAttributeNode(S[0]);la(n,g,c),n[fn]=e,n[Jt]=c}catch(N){rr(e,e.return,N)}}var ts=!1,Qr=!1,S0=!1,zg=typeof WeakSet=="function"?WeakSet:Set,Jr=null;function Lv(e,n){if(e=e.containerInfo,q0=Nu,e=B(e),k(e)){if("selectionStart"in e)var c={start:e.selectionStart,end:e.selectionEnd};else e:{c=(c=e.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var S=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{c.nodeType,N.nodeType}catch{c=null;break e}var q=0,le=-1,Be=-1,Ge=0,rt=0,ut=e,Ke=null;t:for(;;){for(var Xe;ut!==c||S!==0&&ut.nodeType!==3||(le=q+S),ut!==N||g!==0&&ut.nodeType!==3||(Be=q+g),ut.nodeType===3&&(q+=ut.nodeValue.length),(Xe=ut.firstChild)!==null;)Ke=ut,ut=Xe;for(;;){if(ut===e)break t;if(Ke===c&&++Ge===S&&(le=q),Ke===N&&++rt===g&&(Be=q),(Xe=ut.nextSibling)!==null)break;ut=Ke,Ke=ut.parentNode}ut=Xe}c=le===-1||Be===-1?null:{start:le,end:Be}}else c=null}c=c||{start:0,end:0}}else c=null;for(Y0={focusedElem:e,selectionRange:c},Nu=!1,Jr=n;Jr!==null;)if(n=Jr,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Jr=e;else for(;Jr!==null;){switch(n=Jr,N=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(c=0;c<e.length;c++)S=e[c],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&N!==null){e=void 0,c=n,S=N.memoizedProps,N=N.memoizedState,g=c.stateNode;try{var Mt=To(c.type,S);e=g.getSnapshotBeforeUpdate(Mt,N),g.__reactInternalSnapshotBeforeUpdate=e}catch(ln){rr(c,c.return,ln)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,c=e.nodeType,c===9)W0(e);else if(c===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":W0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=n.sibling,e!==null){e.return=n.return,Jr=e;break}Jr=n.return}}function qg(e,n,c){var g=c.flags;switch(c.tag){case 0:case 11:case 15:rs(e,c),g&4&&Yl(5,c);break;case 1:if(rs(e,c),g&4)if(e=c.stateNode,n===null)try{e.componentDidMount()}catch(q){rr(c,c.return,q)}else{var S=To(c.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(S,n,e.__reactInternalSnapshotBeforeUpdate)}catch(q){rr(c,c.return,q)}}g&64&&Qg(c),g&512&&Xl(c,c.return);break;case 3:if(rs(e,c),g&64&&(e=c.updateQueue,e!==null)){if(n=null,c.child!==null)switch(c.child.tag){case 27:case 5:n=c.child.stateNode;break;case 1:n=c.child.stateNode}try{D1(e,n)}catch(q){rr(c,c.return,q)}}break;case 27:n===null&&g&4&&Kg(c);case 26:case 5:rs(e,c),n===null&&g&4&&Gg(c),g&512&&Xl(c,c.return);break;case 12:rs(e,c);break;case 31:rs(e,c),g&4&&Zg(e,c);break;case 13:rs(e,c),g&4&&Wg(e,c),g&64&&(e=c.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(c=Kv.bind(null,c),fA(e,c))));break;case 22:if(g=c.memoizedState!==null||ts,!g){n=n!==null&&n.memoizedState!==null||Qr,S=ts;var N=Qr;ts=g,(Qr=n)&&!N?as(e,c,(c.subtreeFlags&8772)!==0):rs(e,c),ts=S,Qr=N}break;case 30:break;default:rs(e,c)}}function Yg(e){var n=e.alternate;n!==null&&(e.alternate=null,Yg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var br=null,Na=!1;function ns(e,n,c){for(c=c.child;c!==null;)Xg(e,n,c),c=c.sibling}function Xg(e,n,c){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Gt,c)}catch{}switch(c.tag){case 26:Qr||Di(c,n),ns(e,n,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Qr||Di(c,n);var g=br,S=Na;js(c.type)&&(br=c.stateNode,Na=!1),ns(e,n,c),ac(c.stateNode),br=g,Na=S;break;case 5:Qr||Di(c,n);case 6:if(g=br,S=Na,br=null,ns(e,n,c),br=g,Na=S,br!==null)if(Na)try{(br.nodeType===9?br.body:br.nodeName==="HTML"?br.ownerDocument.body:br).removeChild(c.stateNode)}catch(N){rr(c,n,N)}else try{br.removeChild(c.stateNode)}catch(N){rr(c,n,N)}break;case 18:br!==null&&(Na?(e=br,Qp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,c.stateNode),ul(e)):Qp(br,c.stateNode));break;case 4:g=br,S=Na,br=c.stateNode.containerInfo,Na=!0,ns(e,n,c),br=g,Na=S;break;case 0:case 11:case 14:case 15:Us(2,c,n),Qr||Us(4,c,n),ns(e,n,c);break;case 1:Qr||(Di(c,n),g=c.stateNode,typeof g.componentWillUnmount=="function"&&Hg(c,n,g)),ns(e,n,c);break;case 21:ns(e,n,c);break;case 22:Qr=(g=Qr)||c.memoizedState!==null,ns(e,n,c),Qr=g;break;default:ns(e,n,c)}}function Zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ul(e)}catch(c){rr(n,n.return,c)}}}function Wg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(c){rr(n,n.return,c)}}function Uv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new zg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new zg),n;default:throw Error(f(435,e.tag))}}function cu(e,n){var c=Uv(e);n.forEach(function(g){if(!c.has(g)){c.add(g);var S=zv.bind(null,e,g);g.then(S,S)}})}function _a(e,n){var c=n.deletions;if(c!==null)for(var g=0;g<c.length;g++){var S=c[g],N=e,q=n,le=q;e:for(;le!==null;){switch(le.tag){case 27:if(js(le.type)){br=le.stateNode,Na=!1;break e}break;case 5:br=le.stateNode,Na=!1;break e;case 3:case 4:br=le.stateNode.containerInfo,Na=!0;break e}le=le.return}if(br===null)throw Error(f(160));Xg(N,q,S),br=null,Na=!1,N=S.alternate,N!==null&&(N.return=null),S.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jg(n,e),n=n.sibling}var gi=null;function Jg(e,n){var c=e.alternate,g=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_a(n,e),Da(e),g&4&&(Us(3,e,e.return),Yl(3,e),Us(5,e,e.return));break;case 1:_a(n,e),Da(e),g&512&&(Qr||c===null||Di(c,c.return)),g&64&&ts&&(e=e.updateQueue,e!==null&&(g=e.callbacks,g!==null&&(c=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=c===null?g:c.concat(g))));break;case 26:var S=gi;if(_a(n,e),Da(e),g&512&&(Qr||c===null||Di(c,c.return)),g&4){var N=c!==null?c.memoizedState:null;if(g=e.memoizedState,c===null)if(g===null)if(e.stateNode===null){e:{g=e.type,c=e.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":N=S.getElementsByTagName("title")[0],(!N||N[na]||N[fn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=S.createElement(g),S.head.insertBefore(N,S.querySelector("head > title"))),la(N,g,c),N[fn]=e,hr(N),g=N;break e;case"link":var q=Jp("link","href",S).get(g+(c.href||""));if(q){for(var le=0;le<q.length;le++)if(N=q[le],N.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&N.getAttribute("rel")===(c.rel==null?null:c.rel)&&N.getAttribute("title")===(c.title==null?null:c.title)&&N.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){q.splice(le,1);break t}}N=S.createElement(g),la(N,g,c),S.head.appendChild(N);break;case"meta":if(q=Jp("meta","content",S).get(g+(c.content||""))){for(le=0;le<q.length;le++)if(N=q[le],N.getAttribute("content")===(c.content==null?null:""+c.content)&&N.getAttribute("name")===(c.name==null?null:c.name)&&N.getAttribute("property")===(c.property==null?null:c.property)&&N.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&N.getAttribute("charset")===(c.charSet==null?null:c.charSet)){q.splice(le,1);break t}}N=S.createElement(g),la(N,g,c),S.head.appendChild(N);break;default:throw Error(f(468,g))}N[fn]=e,hr(N),g=N}e.stateNode=g}else $p(S,e.type,e.stateNode);else e.stateNode=Wp(S,g,e.memoizedProps);else N!==g?(N===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):N.count--,g===null?$p(S,e.type,e.stateNode):Wp(S,g,e.memoizedProps)):g===null&&e.stateNode!==null&&w0(e,e.memoizedProps,c.memoizedProps)}break;case 27:_a(n,e),Da(e),g&512&&(Qr||c===null||Di(c,c.return)),c!==null&&g&4&&w0(e,e.memoizedProps,c.memoizedProps);break;case 5:if(_a(n,e),Da(e),g&512&&(Qr||c===null||Di(c,c.return)),e.flags&32){S=e.stateNode;try{ci(S,"")}catch(Mt){rr(e,e.return,Mt)}}g&4&&e.stateNode!=null&&(S=e.memoizedProps,w0(e,S,c!==null?c.memoizedProps:S)),g&1024&&(S0=!0);break;case 6:if(_a(n,e),Da(e),g&4){if(e.stateNode===null)throw Error(f(162));g=e.memoizedProps,c=e.stateNode;try{c.nodeValue=g}catch(Mt){rr(e,e.return,Mt)}}break;case 3:if(Iu=null,S=gi,gi=wu(n.containerInfo),_a(n,e),gi=S,Da(e),g&4&&c!==null&&c.memoizedState.isDehydrated)try{ul(n.containerInfo)}catch(Mt){rr(e,e.return,Mt)}S0&&(S0=!1,$g(e));break;case 4:g=gi,gi=wu(e.stateNode.containerInfo),_a(n,e),Da(e),gi=g;break;case 12:_a(n,e),Da(e);break;case 31:_a(n,e),Da(e),g&4&&(g=e.updateQueue,g!==null&&(e.updateQueue=null,cu(e,g)));break;case 13:_a(n,e),Da(e),e.child.flags&8192&&e.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(fu=Kt()),g&4&&(g=e.updateQueue,g!==null&&(e.updateQueue=null,cu(e,g)));break;case 22:S=e.memoizedState!==null;var Be=c!==null&&c.memoizedState!==null,Ge=ts,rt=Qr;if(ts=Ge||S,Qr=rt||Be,_a(n,e),Qr=rt,ts=Ge,Da(e),g&8192)e:for(n=e.stateNode,n._visibility=S?n._visibility&-2:n._visibility|1,S&&(c===null||Be||ts||Qr||Bo(e)),c=null,n=e;;){if(n.tag===5||n.tag===26){if(c===null){Be=c=n;try{if(N=Be.stateNode,S)q=N.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{le=Be.stateNode;var ut=Be.memoizedProps.style,Ke=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;le.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Mt){rr(Be,Be.return,Mt)}}}else if(n.tag===6){if(c===null){Be=n;try{Be.stateNode.nodeValue=S?"":Be.memoizedProps}catch(Mt){rr(Be,Be.return,Mt)}}}else if(n.tag===18){if(c===null){Be=n;try{var Xe=Be.stateNode;S?Hp(Xe,!0):Hp(Be.stateNode,!1)}catch(Mt){rr(Be,Be.return,Mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;c===n&&(c=null),n=n.return}c===n&&(c=null),n.sibling.return=n.return,n=n.sibling}g&4&&(g=e.updateQueue,g!==null&&(c=g.retryQueue,c!==null&&(g.retryQueue=null,cu(e,c))));break;case 19:_a(n,e),Da(e),g&4&&(g=e.updateQueue,g!==null&&(e.updateQueue=null,cu(e,g)));break;case 30:break;case 21:break;default:_a(n,e),Da(e)}}function Da(e){var n=e.flags;if(n&2){try{for(var c,g=e.return;g!==null;){if(jg(g)){c=g;break}g=g.return}if(c==null)throw Error(f(160));switch(c.tag){case 27:var S=c.stateNode,N=E0(e);lu(e,N,S);break;case 5:var q=c.stateNode;c.flags&32&&(ci(q,""),c.flags&=-33);var le=E0(e);lu(e,le,q);break;case 3:case 4:var Be=c.stateNode.containerInfo,Ge=E0(e);I0(e,Ge,Be);break;default:throw Error(f(161))}}catch(rt){rr(e,e.return,rt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $g(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$g(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qg(e,n.alternate,n),n=n.sibling}function Bo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Us(4,n,n.return),Bo(n);break;case 1:Di(n,n.return);var c=n.stateNode;typeof c.componentWillUnmount=="function"&&Hg(n,n.return,c),Bo(n);break;case 27:ac(n.stateNode);case 26:case 5:Di(n,n.return),Bo(n);break;case 22:n.memoizedState===null&&Bo(n);break;case 30:Bo(n);break;default:Bo(n)}e=e.sibling}}function as(e,n,c){for(c=c&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var g=n.alternate,S=e,N=n,q=N.flags;switch(N.tag){case 0:case 11:case 15:as(S,N,c),Yl(4,N);break;case 1:if(as(S,N,c),g=N,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ge){rr(g,g.return,Ge)}if(g=N,S=g.updateQueue,S!==null){var le=g.stateNode;try{var Be=S.shared.hiddenCallbacks;if(Be!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Be.length;S++)_1(Be[S],le)}catch(Ge){rr(g,g.return,Ge)}}c&&q&64&&Qg(N),Xl(N,N.return);break;case 27:Kg(N);case 26:case 5:as(S,N,c),c&&g===null&&q&4&&Gg(N),Xl(N,N.return);break;case 12:as(S,N,c);break;case 31:as(S,N,c),c&&q&4&&Zg(S,N);break;case 13:as(S,N,c),c&&q&4&&Wg(S,N);break;case 22:N.memoizedState===null&&as(S,N,c),Xl(N,N.return);break;case 30:break;default:as(S,N,c)}n=n.sibling}}function T0(e,n){var c=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(c=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==c&&(e!=null&&e.refCount++,c!=null&&Ml(c))}function B0(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e))}function pi(e,n,c,g){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(e,n,c,g),n=n.sibling}function ep(e,n,c,g){var S=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,c,g),S&2048&&Yl(9,n);break;case 1:pi(e,n,c,g);break;case 3:pi(e,n,c,g),S&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e)));break;case 12:if(S&2048){pi(e,n,c,g),e=n.stateNode;try{var N=n.memoizedProps,q=N.id,le=N.onPostCommit;typeof le=="function"&&le(q,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Be){rr(n,n.return,Be)}}else pi(e,n,c,g);break;case 31:pi(e,n,c,g);break;case 13:pi(e,n,c,g);break;case 23:break;case 22:N=n.stateNode,q=n.alternate,n.memoizedState!==null?N._visibility&2?pi(e,n,c,g):Zl(e,n):N._visibility&2?pi(e,n,c,g):(N._visibility|=2,$o(e,n,c,g,(n.subtreeFlags&10256)!==0||!1)),S&2048&&T0(q,n);break;case 24:pi(e,n,c,g),S&2048&&B0(n.alternate,n);break;default:pi(e,n,c,g)}}function $o(e,n,c,g,S){for(S=S&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var N=e,q=n,le=c,Be=g,Ge=q.flags;switch(q.tag){case 0:case 11:case 15:$o(N,q,le,Be,S),Yl(8,q);break;case 23:break;case 22:var rt=q.stateNode;q.memoizedState!==null?rt._visibility&2?$o(N,q,le,Be,S):Zl(N,q):(rt._visibility|=2,$o(N,q,le,Be,S)),S&&Ge&2048&&T0(q.alternate,q);break;case 24:$o(N,q,le,Be,S),S&&Ge&2048&&B0(q.alternate,q);break;default:$o(N,q,le,Be,S)}n=n.sibling}}function Zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var c=e,g=n,S=g.flags;switch(g.tag){case 22:Zl(c,g),S&2048&&T0(g.alternate,g);break;case 24:Zl(c,g),S&2048&&B0(g.alternate,g);break;default:Zl(c,g)}n=n.sibling}}var Wl=8192;function el(e,n,c){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)tp(e,n,c),e=e.sibling}function tp(e,n,c){switch(e.tag){case 26:el(e,n,c),e.flags&Wl&&e.memoizedState!==null&&wA(c,gi,e.memoizedState,e.memoizedProps);break;case 5:el(e,n,c);break;case 3:case 4:var g=gi;gi=wu(e.stateNode.containerInfo),el(e,n,c),gi=g;break;case 22:e.memoizedState===null&&(g=e.alternate,g!==null&&g.memoizedState!==null?(g=Wl,Wl=16777216,el(e,n,c),Wl=g):el(e,n,c));break;default:el(e,n,c)}}function np(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var c=0;c<n.length;c++){var g=n[c];Jr=g,ap(g,e)}np(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rp(e),e=e.sibling}function rp(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&Us(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uu(e)):Jl(e);break;default:Jl(e)}}function uu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var c=0;c<n.length;c++){var g=n[c];Jr=g,ap(g,e)}np(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Us(8,n,n.return),uu(n);break;case 22:c=n.stateNode,c._visibility&2&&(c._visibility&=-3,uu(n));break;default:uu(n)}e=e.sibling}}function ap(e,n){for(;Jr!==null;){var c=Jr;switch(c.tag){case 0:case 11:case 15:Us(8,c,n);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var g=c.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ml(c.memoizedState.cache)}if(g=c.child,g!==null)g.return=c,Jr=g;else e:for(c=e;Jr!==null;){g=Jr;var S=g.sibling,N=g.return;if(Yg(g),g===c){Jr=null;break e}if(S!==null){S.return=N,Jr=S;break e}Jr=N}}}var Fv={getCacheForType:function(e){var n=sa(Fr),c=n.data.get(e);return c===void 0&&(c=e(),n.data.set(e,c)),c},cacheSignal:function(){return sa(Fr).controller.signal}},Pv=typeof WeakMap=="function"?WeakMap:Map,Jn=0,yr=null,Dn=null,Ln=0,nr=0,qa=null,Fs=!1,tl=!1,N0=!1,is=0,Nr=0,Ps=0,No=0,_0=0,Ya=0,nl=0,$l=null,Ra=null,D0=!1,fu=0,ip=0,du=1/0,hu=null,Vs=null,zr=0,Qs=null,rl=null,ss=0,R0=0,O0=null,sp=null,ec=0,k0=null;function Xa(){return(Jn&2)!==0&&Ln!==0?Ln&-Ln:he.T!==null?V0():cn()}function op(){if(Ya===0)if((Ln&536870912)===0||Vn){var e=Rt;Rt<<=1,(Rt&3932160)===0&&(Rt=262144),Ya=e}else Ya=536870912;return e=Ka.current,e!==null&&(e.flags|=32),Ya}function Oa(e,n,c){(e===yr&&(nr===2||nr===9)||e.cancelPendingCommit!==null)&&(al(e,0),Hs(e,Ln,Ya,!1)),kt(e,c),((Jn&2)===0||e!==yr)&&(e===yr&&((Jn&2)===0&&(No|=c),Nr===4&&Hs(e,Ln,Ya,!1)),Ri(e))}function lp(e,n,c){if((Jn&6)!==0)throw Error(f(327));var g=!c&&(n&127)===0&&(n&e.expiredLanes)===0||an(e,n),S=g?Hv(e,n):L0(e,n,!0),N=g;do{if(S===0){tl&&!g&&Hs(e,n,0,!1);break}else{if(c=e.current.alternate,N&&!Vv(c)){S=L0(e,n,!1),N=!1;continue}if(S===2){if(N=n,e.errorRecoveryDisabledLanes&N)var q=0;else q=e.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){n=q;e:{var le=e;S=$l;var Be=le.current.memoizedState.isDehydrated;if(Be&&(al(le,q).flags|=256),q=L0(le,q,!1),q!==2){if(N0&&!Be){le.errorRecoveryDisabledLanes|=N,No|=N,S=4;break e}N=Ra,Ra=S,N!==null&&(Ra===null?Ra=N:Ra.push.apply(Ra,N))}S=q}if(N=!1,S!==2)continue}}if(S===1){al(e,0),Hs(e,n,0,!0);break}e:{switch(g=e,N=S,N){case 0:case 1:throw Error(f(345));case 4:if((n&4194048)!==n)break;case 6:Hs(g,n,Ya,!Fs);break e;case 2:Ra=null;break;case 3:case 5:break;default:throw Error(f(329))}if((n&62914560)===n&&(S=fu+300-Kt(),10<S)){if(Hs(g,n,Ya,!Fs),Zn(g,0,!0)!==0)break e;ss=n,g.timeoutHandle=Pp(cp.bind(null,g,c,Ra,hu,D0,n,Ya,No,nl,Fs,N,"Throttled",-0,0),S);break e}cp(g,c,Ra,hu,D0,n,Ya,No,nl,Fs,N,null,-0,0)}}break}while(!0);Ri(e)}function cp(e,n,c,g,S,N,q,le,Be,Ge,rt,ut,Ke,Xe){if(e.timeoutHandle=-1,ut=n.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kr},tp(n,N,ut);var Mt=(N&62914560)===N?fu-Kt():(N&4194048)===N?ip-Kt():0;if(Mt=EA(ut,Mt),Mt!==null){ss=N,e.cancelPendingCommit=Mt(mp.bind(null,e,n,N,c,g,S,q,le,Be,rt,ut,null,Ke,Xe)),Hs(e,N,q,!Ge);return}}mp(e,n,N,c,g,S,q,le,Be)}function Vv(e){for(var n=e;;){var c=n.tag;if((c===0||c===11||c===15)&&n.flags&16384&&(c=n.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var g=0;g<c.length;g++){var S=c[g],N=S.getSnapshot;S=S.value;try{if(!y(N(),S))return!1}catch{return!1}}if(c=n.child,n.subtreeFlags&16384&&c!==null)c.return=n,n=c;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(e,n,c,g){n&=~_0,n&=~No,e.suspendedLanes|=n,e.pingedLanes&=~n,g&&(e.warmLanes|=n),g=e.expirationTimes;for(var S=n;0<S;){var N=31-we(S),q=1<<N;g[N]=-1,S&=~q}c!==0&&zt(e,c,n)}function gu(){return(Jn&6)===0?(tc(0),!1):!0}function M0(){if(Dn!==null){if(nr===0)var e=Dn.return;else e=Dn,Xi=Ao=null,Wf(e),Yo=null,Ul=0,e=Dn;for(;e!==null;)Vg(e.alternate,e),e=e.return;Dn=null}}function al(e,n){var c=e.timeoutHandle;c!==-1&&(e.timeoutHandle=-1,sA(c)),c=e.cancelPendingCommit,c!==null&&(e.cancelPendingCommit=null,c()),ss=0,M0(),yr=e,Dn=c=qi(e.current,null),Ln=n,nr=0,qa=null,Fs=!1,tl=an(e,n),N0=!1,nl=Ya=_0=No=Ps=Nr=0,Ra=$l=null,D0=!1,(n&8)!==0&&(n|=n&32);var g=e.entangledLanes;if(g!==0)for(e=e.entanglements,g&=n;0<g;){var S=31-we(g),N=1<<S;n|=e[S],g&=~N}return is=n,xn(),c}function up(e,n){bn=null,he.H=Kl,n===qo||n===Gc?(n=S1(),nr=3):n===Pf?(n=S1(),nr=4):nr=n===h0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qa=n,Dn===null&&(Nr=1,ru(e,ei(n,e.current)))}function fp(){var e=Ka.current;return e===null?!0:(Ln&4194048)===Ln?ai===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?e===ai:!1}function dp(){var e=he.H;return he.H=Kl,e===null?Kl:e}function hp(){var e=he.A;return he.A=Fv,e}function pu(){Nr=4,Fs||(Ln&4194048)!==Ln&&Ka.current!==null||(tl=!0),(Ps&134217727)===0&&(No&134217727)===0||yr===null||Hs(yr,Ln,Ya,!1)}function L0(e,n,c){var g=Jn;Jn|=2;var S=dp(),N=hp();(yr!==e||Ln!==n)&&(hu=null,al(e,n)),n=!1;var q=Nr;e:do try{if(nr!==0&&Dn!==null){var le=Dn,Be=qa;switch(nr){case 8:M0(),q=6;break e;case 3:case 2:case 9:case 6:Ka.current===null&&(n=!0);var Ge=nr;if(nr=0,qa=null,il(e,le,Be,Ge),c&&tl){q=0;break e}break;default:Ge=nr,nr=0,qa=null,il(e,le,Be,Ge)}}Qv(),q=Nr;break}catch(rt){up(e,rt)}while(!0);return n&&e.shellSuspendCounter++,Xi=Ao=null,Jn=g,he.H=S,he.A=N,Dn===null&&(yr=null,Ln=0,xn()),q}function Qv(){for(;Dn!==null;)gp(Dn)}function Hv(e,n){var c=Jn;Jn|=2;var g=dp(),S=hp();yr!==e||Ln!==n?(hu=null,du=Kt()+500,al(e,n)):tl=an(e,n);e:do try{if(nr!==0&&Dn!==null){n=Dn;var N=qa;t:switch(nr){case 1:nr=0,qa=null,il(e,n,N,1);break;case 2:case 9:if(E1(N)){nr=0,qa=null,pp(n);break}n=function(){nr!==2&&nr!==9||yr!==e||(nr=7),Ri(e)},N.then(n,n);break e;case 3:nr=7;break e;case 4:nr=5;break e;case 7:E1(N)?(nr=0,qa=null,pp(n)):(nr=0,qa=null,il(e,n,N,7));break;case 5:var q=null;switch(Dn.tag){case 26:q=Dn.memoizedState;case 5:case 27:var le=Dn;if(q?ey(q):le.stateNode.complete){nr=0,qa=null;var Be=le.sibling;if(Be!==null)Dn=Be;else{var Ge=le.return;Ge!==null?(Dn=Ge,yu(Ge)):Dn=null}break t}}nr=0,qa=null,il(e,n,N,5);break;case 6:nr=0,qa=null,il(e,n,N,6);break;case 8:M0(),Nr=6;break e;default:throw Error(f(462))}}Gv();break}catch(rt){up(e,rt)}while(!0);return Xi=Ao=null,he.H=g,he.A=S,Jn=c,Dn!==null?0:(yr=null,Ln=0,xn(),Nr)}function Gv(){for(;Dn!==null&&!Lt();)gp(Dn)}function gp(e){var n=Fg(e.alternate,e,is);e.memoizedProps=e.pendingProps,n===null?yu(e):Dn=n}function pp(e){var n=e,c=n.alternate;switch(n.tag){case 15:case 0:n=Rg(c,n,n.pendingProps,n.type,void 0,Ln);break;case 11:n=Rg(c,n,n.pendingProps,n.type.render,n.ref,Ln);break;case 5:Wf(n);default:Vg(c,n),n=Dn=h1(n,is),n=Fg(c,n,is)}e.memoizedProps=e.pendingProps,n===null?yu(e):Dn=n}function il(e,n,c,g){Xi=Ao=null,Wf(n),Yo=null,Ul=0;var S=n.return;try{if(Dv(e,S,n,c,Ln)){Nr=1,ru(e,ei(c,e.current)),Dn=null;return}}catch(N){if(S!==null)throw Dn=S,N;Nr=1,ru(e,ei(c,e.current)),Dn=null;return}n.flags&32768?(Vn||g===1?e=!0:tl||(Ln&536870912)!==0?e=!1:(Fs=e=!0,(g===2||g===9||g===3||g===6)&&(g=Ka.current,g!==null&&g.tag===13&&(g.flags|=16384))),yp(n,e)):yu(n)}function yu(e){var n=e;do{if((n.flags&32768)!==0){yp(n,Fs);return}e=n.return;var c=kv(n.alternate,n,is);if(c!==null){Dn=c;return}if(n=n.sibling,n!==null){Dn=n;return}Dn=n=e}while(n!==null);Nr===0&&(Nr=5)}function yp(e,n){do{var c=Mv(e.alternate,e);if(c!==null){c.flags&=32767,Dn=c;return}if(c=e.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!n&&(e=e.sibling,e!==null)){Dn=e;return}Dn=e=c}while(e!==null);Nr=6,Dn=null}function mp(e,n,c,g,S,N,q,le,Be){e.cancelPendingCommit=null;do mu();while(zr!==0);if((Jn&6)!==0)throw Error(f(327));if(n!==null){if(n===e.current)throw Error(f(177));if(N=n.lanes|n.childLanes,N|=Wt,Tt(e,c,N,q,le,Be),e===yr&&(Dn=yr=null,Ln=0),rl=n,Qs=e,ss=c,R0=N,O0=S,sp=g,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,qv(nn,function(){return bp(),null})):(e.callbackNode=null,e.callbackPriority=0),g=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||g){g=he.T,he.T=null,S=ve.p,ve.p=2,q=Jn,Jn|=4;try{Lv(e,n,c)}finally{Jn=q,ve.p=S,he.T=g}}zr=1,xp(),vp(),Ap()}}function xp(){if(zr===1){zr=0;var e=Qs,n=rl,c=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||c){c=he.T,he.T=null;var g=ve.p;ve.p=2;var S=Jn;Jn|=4;try{Jg(n,e);var N=Y0,q=B(e.containerInfo),le=N.focusedElem,Be=N.selectionRange;if(q!==le&&le&&le.ownerDocument&&b(le.ownerDocument.documentElement,le)){if(Be!==null&&k(le)){var Ge=Be.start,rt=Be.end;if(rt===void 0&&(rt=Ge),"selectionStart"in le)le.selectionStart=Ge,le.selectionEnd=Math.min(rt,le.value.length);else{var ut=le.ownerDocument||document,Ke=ut&&ut.defaultView||window;if(Ke.getSelection){var Xe=Ke.getSelection(),Mt=le.textContent.length,ln=Math.min(Be.start,Mt),fr=Be.end===void 0?ln:Math.min(Be.end,Mt);!Xe.extend&&ln>fr&&(q=fr,fr=ln,ln=q);var Pe=x(le,ln),De=x(le,fr);if(Pe&&De&&(Xe.rangeCount!==1||Xe.anchorNode!==Pe.node||Xe.anchorOffset!==Pe.offset||Xe.focusNode!==De.node||Xe.focusOffset!==De.offset)){var He=ut.createRange();He.setStart(Pe.node,Pe.offset),Xe.removeAllRanges(),ln>fr?(Xe.addRange(He),Xe.extend(De.node,De.offset)):(He.setEnd(De.node,De.offset),Xe.addRange(He))}}}}for(ut=[],Xe=le;Xe=Xe.parentNode;)Xe.nodeType===1&&ut.push({element:Xe,left:Xe.scrollLeft,top:Xe.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<ut.length;le++){var st=ut[le];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Nu=!!q0,Y0=q0=null}finally{Jn=S,ve.p=g,he.T=c}}e.current=n,zr=2}}function vp(){if(zr===2){zr=0;var e=Qs,n=rl,c=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||c){c=he.T,he.T=null;var g=ve.p;ve.p=2;var S=Jn;Jn|=4;try{qg(e,n.alternate,n)}finally{Jn=S,ve.p=g,he.T=c}}zr=3}}function Ap(){if(zr===4||zr===3){zr=0,St();var e=Qs,n=rl,c=ss,g=sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zr=5:(zr=0,rl=Qs=null,Cp(e,e.pendingLanes));var S=e.pendingLanes;if(S===0&&(Vs=null),on(c),n=n.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Gt,n,void 0,(n.current.flags&128)===128)}catch{}if(g!==null){n=he.T,S=ve.p,ve.p=2,he.T=null;try{for(var N=e.onRecoverableError,q=0;q<g.length;q++){var le=g[q];N(le.value,{componentStack:le.stack})}}finally{he.T=n,ve.p=S}}(ss&3)!==0&&mu(),Ri(e),S=e.pendingLanes,(c&261930)!==0&&(S&42)!==0?e===k0?ec++:(ec=0,k0=e):ec=0,tc(0)}}function Cp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ml(n)))}function mu(){return xp(),vp(),Ap(),bp()}function bp(){if(zr!==5)return!1;var e=Qs,n=R0;R0=0;var c=on(ss),g=he.T,S=ve.p;try{ve.p=32>c?32:c,he.T=null,c=O0,O0=null;var N=Qs,q=ss;if(zr=0,rl=Qs=null,ss=0,(Jn&6)!==0)throw Error(f(331));var le=Jn;if(Jn|=4,rp(N.current),ep(N,N.current,q,c),Jn=le,tc(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Gt,N)}catch{}return!0}finally{ve.p=S,he.T=g,Cp(e,n)}}function wp(e,n,c){n=ei(c,n),n=d0(e.stateNode,n,2),e=ks(e,n,2),e!==null&&(kt(e,2),Ri(e))}function rr(e,n,c){if(e.tag===3)wp(e,e,c);else for(;n!==null;){if(n.tag===3){wp(n,e,c);break}else if(n.tag===1){var g=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Vs===null||!Vs.has(g))){e=ei(c,e),c=Eg(2),g=ks(n,c,2),g!==null&&(Ig(c,g,n,e),kt(g,2),Ri(g));break}}n=n.return}}function U0(e,n,c){var g=e.pingCache;if(g===null){g=e.pingCache=new Pv;var S=new Set;g.set(n,S)}else S=g.get(n),S===void 0&&(S=new Set,g.set(n,S));S.has(c)||(N0=!0,S.add(c),e=jv.bind(null,e,n,c),n.then(e,e))}function jv(e,n,c){var g=e.pingCache;g!==null&&g.delete(n),e.pingedLanes|=e.suspendedLanes&c,e.warmLanes&=~c,yr===e&&(Ln&c)===c&&(Nr===4||Nr===3&&(Ln&62914560)===Ln&&300>Kt()-fu?(Jn&2)===0&&al(e,0):_0|=c,nl===Ln&&(nl=0)),Ri(e)}function Ep(e,n){n===0&&(n=It()),e=$n(e,n),e!==null&&(kt(e,n),Ri(e))}function Kv(e){var n=e.memoizedState,c=0;n!==null&&(c=n.retryLane),Ep(e,c)}function zv(e,n){var c=0;switch(e.tag){case 31:case 13:var g=e.stateNode,S=e.memoizedState;S!==null&&(c=S.retryLane);break;case 19:g=e.stateNode;break;case 22:g=e.stateNode._retryCache;break;default:throw Error(f(314))}g!==null&&g.delete(n),Ep(e,c)}function qv(e,n){return pt(e,n)}var xu=null,sl=null,F0=!1,vu=!1,P0=!1,Gs=0;function Ri(e){e!==sl&&e.next===null&&(sl===null?xu=sl=e:sl=sl.next=e),vu=!0,F0||(F0=!0,Xv())}function tc(e,n){if(!P0&&vu){P0=!0;do for(var c=!1,g=xu;g!==null;){if(e!==0){var S=g.pendingLanes;if(S===0)var N=0;else{var q=g.suspendedLanes,le=g.pingedLanes;N=(1<<31-we(42|e)+1)-1,N&=S&~(q&~le),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(c=!0,Bp(g,N))}else N=Ln,N=Zn(g,g===yr?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||an(g,N)||(c=!0,Bp(g,N));g=g.next}while(c);P0=!1}}function Yv(){Ip()}function Ip(){vu=F0=!1;var e=0;Gs!==0&&iA()&&(e=Gs);for(var n=Kt(),c=null,g=xu;g!==null;){var S=g.next,N=Sp(g,n);N===0?(g.next=null,c===null?xu=S:c.next=S,S===null&&(sl=c)):(c=g,(e!==0||(N&3)!==0)&&(vu=!0)),g=S}zr!==0&&zr!==5||tc(e),Gs!==0&&(Gs=0)}function Sp(e,n){for(var c=e.suspendedLanes,g=e.pingedLanes,S=e.expirationTimes,N=e.pendingLanes&-62914561;0<N;){var q=31-we(N),le=1<<q,Be=S[q];Be===-1?((le&c)===0||(le&g)!==0)&&(S[q]=tt(le,n)):Be<=n&&(e.expiredLanes|=le),N&=~le}if(n=yr,c=Ln,c=Zn(e,e===n?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),g=e.callbackNode,c===0||e===n&&(nr===2||nr===9)||e.cancelPendingCommit!==null)return g!==null&&g!==null&&Ye(g),e.callbackNode=null,e.callbackPriority=0;if((c&3)===0||an(e,c)){if(n=c&-c,n===e.callbackPriority)return n;switch(g!==null&&Ye(g),on(c)){case 2:case 8:c=rn;break;case 32:c=nn;break;case 268435456:c=wn;break;default:c=nn}return g=Tp.bind(null,e),c=pt(c,g),e.callbackPriority=n,e.callbackNode=c,n}return g!==null&&g!==null&&Ye(g),e.callbackPriority=2,e.callbackNode=null,2}function Tp(e,n){if(zr!==0&&zr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var c=e.callbackNode;if(mu()&&e.callbackNode!==c)return null;var g=Ln;return g=Zn(e,e===yr?g:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),g===0?null:(lp(e,g,n),Sp(e,Kt()),e.callbackNode!=null&&e.callbackNode===c?Tp.bind(null,e):null)}function Bp(e,n){if(mu())return null;lp(e,n,!0)}function Xv(){oA(function(){(Jn&6)!==0?pt(Ht,Yv):Ip()})}function V0(){if(Gs===0){var e=Ko;e===0&&(e=et,et<<=1,(et&261888)===0&&(et=256)),Gs=e}return Gs}function Np(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xa(""+e)}function _p(e,n){var c=n.ownerDocument.createElement("input");return c.name=n.name,c.value=n.value,e.id&&c.setAttribute("form",e.id),n.parentNode.insertBefore(c,n),e=new FormData(e),c.parentNode.removeChild(c),e}function Zv(e,n,c,g,S){if(n==="submit"&&c&&c.stateNode===S){var N=Np((S[Jt]||null).action),q=g.submitter;q&&(n=(n=q[Jt]||null)?Np(n.formAction):q.getAttribute("formAction"),n!==null&&(N=n,q=null));var le=new Rr("action","action",null,g,S);e.push({event:le,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Gs!==0){var Be=q?_p(S,q):new FormData(S);s0(c,{pending:!0,data:Be,method:S.method,action:N},null,Be)}}else typeof N=="function"&&(le.preventDefault(),Be=q?_p(S,q):new FormData(S),s0(c,{pending:!0,data:Be,method:S.method,action:N},N,Be))},currentTarget:S}]})}}for(var Q0=0;Q0<Et.length;Q0++){var H0=Et[Q0],Wv=H0.toLowerCase(),Jv=H0[0].toUpperCase()+H0.slice(1);mt(Wv,"on"+Jv)}mt(Qe,"onAnimationEnd"),mt(Oe,"onAnimationIteration"),mt(je,"onAnimationStart"),mt("dblclick","onDoubleClick"),mt("focusin","onFocus"),mt("focusout","onBlur"),mt(it,"onTransitionRun"),mt(xt,"onTransitionStart"),mt(vt,"onTransitionCancel"),mt(ft,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function Dp(e,n){n=(n&4)!==0;for(var c=0;c<e.length;c++){var g=e[c],S=g.event;g=g.listeners;e:{var N=void 0;if(n)for(var q=g.length-1;0<=q;q--){var le=g[q],Be=le.instance,Ge=le.currentTarget;if(le=le.listener,Be!==N&&S.isPropagationStopped())break e;N=le,S.currentTarget=Ge;try{N(S)}catch(rt){Dt(rt)}S.currentTarget=null,N=Be}else for(q=0;q<g.length;q++){if(le=g[q],Be=le.instance,Ge=le.currentTarget,le=le.listener,Be!==N&&S.isPropagationStopped())break e;N=le,S.currentTarget=Ge;try{N(S)}catch(rt){Dt(rt)}S.currentTarget=null,N=Be}}}}function Rn(e,n){var c=n[ma];c===void 0&&(c=n[ma]=new Set);var g=e+"__bubble";c.has(g)||(Rp(n,e,2,!1),c.add(g))}function G0(e,n,c){var g=0;n&&(g|=4),Rp(c,e,g,n)}var Au="_reactListening"+Math.random().toString(36).slice(2);function j0(e){if(!e[Au]){e[Au]=!0,lt.forEach(function(c){c!=="selectionchange"&&($v.has(c)||G0(c,!1,e),G0(c,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Au]||(n[Au]=!0,G0("selectionchange",!1,n))}}function Rp(e,n,c,g){switch(oy(n)){case 2:var S=TA;break;case 8:S=BA;break;default:S=id}c=S.bind(null,n,c,e),S=void 0,!uo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(S=!0),g?S!==void 0?e.addEventListener(n,c,{capture:!0,passive:S}):e.addEventListener(n,c,!0):S!==void 0?e.addEventListener(n,c,{passive:S}):e.addEventListener(n,c,!1)}function K0(e,n,c,g,S){var N=g;if((n&1)===0&&(n&2)===0&&g!==null)e:for(;;){if(g===null)return;var q=g.tag;if(q===3||q===4){var le=g.stateNode.containerInfo;if(le===S)break;if(q===4)for(q=g.return;q!==null;){var Be=q.tag;if((Be===3||Be===4)&&q.stateNode.containerInfo===S)return;q=q.return}for(;le!==null;){if(q=ir(le),q===null)return;if(Be=q.tag,Be===5||Be===6||Be===26||Be===27){g=N=q;continue e}le=le.parentNode}}g=g.return}bi(function(){var Ge=N,rt=ms(c),ut=[];e:{var Ke=Nt.get(e);if(Ke!==void 0){var Xe=Rr,Mt=e;switch(e){case"keypress":if(Sa(c)===0)break e;case"keydown":case"keyup":Xe=ui;break;case"focusin":Mt="focus",Xe=Ii;break;case"focusout":Mt="blur",Xe=Ii;break;case"beforeblur":case"afterblur":Xe=Ii;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=yo;break;case Qe:case Oe:case je:Xe=mn;break;case ft:Xe=Va;break;case"scroll":case"scrollend":Xe=Qi;break;case"wheel":Xe=bs;break;case"copy":case"cut":case"paste":Xe=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Kn;break;case"toggle":case"beforetoggle":Xe=ws}var ln=(n&4)!==0,fr=!ln&&(e==="scroll"||e==="scrollend"),Pe=ln?Ke!==null?Ke+"Capture":null:Ke;ln=[];for(var De=Ge,He;De!==null;){var st=De;if(He=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||He===null||Pe===null||(st=un(De,Pe),st!=null&&ln.push(rc(De,st,He))),fr)break;De=De.return}0<ln.length&&(Ke=new Xe(Ke,Mt,null,c,rt),ut.push({event:Ke,listeners:ln}))}}if((n&7)===0){e:{if(Ke=e==="mouseover"||e==="pointerover",Xe=e==="mouseout"||e==="pointerout",Ke&&c!==ca&&(Mt=c.relatedTarget||c.fromElement)&&(ir(Mt)||Mt[Ar]))break e;if((Xe||Ke)&&(Ke=rt.window===rt?rt:(Ke=rt.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,Xe?(Mt=c.relatedTarget||c.toElement,Xe=Ge,Mt=Mt?ir(Mt):null,Mt!==null&&(fr=m(Mt),ln=Mt.tag,Mt!==fr||ln!==5&&ln!==27&&ln!==6)&&(Mt=null)):(Xe=null,Mt=Ge),Xe!==Mt)){if(ln=Fn,st="onMouseLeave",Pe="onMouseEnter",De="mouse",(e==="pointerout"||e==="pointerover")&&(ln=Kn,st="onPointerLeave",Pe="onPointerEnter",De="pointer"),fr=Xe==null?Ke:Zr(Xe),He=Mt==null?Ke:Zr(Mt),Ke=new ln(st,De+"leave",Xe,c,rt),Ke.target=fr,Ke.relatedTarget=He,st=null,ir(rt)===Ge&&(ln=new ln(Pe,De+"enter",Mt,c,rt),ln.target=He,ln.relatedTarget=fr,st=ln),fr=st,Xe&&Mt)t:{for(ln=eA,Pe=Xe,De=Mt,He=0,st=Pe;st;st=ln(st))He++;st=0;for(var tn=De;tn;tn=ln(tn))st++;for(;0<He-st;)Pe=ln(Pe),He--;for(;0<st-He;)De=ln(De),st--;for(;He--;){if(Pe===De||De!==null&&Pe===De.alternate){ln=Pe;break t}Pe=ln(Pe),De=ln(De)}ln=null}else ln=null;Xe!==null&&Op(ut,Ke,Xe,ln,!1),Mt!==null&&fr!==null&&Op(ut,fr,Mt,ln,!0)}}e:{if(Ke=Ge?Zr(Ge):window,Xe=Ke.nodeName&&Ke.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ke.type==="file")var qn=Wr;else if(ji(Ke))if(Ta)qn=u;else{qn=i;var jt=t}else Xe=Ke.nodeName,!Xe||Xe.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?Ge&&er(Ge.elementType)&&(qn=Wr):qn=l;if(qn&&(qn=qn(e,Ge))){fa(ut,qn,c,rt);break e}jt&&jt(e,Ke,Ge),e==="focusout"&&Ge&&Ke.type==="number"&&Ge.memoizedProps.value!=null&&ge(Ke,"number",Ke.value)}switch(jt=Ge?Zr(Ge):window,e){case"focusin":(ji(jt)||jt.contentEditable==="true")&&(Y=jt,ne=Ge,fe=null);break;case"focusout":fe=ne=Y=null;break;case"mousedown":ce=!0;break;case"contextmenu":case"mouseup":case"dragend":ce=!1,pe(ut,c,rt);break;case"selectionchange":if(G)break;case"keydown":case"keyup":pe(ut,c,rt)}var In;if(fi)e:{switch(e){case"compositionstart":var Un="onCompositionStart";break e;case"compositionend":Un="onCompositionEnd";break e;case"compositionupdate":Un="onCompositionUpdate";break e}Un=void 0}else di?mo(e,c)&&(Un="onCompositionEnd"):e==="keydown"&&c.keyCode===229&&(Un="onCompositionStart");Un&&(Es&&c.locale!=="ko"&&(di||Un!=="onCompositionStart"?Un==="onCompositionEnd"&&di&&(In=Ia()):(va=rt,Ea="value"in va?va.value:va.textContent,di=!0)),jt=Cu(Ge,Un),0<jt.length&&(Un=new Cs(Un,e,null,c,rt),ut.push({event:Un,listeners:jt}),In?Un.data=In:(In=Si(c),In!==null&&(Un.data=In)))),(In=Po?Ga(e,c):Ss(e,c))&&(Un=Cu(Ge,"onBeforeInput"),0<Un.length&&(jt=new Cs("onBeforeInput","beforeinput",null,c,rt),ut.push({event:jt,listeners:Un}),jt.data=In)),Zv(ut,e,Ge,c,rt)}Dp(ut,n)})}function rc(e,n,c){return{instance:e,listener:n,currentTarget:c}}function Cu(e,n){for(var c=n+"Capture",g=[];e!==null;){var S=e,N=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||N===null||(S=un(e,c),S!=null&&g.unshift(rc(e,S,N)),S=un(e,n),S!=null&&g.push(rc(e,S,N))),e.tag===3)return g;e=e.return}return[]}function eA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Op(e,n,c,g,S){for(var N=n._reactName,q=[];c!==null&&c!==g;){var le=c,Be=le.alternate,Ge=le.stateNode;if(le=le.tag,Be!==null&&Be===g)break;le!==5&&le!==26&&le!==27||Ge===null||(Be=Ge,S?(Ge=un(c,N),Ge!=null&&q.unshift(rc(c,Ge,Be))):S||(Ge=un(c,N),Ge!=null&&q.push(rc(c,Ge,Be)))),c=c.return}q.length!==0&&e.push({event:n,listeners:q})}var tA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(tA,`
`).replace(nA,"")}function Mp(e,n){return n=kp(n),kp(e)===n}function ur(e,n,c,g,S,N){switch(c){case"children":typeof g=="string"?n==="body"||n==="textarea"&&g===""||ci(e,g):(typeof g=="number"||typeof g=="bigint")&&n!=="body"&&ci(e,""+g);break;case"className":Re(e,"class",g);break;case"tabIndex":Re(e,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Re(e,c,g);break;case"style":qt(e,g,N);break;case"data":if(n!=="object"){Re(e,"data",g);break}case"src":case"href":if(g===""&&(n!=="a"||c!=="href")){e.removeAttribute(c);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){e.removeAttribute(c);break}g=xa(""+g),e.setAttribute(c,g);break;case"action":case"formAction":if(typeof g=="function"){e.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(c==="formAction"?(n!=="input"&&ur(e,n,"name",S.name,S,null),ur(e,n,"formEncType",S.formEncType,S,null),ur(e,n,"formMethod",S.formMethod,S,null),ur(e,n,"formTarget",S.formTarget,S,null)):(ur(e,n,"encType",S.encType,S,null),ur(e,n,"method",S.method,S,null),ur(e,n,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){e.removeAttribute(c);break}g=xa(""+g),e.setAttribute(c,g);break;case"onClick":g!=null&&(e.onclick=Kr);break;case"onScroll":g!=null&&Rn("scroll",e);break;case"onScrollEnd":g!=null&&Rn("scrollend",e);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(f(61));if(c=g.__html,c!=null){if(S.children!=null)throw Error(f(60));e.innerHTML=c}}break;case"multiple":e.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":e.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){e.removeAttribute("xlink:href");break}c=xa(""+g),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?e.setAttribute(c,""+g):e.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?e.setAttribute(c,""):e.removeAttribute(c);break;case"capture":case"download":g===!0?e.setAttribute(c,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?e.setAttribute(c,g):e.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?e.setAttribute(c,g):e.removeAttribute(c);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?e.removeAttribute(c):e.setAttribute(c,g);break;case"popover":Rn("beforetoggle",e),Rn("toggle",e),ue(e,"popover",g);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ue(e,"is",g);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Uo.get(c)||c,ue(e,c,g))}}function z0(e,n,c,g,S,N){switch(c){case"style":qt(e,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(f(61));if(c=g.__html,c!=null){if(S.children!=null)throw Error(f(60));e.innerHTML=c}}break;case"children":typeof g=="string"?ci(e,g):(typeof g=="number"||typeof g=="bigint")&&ci(e,""+g);break;case"onScroll":g!=null&&Rn("scroll",e);break;case"onScrollEnd":g!=null&&Rn("scrollend",e);break;case"onClick":g!=null&&(e.onclick=Kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dr.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(S=c.endsWith("Capture"),n=c.slice(2,S?c.length-7:void 0),N=e[Jt]||null,N=N!=null?N[c]:null,typeof N=="function"&&e.removeEventListener(n,N,S),typeof g=="function")){typeof N!="function"&&N!==null&&(c in e?e[c]=null:e.hasAttribute(c)&&e.removeAttribute(c)),e.addEventListener(n,g,S);break e}c in e?e[c]=g:g===!0?e.setAttribute(c,""):ue(e,c,g)}}}function la(e,n,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rn("error",e),Rn("load",e);var g=!1,S=!1,N;for(N in c)if(c.hasOwnProperty(N)){var q=c[N];if(q!=null)switch(N){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:ur(e,n,N,q,c,null)}}S&&ur(e,n,"srcSet",c.srcSet,c,null),g&&ur(e,n,"src",c.src,c,null);return;case"input":Rn("invalid",e);var le=N=q=S=null,Be=null,Ge=null;for(g in c)if(c.hasOwnProperty(g)){var rt=c[g];if(rt!=null)switch(g){case"name":S=rt;break;case"type":q=rt;break;case"checked":Be=rt;break;case"defaultChecked":Ge=rt;break;case"value":N=rt;break;case"defaultValue":le=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(f(137,n));break;default:ur(e,n,g,rt,c,null)}}Fe(e,N,le,Be,Ge,q,S,!1);return;case"select":Rn("invalid",e),g=q=N=null;for(S in c)if(c.hasOwnProperty(S)&&(le=c[S],le!=null))switch(S){case"value":N=le;break;case"defaultValue":q=le;break;case"multiple":g=le;default:ur(e,n,S,le,c,null)}n=N,c=q,e.multiple=!!g,n!=null?Bt(e,!!g,n,!1):c!=null&&Bt(e,!!g,c,!0);return;case"textarea":Rn("invalid",e),N=S=g=null;for(q in c)if(c.hasOwnProperty(q)&&(le=c[q],le!=null))switch(q){case"value":g=le;break;case"defaultValue":S=le;break;case"children":N=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(f(91));break;default:ur(e,n,q,le,c,null)}Cr(e,g,S,N);return;case"option":for(Be in c)if(c.hasOwnProperty(Be)&&(g=c[Be],g!=null))switch(Be){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ur(e,n,Be,g,c,null)}return;case"dialog":Rn("beforetoggle",e),Rn("toggle",e),Rn("cancel",e),Rn("close",e);break;case"iframe":case"object":Rn("load",e);break;case"video":case"audio":for(g=0;g<nc.length;g++)Rn(nc[g],e);break;case"image":Rn("error",e),Rn("load",e);break;case"details":Rn("toggle",e);break;case"embed":case"source":case"link":Rn("error",e),Rn("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in c)if(c.hasOwnProperty(Ge)&&(g=c[Ge],g!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,n));default:ur(e,n,Ge,g,c,null)}return;default:if(er(n)){for(rt in c)c.hasOwnProperty(rt)&&(g=c[rt],g!==void 0&&z0(e,n,rt,g,c,void 0));return}}for(le in c)c.hasOwnProperty(le)&&(g=c[le],g!=null&&ur(e,n,le,g,c,null))}function rA(e,n,c,g){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,N=null,q=null,le=null,Be=null,Ge=null,rt=null;for(Xe in c){var ut=c[Xe];if(c.hasOwnProperty(Xe)&&ut!=null)switch(Xe){case"checked":break;case"value":break;case"defaultValue":Be=ut;default:g.hasOwnProperty(Xe)||ur(e,n,Xe,null,g,ut)}}for(var Ke in g){var Xe=g[Ke];if(ut=c[Ke],g.hasOwnProperty(Ke)&&(Xe!=null||ut!=null))switch(Ke){case"type":N=Xe;break;case"name":S=Xe;break;case"checked":Ge=Xe;break;case"defaultChecked":rt=Xe;break;case"value":q=Xe;break;case"defaultValue":le=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(f(137,n));break;default:Xe!==ut&&ur(e,n,Ke,Xe,g,ut)}}zn(e,q,le,Be,Ge,rt,N,S);return;case"select":Xe=q=le=Ke=null;for(N in c)if(Be=c[N],c.hasOwnProperty(N)&&Be!=null)switch(N){case"value":break;case"multiple":Xe=Be;default:g.hasOwnProperty(N)||ur(e,n,N,null,g,Be)}for(S in g)if(N=g[S],Be=c[S],g.hasOwnProperty(S)&&(N!=null||Be!=null))switch(S){case"value":Ke=N;break;case"defaultValue":le=N;break;case"multiple":q=N;default:N!==Be&&ur(e,n,S,N,g,Be)}n=le,c=q,g=Xe,Ke!=null?Bt(e,!!c,Ke,!1):!!g!=!!c&&(n!=null?Bt(e,!!c,n,!0):Bt(e,!!c,c?[]:"",!1));return;case"textarea":Xe=Ke=null;for(le in c)if(S=c[le],c.hasOwnProperty(le)&&S!=null&&!g.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:ur(e,n,le,null,g,S)}for(q in g)if(S=g[q],N=c[q],g.hasOwnProperty(q)&&(S!=null||N!=null))switch(q){case"value":Ke=S;break;case"defaultValue":Xe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(f(91));break;default:S!==N&&ur(e,n,q,S,g,N)}jn(e,Ke,Xe);return;case"option":for(var Mt in c)if(Ke=c[Mt],c.hasOwnProperty(Mt)&&Ke!=null&&!g.hasOwnProperty(Mt))switch(Mt){case"selected":e.selected=!1;break;default:ur(e,n,Mt,null,g,Ke)}for(Be in g)if(Ke=g[Be],Xe=c[Be],g.hasOwnProperty(Be)&&Ke!==Xe&&(Ke!=null||Xe!=null))switch(Be){case"selected":e.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:ur(e,n,Be,Ke,g,Xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ln in c)Ke=c[ln],c.hasOwnProperty(ln)&&Ke!=null&&!g.hasOwnProperty(ln)&&ur(e,n,ln,null,g,Ke);for(Ge in g)if(Ke=g[Ge],Xe=c[Ge],g.hasOwnProperty(Ge)&&Ke!==Xe&&(Ke!=null||Xe!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(f(137,n));break;default:ur(e,n,Ge,Ke,g,Xe)}return;default:if(er(n)){for(var fr in c)Ke=c[fr],c.hasOwnProperty(fr)&&Ke!==void 0&&!g.hasOwnProperty(fr)&&z0(e,n,fr,void 0,g,Ke);for(rt in g)Ke=g[rt],Xe=c[rt],!g.hasOwnProperty(rt)||Ke===Xe||Ke===void 0&&Xe===void 0||z0(e,n,rt,Ke,g,Xe);return}}for(var Pe in c)Ke=c[Pe],c.hasOwnProperty(Pe)&&Ke!=null&&!g.hasOwnProperty(Pe)&&ur(e,n,Pe,null,g,Ke);for(ut in g)Ke=g[ut],Xe=c[ut],!g.hasOwnProperty(ut)||Ke===Xe||Ke==null&&Xe==null||ur(e,n,ut,Ke,g,Xe)}function Lp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,c=performance.getEntriesByType("resource"),g=0;g<c.length;g++){var S=c[g],N=S.transferSize,q=S.initiatorType,le=S.duration;if(N&&le&&Lp(q)){for(q=0,le=S.responseEnd,g+=1;g<c.length;g++){var Be=c[g],Ge=Be.startTime;if(Ge>le)break;var rt=Be.transferSize,ut=Be.initiatorType;rt&&Lp(ut)&&(Be=Be.responseEnd,q+=rt*(Be<le?1:(le-Ge)/(Be-Ge)))}if(--g,n+=8*(N+q)/(S.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var q0=null,Y0=null;function bu(e){return e.nodeType===9?e:e.ownerDocument}function Up(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function X0(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Z0=null;function iA(){var e=window.event;return e&&e.type==="popstate"?e===Z0?!1:(Z0=e,!0):(Z0=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,sA=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(e){return Vp.resolve(null).then(e).catch(lA)}:Pp;function lA(e){setTimeout(function(){throw e})}function js(e){return e==="head"}function Qp(e,n){var c=n,g=0;do{var S=c.nextSibling;if(e.removeChild(c),S&&S.nodeType===8)if(c=S.data,c==="/$"||c==="/&"){if(g===0){e.removeChild(S),ul(n);return}g--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")g++;else if(c==="html")ac(e.ownerDocument.documentElement);else if(c==="head"){c=e.ownerDocument.head,ac(c);for(var N=c.firstChild;N;){var q=N.nextSibling,le=N.nodeName;N[na]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&N.rel.toLowerCase()==="stylesheet"||c.removeChild(N),N=q}}else c==="body"&&ac(e.ownerDocument.body);c=S}while(c);ul(n)}function Hp(e,n){var c=e;e=0;do{var g=c.nextSibling;if(c.nodeType===1?n?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(n?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(e===0)break;e--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||e++;c=g}while(c)}function W0(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var c=n;switch(n=n.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":W0(c),Gr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}e.removeChild(c)}}function cA(e,n,c,g){for(;e.nodeType===1;){var S=c;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!g&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(g){if(!e[na])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(N=e.getAttribute("rel"),N==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(N!==S.rel||e.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||e.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||e.getAttribute("title")!==(S.title==null?null:S.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(N=e.getAttribute("src"),(N!==(S.src==null?null:S.src)||e.getAttribute("type")!==(S.type==null?null:S.type)||e.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&N&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var N=S.name==null?null:""+S.name;if(S.type==="hidden"&&e.getAttribute("name")===N)return e}else return e;if(e=ii(e.nextSibling),e===null)break}return null}function uA(e,n,c){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!c||(e=ii(e.nextSibling),e===null))return null;return e}function Gp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ii(e.nextSibling),e===null))return null;return e}function J0(e){return e.data==="$?"||e.data==="$~"}function $0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fA(e,n){var c=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||c.readyState!=="loading")n();else{var g=function(){n(),c.removeEventListener("DOMContentLoaded",g)};c.addEventListener("DOMContentLoaded",g),e._reactRetry=g}}function ii(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ed=null;function jp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var c=e.data;if(c==="/$"||c==="/&"){if(n===0)return ii(e.nextSibling);n--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||n++}e=e.nextSibling}return null}function Kp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var c=e.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(n===0)return e;n--}else c!=="/$"&&c!=="/&"||n++}e=e.previousSibling}return null}function zp(e,n,c){switch(n=bu(c),e){case"html":if(e=n.documentElement,!e)throw Error(f(452));return e;case"head":if(e=n.head,!e)throw Error(f(453));return e;case"body":if(e=n.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function ac(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Gr(e)}var si=new Map,qp=new Set;function wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=ve.d;ve.d={f:dA,r:hA,D:gA,C:pA,L:yA,m:mA,X:vA,S:xA,M:AA};function dA(){var e=os.f(),n=gu();return e||n}function hA(e){var n=$t(e);n!==null&&n.tag===5&&n.type==="form"?ug(n):os.r(e)}var ol=typeof document>"u"?null:document;function Yp(e,n,c){var g=ol;if(g&&typeof n=="string"&&n){var S=en(n);S='link[rel="'+e+'"][href="'+S+'"]',typeof c=="string"&&(S+='[crossorigin="'+c+'"]'),qp.has(S)||(qp.add(S),e={rel:e,crossOrigin:c,href:n},g.querySelector(S)===null&&(n=g.createElement("link"),la(n,"link",e),hr(n),g.head.appendChild(n)))}}function gA(e){os.D(e),Yp("dns-prefetch",e,null)}function pA(e,n){os.C(e,n),Yp("preconnect",e,n)}function yA(e,n,c){os.L(e,n,c);var g=ol;if(g&&e&&n){var S='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&c&&c.imageSrcSet?(S+='[imagesrcset="'+en(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(S+='[imagesizes="'+en(c.imageSizes)+'"]')):S+='[href="'+en(e)+'"]';var N=S;switch(n){case"style":N=ll(e);break;case"script":N=cl(e)}si.has(N)||(e=R({rel:"preload",href:n==="image"&&c&&c.imageSrcSet?void 0:e,as:n},c),si.set(N,e),g.querySelector(S)!==null||n==="style"&&g.querySelector(ic(N))||n==="script"&&g.querySelector(sc(N))||(n=g.createElement("link"),la(n,"link",e),hr(n),g.head.appendChild(n)))}}function mA(e,n){os.m(e,n);var c=ol;if(c&&e){var g=n&&typeof n.as=="string"?n.as:"script",S='link[rel="modulepreload"][as="'+en(g)+'"][href="'+en(e)+'"]',N=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=cl(e)}if(!si.has(N)&&(e=R({rel:"modulepreload",href:e},n),si.set(N,e),c.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(sc(N)))return}g=c.createElement("link"),la(g,"link",e),hr(g),c.head.appendChild(g)}}}function xA(e,n,c){os.S(e,n,c);var g=ol;if(g&&e){var S=dr(g).hoistableStyles,N=ll(e);n=n||"default";var q=S.get(N);if(!q){var le={loading:0,preload:null};if(q=g.querySelector(ic(N)))le.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},c),(c=si.get(N))&&td(e,c);var Be=q=g.createElement("link");hr(Be),la(Be,"link",e),Be._p=new Promise(function(Ge,rt){Be.onload=Ge,Be.onerror=rt}),Be.addEventListener("load",function(){le.loading|=1}),Be.addEventListener("error",function(){le.loading|=2}),le.loading|=4,Eu(q,n,g)}q={type:"stylesheet",instance:q,count:1,state:le},S.set(N,q)}}}function vA(e,n){os.X(e,n);var c=ol;if(c&&e){var g=dr(c).hoistableScripts,S=cl(e),N=g.get(S);N||(N=c.querySelector(sc(S)),N||(e=R({src:e,async:!0},n),(n=si.get(S))&&nd(e,n),N=c.createElement("script"),hr(N),la(N,"link",e),c.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(S,N))}}function AA(e,n){os.M(e,n);var c=ol;if(c&&e){var g=dr(c).hoistableScripts,S=cl(e),N=g.get(S);N||(N=c.querySelector(sc(S)),N||(e=R({src:e,async:!0,type:"module"},n),(n=si.get(S))&&nd(e,n),N=c.createElement("script"),hr(N),la(N,"link",e),c.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(S,N))}}function Xp(e,n,c,g){var S=(S=Ne.current)?wu(S):null;if(!S)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(n=ll(c.href),c=dr(S).hoistableStyles,g=c.get(n),g||(g={type:"style",instance:null,count:0,state:null},c.set(n,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){e=ll(c.href);var N=dr(S).hoistableStyles,q=N.get(e);if(q||(S=S.ownerDocument||S,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(e,q),(N=S.querySelector(ic(e)))&&!N._p&&(q.instance=N,q.state.loading=5),si.has(e)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},si.set(e,c),N||CA(S,e,c,q.state))),n&&g===null)throw Error(f(528,""));return q}if(n&&g!==null)throw Error(f(529,""));return null;case"script":return n=c.async,c=c.src,typeof c=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cl(c),c=dr(S).hoistableScripts,g=c.get(n),g||(g={type:"script",instance:null,count:0,state:null},c.set(n,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function ll(e){return'href="'+en(e)+'"'}function ic(e){return'link[rel="stylesheet"]['+e+"]"}function Zp(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function CA(e,n,c,g){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?g.loading=1:(n=e.createElement("link"),g.preload=n,n.addEventListener("load",function(){return g.loading|=1}),n.addEventListener("error",function(){return g.loading|=2}),la(n,"link",c),hr(n),e.head.appendChild(n))}function cl(e){return'[src="'+en(e)+'"]'}function sc(e){return"script[async]"+e}function Wp(e,n,c){if(n.count++,n.instance===null)switch(n.type){case"style":var g=e.querySelector('style[data-href~="'+en(c.href)+'"]');if(g)return n.instance=g,hr(g),g;var S=R({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return g=(e.ownerDocument||e).createElement("style"),hr(g),la(g,"style",S),Eu(g,c.precedence,e),n.instance=g;case"stylesheet":S=ll(c.href);var N=e.querySelector(ic(S));if(N)return n.state.loading|=4,n.instance=N,hr(N),N;g=Zp(c),(S=si.get(S))&&td(g,S),N=(e.ownerDocument||e).createElement("link"),hr(N);var q=N;return q._p=new Promise(function(le,Be){q.onload=le,q.onerror=Be}),la(N,"link",g),n.state.loading|=4,Eu(N,c.precedence,e),n.instance=N;case"script":return N=cl(c.src),(S=e.querySelector(sc(N)))?(n.instance=S,hr(S),S):(g=c,(S=si.get(N))&&(g=R({},c),nd(g,S)),e=e.ownerDocument||e,S=e.createElement("script"),hr(S),la(S,"link",g),e.head.appendChild(S),n.instance=S);case"void":return null;default:throw Error(f(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(g=n.instance,n.state.loading|=4,Eu(g,c.precedence,e));return n.instance}function Eu(e,n,c){for(var g=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,N=S,q=0;q<g.length;q++){var le=g[q];if(le.dataset.precedence===n)N=le;else if(N!==S)break}N?N.parentNode.insertBefore(e,N.nextSibling):(n=c.nodeType===9?c.head:c,n.insertBefore(e,n.firstChild))}function td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Iu=null;function Jp(e,n,c){if(Iu===null){var g=new Map,S=Iu=new Map;S.set(c,g)}else S=Iu,g=S.get(c),g||(g=new Map,S.set(c,g));if(g.has(e))return g;for(g.set(e,null),c=c.getElementsByTagName(e),S=0;S<c.length;S++){var N=c[S];if(!(N[na]||N[fn]||e==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var q=N.getAttribute(n)||"";q=e+q;var le=g.get(q);le?le.push(N):g.set(q,[N])}}return g}function $p(e,n,c){e=e.ownerDocument||e,e.head.insertBefore(c,n==="title"?e.querySelector("head > title"):null)}function bA(e,n,c){if(c===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function wA(e,n,c,g){if(c.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var S=ll(g.href),N=n.querySelector(ic(S));if(N){n=N._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Su.bind(e),n.then(e,e)),c.state.loading|=4,c.instance=N,hr(N);return}N=n.ownerDocument||n,g=Zp(g),(S=si.get(S))&&td(g,S),N=N.createElement("link"),hr(N);var q=N;q._p=new Promise(function(le,Be){q.onload=le,q.onerror=Be}),la(N,"link",g),c.instance=N}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(c,n),(n=c.state.preload)&&(c.state.loading&3)===0&&(e.count++,c=Su.bind(e),n.addEventListener("load",c),n.addEventListener("error",c))}}var rd=0;function EA(e,n){return e.stylesheets&&e.count===0&&Bu(e,e.stylesheets),0<e.count||0<e.imgCount?function(c){var g=setTimeout(function(){if(e.stylesheets&&Bu(e,e.stylesheets),e.unsuspend){var N=e.unsuspend;e.unsuspend=null,N()}},6e4+n);0<e.imgBytes&&rd===0&&(rd=62500*aA());var S=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bu(e,e.stylesheets),e.unsuspend)){var N=e.unsuspend;e.unsuspend=null,N()}},(e.imgBytes>rd?50:800)+n);return e.unsuspend=c,function(){e.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function Su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tu=null;function Bu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tu=new Map,n.forEach(IA,e),Tu=null,Su.call(e))}function IA(e,n){if(!(n.state.loading&4)){var c=Tu.get(e);if(c)var g=c.get(null);else{c=new Map,Tu.set(e,c);for(var S=e.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<S.length;N++){var q=S[N];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(c.set(q.dataset.precedence,q),g=q)}g&&c.set(null,g)}S=n.instance,q=S.getAttribute("data-precedence"),N=c.get(q)||g,N===g&&c.set(null,S),c.set(q,S),this.count++,g=Su.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),N?N.parentNode.insertBefore(S,N.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(S,e.firstChild)),n.state.loading|=4}}var oc={$$typeof:U,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function SA(e,n,c,g,S,N,q,le,Be){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.hiddenUpdates=_t(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=N,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function ty(e,n,c,g,S,N,q,le,Be,Ge,rt,ut){return e=new SA(e,n,c,q,Be,Ge,rt,ut,le),n=1,N===!0&&(n|=24),N=ja(3,null,null,n),e.current=N,N.stateNode=e,n=Lf(),n.refCount++,e.pooledCache=n,n.refCount++,N.memoizedState={element:g,isDehydrated:c,cache:n},Vf(N),e}function ny(e){return e?(e=Vo,e):Vo}function ry(e,n,c,g,S,N){S=ny(S),g.context===null?g.context=S:g.pendingContext=S,g=Os(n),g.payload={element:c},N=N===void 0?null:N,N!==null&&(g.callback=N),c=ks(e,g,n),c!==null&&(Oa(c,e,n),Pl(c,e,n))}function ay(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var c=e.retryLane;e.retryLane=c!==0&&c<n?c:n}}function ad(e,n){ay(e,n),(e=e.alternate)&&ay(e,n)}function iy(e){if(e.tag===13||e.tag===31){var n=$n(e,67108864);n!==null&&Oa(n,e,67108864),ad(e,67108864)}}function sy(e){if(e.tag===13||e.tag===31){var n=Xa();n=sn(n);var c=$n(e,n);c!==null&&Oa(c,e,n),ad(e,n)}}var Nu=!0;function TA(e,n,c,g){var S=he.T;he.T=null;var N=ve.p;try{ve.p=2,id(e,n,c,g)}finally{ve.p=N,he.T=S}}function BA(e,n,c,g){var S=he.T;he.T=null;var N=ve.p;try{ve.p=8,id(e,n,c,g)}finally{ve.p=N,he.T=S}}function id(e,n,c,g){if(Nu){var S=sd(g);if(S===null)K0(e,n,g,_u,c),ly(e,g);else if(_A(S,e,n,c,g))g.stopPropagation();else if(ly(e,g),n&4&&-1<NA.indexOf(e)){for(;S!==null;){var N=$t(S);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var q=On(N.pendingLanes);if(q!==0){var le=N;for(le.pendingLanes|=2,le.entangledLanes|=2;q;){var Be=1<<31-we(q);le.entanglements[1]|=Be,q&=~Be}Ri(N),(Jn&6)===0&&(du=Kt()+500,tc(0))}}break;case 31:case 13:le=$n(N,2),le!==null&&Oa(le,N,2),gu(),ad(N,2)}if(N=sd(g),N===null&&K0(e,n,g,_u,c),N===S)break;S=N}S!==null&&g.stopPropagation()}else K0(e,n,g,null,c)}}function sd(e){return e=ms(e),od(e)}var _u=null;function od(e){if(_u=null,e=ir(e),e!==null){var n=m(e);if(n===null)e=null;else{var c=n.tag;if(c===13){if(e=A(n),e!==null)return e;e=null}else if(c===31){if(e=p(n),e!==null)return e;e=null}else if(c===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _u=e,null}function oy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(An()){case Ht:return 2;case rn:return 8;case nn:case Vt:return 32;case wn:return 268435456;default:return 32}default:return 32}}var ld=!1,Ks=null,zs=null,qs=null,lc=new Map,cc=new Map,Ys=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":lc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(n.pointerId)}}function uc(e,n,c,g,S,N){return e===null||e.nativeEvent!==N?(e={blockedOn:n,domEventName:c,eventSystemFlags:g,nativeEvent:N,targetContainers:[S]},n!==null&&(n=$t(n),n!==null&&iy(n)),e):(e.eventSystemFlags|=g,n=e.targetContainers,S!==null&&n.indexOf(S)===-1&&n.push(S),e)}function _A(e,n,c,g,S){switch(n){case"focusin":return Ks=uc(Ks,e,n,c,g,S),!0;case"dragenter":return zs=uc(zs,e,n,c,g,S),!0;case"mouseover":return qs=uc(qs,e,n,c,g,S),!0;case"pointerover":var N=S.pointerId;return lc.set(N,uc(lc.get(N)||null,e,n,c,g,S)),!0;case"gotpointercapture":return N=S.pointerId,cc.set(N,uc(cc.get(N)||null,e,n,c,g,S)),!0}return!1}function cy(e){var n=ir(e.target);if(n!==null){var c=m(n);if(c!==null){if(n=c.tag,n===13){if(n=A(c),n!==null){e.blockedOn=n,ht(e.priority,function(){sy(c)});return}}else if(n===31){if(n=p(c),n!==null){e.blockedOn=n,ht(e.priority,function(){sy(c)});return}}else if(n===3&&c.stateNode.current.memoizedState.isDehydrated){e.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Du(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var c=sd(e.nativeEvent);if(c===null){c=e.nativeEvent;var g=new c.constructor(c.type,c);ca=g,c.target.dispatchEvent(g),ca=null}else return n=$t(c),n!==null&&iy(n),e.blockedOn=c,!1;n.shift()}return!0}function uy(e,n,c){Du(e)&&c.delete(n)}function DA(){ld=!1,Ks!==null&&Du(Ks)&&(Ks=null),zs!==null&&Du(zs)&&(zs=null),qs!==null&&Du(qs)&&(qs=null),lc.forEach(uy),cc.forEach(uy)}function Ru(e,n){e.blockedOn===n&&(e.blockedOn=null,ld||(ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DA)))}var Ou=null;function fy(e){Ou!==e&&(Ou=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ou===e&&(Ou=null);for(var n=0;n<e.length;n+=3){var c=e[n],g=e[n+1],S=e[n+2];if(typeof g!="function"){if(od(g||c)===null)continue;break}var N=$t(c);N!==null&&(e.splice(n,3),n-=3,s0(N,{pending:!0,data:S,method:c.method,action:g},g,S))}}))}function ul(e){function n(Be){return Ru(Be,e)}Ks!==null&&Ru(Ks,e),zs!==null&&Ru(zs,e),qs!==null&&Ru(qs,e),lc.forEach(n),cc.forEach(n);for(var c=0;c<Ys.length;c++){var g=Ys[c];g.blockedOn===e&&(g.blockedOn=null)}for(;0<Ys.length&&(c=Ys[0],c.blockedOn===null);)cy(c),c.blockedOn===null&&Ys.shift();if(c=(e.ownerDocument||e).$$reactFormReplay,c!=null)for(g=0;g<c.length;g+=3){var S=c[g],N=c[g+1],q=S[Jt]||null;if(typeof N=="function")q||fy(c);else if(q){var le=null;if(N&&N.hasAttribute("formAction")){if(S=N,q=N[Jt]||null)le=q.formAction;else if(od(S)!==null)continue}else le=q.action;typeof le=="function"?c[g+1]=le:(c.splice(g,3),g-=3),fy(c)}}}function dy(){function e(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(q){return S=q})},focusReset:"manual",scroll:"manual"})}function n(){S!==null&&(S(),S=null),g||setTimeout(c,20)}function c(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(c,100),function(){g=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),S!==null&&(S(),S=null)}}}function cd(e){this._internalRoot=e}ku.prototype.render=cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(f(409));var c=n.current,g=Xa();ry(c,g,e,n,null,null)},ku.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ry(e.current,2,null,e,null,null),gu(),n[Ar]=null}};function ku(e){this._internalRoot=e}ku.prototype.unstable_scheduleHydration=function(e){if(e){var n=cn();e={blockedOn:null,target:e,priority:n};for(var c=0;c<Ys.length&&n!==0&&n<Ys[c].priority;c++);Ys.splice(c,0,e),c===0&&cy(e)}};var hy=a.version;if(hy!=="19.2.4")throw Error(f(527,hy,"19.2.4"));ve.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=C(n),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var RA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Gt=Mu.inject(RA),at=Mu}catch{}}return dc.createRoot=function(e,n){if(!v(e))throw Error(f(299));var c=!1,g="",S=Ag,N=Cg,q=bg;return n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onUncaughtError!==void 0&&(S=n.onUncaughtError),n.onCaughtError!==void 0&&(N=n.onCaughtError),n.onRecoverableError!==void 0&&(q=n.onRecoverableError)),n=ty(e,1,!1,null,null,c,g,null,S,N,q,dy),e[Ar]=n.current,j0(e),new cd(n)},dc.hydrateRoot=function(e,n,c){if(!v(e))throw Error(f(299));var g=!1,S="",N=Ag,q=Cg,le=bg,Be=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(N=c.onUncaughtError),c.onCaughtError!==void 0&&(q=c.onCaughtError),c.onRecoverableError!==void 0&&(le=c.onRecoverableError),c.formState!==void 0&&(Be=c.formState)),n=ty(e,1,!0,n,c??null,g,S,Be,N,q,le,dy),n.context=ny(null),c=n.current,g=Xa(),g=sn(g),S=Os(g),S.callback=null,ks(c,S,g),c=g,n.current.lanes=c,kt(n,c),Ri(n),e[Ar]=n.current,j0(e),new ku(n)},dc.version="19.2.4",dc}var wy;function HA(){if(wy)return dd.exports;wy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),dd.exports=QA(),dd.exports}var GA=HA();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ey="popstate";function Iy(r){return typeof r=="object"&&r!=null&&"pathname"in r&&"search"in r&&"hash"in r&&"state"in r&&"key"in r}function jA(r={}){function a(f,v){var C;let m=(C=v.state)==null?void 0:C.masked,{pathname:A,search:p,hash:w}=m||f.location;return ph("",{pathname:A,search:p,hash:w},v.state&&v.state.usr||null,v.state&&v.state.key||"default",m?{pathname:f.location.pathname,search:f.location.search,hash:f.location.hash}:void 0)}function s(f,v){return typeof v=="string"?v:Ec(v)}return zA(a,s,null,r)}function wr(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function mi(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function KA(){return Math.random().toString(36).substring(2,10)}function Sy(r,a){return{usr:r.state,key:r.key,idx:a,masked:r.unstable_mask?{pathname:r.pathname,search:r.search,hash:r.hash}:void 0}}function ph(r,a,s=null,f,v){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?El(a):a,state:s,key:a&&a.key||f||KA(),unstable_mask:v}}function Ec({pathname:r="/",search:a="",hash:s=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function El(r){let a={};if(r){let s=r.indexOf("#");s>=0&&(a.hash=r.substring(s),r=r.substring(0,s));let f=r.indexOf("?");f>=0&&(a.search=r.substring(f),r=r.substring(0,f)),r&&(a.pathname=r)}return a}function zA(r,a,s,f={}){let{window:v=document.defaultView,v5Compat:m=!1}=f,A=v.history,p="POP",w=null,C=D();C==null&&(C=0,A.replaceState({...A.state,idx:C},""));function D(){return(A.state||{idx:null}).idx}function R(){p="POP";let H=D(),T=H==null?null:H-C;C=H,w&&w({action:p,location:P.location,delta:T})}function L(H,T){p="PUSH";let F=Iy(H)?H:ph(P.location,H,T);C=D()+1;let U=Sy(F,C),K=P.createHref(F.unstable_mask||F);try{A.pushState(U,"",K)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;v.location.assign(K)}m&&w&&w({action:p,location:P.location,delta:1})}function _(H,T){p="REPLACE";let F=Iy(H)?H:ph(P.location,H,T);C=D();let U=Sy(F,C),K=P.createHref(F.unstable_mask||F);A.replaceState(U,"",K),m&&w&&w({action:p,location:P.location,delta:0})}function V(H){return qA(H)}let P={get action(){return p},get location(){return r(v,A)},listen(H){if(w)throw new Error("A history only accepts one active listener");return v.addEventListener(Ey,R),w=H,()=>{v.removeEventListener(Ey,R),w=null}},createHref(H){return a(v,H)},createURL:V,encodeLocation(H){let T=V(H);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:L,replace:_,go(H){return A.go(H)}};return P}function qA(r,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),wr(s,"No window.location.(origin|href) available to create URL");let f=typeof r=="string"?r:Ec(r);return f=f.replace(/ $/,"%20"),!a&&f.startsWith("//")&&(f=s+f),new URL(f,s)}function v2(r,a,s="/"){return YA(r,a,s,!1)}function YA(r,a,s,f){let v=typeof a=="string"?El(a):a,m=gs(v.pathname||"/",s);if(m==null)return null;let A=A2(r);XA(A);let p=null;for(let w=0;p==null&&w<A.length;++w){let C=sC(m);p=aC(A[w],C,f)}return p}function A2(r,a=[],s=[],f="",v=!1){let m=(A,p,w=v,C)=>{let D={relativePath:C===void 0?A.path||"":C,caseSensitive:A.caseSensitive===!0,childrenIndex:p,route:A};if(D.relativePath.startsWith("/")){if(!D.relativePath.startsWith(f)&&w)return;wr(D.relativePath.startsWith(f),`Absolute route path "${D.relativePath}" nested under path "${f}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),D.relativePath=D.relativePath.slice(f.length)}let R=Li([f,D.relativePath]),L=s.concat(D);A.children&&A.children.length>0&&(wr(A.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),A2(A.children,a,L,R,w)),!(A.path==null&&!A.index)&&a.push({path:R,score:nC(R,A.index),routesMeta:L})};return r.forEach((A,p)=>{var w;if(A.path===""||!((w=A.path)!=null&&w.includes("?")))m(A,p);else for(let C of C2(A.path))m(A,p,!0,C)}),a}function C2(r){let a=r.split("/");if(a.length===0)return[];let[s,...f]=a,v=s.endsWith("?"),m=s.replace(/\?$/,"");if(f.length===0)return v?[m,""]:[m];let A=C2(f.join("/")),p=[];return p.push(...A.map(w=>w===""?m:[m,w].join("/"))),v&&p.push(...A),p.map(w=>r.startsWith("/")&&w===""?"/":w)}function XA(r){r.sort((a,s)=>a.score!==s.score?s.score-a.score:rC(a.routesMeta.map(f=>f.childrenIndex),s.routesMeta.map(f=>f.childrenIndex)))}var ZA=/^:[\w-]+$/,WA=3,JA=2,$A=1,eC=10,tC=-2,Ty=r=>r==="*";function nC(r,a){let s=r.split("/"),f=s.length;return s.some(Ty)&&(f+=tC),a&&(f+=JA),s.filter(v=>!Ty(v)).reduce((v,m)=>v+(ZA.test(m)?WA:m===""?$A:eC),f)}function rC(r,a){return r.length===a.length&&r.slice(0,-1).every((f,v)=>f===a[v])?r[r.length-1]-a[a.length-1]:0}function aC(r,a,s=!1){let{routesMeta:f}=r,v={},m="/",A=[];for(let p=0;p<f.length;++p){let w=f[p],C=p===f.length-1,D=m==="/"?a:a.slice(m.length)||"/",R=$u({path:w.relativePath,caseSensitive:w.caseSensitive,end:C},D),L=w.route;if(!R&&C&&s&&!f[f.length-1].route.index&&(R=$u({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},D)),!R)return null;Object.assign(v,R.params),A.push({params:v,pathname:Li([m,R.pathname]),pathnameBase:uC(Li([m,R.pathnameBase])),route:L}),R.pathnameBase!=="/"&&(m=Li([m,R.pathnameBase]))}return A}function $u(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,f]=iC(r.path,r.caseSensitive,r.end),v=a.match(s);if(!v)return null;let m=v[0],A=m.replace(/(.)\/+$/,"$1"),p=v.slice(1);return{params:f.reduce((C,{paramName:D,isOptional:R},L)=>{if(D==="*"){let V=p[L]||"";A=m.slice(0,m.length-V.length).replace(/(.)\/+$/,"$1")}const _=p[L];return R&&!_?C[D]=void 0:C[D]=(_||"").replace(/%2F/g,"/"),C},{}),pathname:m,pathnameBase:A,pattern:r}}function iC(r,a=!1,s=!0){mi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let f=[],v="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,p,w,C,D)=>{if(f.push({paramName:p,isOptional:w!=null}),w){let R=D.charAt(C+A.length);return R&&R!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(f.push({paramName:"*"}),v+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?v+="\\/*$":r!==""&&r!=="/"&&(v+="(?:(?=\\/|$))"),[new RegExp(v,a?void 0:"i"),f]}function sC(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return mi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function gs(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,f=r.charAt(s);return f&&f!=="/"?null:r.slice(s)||"/"}var oC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function lC(r,a="/"){let{pathname:s,search:f="",hash:v=""}=typeof r=="string"?El(r):r,m;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?m=By(s.substring(1),"/"):m=By(s,a)):m=a,{pathname:m,search:fC(f),hash:dC(v)}}function By(r,a){let s=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(v=>{v===".."?s.length>1&&s.pop():v!=="."&&s.push(v)}),s.length>1?s.join("/"):"/"}function yd(r,a,s,f){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(f)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cC(r){return r.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Uh(r){let a=cC(r);return a.map((s,f)=>f===a.length-1?s.pathname:s.pathnameBase)}function uf(r,a,s,f=!1){let v;typeof r=="string"?v=El(r):(v={...r},wr(!v.pathname||!v.pathname.includes("?"),yd("?","pathname","search",v)),wr(!v.pathname||!v.pathname.includes("#"),yd("#","pathname","hash",v)),wr(!v.search||!v.search.includes("#"),yd("#","search","hash",v)));let m=r===""||v.pathname==="",A=m?"/":v.pathname,p;if(A==null)p=s;else{let R=a.length-1;if(!f&&A.startsWith("..")){let L=A.split("/");for(;L[0]==="..";)L.shift(),R-=1;v.pathname=L.join("/")}p=R>=0?a[R]:"/"}let w=lC(v,p),C=A&&A!=="/"&&A.endsWith("/"),D=(m||A===".")&&s.endsWith("/");return!w.pathname.endsWith("/")&&(C||D)&&(w.pathname+="/"),w}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),uC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),fC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,dC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,hC=class{constructor(r,a,s,f=!1){this.status=r,this.statusText=a||"",this.internal=f,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function gC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function pC(r){return r.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var b2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function w2(r,a){let s=r;if(typeof s!="string"||!oC.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let f=s,v=!1;if(b2)try{let m=new URL(window.location.href),A=s.startsWith("//")?new URL(m.protocol+s):new URL(s),p=gs(A.pathname,a);A.origin===m.origin&&p!=null?s=p+A.search+A.hash:v=!0}catch{mi(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:f,isExternal:v,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var E2=["POST","PUT","PATCH","DELETE"];new Set(E2);var yC=["GET",...E2];new Set(yC);var Il=ae.createContext(null);Il.displayName="DataRouter";var ff=ae.createContext(null);ff.displayName="DataRouterState";var mC=ae.createContext(!1),I2=ae.createContext({isTransitioning:!1});I2.displayName="ViewTransition";var xC=ae.createContext(new Map);xC.displayName="Fetchers";var vC=ae.createContext(null);vC.displayName="Await";var Wa=ae.createContext(null);Wa.displayName="Navigation";var Dc=ae.createContext(null);Dc.displayName="Location";var vi=ae.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var Fh=ae.createContext(null);Fh.displayName="RouteError";var S2="REACT_ROUTER_ERROR",AC="REDIRECT",CC="ROUTE_ERROR_RESPONSE";function bC(r){if(r.startsWith(`${S2}:${AC}:{`))try{let a=JSON.parse(r.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function wC(r){if(r.startsWith(`${S2}:${CC}:{`))try{let a=JSON.parse(r.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new hC(a.status,a.statusText,a.data)}catch{}}function EC(r,{relative:a}={}){wr(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:f}=ae.useContext(Wa),{hash:v,pathname:m,search:A}=Rc(r,{relative:a}),p=m;return s!=="/"&&(p=m==="/"?s:Li([s,m])),f.createHref({pathname:p,search:A,hash:v})}function Sl(){return ae.useContext(Dc)!=null}function ps(){return wr(Sl(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(Dc).location}var T2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B2(r){ae.useContext(Wa).static||ae.useLayoutEffect(r)}function N2(){let{isDataRoute:r}=ae.useContext(vi);return r?PC():IC()}function IC(){wr(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let r=ae.useContext(Il),{basename:a,navigator:s}=ae.useContext(Wa),{matches:f}=ae.useContext(vi),{pathname:v}=ps(),m=JSON.stringify(Uh(f)),A=ae.useRef(!1);return B2(()=>{A.current=!0}),ae.useCallback((w,C={})=>{if(mi(A.current,T2),!A.current)return;if(typeof w=="number"){s.go(w);return}let D=uf(w,JSON.parse(m),v,C.relative==="path");r==null&&a!=="/"&&(D.pathname=D.pathname==="/"?a:Li([a,D.pathname])),(C.replace?s.replace:s.push)(D,C.state,C)},[a,s,m,v,r])}var SC=ae.createContext(null);function TC(r){let a=ae.useContext(vi).outlet;return ae.useMemo(()=>a&&ae.createElement(SC.Provider,{value:r},a),[a,r])}function Rc(r,{relative:a}={}){let{matches:s}=ae.useContext(vi),{pathname:f}=ps(),v=JSON.stringify(Uh(s));return ae.useMemo(()=>uf(r,JSON.parse(v),f,a==="path"),[r,v,f,a])}function BC(r,a){return _2(r,a)}function _2(r,a,s){var H;wr(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=ae.useContext(Wa),{matches:v}=ae.useContext(vi),m=v[v.length-1],A=m?m.params:{},p=m?m.pathname:"/",w=m?m.pathnameBase:"/",C=m&&m.route;{let T=C&&C.path||"";R2(p,!C||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let D=ps(),R;if(a){let T=typeof a=="string"?El(a):a;wr(w==="/"||((H=T.pathname)==null?void 0:H.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${T.pathname}" was given in the \`location\` prop.`),R=T}else R=D;let L=R.pathname||"/",_=L;if(w!=="/"){let T=w.replace(/^\//,"").split("/");_="/"+L.replace(/^\//,"").split("/").slice(T.length).join("/")}let V=v2(r,{pathname:_});mi(C||V!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),mi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=OC(V&&V.map(T=>Object.assign({},T,{params:Object.assign({},A,T.params),pathname:Li([w,f.encodeLocation?f.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?w:Li([w,f.encodeLocation?f.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),v,s);return a&&P?ae.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...R},navigationType:"POP"}},P):P}function NC(){let r=FC(),a=gC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,f="rgba(200,200,200, 0.5)",v={padding:"0.5rem",backgroundColor:f},m={padding:"2px 4px",backgroundColor:f},A=null;return console.error("Error handled by React Router default ErrorBoundary:",r),A=ae.createElement(ae.Fragment,null,ae.createElement("p",null," Hey developer "),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:m},"ErrorBoundary")," or"," ",ae.createElement("code",{style:m},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},a),s?ae.createElement("pre",{style:v},s):null,A)}var _C=ae.createElement(NC,null),D2=class extends ae.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.onError?this.props.onError(r,a):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const s=wC(r.digest);s&&(r=s)}let a=r!==void 0?ae.createElement(vi.Provider,{value:this.props.routeContext},ae.createElement(Fh.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?ae.createElement(DC,{error:r},a):a}};D2.contextType=mC;var md=new WeakMap;function DC({children:r,error:a}){let{basename:s}=ae.useContext(Wa);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let f=bC(a.digest);if(f){let v=md.get(a);if(v)throw v;let m=w2(f.location,s);if(b2&&!md.get(a))if(m.isExternal||f.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const A=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:f.replace}));throw md.set(a,A),A}return ae.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return r}function RC({routeContext:r,match:a,children:s}){let f=ae.useContext(Il);return f&&f.static&&f.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=a.route.id),ae.createElement(vi.Provider,{value:r},s)}function OC(r,a=[],s){let f=s==null?void 0:s.state;if(r==null){if(!f)return null;if(f.errors)r=f.matches;else if(a.length===0&&!f.initialized&&f.matches.length>0)r=f.matches;else return null}let v=r,m=f==null?void 0:f.errors;if(m!=null){let D=v.findIndex(R=>R.route.id&&(m==null?void 0:m[R.route.id])!==void 0);wr(D>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),v=v.slice(0,Math.min(v.length,D+1))}let A=!1,p=-1;if(s&&f){A=f.renderFallback;for(let D=0;D<v.length;D++){let R=v[D];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(p=D),R.route.id){let{loaderData:L,errors:_}=f,V=R.route.loader&&!L.hasOwnProperty(R.route.id)&&(!_||_[R.route.id]===void 0);if(R.route.lazy||V){s.isStatic&&(A=!0),p>=0?v=v.slice(0,p+1):v=[v[0]];break}}}}let w=s==null?void 0:s.onError,C=f&&w?(D,R)=>{var L,_;w(D,{location:f.location,params:((_=(L=f.matches)==null?void 0:L[0])==null?void 0:_.params)??{},unstable_pattern:pC(f.matches),errorInfo:R})}:void 0;return v.reduceRight((D,R,L)=>{let _,V=!1,P=null,H=null;f&&(_=m&&R.route.id?m[R.route.id]:void 0,P=R.route.errorElement||_C,A&&(p<0&&L===0?(R2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,H=null):p===L&&(V=!0,H=R.route.hydrateFallbackElement||null)));let T=a.concat(v.slice(0,L+1)),F=()=>{let U;return _?U=P:V?U=H:R.route.Component?U=ae.createElement(R.route.Component,null):R.route.element?U=R.route.element:U=D,ae.createElement(RC,{match:R,routeContext:{outlet:D,matches:T,isDataRoute:f!=null},children:U})};return f&&(R.route.ErrorBoundary||R.route.errorElement||L===0)?ae.createElement(D2,{location:f.location,revalidation:f.revalidation,component:P,error:_,children:F(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:C}):F()},null)}function Ph(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kC(r){let a=ae.useContext(Il);return wr(a,Ph(r)),a}function MC(r){let a=ae.useContext(ff);return wr(a,Ph(r)),a}function LC(r){let a=ae.useContext(vi);return wr(a,Ph(r)),a}function Vh(r){let a=LC(r),s=a.matches[a.matches.length-1];return wr(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function UC(){return Vh("useRouteId")}function FC(){var f;let r=ae.useContext(Fh),a=MC("useRouteError"),s=Vh("useRouteError");return r!==void 0?r:(f=a.errors)==null?void 0:f[s]}function PC(){let{router:r}=kC("useNavigate"),a=Vh("useNavigate"),s=ae.useRef(!1);return B2(()=>{s.current=!0}),ae.useCallback(async(v,m={})=>{mi(s.current,T2),s.current&&(typeof v=="number"?await r.navigate(v):await r.navigate(v,{fromRouteId:a,...m}))},[r,a])}var Ny={};function R2(r,a,s){!a&&!Ny[r]&&(Ny[r]=!0,mi(!1,s))}ae.memo(VC);function VC({routes:r,future:a,state:s,isStatic:f,onError:v}){return _2(r,void 0,{state:s,isStatic:f,onError:v})}function QC({to:r,replace:a,state:s,relative:f}){wr(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:v}=ae.useContext(Wa);mi(!v,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=ae.useContext(vi),{pathname:A}=ps(),p=N2(),w=uf(r,Uh(m),A,f==="path"),C=JSON.stringify(w);return ae.useEffect(()=>{p(JSON.parse(C),{replace:a,state:s,relative:f})},[p,C,f,a,s]),null}function HC(r){return TC(r.context)}function ao(r){wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GC({basename:r="/",children:a=null,location:s,navigationType:f="POP",navigator:v,static:m=!1,unstable_useTransitions:A}){wr(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),w=ae.useMemo(()=>({basename:p,navigator:v,static:m,unstable_useTransitions:A,future:{}}),[p,v,m,A]);typeof s=="string"&&(s=El(s));let{pathname:C="/",search:D="",hash:R="",state:L=null,key:_="default",unstable_mask:V}=s,P=ae.useMemo(()=>{let H=gs(C,p);return H==null?null:{location:{pathname:H,search:D,hash:R,state:L,key:_,unstable_mask:V},navigationType:f}},[p,C,D,R,L,_,f,V]);return mi(P!=null,`<Router basename="${p}"> is not able to match the URL "${C}${D}${R}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:ae.createElement(Wa.Provider,{value:w},ae.createElement(Dc.Provider,{children:a,value:P}))}function jC({children:r,location:a}){return BC(yh(r),a)}function yh(r,a=[]){let s=[];return ae.Children.forEach(r,(f,v)=>{if(!ae.isValidElement(f))return;let m=[...a,v];if(f.type===ae.Fragment){s.push.apply(s,yh(f.props.children,m));return}wr(f.type===ao,`[${typeof f.type=="string"?f.type:f.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wr(!f.props.index||!f.props.children,"An index route cannot have child routes.");let A={id:f.props.id||m.join("-"),caseSensitive:f.props.caseSensitive,element:f.props.element,Component:f.props.Component,index:f.props.index,path:f.props.path,middleware:f.props.middleware,loader:f.props.loader,action:f.props.action,hydrateFallbackElement:f.props.hydrateFallbackElement,HydrateFallback:f.props.HydrateFallback,errorElement:f.props.errorElement,ErrorBoundary:f.props.ErrorBoundary,hasErrorBoundary:f.props.hasErrorBoundary===!0||f.props.ErrorBoundary!=null||f.props.errorElement!=null,shouldRevalidate:f.props.shouldRevalidate,handle:f.props.handle,lazy:f.props.lazy};f.props.children&&(A.children=yh(f.props.children,m)),s.push(A)}),s}var Yu="get",Xu="application/x-www-form-urlencoded";function df(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function KC(r){return df(r)&&r.tagName.toLowerCase()==="button"}function zC(r){return df(r)&&r.tagName.toLowerCase()==="form"}function qC(r){return df(r)&&r.tagName.toLowerCase()==="input"}function YC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function XC(r,a){return r.button===0&&(!a||a==="_self")&&!YC(r)}var Lu=null;function ZC(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var WC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(r){return r!=null&&!WC.has(r)?(mi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xu}"`),null):r}function JC(r,a){let s,f,v,m,A;if(zC(r)){let p=r.getAttribute("action");f=p?gs(p,a):null,s=r.getAttribute("method")||Yu,v=xd(r.getAttribute("enctype"))||Xu,m=new FormData(r)}else if(KC(r)||qC(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=r.getAttribute("formaction")||p.getAttribute("action");if(f=w?gs(w,a):null,s=r.getAttribute("formmethod")||p.getAttribute("method")||Yu,v=xd(r.getAttribute("formenctype"))||xd(p.getAttribute("enctype"))||Xu,m=new FormData(p,r),!ZC()){let{name:C,type:D,value:R}=r;if(D==="image"){let L=C?`${C}.`:"";m.append(`${L}x`,"0"),m.append(`${L}y`,"0")}else C&&m.append(C,R)}}else{if(df(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Yu,f=null,v=Xu,A=r}return m&&v==="text/plain"&&(A=m,m=void 0),{action:f,method:s.toLowerCase(),encType:v,formData:m,body:A}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qh(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function $C(r,a,s,f){let v=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s?v.pathname.endsWith("/")?v.pathname=`${v.pathname}_.${f}`:v.pathname=`${v.pathname}.${f}`:v.pathname==="/"?v.pathname=`_root.${f}`:a&&gs(v.pathname,a)==="/"?v.pathname=`${a.replace(/\/$/,"")}/_root.${f}`:v.pathname=`${v.pathname.replace(/\/$/,"")}.${f}`,v}async function eb(r,a){if(r.id in a)return a[r.id];try{let s=await import(r.module);return a[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function nb(r,a,s){let f=await Promise.all(r.map(async v=>{let m=a.routes[v.route.id];if(m){let A=await eb(m,s);return A.links?A.links():[]}return[]}));return sb(f.flat(1).filter(tb).filter(v=>v.rel==="stylesheet"||v.rel==="preload").map(v=>v.rel==="stylesheet"?{...v,rel:"prefetch",as:"style"}:{...v,rel:"prefetch"}))}function _y(r,a,s,f,v,m){let A=(w,C)=>s[C]?w.route.id!==s[C].route.id:!0,p=(w,C)=>{var D;return s[C].pathname!==w.pathname||((D=s[C].route.path)==null?void 0:D.endsWith("*"))&&s[C].params["*"]!==w.params["*"]};return m==="assets"?a.filter((w,C)=>A(w,C)||p(w,C)):m==="data"?a.filter((w,C)=>{var R;let D=f.routes[w.route.id];if(!D||!D.hasLoader)return!1;if(A(w,C)||p(w,C))return!0;if(w.route.shouldRevalidate){let L=w.route.shouldRevalidate({currentUrl:new URL(v.pathname+v.search+v.hash,window.origin),currentParams:((R=s[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof L=="boolean")return L}return!0}):[]}function rb(r,a,{includeHydrateFallback:s}={}){return ab(r.map(f=>{let v=a.routes[f.route.id];if(!v)return[];let m=[v.module];return v.clientActionModule&&(m=m.concat(v.clientActionModule)),v.clientLoaderModule&&(m=m.concat(v.clientLoaderModule)),s&&v.hydrateFallbackModule&&(m=m.concat(v.hydrateFallbackModule)),v.imports&&(m=m.concat(v.imports)),m}).flat(1))}function ab(r){return[...new Set(r)]}function ib(r){let a={},s=Object.keys(r).sort();for(let f of s)a[f]=r[f];return a}function sb(r,a){let s=new Set;return new Set(a),r.reduce((f,v)=>{let m=JSON.stringify(ib(v));return s.has(m)||(s.add(m),f.push({key:m,link:v})),f},[])}function O2(){let r=ae.useContext(Il);return Qh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ob(){let r=ae.useContext(ff);return Qh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hh=ae.createContext(void 0);Hh.displayName="FrameworkContext";function k2(){let r=ae.useContext(Hh);return Qh(r,"You must render this element inside a <HydratedRouter> element"),r}function lb(r,a){let s=ae.useContext(Hh),[f,v]=ae.useState(!1),[m,A]=ae.useState(!1),{onFocus:p,onBlur:w,onMouseEnter:C,onMouseLeave:D,onTouchStart:R}=a,L=ae.useRef(null);ae.useEffect(()=>{if(r==="render"&&A(!0),r==="viewport"){let P=T=>{T.forEach(F=>{A(F.isIntersecting)})},H=new IntersectionObserver(P,{threshold:.5});return L.current&&H.observe(L.current),()=>{H.disconnect()}}},[r]),ae.useEffect(()=>{if(f){let P=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(P)}}},[f]);let _=()=>{v(!0)},V=()=>{v(!1),A(!1)};return s?r!=="intent"?[m,L,{}]:[m,L,{onFocus:hc(p,_),onBlur:hc(w,V),onMouseEnter:hc(C,_),onMouseLeave:hc(D,V),onTouchStart:hc(R,_)}]:[!1,L,{}]}function hc(r,a){return s=>{r&&r(s),s.defaultPrevented||a(s)}}function cb({page:r,...a}){let{router:s}=O2(),f=ae.useMemo(()=>v2(s.routes,r,s.basename),[s.routes,r,s.basename]);return f?ae.createElement(fb,{page:r,matches:f,...a}):null}function ub(r){let{manifest:a,routeModules:s}=k2(),[f,v]=ae.useState([]);return ae.useEffect(()=>{let m=!1;return nb(r,a,s).then(A=>{m||v(A)}),()=>{m=!0}},[r,a,s]),f}function fb({page:r,matches:a,...s}){let f=ps(),{future:v,manifest:m,routeModules:A}=k2(),{basename:p}=O2(),{loaderData:w,matches:C}=ob(),D=ae.useMemo(()=>_y(r,a,C,m,f,"data"),[r,a,C,m,f]),R=ae.useMemo(()=>_y(r,a,C,m,f,"assets"),[r,a,C,m,f]),L=ae.useMemo(()=>{if(r===f.pathname+f.search+f.hash)return[];let P=new Set,H=!1;if(a.forEach(F=>{var K;let U=m.routes[F.route.id];!U||!U.hasLoader||(!D.some(X=>X.route.id===F.route.id)&&F.route.id in w&&((K=A[F.route.id])!=null&&K.shouldRevalidate)||U.hasClientLoader?H=!0:P.add(F.route.id))}),P.size===0)return[];let T=$C(r,p,v.unstable_trailingSlashAwareDataRequests,"data");return H&&P.size>0&&T.searchParams.set("_routes",a.filter(F=>P.has(F.route.id)).map(F=>F.route.id).join(",")),[T.pathname+T.search]},[p,v.unstable_trailingSlashAwareDataRequests,w,f,m,D,a,r,A]),_=ae.useMemo(()=>rb(R,m),[R,m]),V=ub(R);return ae.createElement(ae.Fragment,null,L.map(P=>ae.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...s})),_.map(P=>ae.createElement("link",{key:P,rel:"modulepreload",href:P,...s})),V.map(({key:P,link:H})=>ae.createElement("link",{key:P,nonce:s.nonce,...H,crossOrigin:H.crossOrigin??s.crossOrigin})))}function db(...r){return a=>{r.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hb&&(window.__reactRouterVersion="7.13.1")}catch{}function gb({basename:r,children:a,unstable_useTransitions:s,window:f}){let v=ae.useRef();v.current==null&&(v.current=jA({window:f,v5Compat:!0}));let m=v.current,[A,p]=ae.useState({action:m.action,location:m.location}),w=ae.useCallback(C=>{s===!1?p(C):ae.startTransition(()=>p(C))},[s]);return ae.useLayoutEffect(()=>m.listen(w),[m,w]),ae.createElement(GC,{basename:r,children:a,location:A.location,navigationType:A.action,navigator:m,unstable_useTransitions:s})}var M2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L2=ae.forwardRef(function({onClick:a,discover:s="render",prefetch:f="none",relative:v,reloadDocument:m,replace:A,unstable_mask:p,state:w,target:C,to:D,preventScrollReset:R,viewTransition:L,unstable_defaultShouldRevalidate:_,...V},P){let{basename:H,navigator:T,unstable_useTransitions:F}=ae.useContext(Wa),U=typeof D=="string"&&M2.test(D),K=w2(D,H);D=K.to;let X=EC(D,{relative:v}),M=ps(),I=null;if(p){let oe=uf(p,[],M.unstable_mask?M.unstable_mask.pathname:"/",!0);H!=="/"&&(oe.pathname=oe.pathname==="/"?H:Li([H,oe.pathname])),I=T.createHref(oe)}let[E,j,ie]=lb(f,V),de=mb(D,{replace:A,unstable_mask:p,state:w,target:C,preventScrollReset:R,relative:v,viewTransition:L,unstable_defaultShouldRevalidate:_,unstable_useTransitions:F});function ee(oe){a&&a(oe),oe.defaultPrevented||de(oe)}let se=!(K.isExternal||m),Ce=ae.createElement("a",{...V,...ie,href:(se?I:void 0)||K.absoluteURL||X,onClick:se?ee:a,ref:db(P,j),target:C,"data-discover":!U&&s==="render"?"true":void 0});return E&&!U?ae.createElement(ae.Fragment,null,Ce,ae.createElement(cb,{page:X})):Ce});L2.displayName="Link";var Zu=ae.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:f="",end:v=!1,style:m,to:A,viewTransition:p,children:w,...C},D){let R=Rc(A,{relative:C.relative}),L=ps(),_=ae.useContext(ff),{navigator:V,basename:P}=ae.useContext(Wa),H=_!=null&&bb(R)&&p===!0,T=V.encodeLocation?V.encodeLocation(R).pathname:R.pathname,F=L.pathname,U=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(F=F.toLowerCase(),U=U?U.toLowerCase():null,T=T.toLowerCase()),U&&P&&(U=gs(U,P)||U);const K=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let X=F===T||!v&&F.startsWith(T)&&F.charAt(K)==="/",M=U!=null&&(U===T||!v&&U.startsWith(T)&&U.charAt(T.length)==="/"),I={isActive:X,isPending:M,isTransitioning:H},E=X?a:void 0,j;typeof f=="function"?j=f(I):j=[f,X?"active":null,M?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let ie=typeof m=="function"?m(I):m;return ae.createElement(L2,{...C,"aria-current":E,className:j,ref:D,style:ie,to:A,viewTransition:p},typeof w=="function"?w(I):w)});Zu.displayName="NavLink";var pb=ae.forwardRef(({discover:r="render",fetcherKey:a,navigate:s,reloadDocument:f,replace:v,state:m,method:A=Yu,action:p,onSubmit:w,relative:C,preventScrollReset:D,viewTransition:R,unstable_defaultShouldRevalidate:L,..._},V)=>{let{unstable_useTransitions:P}=ae.useContext(Wa),H=Ab(),T=Cb(p,{relative:C}),F=A.toLowerCase()==="get"?"get":"post",U=typeof p=="string"&&M2.test(p),K=X=>{if(w&&w(X),X.defaultPrevented)return;X.preventDefault();let M=X.nativeEvent.submitter,I=(M==null?void 0:M.getAttribute("formmethod"))||A,E=()=>H(M||X.currentTarget,{fetcherKey:a,method:I,navigate:s,replace:v,state:m,relative:C,preventScrollReset:D,viewTransition:R,unstable_defaultShouldRevalidate:L});P&&s!==!1?ae.startTransition(()=>E()):E()};return ae.createElement("form",{ref:V,method:F,action:T,onSubmit:f?w:K,..._,"data-discover":!U&&r==="render"?"true":void 0})});pb.displayName="Form";function yb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U2(r){let a=ae.useContext(Il);return wr(a,yb(r)),a}function mb(r,{target:a,replace:s,unstable_mask:f,state:v,preventScrollReset:m,relative:A,viewTransition:p,unstable_defaultShouldRevalidate:w,unstable_useTransitions:C}={}){let D=N2(),R=ps(),L=Rc(r,{relative:A});return ae.useCallback(_=>{if(XC(_,a)){_.preventDefault();let V=s!==void 0?s:Ec(R)===Ec(L),P=()=>D(r,{replace:V,unstable_mask:f,state:v,preventScrollReset:m,relative:A,viewTransition:p,unstable_defaultShouldRevalidate:w});C?ae.startTransition(()=>P()):P()}},[R,D,L,s,f,v,a,r,m,A,p,w,C])}var xb=0,vb=()=>`__${String(++xb)}__`;function Ab(){let{router:r}=U2("useSubmit"),{basename:a}=ae.useContext(Wa),s=UC(),f=r.fetch,v=r.navigate;return ae.useCallback(async(m,A={})=>{let{action:p,method:w,encType:C,formData:D,body:R}=JC(m,a);if(A.navigate===!1){let L=A.fetcherKey||vb();await f(L,s,A.action||p,{unstable_defaultShouldRevalidate:A.unstable_defaultShouldRevalidate,preventScrollReset:A.preventScrollReset,formData:D,body:R,formMethod:A.method||w,formEncType:A.encType||C,flushSync:A.flushSync})}else await v(A.action||p,{unstable_defaultShouldRevalidate:A.unstable_defaultShouldRevalidate,preventScrollReset:A.preventScrollReset,formData:D,body:R,formMethod:A.method||w,formEncType:A.encType||C,replace:A.replace,state:A.state,fromRouteId:s,flushSync:A.flushSync,viewTransition:A.viewTransition})},[f,v,a,s])}function Cb(r,{relative:a}={}){let{basename:s}=ae.useContext(Wa),f=ae.useContext(vi);wr(f,"useFormAction must be used inside a RouteContext");let[v]=f.matches.slice(-1),m={...Rc(r||".",{relative:a})},A=ps();if(r==null){m.search=A.search;let p=new URLSearchParams(m.search),w=p.getAll("index");if(w.some(D=>D==="")){p.delete("index"),w.filter(R=>R).forEach(R=>p.append("index",R));let D=p.toString();m.search=D?`?${D}`:""}}return(!r||r===".")&&v.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(m.pathname=m.pathname==="/"?s:Li([s,m.pathname])),Ec(m)}function bb(r,{relative:a}={}){let s=ae.useContext(I2);wr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:f}=U2("useViewTransitionState"),v=Rc(r,{relative:a});if(!s.isTransitioning)return!1;let m=gs(s.currentLocation.pathname,f)||s.currentLocation.pathname,A=gs(s.nextLocation.pathname,f)||s.nextLocation.pathname;return $u(v.pathname,A)!=null||$u(v.pathname,m)!=null}var xc=x2(),Wu={exports:{}},wb=Wu.exports,Dy;function Eb(){return Dy||(Dy=1,(function(r,a){((s,f)=>{r.exports=f()})(wb,function(){var s=function(o,d){return(s=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(x,b){x.__proto__=b}:function(x,b){for(var B in b)Object.prototype.hasOwnProperty.call(b,B)&&(x[B]=b[B])}))(o,d)},f=function(){return(f=Object.assign||function(o){for(var d,x=1,b=arguments.length;x<b;x++)for(var B in d=arguments[x])Object.prototype.hasOwnProperty.call(d,B)&&(o[B]=d[B]);return o}).apply(this,arguments)};function v(o,d,x){for(var b,B=0,k=d.length;B<k;B++)!b&&B in d||((b=b||Array.prototype.slice.call(d,0,B))[B]=d[B]);return o.concat(b||Array.prototype.slice.call(d))}var m=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:hl,A=Object.keys,p=Array.isArray;function w(o,d){return typeof d=="object"&&A(d).forEach(function(x){o[x]=d[x]}),o}typeof Promise>"u"||m.Promise||(m.Promise=Promise);var C=Object.getPrototypeOf,D={}.hasOwnProperty;function R(o,d){return D.call(o,d)}function L(o,d){typeof d=="function"&&(d=d(C(o))),(typeof Reflect>"u"?A:Reflect.ownKeys)(d).forEach(function(x){V(o,x,d[x])})}var _=Object.defineProperty;function V(o,d,x,b){_(o,d,w(x&&R(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},b))}function P(o){return{from:function(d){return o.prototype=Object.create(d.prototype),V(o.prototype,"constructor",o),{extend:L.bind(null,o.prototype)}}}}var H=Object.getOwnPropertyDescriptor,T=[].slice;function F(o,d,x){return T.call(o,d,x)}function U(o,d){return d(o)}function K(o){if(!o)throw new Error("Assertion Failed")}function X(o){m.setImmediate?setImmediate(o):setTimeout(o,0)}function M(o,d){if(typeof d=="string"&&R(o,d))return o[d];if(!d)return o;if(typeof d!="string"){for(var x=[],b=0,B=d.length;b<B;++b){var k=M(o,d[b]);x.push(k)}return x}var G,Y=d.indexOf(".");return Y===-1||(G=o[d.substr(0,Y)])==null?void 0:M(G,d.substr(Y+1))}function I(o,d,x){if(o&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof d!="string"&&"length"in d){K(typeof x!="string"&&"length"in x);for(var b=0,B=d.length;b<B;++b)I(o,d[b],x[b])}else{var k,G,Y=d.indexOf(".");Y!==-1?(k=d.substr(0,Y),(Y=d.substr(Y+1))===""?x===void 0?p(o)&&!isNaN(parseInt(k))?o.splice(k,1):delete o[k]:o[k]=x:I(G=(G=o[k])&&R(o,k)?G:o[k]={},Y,x)):x===void 0?p(o)&&!isNaN(parseInt(d))?o.splice(d,1):delete o[d]:o[d]=x}}function E(o){var d,x={};for(d in o)R(o,d)&&(x[d]=o[d]);return x}var j=[].concat;function ie(o){return j.apply([],o)}var Se="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ie([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(d){return d+o+"Array"})}))).filter(function(o){return m[o]}),de=new Set(Se.map(function(o){return m[o]})),ee=null;function se(o){return ee=new WeakMap,o=(function d(x){if(!x||typeof x!="object")return x;var b=ee.get(x);if(b)return b;if(p(x)){b=[],ee.set(x,b);for(var B=0,k=x.length;B<k;++B)b.push(d(x[B]))}else if(de.has(x.constructor))b=x;else{var G,Y=C(x);for(G in b=Y===Object.prototype?{}:Object.create(Y),ee.set(x,b),x)R(x,G)&&(b[G]=d(x[G]))}return b})(o),ee=null,o}var Ce={}.toString;function oe(o){return Ce.call(o).slice(8,-1)}var he=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ve=typeof he=="symbol"?function(o){var d;return o!=null&&(d=o[he])&&d.apply(o)}:function(){return null};function ke(o,d){d=o.indexOf(d),0<=d&&o.splice(d,1)}var Ue={};function Me(o){var d,x,b,B;if(arguments.length===1){if(p(o))return o.slice();if(this===Ue&&typeof o=="string")return[o];if(B=ve(o))for(x=[];!(b=B.next()).done;)x.push(b.value);else{if(o==null)return[o];if(typeof(d=o.length)!="number")return[o];for(x=new Array(d);d--;)x[d]=o[d]}}else for(d=arguments.length,x=new Array(d);d--;)x[d]=arguments[d];return x}var Ae=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Se=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ht=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Se),ze={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function _e(o,d){this.name=o,this.message=d}function Je(o,d){return o+". Errors: "+Object.keys(d).map(function(x){return d[x].toString()}).filter(function(x,b,B){return B.indexOf(x)===b}).join(`
`)}function Ne(o,d,x,b){this.failures=d,this.failedKeys=b,this.successCount=x,this.message=Je(o,d)}function wt(o,d){this.name="BulkError",this.failures=Object.keys(d).map(function(x){return d[x]}),this.failuresByPos=d,this.message=Je(o,this.failures)}P(_e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),P(Ne).from(_e),P(wt).from(_e);var yt=Ht.reduce(function(o,d){return o[d]=d+"Error",o},{}),Q=_e,W=Ht.reduce(function(o,d){var x=d+"Error";function b(B,k){this.name=x,B?typeof B=="string"?(this.message="".concat(B).concat(k?`
 `+k:""),this.inner=k||null):typeof B=="object"&&(this.message="".concat(B.name," ").concat(B.message),this.inner=B):(this.message=ze[d]||x,this.inner=null)}return P(b).from(Q),o[d]=b,o},{}),re=(W.Syntax=SyntaxError,W.Type=TypeError,W.Range=RangeError,Se.reduce(function(o,d){return o[d+"Error"]=W[d],o},{}));Se=Ht.reduce(function(o,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(o[d+"Error"]=W[d]),o},{});function O(){}function Z(o){return o}function be(o,d){return o==null||o===Z?d:function(x){return d(o(x))}}function xe(o,d){return function(){o.apply(this,arguments),d.apply(this,arguments)}}function Ze(o,d){return o===O?d:function(){var x=o.apply(this,arguments),b=(x!==void 0&&(arguments[0]=x),this.onsuccess),B=this.onerror,k=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return b&&(this.onsuccess=this.onsuccess?xe(b,this.onsuccess):b),B&&(this.onerror=this.onerror?xe(B,this.onerror):B),k!==void 0?k:x}}function gt(o,d){return o===O?d:function(){o.apply(this,arguments);var x=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?xe(x,this.onsuccess):x),b&&(this.onerror=this.onerror?xe(b,this.onerror):b)}}function dt(o,d){return o===O?d:function(B){var b=o.apply(this,arguments),B=(w(B,b),this.onsuccess),k=this.onerror,G=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return B&&(this.onsuccess=this.onsuccess?xe(B,this.onsuccess):B),k&&(this.onerror=this.onerror?xe(k,this.onerror):k),b===void 0?G===void 0?void 0:G:w(b,G)}}function Ve(o,d){return o===O?d:function(){return d.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function pt(o,d){return o===O?d:function(){var x=o.apply(this,arguments);if(x&&typeof x.then=="function"){for(var b=this,B=arguments.length,k=new Array(B);B--;)k[B]=arguments[B];return x.then(function(){return d.apply(b,k)})}return d.apply(this,arguments)}}Se.ModifyError=Ne,Se.DexieError=_e,Se.BulkError=wt;var Ye=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Lt(o){Ye=o}var St={},Kt=100,An=typeof Promise>"u"?[]:(Ht=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[An=crypto.subtle.digest("SHA-512",new Uint8Array([0])),C(An),Ht]:[Ht,C(Ht),Ht]),Ht=An[0],Cn=An[1],Cn=Cn&&Cn.then,rn=Ht&&Ht.constructor,nn=!!An[2],Vt=function(o,d){Te.push([o,d]),yn&&(queueMicrotask(It),yn=!1)},wn=!0,yn=!0,Sn=[],Gt=[],at=Z,Qt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:O,pgp:!1,env:{},finalize:O},we=Qt,Te=[],$e=0,ot=[];function et(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=we;if(typeof o!="function"){if(o!==St)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&On(this,this._value)}else this._state=null,this._value=null,++d.ref,(function x(b,B){try{B(function(k){if(b._state===null){if(k===b)throw new TypeError("A promise cannot be resolved with itself.");var G=b._lib&&_t();k&&typeof k.then=="function"?x(b,function(Y,ne){k instanceof et?k._then(Y,ne):k.then(Y,ne)}):(b._state=!0,b._value=k,Zn(b)),G&&kt()}},On.bind(null,b))}catch(k){On(b,k)}})(this,o)}var Rt={get:function(){var o=we,d=ht;function x(b,B){var k=this,G=!o.global&&(o!==we||d!==ht),Y=G&&!Ar(),ne=new et(function(fe,ce){an(k,new dn(Gr(b,o,G,Y),Gr(B,o,G,Y),fe,ce,o))});return this._consoleTask&&(ne._consoleTask=this._consoleTask),ne}return x.prototype=St,x},set:function(o){V(this,"then",o&&o.prototype===St?Rt:{get:function(){return o},set:Rt.set})}};function dn(o,d,x,b,B){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof d=="function"?d:null,this.resolve=x,this.reject=b,this.psd=B}function On(o,d){var x,b;Gt.push(d),o._state===null&&(x=o._lib&&_t(),d=at(d),o._state=!1,o._value=d,b=o,Sn.some(function(B){return B._value===b._value})||Sn.push(b),Zn(o),x)&&kt()}function Zn(o){var d=o._listeners;o._listeners=[];for(var x=0,b=d.length;x<b;++x)an(o,d[x]);var B=o._PSD;--B.ref||B.finalize(),$e===0&&(++$e,Vt(function(){--$e==0&&Tt()},[]))}function an(o,d){if(o._state===null)o._listeners.push(d);else{var x=o._state?d.onFulfilled:d.onRejected;if(x===null)return(o._state?d.resolve:d.reject)(o._value);++d.psd.ref,++$e,Vt(tt,[x,o,d])}}function tt(o,d,x){try{var b,B=d._value;!d._state&&Gt.length&&(Gt=[]),b=Ye&&d._consoleTask?d._consoleTask.run(function(){return o(B)}):o(B),d._state||Gt.indexOf(B)!==-1||(k=>{for(var G=Sn.length;G;)if(Sn[--G]._value===k._value)return Sn.splice(G,1)})(d),x.resolve(b)}catch(k){x.reject(k)}finally{--$e==0&&Tt(),--x.psd.ref||x.psd.finalize()}}function It(){na(Qt,function(){_t()&&kt()})}function _t(){var o=wn;return yn=wn=!1,o}function kt(){var o,d,x;do for(;0<Te.length;)for(o=Te,Te=[],x=o.length,d=0;d<x;++d){var b=o[d];b[0].apply(null,b[1])}while(0<Te.length);yn=wn=!0}function Tt(){for(var o=Sn,d=(Sn=[],o.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)}),ot.slice(0)),x=d.length;x;)d[--x]()}function zt(o){return new et(St,!1,o)}function Ct(o,d){var x=we;return function(){var b=_t(),B=we;try{return ar(x,!0),o.apply(this,arguments)}catch(k){d&&d(k)}finally{ar(B,!1),b&&kt()}}}L(et.prototype,{then:Rt,_then:function(o,d){an(this,new dn(null,null,o,d,we))},catch:function(o){var d,x;return arguments.length===1?this.then(null,o):(d=o,x=arguments[1],typeof d=="function"?this.then(null,function(b){return(b instanceof d?x:zt)(b)}):this.then(null,function(b){return(b&&b.name===d?x:zt)(b)}))},finally:function(o){return this.then(function(d){return et.resolve(o()).then(function(){return d})},function(d){return et.resolve(o()).then(function(){return zt(d)})})},timeout:function(o,d){var x=this;return o<1/0?new et(function(b,B){var k=setTimeout(function(){return B(new W.Timeout(d))},o);x.then(b,B).finally(clearTimeout.bind(null,k))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&V(et.prototype,Symbol.toStringTag,"Dexie.Promise"),Qt.env=Vi(),L(et,{all:function(){var o=Me.apply(null,arguments).map(ma);return new et(function(d,x){o.length===0&&d([]);var b=o.length;o.forEach(function(B,k){return et.resolve(B).then(function(G){o[k]=G,--b||d(o)},x)})})},resolve:function(o){return o instanceof et?o:o&&typeof o.then=="function"?new et(function(d,x){o.then(d,x)}):new et(St,!0,o)},reject:zt,race:function(){var o=Me.apply(null,arguments).map(ma);return new et(function(d,x){o.map(function(b){return et.resolve(b).then(d,x)})})},PSD:{get:function(){return we},set:function(o){return we=o}},totalEchoes:{get:function(){return ht}},newPSD:fn,usePSD:na,scheduler:{get:function(){return Vt},set:function(o){Vt=o}},rejectionMapper:{get:function(){return at},set:function(o){at=o}},follow:function(o,d){return new et(function(x,b){return fn(function(B,k){var G=we;G.unhandleds=[],G.onunhandled=k,G.finalize=xe(function(){var Y,ne=this;Y=function(){ne.unhandleds.length===0?B():k(ne.unhandleds[0])},ot.push(function fe(){Y(),ot.splice(ot.indexOf(fe),1)}),++$e,Vt(function(){--$e==0&&Tt()},[])},G.finalize),o()},d,x,b)})}}),rn&&(rn.allSettled&&V(et,"allSettled",function(){var o=Me.apply(null,arguments).map(ma);return new et(function(d){o.length===0&&d([]);var x=o.length,b=new Array(x);o.forEach(function(B,k){return et.resolve(B).then(function(G){return b[k]={status:"fulfilled",value:G}},function(G){return b[k]={status:"rejected",reason:G}}).then(function(){return--x||d(b)})})})}),rn.any&&typeof AggregateError<"u"&&V(et,"any",function(){var o=Me.apply(null,arguments).map(ma);return new et(function(d,x){o.length===0&&x(new AggregateError([]));var b=o.length,B=new Array(b);o.forEach(function(k,G){return et.resolve(k).then(function(Y){return d(Y)},function(Y){B[G]=Y,--b||x(new AggregateError(B))})})})}),rn.withResolvers)&&(et.withResolvers=rn.withResolvers);var Ut={awaits:0,echoes:0,id:0},sn=0,on=[],cn=0,ht=0,En=0;function fn(o,G,x,b){var B=we,k=Object.create(B),G=(k.parent=B,k.ref=0,k.global=!1,k.id=++En,Qt.env,k.env=nn?{Promise:et,PromiseProp:{value:et,configurable:!0,writable:!0},all:et.all,race:et.race,allSettled:et.allSettled,any:et.any,resolve:et.resolve,reject:et.reject}:{},G&&w(k,G),++B.ref,k.finalize=function(){--this.parent.ref||this.parent.finalize()},na(k,o,x,b));return k.ref===0&&k.finalize(),G}function Jt(){return Ut.id||(Ut.id=++sn),++Ut.awaits,Ut.echoes+=Kt,Ut.id}function Ar(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*Kt,!0)}function ma(o){return Ut.echoes&&o&&o.constructor===rn?(Jt(),o.then(function(d){return Ar(),d},function(d){return Ar(),$t(d)})):o}function Ci(){var o=on[on.length-1];on.pop(),ar(o,!1)}function ar(o,d){var x,b,B=we;(d?!Ut.echoes||cn++&&o===we:!cn||--cn&&o===we)||queueMicrotask(d?(function(k){++ht,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),on.push(we),ar(k,!0)}).bind(null,o):Ci),o!==we&&(we=o,B===Qt&&(Qt.env=Vi()),nn)&&(x=Qt.env.Promise,b=o.env,B.global||o.global)&&(Object.defineProperty(m,"Promise",b.PromiseProp),x.all=b.all,x.race=b.race,x.resolve=b.resolve,x.reject=b.reject,b.allSettled&&(x.allSettled=b.allSettled),b.any)&&(x.any=b.any)}function Vi(){var o=m.Promise;return nn?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(m,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function na(o,d,x,b,B){var k=we;try{return ar(o,!0),d(x,b,B)}finally{ar(k,!1)}}function Gr(o,d,x,b){return typeof o!="function"?o:function(){var B=we;x&&Jt(),ar(d,!0);try{return o.apply(this,arguments)}finally{ar(B,!1),b&&queueMicrotask(Ar)}}}function ir(o){Promise===rn&&Ut.echoes===0?cn===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Cn).indexOf("[native code]")===-1&&(Jt=Ar=O);var $t=et.reject,Zr="",dr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hr="String expected.",lt=[],Dr="__dbnames",kn="readonly",jr="readwrite";function Ma(o,d){return o?d?function(){return o.apply(this,arguments)&&d.apply(this,arguments)}:o:d}var _n={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function J(o){return typeof o!="string"||/\./.test(o)?function(d){return d}:function(d){return d[o]===void 0&&o in d&&delete(d=se(d))[o],d}}function te(){throw W.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ue(o,d){try{var x=Re(o),b=Re(d);if(x!==b)return x==="Array"?1:b==="Array"?-1:x==="binary"?1:b==="binary"?-1:x==="string"?1:b==="string"?-1:x==="Date"?1:b!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return d<o?1:o<d?-1:0;case"binary":for(var B=nt(o),k=nt(d),G=B.length,Y=k.length,ne=G<Y?G:Y,fe=0;fe<ne;++fe)if(B[fe]!==k[fe])return B[fe]<k[fe]?-1:1;return G===Y?0:G<Y?-1:1;case"Array":for(var ce=o,pe=d,me=ce.length,ye=pe.length,Ie=me<ye?me:ye,Ee=0;Ee<Ie;++Ee){var Le=ue(ce[Ee],pe[Ee]);if(Le!==0)return Le}return me===ye?0:me<ye?-1:1}}catch{}return NaN}function Re(o){var d=typeof o;return d=="object"&&(ArrayBuffer.isView(o)||(d=oe(o))==="ArrayBuffer")?"binary":d}function nt(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function We(o,d,x){var b=o.schema.yProps;return b?(d&&0<x.numFailures&&(d=d.filter(function(B,k){return!x.failures[k]})),Promise.all(b.map(function(B){return B=B.updatesTable,d?o.db.table(B).where("k").anyOf(d).delete():o.db.table(B).clear()})).then(function(){return x})):x}bt.prototype.execute=function(o){var d=this["@@propmod"];if(d.add!==void 0){var x=d.add;if(p(x))return v(v([],p(o)?o:[],!0),x).sort();if(typeof x=="number")return(Number(o)||0)+x;if(typeof x=="bigint")try{return BigInt(o)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(d.remove!==void 0){var b=d.remove;if(p(b))return p(o)?o.filter(function(B){return!b.includes(B)}).sort():[];if(typeof b=="number")return Number(o)-b;if(typeof b=="bigint")try{return BigInt(o)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return x=(x=d.replacePrefix)==null?void 0:x[0],x&&typeof o=="string"&&o.startsWith(x)?d.replacePrefix[1]+o.substring(x.length):o};var At=bt;function bt(o){this["@@propmod"]=o}function Zt(o,d){for(var x=A(d),b=x.length,B=!1,k=0;k<b;++k){var G=x[k],Y=d[G],ne=M(o,G);Y instanceof At?(I(o,G,Y.execute(ne)),B=!0):ne!==Y&&(I(o,G,Y),B=!0)}return B}pn.prototype._trans=function(o,d,x){var b=this._tx||we.trans,B=this.name,k=Ye&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function G(fe,ce,pe){if(pe.schema[B])return d(pe.idbtrans,pe);throw new W.NotFound("Table "+B+" not part of transaction")}var Y=_t();try{var ne=b&&b.db._novip===this.db._novip?b===we.trans?b._promise(o,G,x):fn(function(){return b._promise(o,G,x)},{trans:b,transless:we.transless||we}):(function fe(ce,pe,me,ye){if(ce.idbdb&&(ce._state.openComplete||we.letThrough||ce._vip)){var Ie=ce._createTransaction(pe,me,ce._dbSchema);try{Ie.create(),ce._state.PR1398_maxLoop=3}catch(Ee){return Ee.name===yt.InvalidState&&ce.isOpen()&&0<--ce._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ce.close({disableAutoOpen:!1}),ce.open().then(function(){return fe(ce,pe,me,ye)})):$t(Ee)}return Ie._promise(pe,function(Ee,Le){return fn(function(){return we.trans=Ie,ye(Ee,Le,Ie)})}).then(function(Ee){if(pe==="readwrite")try{Ie.idbtrans.commit()}catch{}return pe==="readonly"?Ee:Ie._completion.then(function(){return Ee})})}if(ce._state.openComplete)return $t(new W.DatabaseClosed(ce._state.dbOpenError));if(!ce._state.isBeingOpened){if(!ce._state.autoOpen)return $t(new W.DatabaseClosed);ce.open().catch(O)}return ce._state.dbReadyPromise.then(function(){return fe(ce,pe,me,ye)})})(this.db,o,[this.name],G);return k&&(ne._consoleTask=k,ne=ne.catch(function(fe){return console.trace(fe),$t(fe)})),ne}finally{Y&&kt()}},pn.prototype.get=function(o,d){var x=this;return o&&o.constructor===Object?this.where(o).first(d):o==null?$t(new W.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return x.core.get({trans:b,key:o}).then(function(B){return x.hook.reading.fire(B)})}).then(d)},pn.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(p(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var d=A(o);if(d.length===1)return this.where(d[0]).equals(o[d[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(Y){if(Y.compound&&d.every(function(fe){return 0<=Y.keyPath.indexOf(fe)})){for(var ne=0;ne<d.length;++ne)if(d.indexOf(Y.keyPath[ne])===-1)return!1;return!0}return!1}).sort(function(Y,ne){return Y.keyPath.length-ne.keyPath.length})[0];if(x&&this.db._maxKey!==Zr)return G=x.keyPath.slice(0,d.length),this.where(G).equals(G.map(function(Y){return o[Y]}));!x&&Ye&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var b=this.schema.idxByName;function B(Y,ne){return ue(Y,ne)===0}var G=d.reduce(function(ce,ne){var fe=ce[0],ce=ce[1],pe=b[ne],me=o[ne];return[fe||pe,fe||!pe?Ma(ce,pe&&pe.multi?function(ye){return ye=M(ye,ne),p(ye)&&ye.some(function(Ie){return B(me,Ie)})}:function(ye){return B(me,M(ye,ne))}):ce]},[null,null]),k=G[0],G=G[1];return k?this.where(k.name).equals(o[k.keyPath]).filter(G):x?this.filter(G):this.where(d).equals("")},pn.prototype.filter=function(o){return this.toCollection().and(o)},pn.prototype.count=function(o){return this.toCollection().count(o)},pn.prototype.offset=function(o){return this.toCollection().offset(o)},pn.prototype.limit=function(o){return this.toCollection().limit(o)},pn.prototype.each=function(o){return this.toCollection().each(o)},pn.prototype.toArray=function(o){return this.toCollection().toArray(o)},pn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pn.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,p(o)?"[".concat(o.join("+"),"]"):o))},pn.prototype.reverse=function(){return this.toCollection().reverse()},pn.prototype.mapToClass=function(o){for(var d=this.db,x=this.name,b=((this.schema.mappedClass=o).prototype instanceof te&&(o=(G=>{var Y=ce,ne=G;if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function fe(){this.constructor=Y}function ce(){return G!==null&&G.apply(this,arguments)||this}return s(Y,ne),Y.prototype=ne===null?Object.create(ne):(fe.prototype=ne.prototype,new fe),Object.defineProperty(ce.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),ce.prototype.table=function(){return x},ce})(o)),new Set),B=o.prototype;B;B=C(B))Object.getOwnPropertyNames(B).forEach(function(G){return b.add(G)});function k(G){if(!G)return G;var Y,ne=Object.create(o.prototype);for(Y in G)if(!b.has(Y))try{ne[Y]=G[Y]}catch{}return ne}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=k,this.hook("reading",k),o},pn.prototype.defineClass=function(){return this.mapToClass(function(o){w(this,o)})},pn.prototype.add=function(o,d){var x=this,b=this.schema.primKey,B=b.auto,k=b.keyPath,G=o;return k&&B&&(G=J(k)(o)),this._trans("readwrite",function(Y){return x.core.mutate({trans:Y,type:"add",keys:d!=null?[d]:null,values:[G]})}).then(function(Y){return Y.numFailures?et.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(k)try{I(o,k,Y)}catch{}return Y})},pn.prototype.upsert=function(o,d){var x=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(B){return x.core.get({trans:B,key:o}).then(function(k){var G=k??{};return Zt(G,d),b&&I(G,b,o),x.core.mutate({trans:B,type:"put",values:[G],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[d]}}).then(function(Y){return Y.numFailures?et.reject(Y.failures[0]):!!k})})})},pn.prototype.update=function(o,d){return typeof o!="object"||p(o)?this.where(":id").equals(o).modify(d):(o=M(o,this.schema.primKey.keyPath))===void 0?$t(new W.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(d)},pn.prototype.put=function(o,d){var x=this,b=this.schema.primKey,B=b.auto,k=b.keyPath,G=o;return k&&B&&(G=J(k)(o)),this._trans("readwrite",function(Y){return x.core.mutate({trans:Y,type:"put",values:[G],keys:d!=null?[d]:null})}).then(function(Y){return Y.numFailures?et.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(k)try{I(o,k,Y)}catch{}return Y})},pn.prototype.delete=function(o){var d=this;return this._trans("readwrite",function(x){return d.core.mutate({trans:x,type:"delete",keys:[o]}).then(function(b){return We(d,[o],b)}).then(function(b){return b.numFailures?et.reject(b.failures[0]):void 0})})},pn.prototype.clear=function(){var o=this;return this._trans("readwrite",function(d){return o.core.mutate({trans:d,type:"deleteRange",range:_n}).then(function(x){return We(o,null,x)})}).then(function(d){return d.numFailures?et.reject(d.failures[0]):void 0})},pn.prototype.bulkGet=function(o){var d=this;return this._trans("readonly",function(x){return d.core.getMany({keys:o,trans:x}).then(function(b){return b.map(function(B){return d.hook.reading.fire(B)})})})},pn.prototype.bulkAdd=function(o,d,x){var b=this,B=Array.isArray(d)?d:void 0,k=(x=x||(B?void 0:d))?x.allKeys:void 0;return this._trans("readwrite",function(G){var Y=b.schema.primKey,fe=Y.auto,Y=Y.keyPath;if(Y&&B)throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(B&&B.length!==o.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var ne=o.length,fe=Y&&fe?o.map(J(Y)):o;return b.core.mutate({trans:G,type:"add",keys:B,values:fe,wantResults:k}).then(function(ce){var pe=ce.numFailures,me=ce.failures;if(pe===0)return k?ce.results:ce.lastResult;throw new wt("".concat(b.name,".bulkAdd(): ").concat(pe," of ").concat(ne," operations failed"),me)})})},pn.prototype.bulkPut=function(o,d,x){var b=this,B=Array.isArray(d)?d:void 0,k=(x=x||(B?void 0:d))?x.allKeys:void 0;return this._trans("readwrite",function(G){var Y=b.schema.primKey,fe=Y.auto,Y=Y.keyPath;if(Y&&B)throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(B&&B.length!==o.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var ne=o.length,fe=Y&&fe?o.map(J(Y)):o;return b.core.mutate({trans:G,type:"put",keys:B,values:fe,wantResults:k}).then(function(ce){var pe=ce.numFailures,me=ce.failures;if(pe===0)return k?ce.results:ce.lastResult;throw new wt("".concat(b.name,".bulkPut(): ").concat(pe," of ").concat(ne," operations failed"),me)})})},pn.prototype.bulkUpdate=function(o){var d=this,x=this.core,b=o.map(function(G){return G.key}),B=o.map(function(G){return G.changes}),k=[];return this._trans("readwrite",function(G){return x.getMany({trans:G,keys:b,cache:"clone"}).then(function(Y){var ne=[],fe=[],ce=(o.forEach(function(pe,me){var ye=pe.key,Ie=pe.changes,Ee=Y[me];if(Ee){for(var Le=0,Qe=Object.keys(Ie);Le<Qe.length;Le++){var Oe=Qe[Le],je=Ie[Oe];if(Oe===d.schema.primKey.keyPath){if(ue(je,ye)!==0)throw new W.Constraint("Cannot update primary key in bulkUpdate()")}else I(Ee,Oe,je)}k.push(me),ne.push(ye),fe.push(Ee)}}),ne.length);return x.mutate({trans:G,type:"put",keys:ne,values:fe,updates:{keys:b,changeSpecs:B}}).then(function(pe){var me=pe.numFailures,ye=pe.failures;if(me===0)return ce;for(var Ie=0,Ee=Object.keys(ye);Ie<Ee.length;Ie++){var Le,Qe=Ee[Ie],Oe=k[Number(Qe)];Oe!=null&&(Le=ye[Qe],delete ye[Qe],ye[Oe]=Le)}throw new wt("".concat(d.name,".bulkUpdate(): ").concat(me," of ").concat(ce," operations failed"),ye)})})})},pn.prototype.bulkDelete=function(o){var d=this,x=o.length;return this._trans("readwrite",function(b){return d.core.mutate({trans:b,type:"delete",keys:o}).then(function(B){return We(d,o,B)})}).then(function(b){var B=b.numFailures,k=b.failures;if(B===0)return b.lastResult;throw new wt("".concat(d.name,".bulkDelete(): ").concat(B," of ").concat(x," operations failed"),k)})};var Gn=pn;function pn(){}function sr(o){function d(G,Y){if(Y){for(var ne=arguments.length,fe=new Array(ne-1);--ne;)fe[ne-1]=arguments[ne];return x[G].subscribe.apply(null,fe),o}if(typeof G=="string")return x[G]}var x={};d.addEventType=k;for(var b=1,B=arguments.length;b<B;++b)k(arguments[b]);return d;function k(G,Y,ne){var fe,ce;if(typeof G!="object")return Y=Y||Ve,ce={subscribers:[],fire:ne=ne||O,subscribe:function(pe){ce.subscribers.indexOf(pe)===-1&&(ce.subscribers.push(pe),ce.fire=Y(ce.fire,pe))},unsubscribe:function(pe){ce.subscribers=ce.subscribers.filter(function(me){return me!==pe}),ce.fire=ce.subscribers.reduce(Y,ne)}},x[G]=d[G]=ce;A(fe=G).forEach(function(pe){var me=fe[pe];if(p(me))k(pe,fe[pe][0],fe[pe][1]);else{if(me!=="asap")throw new W.InvalidArgument("Invalid event config");var ye=k(pe,Z,function(){for(var Ie=arguments.length,Ee=new Array(Ie);Ie--;)Ee[Ie]=arguments[Ie];ye.subscribers.forEach(function(Le){X(function(){Le.apply(null,Ee)})})})}})}}function en(o,d){return P(d).from({prototype:o}),d}function zn(o,d){return!(o.filter||o.algorithm||o.or)&&(d?o.justLimit:!o.replayFilter)}function Fe(o,d){o.filter=Ma(o.filter,d)}function ge(o,d,x){var b=o.replayFilter;o.replayFilter=b?function(){return Ma(b(),d())}:d,o.justLimit=x&&!b}function Bt(o,d){if(o.isPrimKey)return d.primaryKey;var x=d.getIndexByKeyPath(o.index);if(x)return x;throw new W.Schema("KeyPath "+o.index+" on object store "+d.name+" is not indexed")}function jn(o,d,x){var b=Bt(o,d.schema);return d.openCursor({trans:x,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:b,range:o.range}})}function Cr(o,d,x,b){var B,k,G=o.replayFilter?Ma(o.filter,o.replayFilter()):o.filter;return o.or?(B={},k=function(Y,ne,fe){var ce,pe;G&&!G(ne,fe,function(me){return ne.stop(me)},function(me){return ne.fail(me)})||((pe=""+(ce=ne.primaryKey))=="[object ArrayBuffer]"&&(pe=""+new Uint8Array(ce)),R(B,pe))||(B[pe]=!0,d(Y,ne,fe))},Promise.all([o.or._iterate(k,x),ci(jn(o,b,x),o.algorithm,k,!o.keysOnly&&o.valueMapper)])):ci(jn(o,b,x),Ma(o.algorithm,G),d,!o.keysOnly&&o.valueMapper)}function ci(o,d,x,b){var B=Ct(b?function(k,G,Y){return x(b(k),G,Y)}:x);return o.then(function(k){if(k)return k.start(function(){var G=function(){return k.continue()};d&&!d(k,function(Y){return G=Y},function(Y){k.stop(Y),G=O},function(Y){k.fail(Y),G=O})||B(k.value,k,function(Y){return G=Y}),G()})})}hn.prototype._read=function(o,d){var x=this._ctx;return x.error?x.table._trans(null,$t.bind(null,x.error)):x.table._trans("readonly",o).then(d)},hn.prototype._write=function(o){var d=this._ctx;return d.error?d.table._trans(null,$t.bind(null,d.error)):d.table._trans("readwrite",o,"locked")},hn.prototype._addAlgorithm=function(o){var d=this._ctx;d.algorithm=Ma(d.algorithm,o)},hn.prototype._iterate=function(o,d){return Cr(this._ctx,o,d,this._ctx.table.core)},hn.prototype.clone=function(o){var d=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return o&&w(x,o),d._ctx=x,d},hn.prototype.raw=function(){return this._ctx.valueMapper=null,this},hn.prototype.each=function(o){var d=this._ctx;return this._read(function(x){return Cr(d,o,x,d.table.core)})},hn.prototype.count=function(o){var d=this;return this._read(function(x){var b,B=d._ctx,k=B.table.core;return zn(B,!0)?k.count({trans:x,query:{index:Bt(B,k.schema),range:B.range}}).then(function(G){return Math.min(G,B.limit)}):(b=0,Cr(B,function(){return++b,!1},x,k).then(function(){return b}))}).then(o)},hn.prototype.sortBy=function(o,d){var x=o.split(".").reverse(),b=x[0],B=x.length-1;function k(ne,fe){return fe?k(ne[x[fe]],fe-1):ne[b]}var G=this._ctx.dir==="next"?1:-1;function Y(ne,fe){return ue(k(ne,B),k(fe,B))*G}return this.toArray(function(ne){return ne.sort(Y)}).then(d)},hn.prototype.toArray=function(o){var d=this;return this._read(function(x){var b,B,k,G=d._ctx;return G.dir==="next"&&zn(G,!0)&&0<G.limit?(b=G.valueMapper,B=Bt(G,G.table.core.schema),G.table.core.query({trans:x,limit:G.limit,values:!0,query:{index:B,range:G.range}}).then(function(Y){return Y=Y.result,b?Y.map(b):Y})):(k=[],Cr(G,function(Y){return k.push(Y)},x,G.table.core).then(function(){return k}))},o)},hn.prototype.offset=function(o){var d=this._ctx;return o<=0||(d.offset+=o,zn(d)?ge(d,function(){var x=o;return function(b,B){return x===0||(x===1?--x:B(function(){b.advance(x),x=0}),!1)}}):ge(d,function(){var x=o;return function(){return--x<0}})),this},hn.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),ge(this._ctx,function(){var d=o;return function(x,b,B){return--d<=0&&b(B),0<=d}},!0),this},hn.prototype.until=function(o,d){return Fe(this._ctx,function(x,b,B){return!o(x.value)||(b(B),d)}),this},hn.prototype.first=function(o){return this.limit(1).toArray(function(d){return d[0]}).then(o)},hn.prototype.last=function(o){return this.reverse().first(o)},hn.prototype.filter=function(o){var d;return Fe(this._ctx,function(x){return o(x.value)}),(d=this._ctx).isMatch=Ma(d.isMatch,o),this},hn.prototype.and=function(o){return this.filter(o)},hn.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},hn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},hn.prototype.desc=function(){return this.reverse()},hn.prototype.eachKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(x,b){o(b.key,b)})},hn.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},hn.prototype.eachPrimaryKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(x,b){o(b.primaryKey,b)})},hn.prototype.keys=function(o){var d=this._ctx,x=(d.keysOnly=!d.isMatch,[]);return this.each(function(b,B){x.push(B.key)}).then(function(){return x}).then(o)},hn.prototype.primaryKeys=function(o){var d=this._ctx;if(d.dir==="next"&&zn(d,!0)&&0<d.limit)return this._read(function(b){var B=Bt(d,d.table.core.schema);return d.table.core.query({trans:b,values:!1,limit:d.limit,query:{index:B,range:d.range}})}).then(function(b){return b.result}).then(o);d.keysOnly=!d.isMatch;var x=[];return this.each(function(b,B){x.push(B.primaryKey)}).then(function(){return x}).then(o)},hn.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},hn.prototype.firstKey=function(o){return this.limit(1).keys(function(d){return d[0]}).then(o)},hn.prototype.lastKey=function(o){return this.reverse().firstKey(o)},hn.prototype.distinct=function(){var o,d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];return d&&d.multi&&(o={},Fe(this._ctx,function(b){var b=b.primaryKey.toString(),B=R(o,b);return o[b]=!0,!B})),this},hn.prototype.modify=function(o){var d=this,x=this._ctx;return this._write(function(b){function B(Ee,Le){var Qe=Le.failures;me+=Ee-Le.numFailures;for(var Oe=0,je=A(Qe);Oe<je.length;Oe++){var it=je[Oe];pe.push(Qe[it])}}var k=typeof o=="function"?o:function(Ee){return Zt(Ee,o)},G=x.table.core,ce=G.schema.primaryKey,Y=ce.outbound,ne=ce.extractKey,fe=200,ce=d.db._options.modifyChunkSize,pe=(ce&&(fe=typeof ce=="object"?ce[G.name]||ce["*"]||200:ce),[]),me=0,ye=[],Ie=o===qt;return d.clone().primaryKeys().then(function(Ee){function Le(Oe){var je=Math.min(fe,Ee.length-Oe),it=Ee.slice(Oe,Oe+je);return(Ie?Promise.resolve([]):G.getMany({trans:b,keys:it,cache:"immutable"})).then(function(xt){var vt=[],ft=[],Nt=Y?[]:null,Et=Ie?it:[];if(!Ie)for(var mt=0;mt<je;++mt){var Dt=xt[mt],gn={value:se(Dt),primKey:Ee[Oe+mt]};k.call(gn,gn.value,gn)!==!1&&(gn.value==null?Et.push(Ee[Oe+mt]):Y||ue(ne(Dt),ne(gn.value))===0?(ft.push(gn.value),Y&&Nt.push(Ee[Oe+mt])):(Et.push(Ee[Oe+mt]),vt.push(gn.value)))}return Promise.resolve(0<vt.length&&G.mutate({trans:b,type:"add",values:vt}).then(function(Tn){for(var Wt in Tn.failures)Et.splice(parseInt(Wt),1);B(vt.length,Tn)})).then(function(){return(0<ft.length||Qe&&typeof o=="object")&&G.mutate({trans:b,type:"put",keys:Nt,values:ft,criteria:Qe,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<Oe}).then(function(Tn){return B(ft.length,Tn)})}).then(function(){return(0<Et.length||Qe&&Ie)&&G.mutate({trans:b,type:"delete",keys:Et,criteria:Qe,isAdditionalChunk:0<Oe}).then(function(Tn){return We(x.table,Et,Tn)}).then(function(Tn){return B(Et.length,Tn)})}).then(function(){return Ee.length>Oe+je&&Le(Oe+fe)})})}var Qe=zn(x)&&x.limit===1/0&&(typeof o!="function"||Ie)&&{index:x.index,range:x.range};return Le(0).then(function(){if(0<pe.length)throw new Ne("Error modifying one or more objects",pe,me,ye);return Ee.length})})})},hn.prototype.delete=function(){var o=this._ctx,d=o.range;return!zn(o)||o.table.schema.yProps||!o.isPrimKey&&d.type!==3?this.modify(qt):this._write(function(x){var b=o.table.core.schema.primaryKey,B=d;return o.table.core.count({trans:x,query:{index:b,range:B}}).then(function(k){return o.table.core.mutate({trans:x,type:"deleteRange",range:B}).then(function(ne){var Y=ne.failures,ne=ne.numFailures;if(ne)throw new Ne("Could not delete some values",Object.keys(Y).map(function(fe){return Y[fe]}),k-ne);return k-ne})})})};var co=hn;function hn(){}var qt=function(o,d){return d.value=null};function er(o,d){return o<d?-1:o===d?0:1}function Uo(o,d){return d<o?-1:o===d?0:1}function ra(o,d,x){return o=o instanceof or?new o.Collection(o):o,o._ctx.error=new(x||TypeError)(d),o}function xa(o){return new o.Collection(o,function(){return ms("")}).limit(0)}function Kr(ye,d,x,b){var B,k,G,Y,ne,fe,ce,pe=x.length;if(!x.every(function(Ee){return typeof Ee=="string"}))return ra(ye,hr);function me(Ee){B=Ee==="next"?function(Qe){return Qe.toUpperCase()}:function(Qe){return Qe.toLowerCase()},k=Ee==="next"?function(Qe){return Qe.toLowerCase()}:function(Qe){return Qe.toUpperCase()},G=Ee==="next"?er:Uo;var Le=x.map(function(Qe){return{lower:k(Qe),upper:B(Qe)}}).sort(function(Qe,Oe){return G(Qe.lower,Oe.lower)});Y=Le.map(function(Qe){return Qe.upper}),ne=Le.map(function(Qe){return Qe.lower}),ce=(fe=Ee)==="next"?"":b}me("next");var ye=new ye.Collection(ye,function(){return ca(Y[0],ne[pe-1]+b)}),Ie=(ye._ondirectionchange=function(Ee){me(Ee)},0);return ye._addAlgorithm(function(Ee,Le,Qe){var Oe=Ee.key;if(typeof Oe=="string"){var je=k(Oe);if(d(je,ne,Ie))return!0;for(var it=null,xt=Ie;xt<pe;++xt){var vt=((ft,Nt,Et,mt,Dt,gn)=>{for(var Tn=Math.min(ft.length,mt.length),Wt=-1,xn=0;xn<Tn;++xn){var lr=Nt[xn];if(lr!==mt[xn])return Dt(ft[xn],Et[xn])<0?ft.substr(0,xn)+Et[xn]+Et.substr(xn+1):Dt(ft[xn],mt[xn])<0?ft.substr(0,xn)+mt[xn]+Et.substr(xn+1):0<=Wt?ft.substr(0,Wt)+Nt[Wt]+Et.substr(Wt+1):null;Dt(ft[xn],lr)<0&&(Wt=xn)}return Tn<mt.length&&gn==="next"?ft+Et.substr(ft.length):Tn<ft.length&&gn==="prev"?ft.substr(0,Et.length):Wt<0?null:ft.substr(0,Wt)+mt[Wt]+Et.substr(Wt+1)})(Oe,je,Y[xt],ne[xt],G,fe);vt===null&&it===null?Ie=xt+1:(it===null||0<G(it,vt))&&(it=vt)}Le(it!==null?function(){Ee.continue(it+ce)}:Qe)}return!1}),ye}function ca(o,d,x,b){return{type:2,lower:o,upper:d,lowerOpen:x,upperOpen:b}}function ms(o){return{type:1,lower:o,upper:o}}Object.defineProperty(Wn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Wn.prototype.between=function(o,d,x,b){x=x!==!1,b=b===!0;try{return 0<this._cmp(o,d)||this._cmp(o,d)===0&&(x||b)&&(!x||!b)?xa(this):new this.Collection(this,function(){return ca(o,d,!x,!b)})}catch{return ra(this,dr)}},Wn.prototype.equals=function(o){return o==null?ra(this,dr):new this.Collection(this,function(){return ms(o)})},Wn.prototype.above=function(o){return o==null?ra(this,dr):new this.Collection(this,function(){return ca(o,void 0,!0)})},Wn.prototype.aboveOrEqual=function(o){return o==null?ra(this,dr):new this.Collection(this,function(){return ca(o,void 0,!1)})},Wn.prototype.below=function(o){return o==null?ra(this,dr):new this.Collection(this,function(){return ca(void 0,o,!1,!0)})},Wn.prototype.belowOrEqual=function(o){return o==null?ra(this,dr):new this.Collection(this,function(){return ca(void 0,o)})},Wn.prototype.startsWith=function(o){return typeof o!="string"?ra(this,hr):this.between(o,o+Zr,!0,!0)},Wn.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Kr(this,function(d,x){return d.indexOf(x[0])===0},[o],Zr)},Wn.prototype.equalsIgnoreCase=function(o){return Kr(this,function(d,x){return d===x[0]},[o],"")},Wn.prototype.anyOfIgnoreCase=function(){var o=Me.apply(Ue,arguments);return o.length===0?xa(this):Kr(this,function(d,x){return x.indexOf(d)!==-1},o,"")},Wn.prototype.startsWithAnyOfIgnoreCase=function(){var o=Me.apply(Ue,arguments);return o.length===0?xa(this):Kr(this,function(d,x){return x.some(function(b){return d.indexOf(b)===0})},o,Zr)},Wn.prototype.anyOf=function(){var o,d,x=this,b=Me.apply(Ue,arguments),B=this._cmp;try{b.sort(B)}catch{return ra(this,dr)}return b.length===0?xa(this):((o=new this.Collection(this,function(){return ca(b[0],b[b.length-1])}))._ondirectionchange=function(k){B=k==="next"?x._ascending:x._descending,b.sort(B)},d=0,o._addAlgorithm(function(k,G,Y){for(var ne=k.key;0<B(ne,b[d]);)if(++d===b.length)return G(Y),!1;return B(ne,b[d])===0||(G(function(){k.continue(b[d])}),!1)}),o)},Wn.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Wn.prototype.noneOf=function(){var o=Me.apply(Ue,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return ra(this,dr)}var d=o.reduce(function(x,b){return x?x.concat([[x[x.length-1][1],b]]):[[-1/0,b]]},null);return d.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},Wn.prototype.inAnyRange=function(o,Qe){var x=this,b=this._cmp,B=this._ascending,k=this._descending,G=this._min,Y=this._max;if(o.length===0)return xa(this);if(!o.every(function(Oe){return Oe[0]!==void 0&&Oe[1]!==void 0&&B(Oe[0],Oe[1])<=0}))return ra(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",W.InvalidArgument);var ne=!Qe||Qe.includeLowers!==!1,fe=Qe&&Qe.includeUppers===!0,ce,pe=B;function me(Oe,je){return pe(Oe[0],je[0])}try{(ce=o.reduce(function(Oe,je){for(var it=0,xt=Oe.length;it<xt;++it){var vt=Oe[it];if(b(je[0],vt[1])<0&&0<b(je[1],vt[0])){vt[0]=G(vt[0],je[0]),vt[1]=Y(vt[1],je[1]);break}}return it===xt&&Oe.push(je),Oe},[])).sort(me)}catch{return ra(this,dr)}var ye=0,Ie=fe?function(Oe){return 0<B(Oe,ce[ye][1])}:function(Oe){return 0<=B(Oe,ce[ye][1])},Ee=ne?function(Oe){return 0<k(Oe,ce[ye][0])}:function(Oe){return 0<=k(Oe,ce[ye][0])},Le=Ie,Qe=new this.Collection(this,function(){return ca(ce[0][0],ce[ce.length-1][1],!ne,!fe)});return Qe._ondirectionchange=function(Oe){pe=Oe==="next"?(Le=Ie,B):(Le=Ee,k),ce.sort(me)},Qe._addAlgorithm(function(Oe,je,it){for(var xt,vt=Oe.key;Le(vt);)if(++ye===ce.length)return je(it),!1;return!Ie(xt=vt)&&!Ee(xt)||(x._cmp(vt,ce[ye][1])===0||x._cmp(vt,ce[ye][0])===0||je(function(){pe===B?Oe.continue(ce[ye][0]):Oe.continue(ce[ye][1])}),!1)}),Qe},Wn.prototype.startsWithAnyOf=function(){var o=Me.apply(Ue,arguments);return o.every(function(d){return typeof d=="string"})?o.length===0?xa(this):this.inAnyRange(o.map(function(d){return[d,d+Zr]})):ra(this,"startsWithAnyOf() only works with strings")};var or=Wn;function Wn(){}function Sr(o){return Ct(function(d){return Yt(d),o(d.target.error),!1})}function Yt(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var bi="storagemutated",un="x-storagemutated-1",Mn=sr(null,bi),uo=(Ur.prototype._lock=function(){return K(!we.global),++this._reculock,this._reculock!==1||we.global||(we.lockOwnerFor=this),this},Ur.prototype._unlock=function(){if(K(!we.global),--this._reculock==0)for(we.global||(we.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{na(o[1],o[0])}catch{}}return this},Ur.prototype._locked=function(){return this._reculock&&we.lockOwnerFor!==this},Ur.prototype.create=function(o){var d=this;if(this.mode){var x=this.db.idbdb,b=this.db._state.dbOpenError;if(K(!this.idbtrans),!o&&!x)switch(b&&b.name){case"DatabaseClosedError":throw new W.DatabaseClosed(b);case"MissingAPIError":throw new W.MissingAPI(b.message,b);default:throw new W.OpenFailed(b)}if(!this.active)throw new W.TransactionInactive;K(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ct(function(B){Yt(B),d._reject(o.error)}),o.onabort=Ct(function(B){Yt(B),d.active&&d._reject(new W.Abort(o.error)),d.active=!1,d.on("abort").fire(B)}),o.oncomplete=Ct(function(){d.active=!1,d._resolve(),"mutatedParts"in o&&Mn.storagemutated.fire(o.mutatedParts)})}return this},Ur.prototype._promise=function(o,d,x){var b,B=this;return o==="readwrite"&&this.mode!=="readwrite"?$t(new W.ReadOnly("Transaction is readonly")):this.active?this._locked()?new et(function(k,G){B._blockedFuncs.push([function(){B._promise(o,d,x).then(k,G)},we])}):x?fn(function(){var k=new et(function(G,Y){B._lock();var ne=d(G,Y,B);ne&&ne.then&&ne.then(G,Y)});return k.finally(function(){return B._unlock()}),k._lib=!0,k}):((b=new et(function(k,G){var Y=d(k,G,B);Y&&Y.then&&Y.then(k,G)}))._lib=!0,b):$t(new W.TransactionInactive)},Ur.prototype._root=function(){return this.parent?this.parent._root():this},Ur.prototype.waitFor=function(o){var d,x=this._root(),b=et.resolve(o),B=(x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return b}):(x._waitingFor=b,x._waitingQueue=[],d=x.idbtrans.objectStore(x.storeNames[0]),(function k(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(d.get(-1/0).onsuccess=k)})()),x._waitingFor);return new et(function(k,G){b.then(function(Y){return x._waitingQueue.push(Ct(k.bind(null,Y)))},function(Y){return x._waitingQueue.push(Ct(G.bind(null,Y)))}).finally(function(){x._waitingFor===B&&(x._waitingFor=null)})})},Ur.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new W.Abort))},Ur.prototype.table=function(o){var d=this._memoizedTables||(this._memoizedTables={});if(R(d,o))return d[o];var x=this.schema[o];if(x)return(x=new this.db.Table(o,x,this)).core=this.db.core.table(o),d[o]=x;throw new W.NotFound("Table "+o+" not part of transaction")},Ur);function Ur(){}function va(o,d,x,b,B,k,G,Y){return{name:o,keyPath:d,unique:x,multi:b,auto:B,compound:k,src:(x&&!G?"&":"")+(b?"*":"")+(B?"++":"")+Ea(d),type:Y}}function Ea(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function wi(o,d,x){return{name:o,primKey:d,indexes:x,mappedClass:null,idxByName:(b=function(B){return[B.name,B]},x.reduce(function(B,k,G){return k=b(k,G),k&&(B[k[0]]=k[1]),B},{}))};var b}var Ia=function(o){try{return o.only([[]]),Ia=function(){return[[]]},[[]]}catch{return Ia=function(){return Zr},Zr}};function Sa(o){return o==null?function(){}:typeof o=="string"?(d=o).split(".").length===1?function(x){return x[d]}:function(x){return M(x,d)}:function(x){return M(x,o)};var d}function La(o){return[].slice.call(o)}var fo=0;function mr(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Aa(o,d,ne){function b(Ie){if(Ie.type===3)return null;if(Ie.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var pe=Ie.lower,me=Ie.upper,ye=Ie.lowerOpen,Ie=Ie.upperOpen;return pe===void 0?me===void 0?null:d.upperBound(me,!!Ie):me===void 0?d.lowerBound(pe,!!ye):d.bound(pe,me,!!ye,!!Ie)}function B(ce){var pe,me=ce.name;return{name:me,schema:ce,mutate:function(ye){var Ie=ye.trans,Ee=ye.type,Le=ye.keys,Qe=ye.values,Oe=ye.range;return new Promise(function(je,it){je=Ct(je);var xt=Ie.objectStore(me),vt=xt.keyPath==null,ft=Ee==="put"||Ee==="add";if(!ft&&Ee!=="delete"&&Ee!=="deleteRange")throw new Error("Invalid operation type: "+Ee);var Nt,Et=(Le||Qe||{length:1}).length;if(Le&&Qe&&Le.length!==Qe.length)throw new Error("Given keys array must have same length as given values array.");if(Et===0)return je({numFailures:0,failures:{},results:[],lastResult:void 0});function mt($n){++Tn,Yt($n)}var Dt=[],gn=[],Tn=0;if(Ee==="deleteRange"){if(Oe.type===4)return je({numFailures:Tn,failures:gn,results:[],lastResult:void 0});Oe.type===3?Dt.push(Nt=xt.clear()):Dt.push(Nt=xt.delete(b(Oe)))}else{var vt=ft?vt?[Qe,Le]:[Qe,null]:[Le,null],Wt=vt[0],xn=vt[1];if(ft)for(var lr=0;lr<Et;++lr)Dt.push(Nt=xn&&xn[lr]!==void 0?xt[Ee](Wt[lr],xn[lr]):xt[Ee](Wt[lr])),Nt.onerror=mt;else for(lr=0;lr<Et;++lr)Dt.push(Nt=xt[Ee](Wt[lr])),Nt.onerror=mt}function da($n){$n=$n.target.result,Dt.forEach(function(Bi,Ts){return Bi.error!=null&&(gn[Ts]=Bi.error)}),je({numFailures:Tn,failures:gn,results:Ee==="delete"?Le:Dt.map(function(Bi){return Bi.result}),lastResult:$n})}Nt.onerror=function($n){mt($n),da($n)},Nt.onsuccess=da})},getMany:function(ye){var Ie=ye.trans,Ee=ye.keys;return new Promise(function(Le,Qe){Le=Ct(Le);for(var Oe,je=Ie.objectStore(me),it=Ee.length,xt=new Array(it),vt=0,ft=0,Nt=function(Dt){Dt=Dt.target,xt[Dt._pos]=Dt.result,++ft===vt&&Le(xt)},Et=Sr(Qe),mt=0;mt<it;++mt)Ee[mt]!=null&&((Oe=je.get(Ee[mt]))._pos=mt,Oe.onsuccess=Nt,Oe.onerror=Et,++vt);vt===0&&Le(xt)})},get:function(ye){var Ie=ye.trans,Ee=ye.key;return new Promise(function(Le,Qe){Le=Ct(Le);var Oe=Ie.objectStore(me).get(Ee);Oe.onsuccess=function(je){return Le(je.target.result)},Oe.onerror=Sr(Qe)})},query:(pe=Y,function(ye){return new Promise(function(Ie,Ee){Ie=Ct(Ie);var Le,Qe,Oe,ft=ye.trans,je=ye.values,it=ye.limit,vt=ye.query,xt=it===1/0?void 0:it,Nt=vt.index,vt=vt.range,ft=ft.objectStore(me),ft=Nt.isPrimaryKey?ft:ft.index(Nt.name),Nt=b(vt);if(it===0)return Ie({result:[]});pe?((vt=je?ft.getAll(Nt,xt):ft.getAllKeys(Nt,xt)).onsuccess=function(Et){return Ie({result:Et.target.result})},vt.onerror=Sr(Ee)):(Le=0,Qe=!je&&"openKeyCursor"in ft?ft.openKeyCursor(Nt):ft.openCursor(Nt),Oe=[],Qe.onsuccess=function(Et){var mt=Qe.result;return!mt||(Oe.push(je?mt.value:mt.primaryKey),++Le===it)?Ie({result:Oe}):void mt.continue()},Qe.onerror=Sr(Ee))})}),openCursor:function(ye){var Ie=ye.trans,Ee=ye.values,Le=ye.query,Qe=ye.reverse,Oe=ye.unique;return new Promise(function(je,it){je=Ct(je);var ft=Le.index,xt=Le.range,vt=Ie.objectStore(me),vt=ft.isPrimaryKey?vt:vt.index(ft.name),ft=Qe?Oe?"prevunique":"prev":Oe?"nextunique":"next",Nt=!Ee&&"openKeyCursor"in vt?vt.openKeyCursor(b(xt),ft):vt.openCursor(b(xt),ft);Nt.onerror=Sr(it),Nt.onsuccess=Ct(function(Et){var mt,Dt,gn,Tn,Wt=Nt.result;Wt?(Wt.___id=++fo,Wt.done=!1,mt=Wt.continue.bind(Wt),Dt=(Dt=Wt.continuePrimaryKey)&&Dt.bind(Wt),gn=Wt.advance.bind(Wt),Tn=function(){throw new Error("Cursor not stopped")},Wt.trans=Ie,Wt.stop=Wt.continue=Wt.continuePrimaryKey=Wt.advance=function(){throw new Error("Cursor not started")},Wt.fail=Ct(it),Wt.next=function(){var xn=this,lr=1;return this.start(function(){return lr--?xn.continue():xn.stop()}).then(function(){return xn})},Wt.start=function(xn){function lr(){if(Nt.result)try{xn()}catch($n){Wt.fail($n)}else Wt.done=!0,Wt.start=function(){throw new Error("Cursor behind last entry")},Wt.stop()}var da=new Promise(function($n,Bi){$n=Ct($n),Nt.onerror=Sr(Bi),Wt.fail=Bi,Wt.stop=function(Ts){Wt.stop=Wt.continue=Wt.continuePrimaryKey=Wt.advance=Tn,$n(Ts)}});return Nt.onsuccess=Ct(function($n){Nt.onsuccess=lr,lr()}),Wt.continue=mt,Wt.continuePrimaryKey=Dt,Wt.advance=gn,lr(),da},je(Wt)):je(null)},it)})},count:function(ye){var Ie=ye.query,Ee=ye.trans,Le=Ie.index,Qe=Ie.range;return new Promise(function(Oe,je){var it=Ee.objectStore(me),it=Le.isPrimaryKey?it:it.index(Le.name),xt=b(Qe),xt=xt?it.count(xt):it.count();xt.onsuccess=Ct(function(vt){return Oe(vt.target.result)}),xt.onerror=Sr(je)})}}}k=ne,G=La((ne=o).objectStoreNames);var k,ne={schema:{name:ne.name,tables:G.map(function(ce){return k.objectStore(ce)}).map(function(ce){var pe=ce.keyPath,me=ce.autoIncrement,Ie=p(pe),ye={},Ie={name:ce.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:pe==null,compound:Ie,keyPath:pe,autoIncrement:me,unique:!0,extractKey:Sa(pe)},indexes:La(ce.indexNames).map(function(Ee){return ce.index(Ee)}).map(function(Oe){var je=Oe.name,Le=Oe.unique,Qe=Oe.multiEntry,Oe=Oe.keyPath,je={name:je,compound:p(Oe),keyPath:Oe,unique:Le,multiEntry:Qe,extractKey:Sa(Oe)};return ye[mr(Oe)]=je}),getIndexByKeyPath:function(Ee){return ye[mr(Ee)]}};return ye[":id"]=Ie.primaryKey,pe!=null&&(ye[mr(pe)]=Ie.primaryKey),Ie})},hasGetAll:0<G.length&&"getAll"in k.objectStore(G[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},G=ne.schema,Y=ne.hasGetAll,ne=G.tables.map(B),fe={};return ne.forEach(function(ce){return fe[ce.name]=ce}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(ce){if(fe[ce])return fe[ce];throw new Error("Table '".concat(ce,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Ia(d),schema:G}}function Rr(o,d,x,b){return x=x.IDBKeyRange,d=Aa(d,x,b),{dbcore:o.dbcore.reduce(function(B,k){return k=k.create,f(f({},B),k(B))},d)}}function Ua(o,d){var x=d.db,x=Rr(o._middlewares,x,o._deps,d);o.core=x.dbcore,o.tables.forEach(function(b){var B=b.name;o.core.schema.tables.some(function(k){return k.name===B})&&(b.core=o.core.table(B),o[B]instanceof o.Table)&&(o[B].core=b.core)})}function Qi(o,d,x,b){x.forEach(function(B){var k=b[B];d.forEach(function(G){var Y=(function ne(fe,ce){return H(fe,ce)||(fe=C(fe))&&ne(fe,ce)})(G,B);(!Y||"value"in Y&&Y.value===void 0)&&(G===o.Transaction.prototype||G instanceof o.Transaction?V(G,B,{get:function(){return this.table(B)},set:function(ne){_(this,B,{value:ne,writable:!0,configurable:!0,enumerable:!0})}}):G[B]=new o.Table(B,k))})})}function Ei(o,d){d.forEach(function(x){for(var b in x)x[b]instanceof o.Table&&delete x[b]})}function ho(o,d){return o._cfg.version-d._cfg.version}function Hi(o,d,x,b){var B=o._dbSchema,k=(x.objectStoreNames.contains("$meta")&&!B.$meta&&(B.$meta=wi("$meta",mn("")[0],[]),o._storeNames.push("$meta")),o._createTransaction("readwrite",o._storeNames,B)),G=(k.create(x),k._completion.catch(b),k._reject.bind(k)),Y=we.transless||we;fn(function(){if(we.trans=k,we.transless=Y,d!==0)return Ua(o,x),fe=d,((ne=k).storeNames.includes("$meta")?ne.table("$meta").get("version").then(function(ce){return ce??fe}):et.resolve(fe)).then(function(Le){var pe=o,me=Le,ye=k,Ie=x,Ee=[],Le=pe._versions,Qe=pe._dbSchema=Ii(0,pe.idbdb,Ie);return(Le=Le.filter(function(Oe){return Oe._cfg.version>=me})).length===0?et.resolve():(Le.forEach(function(Oe){Ee.push(function(){var je,it,xt,vt=Qe,ft=Oe._cfg.dbschema,Nt=(qe(pe,vt,Ie),qe(pe,ft,Ie),Qe=pe._dbSchema=ft,Fn(vt,ft)),Et=(Nt.add.forEach(function(mt){vs(Ie,mt[0],mt[1].primKey,mt[1].indexes)}),Nt.change.forEach(function(mt){if(mt.recreate)throw new W.Upgrade("Not yet support for changing primary key");var Dt=Ie.objectStore(mt.name);mt.add.forEach(function(gn){return Ca(Dt,gn)}),mt.change.forEach(function(gn){Dt.deleteIndex(gn.name),Ca(Dt,gn)}),mt.del.forEach(function(gn){return Dt.deleteIndex(gn)})}),Oe._cfg.contentUpgrade);if(Et&&Oe._cfg.version>me)return Ua(pe,Ie),ye._memoizedTables={},je=E(ft),Nt.del.forEach(function(mt){je[mt]=vt[mt]}),Ei(pe,[pe.Transaction.prototype]),Qi(pe,[pe.Transaction.prototype],A(je),je),ye.schema=je,(it=Ae(Et))&&Jt(),ft=et.follow(function(){var mt;(xt=Et(ye))&&it&&(mt=Ar.bind(null,null),xt.then(mt,mt))}),xt&&typeof xt.then=="function"?et.resolve(xt):ft.then(function(){return xt})}),Ee.push(function(je){var it,xt,vt=Oe._cfg.dbschema;it=vt,xt=je,[].slice.call(xt.db.objectStoreNames).forEach(function(ft){return it[ft]==null&&xt.db.deleteObjectStore(ft)}),Ei(pe,[pe.Transaction.prototype]),Qi(pe,[pe.Transaction.prototype],pe._storeNames,pe._dbSchema),ye.schema=pe._dbSchema}),Ee.push(function(je){pe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(pe.idbdb.version/10)===Oe._cfg.version?(pe.idbdb.deleteObjectStore("$meta"),delete pe._dbSchema.$meta,pe._storeNames=pe._storeNames.filter(function(it){return it!=="$meta"})):je.objectStore("$meta").put(Oe._cfg.version,"version"))})}),(function Oe(){return Ee.length?et.resolve(Ee.shift()(ye.idbtrans)).then(Oe):et.resolve()})().then(function(){Gi(Qe,Ie)}))}).catch(G);var ne,fe;A(B).forEach(function(ce){vs(x,ce,B[ce].primKey,B[ce].indexes)}),Ua(o,x),et.follow(function(){return o.on.populate.fire(k)}).catch(G)})}function xs(o,d){Gi(o._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var x=Ii(0,o.idbdb,d);qe(o,o._dbSchema,d);for(var b=0,B=Fn(x,o._dbSchema).change;b<B.length;b++){var k=(G=>{if(G.change.length||G.recreate)return console.warn("Unable to patch indexes of table ".concat(G.name," because it has changes on the type of index or primary key.")),{value:void 0};var Y=d.objectStore(G.name);G.add.forEach(function(ne){Ye&&console.debug("Dexie upgrade patch: Creating missing index ".concat(G.name,".").concat(ne.src)),Ca(Y,ne)})})(B[b]);if(typeof k=="object")return k.value}}function Fn(o,d){var x,b={del:[],add:[],change:[]};for(x in o)d[x]||b.del.push(x);for(x in d){var B=o[x],k=d[x];if(B){var G={name:x,def:k,recreate:!1,del:[],add:[],change:[]};if(""+(B.primKey.keyPath||"")!=""+(k.primKey.keyPath||"")||B.primKey.auto!==k.primKey.auto)G.recreate=!0,b.change.push(G);else{var Y=B.idxByName,ne=k.idxByName,fe=void 0;for(fe in Y)ne[fe]||G.del.push(fe);for(fe in ne){var ce=Y[fe],pe=ne[fe];ce?ce.src!==pe.src&&G.change.push(pe):G.add.push(pe)}(0<G.del.length||0<G.add.length||0<G.change.length)&&b.change.push(G)}}else b.add.push([x,k])}return b}function vs(o,d,x,b){var B=o.db.createObjectStore(d,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});b.forEach(function(k){return Ca(B,k)})}function Gi(o,d){A(o).forEach(function(x){d.db.objectStoreNames.contains(x)||(Ye&&console.debug("Dexie: Creating missing table",x),vs(d,x,o[x].primKey,o[x].indexes))})}function Ca(o,d){o.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Ii(o,d,x){var b={};return F(d.objectStoreNames,0).forEach(function(B){for(var k=x.objectStore(B),G=va(Ea(fe=k.keyPath),fe||"",!0,!1,!!k.autoIncrement,fe&&typeof fe!="string",!0),Y=[],ne=0;ne<k.indexNames.length;++ne){var ce=k.index(k.indexNames[ne]),fe=ce.keyPath,ce=va(ce.name,fe,!!ce.unique,!!ce.multiEntry,!1,fe&&typeof fe!="string",!1);Y.push(ce)}b[B]=wi(B,G,Y)}),b}function qe(o,d,x){for(var b=x.db.objectStoreNames,B=0;B<b.length;++B){var k=b[B],G=x.objectStore(k);o._hasGetAll="getAll"in G;for(var Y=0;Y<G.indexNames.length;++Y){var ne,fe=G.indexNames[Y],ce=G.index(fe).keyPath,ce=typeof ce=="string"?ce:"["+F(ce).join("+")+"]";d[k]&&(ne=d[k].idxByName[ce])&&(ne.name=fe,delete d[k].idxByName[ce],d[k].idxByName[fe]=ne)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&m.WorkerGlobalScope&&m instanceof m.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function mn(o){return o.split(",").map(function(d,x){var B=d.split(":"),b=(b=B[1])==null?void 0:b.trim(),B=(d=B[0].trim()).replace(/([&*]|\+\+)/g,""),k=/^\[/.test(B)?B.match(/^\[(.*)\]$/)[1].split("+"):B;return va(B,k||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),p(k),x===0,b)})}Fa.prototype._createTableSchema=wi,Fa.prototype._parseIndexSyntax=mn,Fa.prototype._parseStoresSpec=function(o,d){var x=this;A(o).forEach(function(b){if(o[b]!==null){var B=x._parseIndexSyntax(o[b]),k=B.shift();if(!k)throw new W.Schema("Invalid schema for table "+b+": "+o[b]);if(k.unique=!0,k.multi)throw new W.Schema("Primary key cannot be multiEntry*");B.forEach(function(G){if(G.auto)throw new W.Schema("Only primary key can be marked as autoIncrement (++)");if(!G.keyPath)throw new W.Schema("Index must have a name and cannot be an empty string")}),k=x._createTableSchema(b,k,B),d[b]=k}})},Fa.prototype.stores=function(x){var d=this.db,x=(this._cfg.storesSource=this._cfg.storesSource?w(this._cfg.storesSource,x):x,d._versions),b={},B={};return x.forEach(function(k){w(b,k._cfg.storesSource),B=k._cfg.dbschema={},k._parseStoresSpec(b,B)}),d._dbSchema=B,Ei(d,[d._allTables,d,d.Transaction.prototype]),Qi(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],A(B),B),d._storeNames=A(B),this},Fa.prototype.upgrade=function(o){return this._cfg.contentUpgrade=pt(this._cfg.contentUpgrade||O,o),this};var Or=Fa;function Fa(){}function As(o,d){var x=o._dbNamesDB;return x||(x=o._dbNamesDB=new Ta(Dr,{addons:[],indexedDB:o,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function Cs(o){return o&&typeof o.databases=="function"}function go(o){return fn(function(){return we.letThrough=!0,o()})}function po(o){return!("from"in o)}var Tr=function(o,d){var x;if(!this)return x=new Tr,o&&"d"in o&&w(x,o),x;w(this,arguments.length?{d:1,from:o,to:1<arguments.length?d:o}:{d:0})};function gr(o,d,x){var b=ue(d,x);if(!isNaN(b)){if(0<b)throw RangeError();if(po(o))return w(o,{from:d,to:x,d:1});var b=o.l,B=o.r;if(ue(x,o.from)<0)return b?gr(b,d,x):o.l={from:d,to:x,d:1,l:null,r:null},Ja(o);if(0<ue(d,o.to))return B?gr(B,d,x):o.r={from:d,to:x,d:1,l:null,r:null},Ja(o);ue(d,o.from)<0&&(o.from=d,o.l=null,o.d=B?B.d+1:1),0<ue(x,o.to)&&(o.to=x,o.r=null,o.d=o.l?o.l.d+1:1),d=!o.r,b&&!o.l&&Pa(o,b),B&&d&&Pa(o,B)}}function Pa(o,d){po(d)||(function x(b,B){var k=B.from,G=B.l,Y=B.r;gr(b,k,B.to),G&&x(b,G),Y&&x(b,Y)})(o,d)}function pr(o,d){var x=ui(d),b=x.next();if(!b.done)for(var B=b.value,k=ui(o),G=k.next(B.from),Y=G.value;!b.done&&!G.done;){if(ue(Y.from,B.to)<=0&&0<=ue(Y.to,B.from))return!0;ue(B.from,Y.from)<0?B=(b=x.next(Y.from)).value:Y=(G=k.next(B.from)).value}return!1}function ui(o){var d=po(o)?null:{s:0,n:o};return{next:function(x){for(var b=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,b)for(;d.n.l&&ue(x,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!b||ue(x,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Ja(o){var d,x,b,B=(((B=o.r)==null?void 0:B.d)||0)-(((B=o.l)==null?void 0:B.d)||0),B=1<B?"r":B<-1?"l":"";B&&(d=B=="r"?"l":"r",x=f({},o),b=o[B],o.from=b.from,o.to=b.to,o[B]=b[B],x[B]=b[d],(o[d]=x).d=Kn(x)),o.d=Kn(o)}function Kn(x){var d=x.r,x=x.l;return(d?x?Math.max(d.d,x.d):d.d:x?x.d:0)+1}function Xt(o,d){return A(d).forEach(function(x){o[x]?Pa(o[x],d[x]):o[x]=(function b(B){var k,G,Y={};for(k in B)R(B,k)&&(G=B[k],Y[k]=!G||typeof G!="object"||de.has(G.constructor)?G:b(G));return Y})(d[x])}),o}function yo(o,d){return o.all||d.all||Object.keys(o).some(function(x){return d[x]&&pr(d[x],o[x])})}L(Tr.prototype,((Ht={add:function(o){return Pa(this,o),this},addKey:function(o){return gr(this,o,o),this},addKeys:function(o){var d=this;return o.forEach(function(x){return gr(d,x,x)}),this},hasKey:function(o){var d=ui(this).next(o).value;return d&&ue(d.from,o)<=0&&0<=ue(d.to,o)}})[he]=function(){return ui(this)},Ht));var Pn={},Va={},$a=!1;function bs(o){Xt(Va,o),$a||($a=!0,setTimeout(function(){$a=!1,ua(Va,!(Va={}))},0))}function ua(o,d){d===void 0&&(d=!1);var x=new Set;if(o.all)for(var b=0,B=Object.values(Pn);b<B.length;b++)ws(Y=B[b],o,x,d);else for(var k in o){var G,Y,k=/^idb\:\/\/(.*)\/(.*)\//.exec(k);k&&(G=k[1],k=k[2],Y=Pn["idb://".concat(G,"/").concat(k)])&&ws(Y,o,x,d)}x.forEach(function(ne){return ne()})}function ws(o,d,x,b){for(var B=[],k=0,G=Object.entries(o.queries.query);k<G.length;k++){for(var Y=G[k],ne=Y[0],fe=[],ce=0,pe=Y[1];ce<pe.length;ce++){var me=pe[ce];yo(d,me.obsSet)?me.subscribers.forEach(function(Le){return x.add(Le)}):b&&fe.push(me)}b&&B.push([ne,fe])}if(b)for(var ye=0,Ie=B;ye<Ie.length;ye++){var Ee=Ie[ye],ne=Ee[0],fe=Ee[1];o.queries.query[ne]=fe}}function Fo(o){var d=o._state,x=o._deps.indexedDB;if(d.isBeingOpened||o.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?$t(d.dbOpenError):o});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var b=d.openCanceller,B=Math.round(10*o.verno),k=!1;function G(){if(d.openCanceller!==b)throw new W.DatabaseClosed("db.open() was cancelled")}function Y(){return new et(function(me,ye){if(G(),!x)throw new W.MissingAPI;var Ie=o.name,Ee=d.autoSchema||!B?x.open(Ie):x.open(Ie,B);if(!Ee)throw new W.MissingAPI;Ee.onerror=Sr(ye),Ee.onblocked=Ct(o._fireOnBlocked),Ee.onupgradeneeded=Ct(function(Le){var Qe;ce=Ee.transaction,d.autoSchema&&!o._options.allowEmptyDB?(Ee.onerror=Yt,ce.abort(),Ee.result.close(),(Qe=x.deleteDatabase(Ie)).onsuccess=Qe.onerror=Ct(function(){ye(new W.NoSuchDatabase("Database ".concat(Ie," doesnt exist")))})):(ce.onerror=Sr(ye),Qe=Le.oldVersion>Math.pow(2,62)?0:Le.oldVersion,pe=Qe<1,o.idbdb=Ee.result,k&&xs(o,ce),Hi(o,Qe/10,ce,ye))},ye),Ee.onsuccess=Ct(function(){ce=null;var Le,Qe,Oe,je,it,xt,vt=o.idbdb=Ee.result,ft=F(vt.objectStoreNames);if(0<ft.length)try{var Nt=vt.transaction((it=ft).length===1?it[0]:it,"readonly");if(d.autoSchema)xt=vt,je=Nt,(Oe=o).verno=xt.version/10,je=Oe._dbSchema=Ii(0,xt,je),Oe._storeNames=F(xt.objectStoreNames,0),Qi(Oe,[Oe._allTables],A(je),je);else if(qe(o,o._dbSchema,Nt),Qe=Nt,((Qe=Fn(Ii(0,(Le=o).idbdb,Qe),Le._dbSchema)).add.length||Qe.change.some(function(Et){return Et.add.length||Et.change.length}))&&!k)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),vt.close(),B=vt.version+1,k=!0,me(Y());Ua(o,Nt)}catch{}lt.push(o),vt.onversionchange=Ct(function(Et){d.vcFired=!0,o.on("versionchange").fire(Et)}),vt.onclose=Ct(function(){o.close({disableAutoOpen:!1})}),pe&&(ft=o._deps,it=Ie,Cs(xt=ft.indexedDB)||it===Dr||As(xt,ft.IDBKeyRange).put({name:it}).catch(O)),me()},ye)}).catch(function(me){switch(me==null?void 0:me.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Y();break;case"VersionError":if(0<B)return B=0,Y()}return et.reject(me)})}var ne,fe=d.dbReadyResolve,ce=null,pe=!1;return et.race([b,(typeof navigator>"u"?et.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(me){function ye(){return indexedDB.databases().finally(me)}ne=setInterval(ye,100),ye()}).finally(function(){return clearInterval(ne)}):Promise.resolve()).then(Y)]).then(function(){return G(),d.onReadyBeingFired=[],et.resolve(go(function(){return o.on.ready.fire(o.vip)})).then(function me(){var ye;if(0<d.onReadyBeingFired.length)return ye=d.onReadyBeingFired.reduce(pt,O),d.onReadyBeingFired=[],et.resolve(go(function(){return ye(o.vip)})).then(me)})}).finally(function(){d.openCanceller===b&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(me){d.dbOpenError=me;try{ce&&ce.abort()}catch{}return b===d.openCanceller&&o._close(),$t(me)}).finally(function(){d.openComplete=!0,fe()}).then(function(){var me;return pe&&(me={},o.tables.forEach(function(ye){ye.schema.indexes.forEach(function(Ie){Ie.name&&(me["idb://".concat(o.name,"/").concat(ye.name,"/").concat(Ie.name)]=new Tr(-1/0,[[[]]]))}),me["idb://".concat(o.name,"/").concat(ye.name,"/")]=me["idb://".concat(o.name,"/").concat(ye.name,"/:dels")]=new Tr(-1/0,[[[]]])}),Mn(bi).fire(me),ua(me,!0)),o})}function fi(o){function d(k){return o.next(k)}var x=B(d),b=B(function(k){return o.throw(k)});function B(k){return function(Y){var Y=k(Y),ne=Y.value;return Y.done?ne:ne&&typeof ne.then=="function"?ne.then(x,b):p(ne)?Promise.all(ne).then(x,b):x(ne)}}return B(d)()}function Qa(o,d,x){for(var b=p(o)?o.slice():[o],B=0;B<x;++B)b.push(d);return b}var Po={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return f(f({},o),{table:function(b){var x=o.table(b),b=x.schema,B={},k=[];function G(me,ye,Ie){var Oe=mr(me),Ee=B[Oe]=B[Oe]||[],Le=me==null?0:typeof me=="string"?1:me.length,Qe=0<ye,Oe=f(f({},Ie),{name:Qe?"".concat(Oe,"(virtual-from:").concat(Ie.name,")"):Ie.name,lowLevelIndex:Ie,isVirtual:Qe,keyTail:ye,keyLength:Le,extractKey:Sa(me),unique:!Qe&&Ie.unique});return Ee.push(Oe),Oe.isPrimaryKey||k.push(Oe),1<Le&&G(Le===2?me[0]:me.slice(0,Le-1),ye+1,Ie),Ee.sort(function(je,it){return je.keyTail-it.keyTail}),Oe}var Y=G(b.primaryKey.keyPath,0,b.primaryKey);B[":id"]=[Y];for(var ne=0,fe=b.indexes;ne<fe.length;ne++){var ce=fe[ne];G(ce.keyPath,0,ce)}function pe(me){var ye,Ie=me.query.index;return Ie.isVirtual?f(f({},me),{query:{index:Ie.lowLevelIndex,range:(ye=me.query.range,Ie=Ie.keyTail,{type:ye.type===1?2:ye.type,lower:Qa(ye.lower,ye.lowerOpen?o.MAX_KEY:o.MIN_KEY,Ie),lowerOpen:!0,upper:Qa(ye.upper,ye.upperOpen?o.MIN_KEY:o.MAX_KEY,Ie),upperOpen:!0})}}):me}return f(f({},x),{schema:f(f({},b),{primaryKey:Y,indexes:k,getIndexByKeyPath:function(me){return(me=B[mr(me)])&&me[0]}}),count:function(me){return x.count(pe(me))},query:function(me){return x.query(pe(me))},openCursor:function(me){var ye=me.query.index,Ie=ye.keyTail,Ee=ye.keyLength;return ye.isVirtual?x.openCursor(pe(me)).then(function(Qe){return Qe&&Le(Qe)}):x.openCursor(me);function Le(Qe){return Object.create(Qe,{continue:{value:function(Oe){Oe!=null?Qe.continue(Qa(Oe,me.reverse?o.MAX_KEY:o.MIN_KEY,Ie)):me.unique?Qe.continue(Qe.key.slice(0,Ee).concat(me.reverse?o.MIN_KEY:o.MAX_KEY,Ie)):Qe.continue()}},continuePrimaryKey:{value:function(Oe,je){Qe.continuePrimaryKey(Qa(Oe,o.MAX_KEY,Ie),je)}},primaryKey:{get:function(){return Qe.primaryKey}},key:{get:function(){var Oe=Qe.key;return Ee===1?Oe[0]:Oe.slice(0,Ee)}},value:{get:function(){return Qe.value}}})}}})}})}};function Es(o,d,x,b){return x=x||{},b=b||"",A(o).forEach(function(B){var k,G,Y;R(d,B)?(k=o[B],G=d[B],typeof k=="object"&&typeof G=="object"&&k&&G?(Y=oe(k))!==oe(G)?x[b+B]=d[B]:Y==="Object"?Es(k,G,x,b+B+"."):k!==G&&(x[b+B]=d[B]):k!==G&&(x[b+B]=d[B])):x[b+B]=void 0}),A(d).forEach(function(B){R(o,B)||(x[b+B]=d[B])}),x}function Ha(o,d){return d.type==="delete"?d.keys:d.keys||d.values.map(o.extractKey)}var Is={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return f(f({},o),{table:function(d){var x=o.table(d),b=x.schema.primaryKey;return f(f({},x),{mutate:function(B){var k=we.trans,G=k.table(d).hook,Y=G.deleting,ne=G.creating,fe=G.updating;switch(B.type){case"add":if(ne.fire===O)break;return k._promise("readwrite",function(){return ce(B)},!0);case"put":if(ne.fire===O&&fe.fire===O)break;return k._promise("readwrite",function(){return ce(B)},!0);case"delete":if(Y.fire===O)break;return k._promise("readwrite",function(){return ce(B)},!0);case"deleteRange":if(Y.fire===O)break;return k._promise("readwrite",function(){return(function pe(me,ye,Ie){return x.query({trans:me,values:!1,query:{index:b,range:ye},limit:Ie}).then(function(Ee){var Le=Ee.result;return ce({type:"delete",keys:Le,trans:me}).then(function(Qe){return 0<Qe.numFailures?Promise.reject(Qe.failures[0]):Le.length<Ie?{failures:[],numFailures:0,lastResult:void 0}:pe(me,f(f({},ye),{lower:Le[Le.length-1],lowerOpen:!0}),Ie)})})})(B.trans,B.range,1e4)},!0)}return x.mutate(B);function ce(pe){var me,ye,Ie,Ee=we.trans,Le=pe.keys||Ha(b,pe);if(Le)return(pe=pe.type==="add"||pe.type==="put"?f(f({},pe),{keys:Le}):f({},pe)).type!=="delete"&&(pe.values=v([],pe.values)),pe.keys&&(pe.keys=v([],pe.keys)),me=x,Ie=Le,((ye=pe).type==="add"?Promise.resolve([]):me.getMany({trans:ye.trans,keys:Ie,cache:"immutable"})).then(function(Qe){var Oe=Le.map(function(je,it){var xt,vt,ft,Nt=Qe[it],Et={onerror:null,onsuccess:null};return pe.type==="delete"?Y.fire.call(Et,je,Nt,Ee):pe.type==="add"||Nt===void 0?(xt=ne.fire.call(Et,je,pe.values[it],Ee),je==null&&xt!=null&&(pe.keys[it]=je=xt,b.outbound||I(pe.values[it],b.keyPath,je))):(xt=Es(Nt,pe.values[it]),(vt=fe.fire.call(Et,xt,je,Nt,Ee))&&(ft=pe.values[it],Object.keys(vt).forEach(function(mt){R(ft,mt)?ft[mt]=vt[mt]:I(ft,mt,vt[mt])}))),Et});return x.mutate(pe).then(function(je){for(var it=je.failures,xt=je.results,vt=je.numFailures,je=je.lastResult,ft=0;ft<Le.length;++ft){var Nt=(xt||Le)[ft],Et=Oe[ft];Nt==null?Et.onerror&&Et.onerror(it[ft]):Et.onsuccess&&Et.onsuccess(pe.type==="put"&&Qe[ft]?pe.values[ft]:Nt)}return{failures:it,results:xt,numFailures:vt,lastResult:je}}).catch(function(je){return Oe.forEach(function(it){return it.onerror&&it.onerror(je)}),Promise.reject(je)})});throw new Error("Keys missing")}}})}})}};function mo(o,d,x){try{if(!d||d.keys.length<o.length)return null;for(var b=[],B=0,k=0;B<d.keys.length&&k<o.length;++B)ue(d.keys[B],o[k])===0&&(b.push(x?se(d.values[B]):d.values[B]),++k);return b.length===o.length?b:null}catch{return null}}var Si={stack:"dbcore",level:-1,create:function(o){return{table:function(d){var x=o.table(d);return f(f({},x),{getMany:function(b){var B;return b.cache?(B=mo(b.keys,b.trans._cache,b.cache==="clone"))?et.resolve(B):x.getMany(b).then(function(k){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?se(k):k},k}):x.getMany(b)},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),x.mutate(b)}})}}}};function di(o,d){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function Ga(o,d){switch(o){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ss={stack:"dbcore",level:0,name:"Observability",create:function(o){var d=o.schema.name,x=new Tr(o.MIN_KEY,o.MAX_KEY);return f(f({},o),{transaction:function(b,B,k){if(we.subscr&&B!=="readonly")throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(we.querier));return o.transaction(b,B,k)},table:function(b){function B(Le){var Ee,Le=Le.query;return[Ee=Le.index,new Tr((Ee=(Le=Le.range).lower)!=null?Ee:o.MIN_KEY,(Ee=Le.upper)!=null?Ee:o.MAX_KEY)]}var k=o.table(b),G=k.schema,Y=G.primaryKey,ne=G.indexes,fe=Y.extractKey,ce=Y.outbound,pe=Y.autoIncrement&&ne.filter(function(Ie){return Ie.compound&&Ie.keyPath.includes(Y.keyPath)}),me=f(f({},k),{mutate:function(Ie){function Ee(Dt){return Dt="idb://".concat(d,"/").concat(b,"/").concat(Dt),it[Dt]||(it[Dt]=new Tr)}var Le,Qe,Oe,je=Ie.trans,it=Ie.mutatedParts||(Ie.mutatedParts={}),xt=Ee(""),vt=Ee(":dels"),ft=Ie.type,Et=Ie.type==="deleteRange"?[Ie.range]:Ie.type==="delete"?[Ie.keys]:Ie.values.length<50?[Ha(Y,Ie).filter(function(Dt){return Dt}),Ie.values]:[],Nt=Et[0],Et=Et[1],mt=Ie.trans._cache;return p(Nt)?(xt.addKeys(Nt),(ft=ft==="delete"||Nt.length===Et.length?mo(Nt,mt):null)||vt.addKeys(Nt),(ft||Et)&&(Le=Ee,Qe=ft,Oe=Et,G.indexes.forEach(function(Dt){var gn=Le(Dt.name||"");function Tn(xn){return xn!=null?Dt.extractKey(xn):null}function Wt(xn){Dt.multiEntry&&p(xn)?xn.forEach(function(lr){return gn.addKey(lr)}):gn.addKey(xn)}(Qe||Oe).forEach(function(xn,$n){var da=Qe&&Tn(Qe[$n]),$n=Oe&&Tn(Oe[$n]);ue(da,$n)!==0&&(da!=null&&Wt(da),$n!=null)&&Wt($n)})}))):Nt?(Et={from:(mt=Nt.lower)!=null?mt:o.MIN_KEY,to:(ft=Nt.upper)!=null?ft:o.MAX_KEY},vt.add(Et),xt.add(Et)):(xt.add(x),vt.add(x),G.indexes.forEach(function(Dt){return Ee(Dt.name).add(x)})),k.mutate(Ie).then(function(Dt){return!Nt||Ie.type!=="add"&&Ie.type!=="put"||(xt.addKeys(Dt.results),pe&&pe.forEach(function(gn){for(var Tn=Ie.values.map(function(da){return gn.extractKey(da)}),Wt=gn.keyPath.findIndex(function(da){return da===Y.keyPath}),xn=0,lr=Dt.results.length;xn<lr;++xn)Tn[xn][Wt]=Dt.results[xn];Ee(gn.name).addKeys(Tn)})),je.mutatedParts=Xt(je.mutatedParts||{},it),Dt})}}),ye={get:function(Ie){return[Y,new Tr(Ie.key)]},getMany:function(Ie){return[Y,new Tr().addKeys(Ie.keys)]},count:B,query:B,openCursor:B};return A(ye).forEach(function(Ie){me[Ie]=function(Ee){var Le=we.subscr,Qe=!!Le,Oe=di(we,k)&&Ga(Ie,Ee)?Ee.obsSet={}:Le;if(Qe){var je,Le=function(Et){return Et="idb://".concat(d,"/").concat(b,"/").concat(Et),Oe[Et]||(Oe[Et]=new Tr)},it=Le(""),xt=Le(":dels"),Qe=ye[Ie](Ee),vt=Qe[0],Qe=Qe[1];if((Ie==="query"&&vt.isPrimaryKey&&!Ee.values?xt:Le(vt.name||"")).add(Qe),!vt.isPrimaryKey){if(Ie!=="count")return je=Ie==="query"&&ce&&Ee.values&&k.query(f(f({},Ee),{values:!1})),k[Ie].apply(this,arguments).then(function(Et){if(Ie==="query"){if(ce&&Ee.values)return je.then(function(Tn){return Tn=Tn.result,it.addKeys(Tn),Et});var mt=Ee.values?Et.result.map(fe):Et.result;(Ee.values?it:xt).addKeys(mt)}else{var Dt,gn;if(Ie==="openCursor")return gn=Ee.values,(Dt=Et)&&Object.create(Dt,{key:{get:function(){return xt.addKey(Dt.primaryKey),Dt.key}},primaryKey:{get:function(){var Tn=Dt.primaryKey;return xt.addKey(Tn),Tn}},value:{get:function(){return gn&&it.addKey(Dt.primaryKey),Dt.value}}})}return Et});xt.add(x)}}return k[Ie].apply(this,arguments)}}),me}})}};function aa(o,d,x){var b;return x.numFailures===0?d:d.type==="deleteRange"||(b=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1,x.numFailures===b)?null:(b=f({},d),p(b.keys)&&(b.keys=b.keys.filter(function(B,k){return!(k in x.failures)})),"values"in b&&p(b.values)&&(b.values=b.values.filter(function(B,k){return!(k in x.failures)})),b)}function ji(o,d){return x=o,((b=d).lower===void 0||(b.lowerOpen?0<ue(x,b.lower):0<=ue(x,b.lower)))&&(x=o,(b=d).upper===void 0||(b.upperOpen?ue(x,b.upper)<0:ue(x,b.upper)<=0));var x,b}function fa(o,d,x,b,B,k){var G,Y,ne,fe,ce,pe;return!x||x.length===0||(G=d.query.index,Y=G.multiEntry,ne=d.query.range,fe=b.schema.primaryKey.extractKey,ce=G.extractKey,pe=(G.lowLevelIndex||G).extractKey,(b=x.reduce(function(me,ye){var Ie=me,Ee=[];if(ye.type==="add"||ye.type==="put")for(var Le=new Tr,Qe=ye.values.length-1;0<=Qe;--Qe){var Oe,je=ye.values[Qe],it=fe(je);!Le.hasKey(it)&&(Oe=ce(je),Y&&p(Oe)?Oe.some(function(Et){return ji(Et,ne)}):ji(Oe,ne))&&(Le.addKey(it),Ee.push(je))}switch(ye.type){case"add":var xt=new Tr().addKeys(d.values?me.map(function(mt){return fe(mt)}):me),Ie=me.concat(d.values?Ee.filter(function(mt){return mt=fe(mt),!xt.hasKey(mt)&&(xt.addKey(mt),!0)}):Ee.map(function(mt){return fe(mt)}).filter(function(mt){return!xt.hasKey(mt)&&(xt.addKey(mt),!0)}));break;case"put":var vt=new Tr().addKeys(ye.values.map(function(mt){return fe(mt)}));Ie=me.filter(function(mt){return!vt.hasKey(d.values?fe(mt):mt)}).concat(d.values?Ee:Ee.map(function(mt){return fe(mt)}));break;case"delete":var ft=new Tr().addKeys(ye.keys);Ie=me.filter(function(mt){return!ft.hasKey(d.values?fe(mt):mt)});break;case"deleteRange":var Nt=ye.range;Ie=me.filter(function(mt){return!ji(fe(mt),Nt)})}return Ie},o))===o)?o:(b.sort(function(me,ye){return ue(pe(me),pe(ye))||ue(fe(me),fe(ye))}),d.limit&&d.limit<1/0&&(b.length>d.limit?b.length=d.limit:o.length===d.limit&&b.length<d.limit&&(B.dirty=!0)),k?Object.freeze(b):b)}function Ti(o,d){return ue(o.lower,d.lower)===0&&ue(o.upper,d.upper)===0&&!!o.lowerOpen==!!d.lowerOpen&&!!o.upperOpen==!!d.upperOpen}function hi(o,d){return((x,b,B,k)=>{if(x===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((x=ue(x,b))===0){if(B&&k)return 0;if(B)return 1;if(k)return-1}return x})(o.lower,d.lower,o.lowerOpen,d.lowerOpen)<=0&&0<=((x,b,B,k)=>{if(x===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((x=ue(x,b))===0){if(B&&k)return 0;if(B)return-1;if(k)return 1}return x})(o.upper,d.upper,o.upperOpen,d.upperOpen)}function Rl(o,d,x,b){o.subscribers.add(x),b.addEventListener("abort",function(){var B,k;o.subscribers.delete(x),o.subscribers.size===0&&(B=o,k=d,setTimeout(function(){B.subscribers.size===0&&ke(k,B)},3e3))})}var Ki={stack:"dbcore",level:0,name:"Cache",create:function(o){var d=o.schema.name;return f(f({},o),{transaction:function(x,b,B){var k,G,Y=o.transaction(x,b,B);return b==="readwrite"&&(B=(k=new AbortController).signal,Y.addEventListener("abort",(G=function(ne){return function(){if(k.abort(),b==="readwrite"){for(var fe=new Set,ce=0,pe=x;ce<pe.length;ce++){var me=pe[ce],ye=Pn["idb://".concat(d,"/").concat(me)];if(ye){var Ie=o.table(me),Ee=ye.optimisticOps.filter(function(Dt){return Dt.trans===Y});if(Y._explicit&&ne&&Y.mutatedParts)for(var Le=0,Qe=Object.values(ye.queries.query);Le<Qe.length;Le++)for(var Oe=0,je=(vt=Qe[Le]).slice();Oe<je.length;Oe++)yo((ft=je[Oe]).obsSet,Y.mutatedParts)&&(ke(vt,ft),ft.subscribers.forEach(function(Dt){return fe.add(Dt)}));else if(0<Ee.length){ye.optimisticOps=ye.optimisticOps.filter(function(Dt){return Dt.trans!==Y});for(var it=0,xt=Object.values(ye.queries.query);it<xt.length;it++)for(var vt,ft,Nt,Et=0,mt=(vt=xt[it]).slice();Et<mt.length;Et++)(ft=mt[Et]).res!=null&&Y.mutatedParts&&(ne&&!ft.dirty?(Nt=Object.isFrozen(ft.res),Nt=fa(ft.res,ft.req,Ee,Ie,ft,Nt),ft.dirty?(ke(vt,ft),ft.subscribers.forEach(function(Dt){return fe.add(Dt)})):Nt!==ft.res&&(ft.res=Nt,ft.promise=et.resolve({result:Nt}))):(ft.dirty&&ke(vt,ft),ft.subscribers.forEach(function(Dt){return fe.add(Dt)})))}}}fe.forEach(function(Dt){return Dt()})}}})(!1),{signal:B}),Y.addEventListener("error",G(!1),{signal:B}),Y.addEventListener("complete",G(!0),{signal:B})),Y},table:function(x){var b=o.table(x),B=b.schema.primaryKey;return f(f({},b),{mutate:function(k){var G,Y=we.trans;return!B.outbound&&Y.db._options.cache!=="disabled"&&!Y.explicit&&Y.idbtrans.mode==="readwrite"&&(G=Pn["idb://".concat(d,"/").concat(x)])?(Y=b.mutate(k),k.type!=="add"&&k.type!=="put"||!(50<=k.values.length||Ha(B,k).some(function(ne){return ne==null}))?(G.optimisticOps.push(k),k.mutatedParts&&bs(k.mutatedParts),Y.then(function(ne){0<ne.numFailures&&(ke(G.optimisticOps,k),(ne=aa(0,k,ne))&&G.optimisticOps.push(ne),k.mutatedParts)&&bs(k.mutatedParts)}),Y.catch(function(){ke(G.optimisticOps,k),k.mutatedParts&&bs(k.mutatedParts)})):Y.then(function(ne){var fe=aa(0,f(f({},k),{values:k.values.map(function(ce,pe){var me;return ne.failures[pe]?ce:(I(me=(me=B.keyPath)!=null&&me.includes(".")?se(ce):f({},ce),B.keyPath,ne.results[pe]),me)})}),ne);G.optimisticOps.push(fe),queueMicrotask(function(){return k.mutatedParts&&bs(k.mutatedParts)})}),Y):b.mutate(k)},query:function(k){var G,Y,ne,fe,ce,pe,me;return di(we,b)&&Ga("query",k)?(G=((ne=we.trans)==null?void 0:ne.db._options.cache)==="immutable",Y=(ne=we).requery,ne=ne.signal,pe=((ye,Ie,Ee,Le)=>{var Qe=Pn["idb://".concat(ye,"/").concat(Ie)];if(!Qe)return[];if(!(ye=Qe.queries[Ee]))return[null,!1,Qe,null];var Oe=ye[(Le.query?Le.query.index.name:null)||""];if(!Oe)return[null,!1,Qe,null];switch(Ee){case"query":var je=Oe.find(function(it){return it.req.limit===Le.limit&&it.req.values===Le.values&&Ti(it.req.query.range,Le.query.range)});return je?[je,!0,Qe,Oe]:[Oe.find(function(it){return("limit"in it.req?it.req.limit:1/0)>=Le.limit&&(!Le.values||it.req.values)&&hi(it.req.query.range,Le.query.range)}),!1,Qe,Oe];case"count":return je=Oe.find(function(it){return Ti(it.req.query.range,Le.query.range)}),[je,!!je,Qe,Oe]}})(d,x,"query",k),me=pe[0],fe=pe[2],ce=pe[3],me&&pe[1]?me.obsSet=k.obsSet:(pe=b.query(k).then(function(ye){var Ie=ye.result;if(me&&(me.res=Ie),G){for(var Ee=0,Le=Ie.length;Ee<Le;++Ee)Object.freeze(Ie[Ee]);Object.freeze(Ie)}else ye.result=se(Ie);return ye}).catch(function(ye){return ce&&me&&ke(ce,me),Promise.reject(ye)}),me={obsSet:k.obsSet,promise:pe,subscribers:new Set,type:"query",req:k,dirty:!1},ce?ce.push(me):(ce=[me],(fe=fe||(Pn["idb://".concat(d,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[k.query.index.name||""]=ce)),Rl(me,ce,Y,ne),me.promise.then(function(ye){return{result:fa(ye.result,k,fe==null?void 0:fe.optimisticOps,b,me,G)}})):b.query(k)}})}})}};function Wr(o,d){return new Proxy(o,{get:function(x,b,B){return b==="db"?d:Reflect.get(x,b,B)}})}tr.prototype.version=function(o){if(isNaN(o)||o<.1)throw new W.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new W.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var d=this._versions,x=d.filter(function(b){return b._cfg.version===o})[0];return x||(x=new this.Version(o),d.push(x),d.sort(ho),x.stores({}),this._state.autoSchema=!1),x},tr.prototype._whenReady=function(o){var d=this;return this.idbdb&&(this._state.openComplete||we.letThrough||this._vip)?o():new et(function(x,b){if(d._state.openComplete)return b(new W.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void b(new W.DatabaseClosed);d.open().catch(O)}d._state.dbReadyPromise.then(x,b)}).then(o)},tr.prototype.use=function(B){var d=B.stack,x=B.create,b=B.level,B=B.name,k=(B&&this.unuse({stack:d,name:B}),this._middlewares[d]||(this._middlewares[d]=[]));return k.push({stack:d,create:x,level:b??10,name:B}),k.sort(function(G,Y){return G.level-Y.level}),this},tr.prototype.unuse=function(o){var d=o.stack,x=o.name,b=o.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(B){return b?B.create!==b:!!x&&B.name!==x})),this},tr.prototype.open=function(){var o=this;return na(Qt,function(){return Fo(o)})},tr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,d=lt.indexOf(this);if(0<=d&&lt.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new et(function(x){o.dbReadyResolve=x}),o.openCanceller=new et(function(x,b){o.cancelOpen=b}))},tr.prototype.close=function(d){var d=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,x=this._state;d?(x.isBeingOpened&&x.cancelOpen(new W.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new W.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},tr.prototype.delete=function(o){var d=this,x=(o===void 0&&(o={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),b=this._state;return new et(function(B,k){function G(){d.close(o);var Y=d._deps.indexedDB.deleteDatabase(d.name);Y.onsuccess=Ct(function(){var ne,fe,ce;ne=d._deps,fe=d.name,Cs(ce=ne.indexedDB)||fe===Dr||As(ce,ne.IDBKeyRange).delete(fe).catch(O),B()}),Y.onerror=Sr(k),Y.onblocked=d._fireOnBlocked}if(x)throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(G):G()})},tr.prototype.backendDB=function(){return this.idbdb},tr.prototype.isOpen=function(){return this.idbdb!==null},tr.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},tr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},tr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(tr.prototype,"tables",{get:function(){var o=this;return A(this._allTables).map(function(d){return o._allTables[d]})},enumerable:!1,configurable:!0}),tr.prototype.transaction=function(){var o=(function(d,x,b){var B=arguments.length;if(B<2)throw new W.InvalidArgument("Too few arguments");for(var k=new Array(B-1);--B;)k[B-1]=arguments[B];return b=k.pop(),[d,ie(k),b]}).apply(this,arguments);return this._transaction.apply(this,o)},tr.prototype._transaction=function(o,d,x){var b,B,k=this,G=we.trans,Y=(G&&G.db===this&&o.indexOf("!")===-1||(G=null),o.indexOf("?")!==-1);o=o.replace("!","").replace("?","");try{if(B=d.map(function(fe){if(fe=fe instanceof k.Table?fe.name:fe,typeof fe!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return fe}),o=="r"||o===kn)b=kn;else{if(o!="rw"&&o!=jr)throw new W.InvalidArgument("Invalid transaction mode: "+o);b=jr}if(G){if(G.mode===kn&&b===jr){if(!Y)throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");G=null}G&&B.forEach(function(fe){if(G&&G.storeNames.indexOf(fe)===-1){if(!Y)throw new W.SubTransaction("Table "+fe+" not included in parent transaction.");G=null}}),Y&&G&&!G.active&&(G=null)}}catch(fe){return G?G._promise(null,function(ce,pe){pe(fe)}):$t(fe)}var ne=(function fe(ce,pe,me,ye,Ie){return et.resolve().then(function(){var Oe=we.transless||we,Ee=ce._createTransaction(pe,me,ce._dbSchema,ye),Oe=(Ee.explicit=!0,{trans:Ee,transless:Oe});if(ye)Ee.idbtrans=ye.idbtrans;else try{Ee.create(),Ee.idbtrans._explicit=!0,ce._state.PR1398_maxLoop=3}catch(je){return je.name===yt.InvalidState&&ce.isOpen()&&0<--ce._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ce.close({disableAutoOpen:!1}),ce.open().then(function(){return fe(ce,pe,me,null,Ie)})):$t(je)}var Le,Qe=Ae(Ie),Oe=(Qe&&Jt(),et.follow(function(){var je;(Le=Ie.call(Ee,Ee))&&(Qe?(je=Ar.bind(null,null),Le.then(je,je)):typeof Le.next=="function"&&typeof Le.throw=="function"&&(Le=fi(Le)))},Oe));return(Le&&typeof Le.then=="function"?et.resolve(Le).then(function(je){return Ee.active?je:$t(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Oe.then(function(){return Le})).then(function(je){return ye&&Ee._resolve(),Ee._completion.then(function(){return je})}).catch(function(je){return Ee._reject(je),$t(je)})})}).bind(null,this,b,B,G,x);return G?G._promise(b,ne,"lock"):we.trans?na(we.transless,function(){return k._whenReady(ne)}):this._whenReady(ne)},tr.prototype.table=function(o){if(R(this._allTables,o))return this._allTables[o];throw new W.InvalidTable("Table ".concat(o," does not exist"))};var Ta=tr;function tr(o,d){var x,b,B,k,G,Y=this,ne=(this._middlewares={},this.verno=0,tr.dependencies),ne=(this._options=d=f({addons:tr.addons,autoOpen:!0,indexedDB:ne.indexedDB,IDBKeyRange:ne.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},d.addons),fe=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:O,dbReadyPromise:null,cancelOpen:O,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen}),ce=(fe.dbReadyPromise=new et(function(pe){fe.dbReadyResolve=pe}),fe.openCanceller=new et(function(pe,me){fe.cancelOpen=me}),this._state=fe,this.name=o,this.on=sr(this,"populate","blocked","versionchange","close",{ready:[pt,O]}),this.once=function(pe,me){var ye=function(){for(var Ie=[],Ee=0;Ee<arguments.length;Ee++)Ie[Ee]=arguments[Ee];Y.on(pe).unsubscribe(ye),me.apply(Y,Ie)};return Y.on(pe,ye)},this.on.ready.subscribe=U(this.on.ready.subscribe,function(pe){return function(me,ye){tr.vip(function(){var Ie,Ee=Y._state;Ee.openComplete?(Ee.dbOpenError||et.resolve().then(me),ye&&pe(me)):Ee.onReadyBeingFired?(Ee.onReadyBeingFired.push(me),ye&&pe(me)):(pe(me),Ie=Y,ye||pe(function Le(){Ie.on.ready.unsubscribe(me),Ie.on.ready.unsubscribe(Le)}))})}}),this.Collection=(x=this,en(co.prototype,function(Le,Ee){this.db=x;var ye=_n,Ie=null;if(Ee)try{ye=Ee()}catch(Oe){Ie=Oe}var Ee=Le._ctx,Le=Ee.table,Qe=Le.hook.reading.fire;this._ctx={table:Le,index:Ee.index,isPrimKey:!Ee.index||Le.schema.primKey.keyPath&&Ee.index===Le.schema.primKey.name,range:ye,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Ie,or:Ee.or,valueMapper:Qe!==Z?Qe:null}})),this.Table=(b=this,en(Gn.prototype,function(pe,me,ye){this.db=b,this._tx=ye,this.name=pe,this.schema=me,this.hook=b._allTables[pe]?b._allTables[pe].hook:sr(null,{creating:[Ze,O],reading:[be,Z],updating:[dt,O],deleting:[gt,O]})})),this.Transaction=(B=this,en(uo.prototype,function(pe,me,ye,Ie,Ee){var Le=this;pe!=="readonly"&&me.forEach(function(Qe){Qe=(Qe=ye[Qe])==null?void 0:Qe.yProps,Qe&&(me=me.concat(Qe.map(function(Oe){return Oe.updatesTable})))}),this.db=B,this.mode=pe,this.storeNames=me,this.schema=ye,this.chromeTransactionDurability=Ie,this.idbtrans=null,this.on=sr(this,"complete","error","abort"),this.parent=Ee||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new et(function(Qe,Oe){Le._resolve=Qe,Le._reject=Oe}),this._completion.then(function(){Le.active=!1,Le.on.complete.fire()},function(Qe){var Oe=Le.active;return Le.active=!1,Le.on.error.fire(Qe),Le.parent?Le.parent._reject(Qe):Oe&&Le.idbtrans&&Le.idbtrans.abort(),$t(Qe)})})),this.Version=(k=this,en(Or.prototype,function(pe){this.db=k,this._cfg={version:pe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(G=this,en(or.prototype,function(pe,me,ye){if(this.db=G,this._ctx={table:pe,index:me===":id"?null:me,or:ye},this._cmp=this._ascending=ue,this._descending=function(Ie,Ee){return ue(Ee,Ie)},this._max=function(Ie,Ee){return 0<ue(Ie,Ee)?Ie:Ee},this._min=function(Ie,Ee){return ue(Ie,Ee)<0?Ie:Ee},this._IDBKeyRange=G._deps.IDBKeyRange,!this._IDBKeyRange)throw new W.MissingAPI})),this.on("versionchange",function(pe){0<pe.newVersion?console.warn("Another connection wants to upgrade database '".concat(Y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(Y.name,"'. Closing db now to resume the delete request.")),Y.close({disableAutoOpen:!1})}),this.on("blocked",function(pe){!pe.newVersion||pe.newVersion<pe.oldVersion?console.warn("Dexie.delete('".concat(Y.name,"') was blocked")):console.warn("Upgrade '".concat(Y.name,"' blocked by other connection holding version ").concat(pe.oldVersion/10))}),this._maxKey=Ia(d.IDBKeyRange),this._createTransaction=function(pe,me,ye,Ie){return new Y.Transaction(pe,me,ye,Y._options.chromeTransactionDurability,Ie)},this._fireOnBlocked=function(pe){Y.on("blocked").fire(pe),lt.filter(function(me){return me.name===Y.name&&me!==Y&&!me._state.vcFired}).map(function(me){return me.on("versionchange").fire(pe)})},this.use(Si),this.use(Ki),this.use(Ss),this.use(Po),this.use(Is),new Proxy(this,{get:function(pe,me,ye){var Ie;return me==="_vip"||(me==="table"?function(Ee){return Wr(Y.table(Ee),ce)}:(Ie=Reflect.get(pe,me,ye))instanceof Gn?Wr(Ie,ce):me==="tables"?Ie.map(function(Ee){return Wr(Ee,ce)}):me==="_createTransaction"?function(){return Wr(Ie.apply(this,arguments),ce)}:Ie)}}));this.vip=ce,ne.forEach(function(pe){return pe(Y)})}var Ba,Cn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",zi=($.prototype.subscribe=function(o,d,x){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:d,complete:x})},$.prototype[Cn]=function(){return this},$);function $(o){this._subscribe=o}try{Ba={indexedDB:m.indexedDB||m.mozIndexedDB||m.webkitIndexedDB||m.msIndexedDB,IDBKeyRange:m.IDBKeyRange||m.webkitIDBKeyRange}}catch{Ba={indexedDB:null,IDBKeyRange:null}}function t(o){var d,x=!1,b=new zi(function(B){var k=Ae(o),G,Y=!1,ne={},fe={},ce={get closed(){return Y},unsubscribe:function(){Y||(Y=!0,G&&G.abort(),pe&&Mn.storagemutated.unsubscribe(ye))}},pe=(B.start&&B.start(ce),!1),me=function(){return ir(Ie)},ye=function(Ee){Xt(ne,Ee),yo(fe,ne)&&me()},Ie=function(){var Ee,Le,Qe;!Y&&Ba.indexedDB&&(ne={},Ee={},G&&G.abort(),G=new AbortController,Qe=(Oe=>{var je=_t();try{k&&Jt();var it=fn(o,Oe);return it=k?it.finally(Ar):it}finally{je&&kt()}})(Le={subscr:Ee,signal:G.signal,requery:me,querier:o,trans:null}),Promise.resolve(Qe).then(function(Oe){x=!0,d=Oe,Y||Le.signal.aborted||(ne={},(je=>{for(var it in je)if(R(je,it))return;return 1})(fe=Ee)||pe||(Mn(bi,ye),pe=!0),ir(function(){return!Y&&B.next&&B.next(Oe)}))},function(Oe){x=!1,["DatabaseClosedError","AbortError"].includes(Oe==null?void 0:Oe.name)||Y||ir(function(){Y||B.error&&B.error(Oe)})}))};return setTimeout(me,0),ce});return b.hasValue=function(){return x},b.getValue=function(){return d},b}var i=Ta;function l(o){var d=h;try{h=!0,Mn.storagemutated.fire(o),ua(o,!0)}finally{h=d}}L(i,f(f({},Se),{delete:function(o){return new i(o,{addons:[]}).delete()},exists:function(o){return new i(o,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return d=i.dependencies,x=d.indexedDB,d=d.IDBKeyRange,(Cs(x)?Promise.resolve(x.databases()).then(function(b){return b.map(function(B){return B.name}).filter(function(B){return B!==Dr})}):As(x,d).toCollection().primaryKeys()).then(o)}catch{return $t(new W.MissingAPI)}var d,x},defineClass:function(){return function(o){w(this,o)}},ignoreTransaction:function(o){return we.trans?na(we.transless,o):o()},vip:go,async:function(o){return function(){try{var d=fi(o.apply(this,arguments));return d&&typeof d.then=="function"?d:et.resolve(d)}catch(x){return $t(x)}}},spawn:function(o,d,x){try{var b=fi(o.apply(x,d||[]));return b&&typeof b.then=="function"?b:et.resolve(b)}catch(B){return $t(B)}},currentTransaction:{get:function(){return we.trans||null}},waitFor:function(o,d){return o=et.resolve(typeof o=="function"?i.ignoreTransaction(o):o).timeout(d||6e4),we.trans?we.trans.waitFor(o):o},Promise:et,debug:{get:function(){return Ye},set:function(o){Lt(o)}},derive:P,extend:w,props:L,override:U,Events:sr,on:Mn,liveQuery:t,extendObservabilitySet:Xt,getByKeyPath:M,setByKeyPath:I,delByKeyPath:function(o,d){typeof d=="string"?I(o,d,void 0):"length"in d&&[].map.call(d,function(x){I(o,x,void 0)})},shallowClone:E,deepClone:se,getObjectDiff:Es,cmp:ue,asap:X,minKey:-1/0,addons:[],connections:lt,errnames:yt,dependencies:Ba,cache:Pn,semVer:"4.3.0",version:"4.3.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,d,x){return o+d/Math.pow(10,2*x)})})),i.maxKey=Ia(i.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Mn(bi,function(o){h||(o=new CustomEvent(un,{detail:o}),h=!0,dispatchEvent(o),h=!1)}),addEventListener(un,function(o){o=o.detail,h||l(o)}));var u,h=!1,y=function(){};return typeof BroadcastChannel<"u"&&((y=function(){(u=new BroadcastChannel(un)).onmessage=function(o){return o.data&&l(o.data)}})(),typeof u.unref=="function"&&u.unref(),Mn(bi,function(o){h||u.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Ta.disableBfCache&&o.persisted){Ye&&console.debug("Dexie: handling persisted pagehide"),u!=null&&u.close();for(var d=0,x=lt;d<x.length;d++)x[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Ta.disableBfCache&&o.persisted&&(Ye&&console.debug("Dexie: handling persisted pageshow"),y(),l({all:new Tr(-1/0,[[]])}))})),et.rejectionMapper=function(o,d){return!o||o instanceof _e||o instanceof TypeError||o instanceof SyntaxError||!o.name||!re[o.name]?o:(d=new re[o.name](d||o.message,o),"stack"in o&&V(d,"stack",{get:function(){return this.inner.stack}}),d)},Lt(Ye),f(Ta,Object.freeze({__proto__:null,Dexie:Ta,Entity:te,PropModification:At,RangeSet:Tr,add:function(o){return new At({add:o})},cmp:ue,default:Ta,liveQuery:t,mergeRanges:Pa,rangesOverlap:pr,remove:function(o){return new At({remove:o})},replacePrefix:function(o,d){return new At({replacePrefix:[o,d]})}}),{default:Ta}),Ta})})(Wu)),Wu.exports}var Ib=Eb();const mh=Mh(Ib),Ry=Symbol.for("Dexie"),vl=globalThis[Ry]||(globalThis[Ry]=mh);if(mh.semVer!==vl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${mh.semVer} and ${vl.semVer}`);const{liveQuery:U4,mergeRanges:F4,rangesOverlap:P4,RangeSet:V4,cmp:Q4,Entity:H4,PropModification:G4,replacePrefix:j4,add:K4,remove:z4,DexieYProvider:q4}=vl;class Sb extends vl{constructor(){super("CipherVaultDB"),this.version(4).stores({baseData:"id",securityData:"id",tags:"++id, label, rank",totps:"id, name, favorite, rank, delFlag",accounts:"id, name, favorite, delFlag",syncData:"id",biometricData:"id"})}}const ct=new Sb;/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */function Ro(r,a,s,f){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(f.next(D))}catch(R){A(R)}}function w(D){try{C(f.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,w)}C((f=f.apply(r,[])).next())})}class Ir{constructor(){this.mutex=Promise.resolve()}lock(){let a=()=>{};return this.mutex=this.mutex.then(()=>new Promise(a)),new Promise(s=>{a=s})}dispatch(a){return Ro(this,void 0,void 0,function*(){const s=yield this.lock();try{return yield Promise.resolve(a())}finally{s()}})}}var vd;function Tb(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const xh=Tb(),Ad=(vd=xh.Buffer)!==null&&vd!==void 0?vd:null,Bb=xh.TextEncoder?new xh.TextEncoder:null;function F2(r,a){return(r&15)+(r>>6|r>>3&8)<<4|(a&15)+(a>>6|a>>3&8)}function P2(r,a){const s=a.length>>1;for(let f=0;f<s;f++){const v=f<<1;r[f]=F2(a.charCodeAt(v),a.charCodeAt(v+1))}}function Nb(r,a){if(r.length!==a.length*2)return!1;for(let s=0;s<a.length;s++){const f=s<<1;if(a[s]!==F2(r.charCodeAt(f),r.charCodeAt(f+1)))return!1}return!0}const Oy=87,ky=48;function vh(r,a,s){let f=0;for(let v=0;v<s;v++){let m=a[v]>>>4;r[f++]=m>9?m+Oy:m+ky,m=a[v]&15,r[f++]=m>9?m+Oy:m+ky}return String.fromCharCode.apply(null,r)}const hs=Ad!==null?r=>{if(typeof r=="string"){const a=Ad.from(r,"utf8");return new Uint8Array(a.buffer,a.byteOffset,a.length)}if(Ad.isBuffer(r))return new Uint8Array(r.buffer,r.byteOffset,r.length);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Invalid data type!")}:r=>{if(typeof r=="string")return Bb.encode(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Invalid data type!")},yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vc=new Uint8Array(256);for(let r=0;r<yi.length;r++)vc[yi.charCodeAt(r)]=r;function My(r,a=!0){const s=r.length,f=s%3,v=[],m=s-f;for(let A=0;A<m;A+=3){const p=(r[A]<<16&16711680)+(r[A+1]<<8&65280)+(r[A+2]&255),w=yi.charAt(p>>18&63)+yi.charAt(p>>12&63)+yi.charAt(p>>6&63)+yi.charAt(p&63);v.push(w)}if(f===1){const A=r[s-1],p=yi.charAt(A>>2),w=yi.charAt(A<<4&63);v.push(`${p}${w}`),a&&v.push("==")}else if(f===2){const A=(r[s-2]<<8)+r[s-1],p=yi.charAt(A>>10),w=yi.charAt(A>>4&63),C=yi.charAt(A<<2&63);v.push(`${p}${w}${C}`),a&&v.push("=")}return v.join("")}function _b(r){let a=Math.floor(r.length*.75);const s=r.length;return r[s-1]==="="&&(a-=1,r[s-2]==="="&&(a-=1)),a}function Db(r){const a=_b(r),s=r.length,f=new Uint8Array(a);let v=0;for(let m=0;m<s;m+=4){const A=vc[r.charCodeAt(m)],p=vc[r.charCodeAt(m+1)],w=vc[r.charCodeAt(m+2)],C=vc[r.charCodeAt(m+3)];f[v]=A<<2|p>>4,v+=1,f[v]=(p&15)<<4|w>>2,v+=1,f[v]=(w&3)<<6|C&63,v+=1}return f}const Uu=16*1024,gc=4,Rb=new Ir,Cd=new Map;function V2(r,a){return Ro(this,void 0,void 0,function*(){let s=null,f=null,v=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const m=(M,I=0)=>{f.set(M,I)},A=()=>f,p=()=>s.exports,w=M=>{s.exports.Hash_SetMemorySize(M);const I=s.exports.Hash_GetBuffer(),E=s.exports.memory.buffer;f=new Uint8Array(E,I,M)},C=()=>new DataView(s.exports.memory.buffer).getUint32(s.exports.STATE_SIZE,!0),D=Rb.dispatch(()=>Ro(this,void 0,void 0,function*(){if(!Cd.has(r.name)){const I=Db(r.data),E=WebAssembly.compile(I);Cd.set(r.name,E)}const M=yield Cd.get(r.name);s=yield WebAssembly.instantiate(M,{})})),R=()=>Ro(this,void 0,void 0,function*(){s||(yield D);const M=s.exports.Hash_GetBuffer(),I=s.exports.memory.buffer;f=new Uint8Array(I,M,Uu)}),L=(M=null)=>{v=!0,s.exports.Hash_Init(M)},_=M=>{let I=0;for(;I<M.length;){const E=M.subarray(I,I+Uu);I+=E.length,f.set(E),s.exports.Hash_Update(E.length)}},V=M=>{if(!v)throw new Error("update() called before init()");const I=hs(M);_(I)},P=new Uint8Array(a*2),H=(M,I=null)=>{if(!v)throw new Error("digest() called before init()");return v=!1,s.exports.Hash_Final(I),M==="binary"?f.slice(0,a):vh(P,f,a)},T=()=>{if(!v)throw new Error("save() can only be called after init() and before digest()");const M=s.exports.Hash_GetState(),I=C(),E=s.exports.memory.buffer,j=new Uint8Array(E,M,I),ie=new Uint8Array(gc+I);return P2(ie,r.hash),ie.set(j,gc),ie},F=M=>{if(!(M instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const I=s.exports.Hash_GetState(),E=C(),j=gc+E,ie=s.exports.memory.buffer;if(M.length!==j)throw new Error(`Bad state length (expected ${j} bytes, got ${M.length})`);if(!Nb(r.hash,M.subarray(0,gc)))throw new Error("This state was written by an incompatible hash implementation");const de=M.subarray(gc);new Uint8Array(ie,I,E).set(de),v=!0},U=M=>typeof M=="string"?M.length<Uu/4:M.byteLength<Uu;let K=U;switch(r.name){case"argon2":case"scrypt":K=()=>!0;break;case"blake2b":case"blake2s":K=(M,I)=>I<=512&&U(M);break;case"blake3":K=(M,I)=>I===0&&U(M);break;case"xxhash64":case"xxhash3":case"xxhash128":case"crc64":K=()=>!1;break}const X=(M,I=null,E=null)=>{if(!K(M,I))return L(I),V(M),H("hex",E);const j=hs(M);return f.set(j),s.exports.Hash_Calculate(j.length,I,E),vh(P,f,a)};return yield R(),{getMemory:A,writeMemory:m,getExports:p,setMemorySize:w,init:L,update:V,digest:H,save:T,load:F,calculate:X,hashLength:a}})}new Ir;var Ob="argon2",kb="AGFzbQEAAAABKQVgAX8Bf2AAAX9gEH9/f39/f39/f39/f39/f38AYAR/f39/AGACf38AAwYFAAECAwQFBgEBAoCAAgYIAX8BQZCoBAsHQQQGbWVtb3J5AgASSGFzaF9TZXRNZW1vcnlTaXplAAAOSGFzaF9HZXRCdWZmZXIAAQ5IYXNoX0NhbGN1bGF0ZQAECvEyBVgBAn9BACEBAkAgAEEAKAKICCICRg0AAkAgACACayIAQRB2IABBgIB8cSAASWoiAEAAQX9HDQBB/wHADwtBACEBQQBBACkDiAggAEEQdK18NwOICAsgAcALcAECfwJAQQAoAoAIIgANAEEAPwBBEHQiADYCgAhBACgCiAgiAUGAgCBGDQACQEGAgCAgAWsiAEEQdiAAQYCAfHEgAElqIgBAAEF/Rw0AQQAPC0EAQQApA4gIIABBEHStfDcDiAhBACgCgAghAAsgAAvcDgECfiAAIAQpAwAiECAAKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAMIBAgDCkDAIVCIIkiEDcDACAIIBAgCCkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgBCAQIAQpAwCFQiiJIhA3AwAgACAQIAApAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAwgECAMKQMAhUIwiSIQNwMAIAggECAIKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwAgASAFKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFQiCJIhA3AwAgCSAQIAkpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAUgECAFKQMAhUIoiSIQNwMAIAEgECABKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIVCMIkiEDcDACAJIBAgCSkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBSAQIAUpAwCFQgGJNwMAIAIgBikDACIQIAIpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIA4gECAOKQMAhUIgiSIQNwMAIAogECAKKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAGIBAgBikDAIVCKIkiEDcDACACIBAgAikDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgDiAQIA4pAwCFQjCJIhA3AwAgCiAQIAopAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAYgECAGKQMAhUIBiTcDACADIAcpAwAiECADKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAPIBAgDykDAIVCIIkiEDcDACALIBAgCykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgByAQIAcpAwCFQiiJIhA3AwAgAyAQIAMpAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIA8gECAPKQMAhUIwiSIQNwMAIAsgECALKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgACAFKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFQiCJIhA3AwAgCiAQIAopAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAUgECAFKQMAhUIoiSIQNwMAIAAgECAAKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIVCMIkiEDcDACAKIBAgCikDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBSAQIAUpAwCFQgGJNwMAIAEgBikDACIQIAEpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAwgECAMKQMAhUIgiSIQNwMAIAsgECALKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAGIBAgBikDAIVCKIkiEDcDACABIBAgASkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgDCAQIAwpAwCFQjCJIhA3AwAgCyAQIAspAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAYgECAGKQMAhUIBiTcDACACIAcpAwAiECACKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACANIBAgDSkDAIVCIIkiEDcDACAIIBAgCCkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgByAQIAcpAwCFQiiJIhA3AwAgAiAQIAIpAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIA0gECANKQMAhUIwiSIQNwMAIAggECAIKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgAyAEKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFQiCJIhA3AwAgCSAQIAkpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAQgECAEKQMAhUIoiSIQNwMAIAMgECADKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIVCMIkiEDcDACAJIBAgCSkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBCAQIAQpAwCFQgGJNwMAC98aAQN/QQAhBEEAIAIpAwAgASkDAIU3A5AIQQAgAikDCCABKQMIhTcDmAhBACACKQMQIAEpAxCFNwOgCEEAIAIpAxggASkDGIU3A6gIQQAgAikDICABKQMghTcDsAhBACACKQMoIAEpAyiFNwO4CEEAIAIpAzAgASkDMIU3A8AIQQAgAikDOCABKQM4hTcDyAhBACACKQNAIAEpA0CFNwPQCEEAIAIpA0ggASkDSIU3A9gIQQAgAikDUCABKQNQhTcD4AhBACACKQNYIAEpA1iFNwPoCEEAIAIpA2AgASkDYIU3A/AIQQAgAikDaCABKQNohTcD+AhBACACKQNwIAEpA3CFNwOACUEAIAIpA3ggASkDeIU3A4gJQQAgAikDgAEgASkDgAGFNwOQCUEAIAIpA4gBIAEpA4gBhTcDmAlBACACKQOQASABKQOQAYU3A6AJQQAgAikDmAEgASkDmAGFNwOoCUEAIAIpA6ABIAEpA6ABhTcDsAlBACACKQOoASABKQOoAYU3A7gJQQAgAikDsAEgASkDsAGFNwPACUEAIAIpA7gBIAEpA7gBhTcDyAlBACACKQPAASABKQPAAYU3A9AJQQAgAikDyAEgASkDyAGFNwPYCUEAIAIpA9ABIAEpA9ABhTcD4AlBACACKQPYASABKQPYAYU3A+gJQQAgAikD4AEgASkD4AGFNwPwCUEAIAIpA+gBIAEpA+gBhTcD+AlBACACKQPwASABKQPwAYU3A4AKQQAgAikD+AEgASkD+AGFNwOICkEAIAIpA4ACIAEpA4AChTcDkApBACACKQOIAiABKQOIAoU3A5gKQQAgAikDkAIgASkDkAKFNwOgCkEAIAIpA5gCIAEpA5gChTcDqApBACACKQOgAiABKQOgAoU3A7AKQQAgAikDqAIgASkDqAKFNwO4CkEAIAIpA7ACIAEpA7AChTcDwApBACACKQO4AiABKQO4AoU3A8gKQQAgAikDwAIgASkDwAKFNwPQCkEAIAIpA8gCIAEpA8gChTcD2ApBACACKQPQAiABKQPQAoU3A+AKQQAgAikD2AIgASkD2AKFNwPoCkEAIAIpA+ACIAEpA+AChTcD8ApBACACKQPoAiABKQPoAoU3A/gKQQAgAikD8AIgASkD8AKFNwOAC0EAIAIpA/gCIAEpA/gChTcDiAtBACACKQOAAyABKQOAA4U3A5ALQQAgAikDiAMgASkDiAOFNwOYC0EAIAIpA5ADIAEpA5ADhTcDoAtBACACKQOYAyABKQOYA4U3A6gLQQAgAikDoAMgASkDoAOFNwOwC0EAIAIpA6gDIAEpA6gDhTcDuAtBACACKQOwAyABKQOwA4U3A8ALQQAgAikDuAMgASkDuAOFNwPIC0EAIAIpA8ADIAEpA8ADhTcD0AtBACACKQPIAyABKQPIA4U3A9gLQQAgAikD0AMgASkD0AOFNwPgC0EAIAIpA9gDIAEpA9gDhTcD6AtBACACKQPgAyABKQPgA4U3A/ALQQAgAikD6AMgASkD6AOFNwP4C0EAIAIpA/ADIAEpA/ADhTcDgAxBACACKQP4AyABKQP4A4U3A4gMQQAgAikDgAQgASkDgASFNwOQDEEAIAIpA4gEIAEpA4gEhTcDmAxBACACKQOQBCABKQOQBIU3A6AMQQAgAikDmAQgASkDmASFNwOoDEEAIAIpA6AEIAEpA6AEhTcDsAxBACACKQOoBCABKQOoBIU3A7gMQQAgAikDsAQgASkDsASFNwPADEEAIAIpA7gEIAEpA7gEhTcDyAxBACACKQPABCABKQPABIU3A9AMQQAgAikDyAQgASkDyASFNwPYDEEAIAIpA9AEIAEpA9AEhTcD4AxBACACKQPYBCABKQPYBIU3A+gMQQAgAikD4AQgASkD4ASFNwPwDEEAIAIpA+gEIAEpA+gEhTcD+AxBACACKQPwBCABKQPwBIU3A4ANQQAgAikD+AQgASkD+ASFNwOIDUEAIAIpA4AFIAEpA4AFhTcDkA1BACACKQOIBSABKQOIBYU3A5gNQQAgAikDkAUgASkDkAWFNwOgDUEAIAIpA5gFIAEpA5gFhTcDqA1BACACKQOgBSABKQOgBYU3A7ANQQAgAikDqAUgASkDqAWFNwO4DUEAIAIpA7AFIAEpA7AFhTcDwA1BACACKQO4BSABKQO4BYU3A8gNQQAgAikDwAUgASkDwAWFNwPQDUEAIAIpA8gFIAEpA8gFhTcD2A1BACACKQPQBSABKQPQBYU3A+ANQQAgAikD2AUgASkD2AWFNwPoDUEAIAIpA+AFIAEpA+AFhTcD8A1BACACKQPoBSABKQPoBYU3A/gNQQAgAikD8AUgASkD8AWFNwOADkEAIAIpA/gFIAEpA/gFhTcDiA5BACACKQOABiABKQOABoU3A5AOQQAgAikDiAYgASkDiAaFNwOYDkEAIAIpA5AGIAEpA5AGhTcDoA5BACACKQOYBiABKQOYBoU3A6gOQQAgAikDoAYgASkDoAaFNwOwDkEAIAIpA6gGIAEpA6gGhTcDuA5BACACKQOwBiABKQOwBoU3A8AOQQAgAikDuAYgASkDuAaFNwPIDkEAIAIpA8AGIAEpA8AGhTcD0A5BACACKQPIBiABKQPIBoU3A9gOQQAgAikD0AYgASkD0AaFNwPgDkEAIAIpA9gGIAEpA9gGhTcD6A5BACACKQPgBiABKQPgBoU3A/AOQQAgAikD6AYgASkD6AaFNwP4DkEAIAIpA/AGIAEpA/AGhTcDgA9BACACKQP4BiABKQP4BoU3A4gPQQAgAikDgAcgASkDgAeFNwOQD0EAIAIpA4gHIAEpA4gHhTcDmA9BACACKQOQByABKQOQB4U3A6APQQAgAikDmAcgASkDmAeFNwOoD0EAIAIpA6AHIAEpA6AHhTcDsA9BACACKQOoByABKQOoB4U3A7gPQQAgAikDsAcgASkDsAeFNwPAD0EAIAIpA7gHIAEpA7gHhTcDyA9BACACKQPAByABKQPAB4U3A9APQQAgAikDyAcgASkDyAeFNwPYD0EAIAIpA9AHIAEpA9AHhTcD4A9BACACKQPYByABKQPYB4U3A+gPQQAgAikD4AcgASkD4AeFNwPwD0EAIAIpA+gHIAEpA+gHhTcD+A9BACACKQPwByABKQPwB4U3A4AQQQAgAikD+AcgASkD+AeFNwOIEEGQCEGYCEGgCEGoCEGwCEG4CEHACEHICEHQCEHYCEHgCEHoCEHwCEH4CEGACUGICRACQZAJQZgJQaAJQagJQbAJQbgJQcAJQcgJQdAJQdgJQeAJQegJQfAJQfgJQYAKQYgKEAJBkApBmApBoApBqApBsApBuApBwApByApB0ApB2ApB4ApB6ApB8ApB+ApBgAtBiAsQAkGQC0GYC0GgC0GoC0GwC0G4C0HAC0HIC0HQC0HYC0HgC0HoC0HwC0H4C0GADEGIDBACQZAMQZgMQaAMQagMQbAMQbgMQcAMQcgMQdAMQdgMQeAMQegMQfAMQfgMQYANQYgNEAJBkA1BmA1BoA1BqA1BsA1BuA1BwA1ByA1B0A1B2A1B4A1B6A1B8A1B+A1BgA5BiA4QAkGQDkGYDkGgDkGoDkGwDkG4DkHADkHIDkHQDkHYDkHgDkHoDkHwDkH4DkGAD0GIDxACQZAPQZgPQaAPQagPQbAPQbgPQcAPQcgPQdAPQdgPQeAPQegPQfAPQfgPQYAQQYgQEAJBkAhBmAhBkAlBmAlBkApBmApBkAtBmAtBkAxBmAxBkA1BmA1BkA5BmA5BkA9BmA8QAkGgCEGoCEGgCUGoCUGgCkGoCkGgC0GoC0GgDEGoDEGgDUGoDUGgDkGoDkGgD0GoDxACQbAIQbgIQbAJQbgJQbAKQbgKQbALQbgLQbAMQbgMQbANQbgNQbAOQbgOQbAPQbgPEAJBwAhByAhBwAlByAlBwApByApBwAtByAtBwAxByAxBwA1ByA1BwA5ByA5BwA9ByA8QAkHQCEHYCEHQCUHYCUHQCkHYCkHQC0HYC0HQDEHYDEHQDUHYDUHQDkHYDkHQD0HYDxACQeAIQegIQeAJQegJQeAKQegKQeALQegLQeAMQegMQeANQegNQeAOQegOQeAPQegPEAJB8AhB+AhB8AlB+AlB8ApB+ApB8AtB+AtB8AxB+AxB8A1B+A1B8A5B+A5B8A9B+A8QAkGACUGICUGACkGICkGAC0GIC0GADEGIDEGADUGIDUGADkGIDkGAD0GID0GAEEGIEBACAkACQCADRQ0AA0AgACAEaiIDIAIgBGoiBSkDACABIARqIgYpAwCFIARBkAhqKQMAhSADKQMAhTcDACADQQhqIgMgBUEIaikDACAGQQhqKQMAhSAEQZgIaikDAIUgAykDAIU3AwAgBEEQaiIEQYAIRw0ADAILC0EAIQQDQCAAIARqIgMgAiAEaiIFKQMAIAEgBGoiBikDAIUgBEGQCGopAwCFNwMAIANBCGogBUEIaikDACAGQQhqKQMAhSAEQZgIaikDAIU3AwAgBEEQaiIEQYAIRw0ACwsL5QcMBX8BfgR/An4BfwF+AX8Bfgd/AX4DfwF+AkBBACgCgAgiAiABQQp0aiIDKAIIIAFHDQAgAygCDCEEIAMoAgAhBUEAIAMoAhQiBq03A7gQQQAgBK0iBzcDsBBBACAFIAEgBUECdG4iCGwiCUECdK03A6gQAkACQAJAAkAgBEUNAEF/IQogBUUNASAIQQNsIQsgCEECdCIErSEMIAWtIQ0gBkF/akECSSEOQgAhDwNAQQAgDzcDkBAgD6chEEIAIRFBACEBA0BBACARNwOgECAPIBGEUCIDIA5xIRIgBkEBRiAPUCITIAZBAkYgEUICVHFxciEUQX8gAUEBakEDcSAIbEF/aiATGyEVIAEgEHIhFiABIAhsIRcgA0EBdCEYQgAhGQNAQQBCADcDwBBBACAZNwOYECAYIQECQCASRQ0AQQBCATcDwBBBkBhBkBBBkCBBABADQZAYQZAYQZAgQQAQA0ECIQELAkAgASAITw0AIAQgGaciGmwgF2ogAWohAwNAIANBACAEIAEbQQAgEVAiGxtqQX9qIRwCQAJAIBQNAEEAKAKACCICIBxBCnQiHGohCgwBCwJAIAFB/wBxIgINAEEAQQApA8AQQgF8NwPAEEGQGEGQEEGQIEEAEANBkBhBkBhBkCBBABADCyAcQQp0IRwgAkEDdEGQGGohCkEAKAKACCECCyACIANBCnRqIAIgHGogAiAKKQMAIh1CIIinIAVwIBogFhsiHCAEbCABIAFBACAZIBytUSIcGyIKIBsbIBdqIAogC2ogExsgAUUgHHJrIhsgFWqtIB1C/////w+DIh0gHX5CIIggG61+QiCIfSAMgqdqQQp0akEBEAMgA0EBaiEDIAggAUEBaiIBRw0ACwsgGUIBfCIZIA1SDQALIBFCAXwiEachASARQgRSDQALIA9CAXwiDyAHUg0AC0EAKAKACCECCyAJQQx0QYB4aiEXIAVBf2oiCkUNAgwBC0EAQgM3A6AQQQAgBEF/aq03A5AQQYB4IRcLIAIgF2ohGyAIQQx0IQhBACEcA0AgCCAcQQFqIhxsQYB4aiEEQQAhAQNAIBsgAWoiAyADKQMAIAIgBCABamopAwCFNwMAIANBCGoiAyADKQMAIAIgBCABQQhyamopAwCFNwMAIAFBCGohAyABQRBqIQEgA0H4B0kNAAsgHCAKRw0ACwsgAiAXaiEbQXghAQNAIAIgAWoiA0EIaiAbIAFqIgRBCGopAwA3AwAgA0EQaiAEQRBqKQMANwMAIANBGGogBEEYaikDADcDACADQSBqIARBIGopAwA3AwAgAUEgaiIBQfgHSQ0ACwsL",Mb="e4cdc523",Lb={name:Ob,data:kb,hash:Mb},Ub="blake2b",Fb="AGFzbQEAAAABEQRgAAF/YAJ/fwBgAX8AYAAAAwoJAAECAwECAgABBQQBAQICBg4CfwFBsIsFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACkhhc2hfRmluYWwAAwlIYXNoX0luaXQABQtIYXNoX1VwZGF0ZQAGDUhhc2hfR2V0U3RhdGUABw5IYXNoX0NhbGN1bGF0ZQAIClNUQVRFX1NJWkUDAQrTOAkFAEGACQvrAgIFfwF+AkAgAUEBSA0AAkACQAJAIAFBgAFBACgC4IoBIgJrIgNKDQAgASEEDAELQQBBADYC4IoBAkAgAkH/AEoNACACQeCJAWohBSAAIQRBACEGA0AgBSAELQAAOgAAIARBAWohBCAFQQFqIQUgAyAGQQFqIgZB/wFxSg0ACwtBAEEAKQPAiQEiB0KAAXw3A8CJAUEAQQApA8iJASAHQv9+Vq18NwPIiQFB4IkBEAIgACADaiEAAkAgASADayIEQYEBSA0AIAIgAWohBQNAQQBBACkDwIkBIgdCgAF8NwPAiQFBAEEAKQPIiQEgB0L/flatfDcDyIkBIAAQAiAAQYABaiEAIAVBgH9qIgVBgAJLDQALIAVBgH9qIQQMAQsgBEEATA0BC0EAIQUDQCAFQQAoAuCKAWpB4IkBaiAAIAVqLQAAOgAAIAQgBUEBaiIFQf8BcUoNAAsLQQBBACgC4IoBIARqNgLgigELC78uASR+QQBBACkD0IkBQQApA7CJASIBQQApA5CJAXwgACkDICICfCIDhULr+obav7X2wR+FQiCJIgRCq/DT9K/uvLc8fCIFIAGFQiiJIgYgA3wgACkDKCIBfCIHIASFQjCJIgggBXwiCSAGhUIBiSIKQQApA8iJAUEAKQOoiQEiBEEAKQOIiQF8IAApAxAiA3wiBYVCn9j52cKR2oKbf4VCIIkiC0K7zqqm2NDrs7t/fCIMIASFQiiJIg0gBXwgACkDGCIEfCIOfCAAKQNQIgV8Ig9BACkDwIkBQQApA6CJASIQQQApA4CJASIRfCAAKQMAIgZ8IhKFQtGFmu/6z5SH0QCFQiCJIhNCiJLznf/M+YTqAHwiFCAQhUIoiSIVIBJ8IAApAwgiEHwiFiAThUIwiSIXhUIgiSIYQQApA9iJAUEAKQO4iQEiE0EAKQOYiQF8IAApAzAiEnwiGYVC+cL4m5Gjs/DbAIVCIIkiGkLx7fT4paf9p6V/fCIbIBOFQiiJIhwgGXwgACkDOCITfCIZIBqFQjCJIhogG3wiG3wiHSAKhUIoiSIeIA98IAApA1giCnwiDyAYhUIwiSIYIB18Ih0gDiALhUIwiSIOIAx8Ih8gDYVCAYkiDCAWfCAAKQNAIgt8Ig0gGoVCIIkiFiAJfCIaIAyFQiiJIiAgDXwgACkDSCIJfCIhIBaFQjCJIhYgGyAchUIBiSIMIAd8IAApA2AiB3wiDSAOhUIgiSIOIBcgFHwiFHwiFyAMhUIoiSIbIA18IAApA2giDHwiHCAOhUIwiSIOIBd8IhcgG4VCAYkiGyAZIBQgFYVCAYkiFHwgACkDcCINfCIVIAiFQiCJIhkgH3wiHyAUhUIoiSIUIBV8IAApA3giCHwiFXwgDHwiIoVCIIkiI3wiJCAbhUIoiSIbICJ8IBJ8IiIgFyAYIBUgGYVCMIkiFSAffCIZIBSFQgGJIhQgIXwgDXwiH4VCIIkiGHwiFyAUhUIoiSIUIB98IAV8Ih8gGIVCMIkiGCAXfCIXIBSFQgGJIhR8IAF8IiEgFiAafCIWIBUgHSAehUIBiSIaIBx8IAl8IhyFQiCJIhV8Ih0gGoVCKIkiGiAcfCAIfCIcIBWFQjCJIhWFQiCJIh4gGSAOIBYgIIVCAYkiFiAPfCACfCIPhUIgiSIOfCIZIBaFQiiJIhYgD3wgC3wiDyAOhUIwiSIOIBl8Ihl8IiAgFIVCKIkiFCAhfCAEfCIhIB6FQjCJIh4gIHwiICAiICOFQjCJIiIgJHwiIyAbhUIBiSIbIBx8IAp8IhwgDoVCIIkiDiAXfCIXIBuFQiiJIhsgHHwgE3wiHCAOhUIwiSIOIBkgFoVCAYkiFiAffCAQfCIZICKFQiCJIh8gFSAdfCIVfCIdIBaFQiiJIhYgGXwgB3wiGSAfhUIwiSIfIB18Ih0gFoVCAYkiFiAVIBqFQgGJIhUgD3wgBnwiDyAYhUIgiSIYICN8IhogFYVCKIkiFSAPfCADfCIPfCAHfCIihUIgiSIjfCIkIBaFQiiJIhYgInwgBnwiIiAjhUIwiSIjICR8IiQgFoVCAYkiFiAOIBd8Ig4gDyAYhUIwiSIPICAgFIVCAYkiFCAZfCAKfCIXhUIgiSIYfCIZIBSFQiiJIhQgF3wgC3wiF3wgBXwiICAPIBp8Ig8gHyAOIBuFQgGJIg4gIXwgCHwiGoVCIIkiG3wiHyAOhUIoiSIOIBp8IAx8IhogG4VCMIkiG4VCIIkiISAdIB4gDyAVhUIBiSIPIBx8IAF8IhWFQiCJIhx8Ih0gD4VCKIkiDyAVfCADfCIVIByFQjCJIhwgHXwiHXwiHiAWhUIoiSIWICB8IA18IiAgIYVCMIkiISAefCIeIBogFyAYhUIwiSIXIBl8IhggFIVCAYkiFHwgCXwiGSAchUIgiSIaICR8IhwgFIVCKIkiFCAZfCACfCIZIBqFQjCJIhogHSAPhUIBiSIPICJ8IAR8Ih0gF4VCIIkiFyAbIB98Iht8Ih8gD4VCKIkiDyAdfCASfCIdIBeFQjCJIhcgH3wiHyAPhUIBiSIPIBsgDoVCAYkiDiAVfCATfCIVICOFQiCJIhsgGHwiGCAOhUIoiSIOIBV8IBB8IhV8IAx8IiKFQiCJIiN8IiQgD4VCKIkiDyAifCAHfCIiICOFQjCJIiMgJHwiJCAPhUIBiSIPIBogHHwiGiAVIBuFQjCJIhUgHiAWhUIBiSIWIB18IAR8IhuFQiCJIhx8Ih0gFoVCKIkiFiAbfCAQfCIbfCABfCIeIBUgGHwiFSAXIBogFIVCAYkiFCAgfCATfCIYhUIgiSIXfCIaIBSFQiiJIhQgGHwgCXwiGCAXhUIwiSIXhUIgiSIgIB8gISAVIA6FQgGJIg4gGXwgCnwiFYVCIIkiGXwiHyAOhUIoiSIOIBV8IA18IhUgGYVCMIkiGSAffCIffCIhIA+FQiiJIg8gHnwgBXwiHiAghUIwiSIgICF8IiEgGyAchUIwiSIbIB18IhwgFoVCAYkiFiAYfCADfCIYIBmFQiCJIhkgJHwiHSAWhUIoiSIWIBh8IBJ8IhggGYVCMIkiGSAfIA6FQgGJIg4gInwgAnwiHyAbhUIgiSIbIBcgGnwiF3wiGiAOhUIoiSIOIB98IAZ8Ih8gG4VCMIkiGyAafCIaIA6FQgGJIg4gFSAXIBSFQgGJIhR8IAh8IhUgI4VCIIkiFyAcfCIcIBSFQiiJIhQgFXwgC3wiFXwgBXwiIoVCIIkiI3wiJCAOhUIoiSIOICJ8IAh8IiIgGiAgIBUgF4VCMIkiFSAcfCIXIBSFQgGJIhQgGHwgCXwiGIVCIIkiHHwiGiAUhUIoiSIUIBh8IAZ8IhggHIVCMIkiHCAafCIaIBSFQgGJIhR8IAR8IiAgGSAdfCIZIBUgISAPhUIBiSIPIB98IAN8Ih2FQiCJIhV8Ih8gD4VCKIkiDyAdfCACfCIdIBWFQjCJIhWFQiCJIiEgFyAbIBkgFoVCAYkiFiAefCABfCIZhUIgiSIbfCIXIBaFQiiJIhYgGXwgE3wiGSAbhUIwiSIbIBd8Ihd8Ih4gFIVCKIkiFCAgfCAMfCIgICGFQjCJIiEgHnwiHiAiICOFQjCJIiIgJHwiIyAOhUIBiSIOIB18IBJ8Ih0gG4VCIIkiGyAafCIaIA6FQiiJIg4gHXwgC3wiHSAbhUIwiSIbIBcgFoVCAYkiFiAYfCANfCIXICKFQiCJIhggFSAffCIVfCIfIBaFQiiJIhYgF3wgEHwiFyAYhUIwiSIYIB98Ih8gFoVCAYkiFiAVIA+FQgGJIg8gGXwgCnwiFSAchUIgiSIZICN8IhwgD4VCKIkiDyAVfCAHfCIVfCASfCIihUIgiSIjfCIkIBaFQiiJIhYgInwgBXwiIiAjhUIwiSIjICR8IiQgFoVCAYkiFiAbIBp8IhogFSAZhUIwiSIVIB4gFIVCAYkiFCAXfCADfCIXhUIgiSIZfCIbIBSFQiiJIhQgF3wgB3wiF3wgAnwiHiAVIBx8IhUgGCAaIA6FQgGJIg4gIHwgC3wiGoVCIIkiGHwiHCAOhUIoiSIOIBp8IAR8IhogGIVCMIkiGIVCIIkiICAfICEgFSAPhUIBiSIPIB18IAZ8IhWFQiCJIh18Ih8gD4VCKIkiDyAVfCAKfCIVIB2FQjCJIh0gH3wiH3wiISAWhUIoiSIWIB58IAx8Ih4gIIVCMIkiICAhfCIhIBogFyAZhUIwiSIXIBt8IhkgFIVCAYkiFHwgEHwiGiAdhUIgiSIbICR8Ih0gFIVCKIkiFCAafCAJfCIaIBuFQjCJIhsgHyAPhUIBiSIPICJ8IBN8Ih8gF4VCIIkiFyAYIBx8Ihh8IhwgD4VCKIkiDyAffCABfCIfIBeFQjCJIhcgHHwiHCAPhUIBiSIPIBggDoVCAYkiDiAVfCAIfCIVICOFQiCJIhggGXwiGSAOhUIoiSIOIBV8IA18IhV8IA18IiKFQiCJIiN8IiQgD4VCKIkiDyAifCAMfCIiICOFQjCJIiMgJHwiJCAPhUIBiSIPIBsgHXwiGyAVIBiFQjCJIhUgISAWhUIBiSIWIB98IBB8IhiFQiCJIh18Ih8gFoVCKIkiFiAYfCAIfCIYfCASfCIhIBUgGXwiFSAXIBsgFIVCAYkiFCAefCAHfCIZhUIgiSIXfCIbIBSFQiiJIhQgGXwgAXwiGSAXhUIwiSIXhUIgiSIeIBwgICAVIA6FQgGJIg4gGnwgAnwiFYVCIIkiGnwiHCAOhUIoiSIOIBV8IAV8IhUgGoVCMIkiGiAcfCIcfCIgIA+FQiiJIg8gIXwgBHwiISAehUIwiSIeICB8IiAgGCAdhUIwiSIYIB98Ih0gFoVCAYkiFiAZfCAGfCIZIBqFQiCJIhogJHwiHyAWhUIoiSIWIBl8IBN8IhkgGoVCMIkiGiAcIA6FQgGJIg4gInwgCXwiHCAYhUIgiSIYIBcgG3wiF3wiGyAOhUIoiSIOIBx8IAN8IhwgGIVCMIkiGCAbfCIbIA6FQgGJIg4gFSAXIBSFQgGJIhR8IAt8IhUgI4VCIIkiFyAdfCIdIBSFQiiJIhQgFXwgCnwiFXwgBHwiIoVCIIkiI3wiJCAOhUIoiSIOICJ8IAl8IiIgGyAeIBUgF4VCMIkiFSAdfCIXIBSFQgGJIhQgGXwgDHwiGYVCIIkiHXwiGyAUhUIoiSIUIBl8IAp8IhkgHYVCMIkiHSAbfCIbIBSFQgGJIhR8IAN8Ih4gGiAffCIaIBUgICAPhUIBiSIPIBx8IAd8IhyFQiCJIhV8Ih8gD4VCKIkiDyAcfCAQfCIcIBWFQjCJIhWFQiCJIiAgFyAYIBogFoVCAYkiFiAhfCATfCIahUIgiSIYfCIXIBaFQiiJIhYgGnwgDXwiGiAYhUIwiSIYIBd8Ihd8IiEgFIVCKIkiFCAefCAFfCIeICCFQjCJIiAgIXwiISAiICOFQjCJIiIgJHwiIyAOhUIBiSIOIBx8IAt8IhwgGIVCIIkiGCAbfCIbIA6FQiiJIg4gHHwgEnwiHCAYhUIwiSIYIBcgFoVCAYkiFiAZfCABfCIXICKFQiCJIhkgFSAffCIVfCIfIBaFQiiJIhYgF3wgBnwiFyAZhUIwiSIZIB98Ih8gFoVCAYkiFiAVIA+FQgGJIg8gGnwgCHwiFSAdhUIgiSIaICN8Ih0gD4VCKIkiDyAVfCACfCIVfCANfCIihUIgiSIjfCIkIBaFQiiJIhYgInwgCXwiIiAjhUIwiSIjICR8IiQgFoVCAYkiFiAYIBt8IhggFSAahUIwiSIVICEgFIVCAYkiFCAXfCASfCIXhUIgiSIafCIbIBSFQiiJIhQgF3wgCHwiF3wgB3wiISAVIB18IhUgGSAYIA6FQgGJIg4gHnwgBnwiGIVCIIkiGXwiHSAOhUIoiSIOIBh8IAt8IhggGYVCMIkiGYVCIIkiHiAfICAgFSAPhUIBiSIPIBx8IAp8IhWFQiCJIhx8Ih8gD4VCKIkiDyAVfCAEfCIVIByFQjCJIhwgH3wiH3wiICAWhUIoiSIWICF8IAN8IiEgHoVCMIkiHiAgfCIgIBggFyAahUIwiSIXIBt8IhogFIVCAYkiFHwgBXwiGCAchUIgiSIbICR8IhwgFIVCKIkiFCAYfCABfCIYIBuFQjCJIhsgHyAPhUIBiSIPICJ8IAx8Ih8gF4VCIIkiFyAZIB18Ihl8Ih0gD4VCKIkiDyAffCATfCIfIBeFQjCJIhcgHXwiHSAPhUIBiSIPIBkgDoVCAYkiDiAVfCAQfCIVICOFQiCJIhkgGnwiGiAOhUIoiSIOIBV8IAJ8IhV8IBN8IiKFQiCJIiN8IiQgD4VCKIkiDyAifCASfCIiICOFQjCJIiMgJHwiJCAPhUIBiSIPIBsgHHwiGyAVIBmFQjCJIhUgICAWhUIBiSIWIB98IAt8IhmFQiCJIhx8Ih8gFoVCKIkiFiAZfCACfCIZfCAJfCIgIBUgGnwiFSAXIBsgFIVCAYkiFCAhfCAFfCIahUIgiSIXfCIbIBSFQiiJIhQgGnwgA3wiGiAXhUIwiSIXhUIgiSIhIB0gHiAVIA6FQgGJIg4gGHwgEHwiFYVCIIkiGHwiHSAOhUIoiSIOIBV8IAF8IhUgGIVCMIkiGCAdfCIdfCIeIA+FQiiJIg8gIHwgDXwiICAhhUIwiSIhIB58Ih4gGSAchUIwiSIZIB98IhwgFoVCAYkiFiAafCAIfCIaIBiFQiCJIhggJHwiHyAWhUIoiSIWIBp8IAp8IhogGIVCMIkiGCAdIA6FQgGJIg4gInwgBHwiHSAZhUIgiSIZIBcgG3wiF3wiGyAOhUIoiSIOIB18IAd8Ih0gGYVCMIkiGSAbfCIbIA6FQgGJIg4gFSAXIBSFQgGJIhR8IAx8IhUgI4VCIIkiFyAcfCIcIBSFQiiJIhQgFXwgBnwiFXwgEnwiIoVCIIkiI3wiJCAOhUIoiSIOICJ8IBN8IiIgGyAhIBUgF4VCMIkiFSAcfCIXIBSFQgGJIhQgGnwgBnwiGoVCIIkiHHwiGyAUhUIoiSIUIBp8IBB8IhogHIVCMIkiHCAbfCIbIBSFQgGJIhR8IA18IiEgGCAffCIYIBUgHiAPhUIBiSIPIB18IAJ8Ih2FQiCJIhV8Ih4gD4VCKIkiDyAdfCABfCIdIBWFQjCJIhWFQiCJIh8gFyAZIBggFoVCAYkiFiAgfCADfCIYhUIgiSIZfCIXIBaFQiiJIhYgGHwgBHwiGCAZhUIwiSIZIBd8Ihd8IiAgFIVCKIkiFCAhfCAIfCIhIB+FQjCJIh8gIHwiICAiICOFQjCJIiIgJHwiIyAOhUIBiSIOIB18IAd8Ih0gGYVCIIkiGSAbfCIbIA6FQiiJIg4gHXwgDHwiHSAZhUIwiSIZIBcgFoVCAYkiFiAafCALfCIXICKFQiCJIhogFSAefCIVfCIeIBaFQiiJIhYgF3wgCXwiFyAahUIwiSIaIB58Ih4gFoVCAYkiFiAVIA+FQgGJIg8gGHwgBXwiFSAchUIgiSIYICN8IhwgD4VCKIkiDyAVfCAKfCIVfCACfCIChUIgiSIifCIjIBaFQiiJIhYgAnwgC3wiAiAihUIwiSILICN8IiIgFoVCAYkiFiAZIBt8IhkgFSAYhUIwiSIVICAgFIVCAYkiFCAXfCANfCINhUIgiSIXfCIYIBSFQiiJIhQgDXwgBXwiBXwgEHwiECAVIBx8Ig0gGiAZIA6FQgGJIg4gIXwgDHwiDIVCIIkiFXwiGSAOhUIoiSIOIAx8IBJ8IhIgFYVCMIkiDIVCIIkiFSAeIB8gDSAPhUIBiSINIB18IAl8IgmFQiCJIg98IhogDYVCKIkiDSAJfCAIfCIJIA+FQjCJIgggGnwiD3wiGiAWhUIoiSIWIBB8IAd8IhAgEYUgDCAZfCIHIA6FQgGJIgwgCXwgCnwiCiALhUIgiSILIAUgF4VCMIkiBSAYfCIJfCIOIAyFQiiJIgwgCnwgE3wiEyALhUIwiSIKIA58IguFNwOAiQFBACADIAYgDyANhUIBiSINIAJ8fCICIAWFQiCJIgUgB3wiBiANhUIoiSIHIAJ8fCICQQApA4iJAYUgBCABIBIgCSAUhUIBiSIDfHwiASAIhUIgiSISICJ8IgkgA4VCKIkiAyABfHwiASAShUIwiSIEIAl8IhKFNwOIiQFBACATQQApA5CJAYUgECAVhUIwiSIQIBp8IhOFNwOQiQFBACABQQApA5iJAYUgAiAFhUIwiSICIAZ8IgGFNwOYiQFBACASIAOFQgGJQQApA6CJAYUgAoU3A6CJAUEAIBMgFoVCAYlBACkDqIkBhSAKhTcDqIkBQQAgASAHhUIBiUEAKQOwiQGFIASFNwOwiQFBACALIAyFQgGJQQApA7iJAYUgEIU3A7iJAQvdAgUBfwF+AX8BfgJ/IwBBwABrIgAkAAJAQQApA9CJAUIAUg0AQQBBACkDwIkBIgFBACgC4IoBIgKsfCIDNwPAiQFBAEEAKQPIiQEgAyABVK18NwPIiQECQEEALQDoigFFDQBBAEJ/NwPYiQELQQBCfzcD0IkBAkAgAkH/AEoNAEEAIQQDQCACIARqQeCJAWpBADoAACAEQQFqIgRBgAFBACgC4IoBIgJrSA0ACwtB4IkBEAIgAEEAKQOAiQE3AwAgAEEAKQOIiQE3AwggAEEAKQOQiQE3AxAgAEEAKQOYiQE3AxggAEEAKQOgiQE3AyAgAEEAKQOoiQE3AyggAEEAKQOwiQE3AzAgAEEAKQO4iQE3AzhBACgC5IoBIgVBAUgNAEEAIQRBACECA0AgBEGACWogACAEai0AADoAACAEQQFqIQQgBSACQQFqIgJB/wFxSg0ACwsgAEHAAGokAAv9AwMBfwF+AX8jAEGAAWsiAiQAQQBBgQI7AfKKAUEAIAE6APGKAUEAIAA6APCKAUGQfiEAA0AgAEGAiwFqQgA3AAAgAEH4igFqQgA3AAAgAEHwigFqQgA3AAAgAEEYaiIADQALQQAhAEEAQQApA/CKASIDQoiS853/zPmE6gCFNwOAiQFBAEEAKQP4igFCu86qptjQ67O7f4U3A4iJAUEAQQApA4CLAUKr8NP0r+68tzyFNwOQiQFBAEEAKQOIiwFC8e30+KWn/aelf4U3A5iJAUEAQQApA5CLAULRhZrv+s+Uh9EAhTcDoIkBQQBBACkDmIsBQp/Y+dnCkdqCm3+FNwOoiQFBAEEAKQOgiwFC6/qG2r+19sEfhTcDsIkBQQBBACkDqIsBQvnC+JuRo7Pw2wCFNwO4iQFBACADp0H/AXE2AuSKAQJAIAFBAUgNACACQgA3A3ggAkIANwNwIAJCADcDaCACQgA3A2AgAkIANwNYIAJCADcDUCACQgA3A0ggAkIANwNAIAJCADcDOCACQgA3AzAgAkIANwMoIAJCADcDICACQgA3AxggAkIANwMQIAJCADcDCCACQgA3AwBBACEEA0AgAiAAaiAAQYAJai0AADoAACAAQQFqIQAgBEEBaiIEQf8BcSABSA0ACyACQYABEAELIAJBgAFqJAALEgAgAEEDdkH/P3EgAEEQdhAECwkAQYAJIAAQAQsGAEGAiQELGwAgAUEDdkH/P3EgAUEQdhAEQYAJIAAQARADCwsLAQBBgAgLBPAAAAA=",Pb="c6f286e6",Vb={name:Ub,data:Fb,hash:Pb};new Ir;function Ly(r){return!Number.isInteger(r)||r<8||r>512||r%8!==0?new Error("Invalid variant! Valid values: 8, 16, ..., 512"):null}function Qb(r,a){return r|a<<16}function Ah(r=512,a=null){if(Ly(r))return Promise.reject(Ly(r));let s=null,f=r;if(a!==null){if(s=hs(a),s.length>64)return Promise.reject(new Error("Max key length is 64 bytes"));f=Qb(r,s.length)}const v=r/8;return V2(Vb,v).then(m=>{f>512&&m.writeMemory(s),m.init(f);const A={init:f>512?()=>(m.writeMemory(s),m.init(f),A):()=>(m.init(f),A),update:p=>(m.update(p),A),digest:p=>m.digest(p),save:()=>m.save(),load:p=>(m.load(p),A),blockSize:128,digestSize:v};return A})}function Hb(r,a,s){const f=[`m=${a.memorySize}`,`t=${a.iterations}`,`p=${a.parallelism}`].join(",");return`$argon2${a.hashType}$v=19$${f}$${My(r,!1)}$${My(s,!1)}`}const Uy=new DataView(new ArrayBuffer(4));function fs(r){return Uy.setInt32(0,r,!0),new Uint8Array(Uy.buffer)}function bd(r,a,s){return Ro(this,void 0,void 0,function*(){if(s<=64){const w=yield Ah(s*8);return w.update(fs(s)),w.update(a),w.digest("binary")}const f=Math.ceil(s/32)-2,v=new Uint8Array(s);r.init(),r.update(fs(s)),r.update(a);let m=r.digest("binary");v.set(m.subarray(0,32),0);for(let w=1;w<f;w++)r.init(),r.update(m),m=r.digest("binary"),v.set(m.subarray(0,32),w*32);const A=s-32*f;let p;return A===64?(p=r,p.init()):p=yield Ah(A*8),p.update(m),m=p.digest("binary"),v.set(m.subarray(0,A),f*32),v})}function Gb(r){switch(r){case"d":return 0;case"i":return 1;default:return 2}}function jb(r){return Ro(this,void 0,void 0,function*(){var a;const{parallelism:s,iterations:f,hashLength:v}=r,m=hs(r.password),A=hs(r.salt),p=19,w=Gb(r.hashType),{memorySize:C}=r,D=hs((a=r.secret)!==null&&a!==void 0?a:""),[R,L]=yield Promise.all([V2(Lb,1024),Ah(512)]);R.setMemorySize(C*1024+1024);const _=new Uint8Array(24),V=new DataView(_.buffer);V.setInt32(0,s,!0),V.setInt32(4,v,!0),V.setInt32(8,C,!0),V.setInt32(12,f,!0),V.setInt32(16,p,!0),V.setInt32(20,w,!0),R.writeMemory(_,C*1024),L.init(),L.update(_),L.update(fs(m.length)),L.update(m),L.update(fs(A.length)),L.update(A),L.update(fs(D.length)),L.update(D),L.update(fs(0));const H=Math.floor(C/(s*4))*4,T=new Uint8Array(72),F=L.digest("binary");T.set(F);for(let X=0;X<s;X++){T.set(fs(0),64),T.set(fs(X),68);let M=X*H,I=yield bd(L,T,1024);R.writeMemory(I,M*1024),M+=1,T.set(fs(1),64),I=yield bd(L,T,1024),R.writeMemory(I,M*1024)}const U=new Uint8Array(1024);P2(U,R.calculate(new Uint8Array([]),C));const K=yield bd(L,U,v);if(r.outputType==="hex"){const X=new Uint8Array(v*2);return vh(X,K,v)}return r.outputType==="encoded"?Hb(A,r,K):K})}const Kb=r=>{var a;if(!r||typeof r!="object")throw new Error("Invalid options parameter. It requires an object.");if(!r.password)throw new Error("Password must be specified");if(r.password=hs(r.password),r.password.length<1)throw new Error("Password must be specified");if(!r.salt)throw new Error("Salt must be specified");if(r.salt=hs(r.salt),r.salt.length<8)throw new Error("Salt should be at least 8 bytes long");if(r.secret=hs((a=r.secret)!==null&&a!==void 0?a:""),!Number.isInteger(r.iterations)||r.iterations<1)throw new Error("Iterations should be a positive number");if(!Number.isInteger(r.parallelism)||r.parallelism<1)throw new Error("Parallelism should be a positive number");if(!Number.isInteger(r.hashLength)||r.hashLength<4)throw new Error("Hash length should be at least 4 bytes.");if(!Number.isInteger(r.memorySize))throw new Error("Memory size should be specified.");if(r.memorySize<8*r.parallelism)throw new Error("Memory size should be at least 8 * parallelism.");if(r.outputType===void 0&&(r.outputType="hex"),!["hex","binary","encoded"].includes(r.outputType))throw new Error(`Insupported output type ${r.outputType}. Valid values: ['hex', 'binary', 'encoded']`)};function zb(r){return Ro(this,void 0,void 0,function*(){return Kb(r),jb(Object.assign(Object.assign({},r),{hashType:"id"}))})}new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;var wd,Fy;function Nn(){return Fy||(Fy=1,wd={options:{usePureJavaScript:!1}}),wd}var Ed={exports:{}},Id,Py;function qb(){if(Py)return Id;Py=1;var r={};Id=r;var a={};r.encode=function(f,v,m){if(typeof v!="string")throw new TypeError('"alphabet" must be a string.');if(m!==void 0&&typeof m!="number")throw new TypeError('"maxline" must be a number.');var A="";if(!(f instanceof Uint8Array))A=s(f,v);else{var p=0,w=v.length,C=v.charAt(0),D=[0];for(p=0;p<f.length;++p){for(var R=0,L=f[p];R<D.length;++R)L+=D[R]<<8,D[R]=L%w,L=L/w|0;for(;L>0;)D.push(L%w),L=L/w|0}for(p=0;f[p]===0&&p<f.length-1;++p)A+=C;for(p=D.length-1;p>=0;--p)A+=v[D[p]]}if(m){var _=new RegExp(".{1,"+m+"}","g");A=A.match(_).join(`\r
`)}return A},r.decode=function(f,v){if(typeof f!="string")throw new TypeError('"input" must be a string.');if(typeof v!="string")throw new TypeError('"alphabet" must be a string.');var m=a[v];if(!m){m=a[v]=[];for(var A=0;A<v.length;++A)m[v.charCodeAt(A)]=A}f=f.replace(/\s/g,"");for(var p=v.length,w=v.charAt(0),C=[0],A=0;A<f.length;A++){var D=m[f.charCodeAt(A)];if(D===void 0)return;for(var R=0,L=D;R<C.length;++R)L+=C[R]*p,C[R]=L&255,L>>=8;for(;L>0;)C.push(L&255),L>>=8}for(var _=0;f[_]===w&&_<f.length-1;++_)C.push(0);return typeof Buffer<"u"?Buffer.from(C.reverse()):new Uint8Array(C.reverse())};function s(f,v){var m=0,A=v.length,p=v.charAt(0),w=[0];for(m=0;m<f.length();++m){for(var C=0,D=f.at(m);C<w.length;++C)D+=w[C]<<8,w[C]=D%A,D=D/A|0;for(;D>0;)w.push(D%A),D=D/A|0}var R="";for(m=0;f.at(m)===0&&m<f.length()-1;++m)R+=p;for(m=w.length-1;m>=0;--m)R+=v[w[m]];return R}return Id}var Vy;function Xn(){if(Vy)return Ed.exports;Vy=1;var r=Nn(),a=qb(),s=Ed.exports=r.util=r.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){s.nextTick=process.nextTick,typeof setImmediate=="function"?s.setImmediate=setImmediate:s.setImmediate=s.nextTick;return}if(typeof setImmediate=="function"){s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},s.nextTick=function(E){return setImmediate(E)};return}if(s.setImmediate=function(E){setTimeout(E,0)},typeof window<"u"&&typeof window.postMessage=="function"){let E=function(j){if(j.source===window&&j.data===T){j.stopPropagation();var ie=F.slice();F.length=0,ie.forEach(function(de){de()})}};var I=E,T="forge.setImmediate",F=[];s.setImmediate=function(j){F.push(j),F.length===1&&window.postMessage(T,"*")},window.addEventListener("message",E,!0)}if(typeof MutationObserver<"u"){var U=Date.now(),K=!0,X=document.createElement("div"),F=[];new MutationObserver(function(){var j=F.slice();F.length=0,j.forEach(function(ie){ie()})}).observe(X,{attributes:!0});var M=s.setImmediate;s.setImmediate=function(j){Date.now()-U>15?(U=Date.now(),M(j)):(F.push(j),F.length===1&&X.setAttribute("a",K=!K))}}s.nextTick=s.setImmediate})(),s.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,s.globalScope=(function(){return s.isNodejs?hl:typeof self>"u"?window:self})(),s.isArray=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},s.isArrayBuffer=function(T){return typeof ArrayBuffer<"u"&&T instanceof ArrayBuffer},s.isArrayBufferView=function(T){return T&&s.isArrayBuffer(T.buffer)&&T.byteLength!==void 0};function f(T){if(!(T===8||T===16||T===24||T===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+T)}s.ByteBuffer=v;function v(T){if(this.data="",this.read=0,typeof T=="string")this.data=T;else if(s.isArrayBuffer(T)||s.isArrayBufferView(T))if(typeof Buffer<"u"&&T instanceof Buffer)this.data=T.toString("binary");else{var F=new Uint8Array(T);try{this.data=String.fromCharCode.apply(null,F)}catch{for(var U=0;U<F.length;++U)this.putByte(F[U])}}else(T instanceof v||typeof T=="object"&&typeof T.data=="string"&&typeof T.read=="number")&&(this.data=T.data,this.read=T.read);this._constructedStringLength=0}s.ByteStringBuffer=v;var m=4096;s.ByteStringBuffer.prototype._optimizeConstructedString=function(T){this._constructedStringLength+=T,this._constructedStringLength>m&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(T){return this.putBytes(String.fromCharCode(T))},s.ByteStringBuffer.prototype.fillWithByte=function(T,F){T=String.fromCharCode(T);for(var U=this.data;F>0;)F&1&&(U+=T),F>>>=1,F>0&&(T+=T);return this.data=U,this._optimizeConstructedString(F),this},s.ByteStringBuffer.prototype.putBytes=function(T){return this.data+=T,this._optimizeConstructedString(T.length),this},s.ByteStringBuffer.prototype.putString=function(T){return this.putBytes(s.encodeUtf8(T))},s.ByteStringBuffer.prototype.putInt16=function(T){return this.putBytes(String.fromCharCode(T>>8&255)+String.fromCharCode(T&255))},s.ByteStringBuffer.prototype.putInt24=function(T){return this.putBytes(String.fromCharCode(T>>16&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T&255))},s.ByteStringBuffer.prototype.putInt32=function(T){return this.putBytes(String.fromCharCode(T>>24&255)+String.fromCharCode(T>>16&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T&255))},s.ByteStringBuffer.prototype.putInt16Le=function(T){return this.putBytes(String.fromCharCode(T&255)+String.fromCharCode(T>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(T){return this.putBytes(String.fromCharCode(T&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(T){return this.putBytes(String.fromCharCode(T&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T>>16&255)+String.fromCharCode(T>>24&255))},s.ByteStringBuffer.prototype.putInt=function(T,F){f(F);var U="";do F-=8,U+=String.fromCharCode(T>>F&255);while(F>0);return this.putBytes(U)},s.ByteStringBuffer.prototype.putSignedInt=function(T,F){return T<0&&(T+=2<<F-1),this.putInt(T,F)},s.ByteStringBuffer.prototype.putBuffer=function(T){return this.putBytes(T.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var T=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,T},s.ByteStringBuffer.prototype.getInt24=function(){var T=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,T},s.ByteStringBuffer.prototype.getInt32=function(){var T=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,T},s.ByteStringBuffer.prototype.getInt16Le=function(){var T=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,T},s.ByteStringBuffer.prototype.getInt24Le=function(){var T=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,T},s.ByteStringBuffer.prototype.getInt32Le=function(){var T=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,T},s.ByteStringBuffer.prototype.getInt=function(T){f(T);var F=0;do F=(F<<8)+this.data.charCodeAt(this.read++),T-=8;while(T>0);return F},s.ByteStringBuffer.prototype.getSignedInt=function(T){var F=this.getInt(T),U=2<<T-2;return F>=U&&(F-=U<<1),F},s.ByteStringBuffer.prototype.getBytes=function(T){var F;return T?(T=Math.min(this.length(),T),F=this.data.slice(this.read,this.read+T),this.read+=T):T===0?F="":(F=this.read===0?this.data:this.data.slice(this.read),this.clear()),F},s.ByteStringBuffer.prototype.bytes=function(T){return typeof T>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+T)},s.ByteStringBuffer.prototype.at=function(T){return this.data.charCodeAt(this.read+T)},s.ByteStringBuffer.prototype.setAt=function(T,F){return this.data=this.data.substr(0,this.read+T)+String.fromCharCode(F)+this.data.substr(this.read+T+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var T=s.createBuffer(this.data);return T.read=this.read,T},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(T){var F=Math.max(0,this.length()-T);return this.data=this.data.substr(this.read,F),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var T="",F=this.read;F<this.data.length;++F){var U=this.data.charCodeAt(F);U<16&&(T+="0"),T+=U.toString(16)}return T},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())};function A(T,F){F=F||{},this.read=F.readOffset||0,this.growSize=F.growSize||1024;var U=s.isArrayBuffer(T),K=s.isArrayBufferView(T);if(U||K){U?this.data=new DataView(T):this.data=new DataView(T.buffer,T.byteOffset,T.byteLength),this.write="writeOffset"in F?F.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,T!=null&&this.putBytes(T),"writeOffset"in F&&(this.write=F.writeOffset)}s.DataBuffer=A,s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(T,F){if(this.length()>=T)return this;F=Math.max(F||this.growSize,T);var U=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),K=new Uint8Array(this.length()+F);return K.set(U),this.data=new DataView(K.buffer),this},s.DataBuffer.prototype.putByte=function(T){return this.accommodate(1),this.data.setUint8(this.write++,T),this},s.DataBuffer.prototype.fillWithByte=function(T,F){this.accommodate(F);for(var U=0;U<F;++U)this.data.setUint8(T);return this},s.DataBuffer.prototype.putBytes=function(T,F){if(s.isArrayBufferView(T)){var U=new Uint8Array(T.buffer,T.byteOffset,T.byteLength),K=U.byteLength-U.byteOffset;this.accommodate(K);var X=new Uint8Array(this.data.buffer,this.write);return X.set(U),this.write+=K,this}if(s.isArrayBuffer(T)){var U=new Uint8Array(T);this.accommodate(U.byteLength);var X=new Uint8Array(this.data.buffer);return X.set(U,this.write),this.write+=U.byteLength,this}if(T instanceof s.DataBuffer||typeof T=="object"&&typeof T.read=="number"&&typeof T.write=="number"&&s.isArrayBufferView(T.data)){var U=new Uint8Array(T.data.byteLength,T.read,T.length());this.accommodate(U.byteLength);var X=new Uint8Array(T.data.byteLength,this.write);return X.set(U),this.write+=U.byteLength,this}if(T instanceof s.ByteStringBuffer&&(T=T.data,F="binary"),F=F||"binary",typeof T=="string"){var M;if(F==="hex")return this.accommodate(Math.ceil(T.length/2)),M=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(T,M,this.write),this;if(F==="base64")return this.accommodate(Math.ceil(T.length/4)*3),M=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(T,M,this.write),this;if(F==="utf8"&&(T=s.encodeUtf8(T),F="binary"),F==="binary"||F==="raw")return this.accommodate(T.length),M=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(M),this;if(F==="utf16")return this.accommodate(T.length*2),M=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(M),this;throw new Error("Invalid encoding: "+F)}throw Error("Invalid parameter: "+T)},s.DataBuffer.prototype.putBuffer=function(T){return this.putBytes(T),T.clear(),this},s.DataBuffer.prototype.putString=function(T){return this.putBytes(T,"utf16")},s.DataBuffer.prototype.putInt16=function(T){return this.accommodate(2),this.data.setInt16(this.write,T),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(T){return this.accommodate(3),this.data.setInt16(this.write,T>>8&65535),this.data.setInt8(this.write,T>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(T){return this.accommodate(4),this.data.setInt32(this.write,T),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(T){return this.accommodate(2),this.data.setInt16(this.write,T,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(T){return this.accommodate(3),this.data.setInt8(this.write,T>>16&255),this.data.setInt16(this.write,T>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(T){return this.accommodate(4),this.data.setInt32(this.write,T,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(T,F){f(F),this.accommodate(F/8);do F-=8,this.data.setInt8(this.write++,T>>F&255);while(F>0);return this},s.DataBuffer.prototype.putSignedInt=function(T,F){return f(F),this.accommodate(F/8),T<0&&(T+=2<<F-1),this.putInt(T,F)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var T=this.data.getInt16(this.read);return this.read+=2,T},s.DataBuffer.prototype.getInt24=function(){var T=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,T},s.DataBuffer.prototype.getInt32=function(){var T=this.data.getInt32(this.read);return this.read+=4,T},s.DataBuffer.prototype.getInt16Le=function(){var T=this.data.getInt16(this.read,!0);return this.read+=2,T},s.DataBuffer.prototype.getInt24Le=function(){var T=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,T},s.DataBuffer.prototype.getInt32Le=function(){var T=this.data.getInt32(this.read,!0);return this.read+=4,T},s.DataBuffer.prototype.getInt=function(T){f(T);var F=0;do F=(F<<8)+this.data.getInt8(this.read++),T-=8;while(T>0);return F},s.DataBuffer.prototype.getSignedInt=function(T){var F=this.getInt(T),U=2<<T-2;return F>=U&&(F-=U<<1),F},s.DataBuffer.prototype.getBytes=function(T){var F;return T?(T=Math.min(this.length(),T),F=this.data.slice(this.read,this.read+T),this.read+=T):T===0?F="":(F=this.read===0?this.data:this.data.slice(this.read),this.clear()),F},s.DataBuffer.prototype.bytes=function(T){return typeof T>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+T)},s.DataBuffer.prototype.at=function(T){return this.data.getUint8(this.read+T)},s.DataBuffer.prototype.setAt=function(T,F){return this.data.setUint8(T,F),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var T=new Uint8Array(this.data.buffer,this.read),F=new Uint8Array(T.byteLength);F.set(T),this.data=new DataView(F),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(T){return this.write=Math.max(0,this.length()-T),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var T="",F=this.read;F<this.data.byteLength;++F){var U=this.data.getUint8(F);U<16&&(T+="0"),T+=U.toString(16)}return T},s.DataBuffer.prototype.toString=function(T){var F=new Uint8Array(this.data,this.read,this.length());if(T=T||"utf8",T==="binary"||T==="raw")return s.binary.raw.encode(F);if(T==="hex")return s.binary.hex.encode(F);if(T==="base64")return s.binary.base64.encode(F);if(T==="utf8")return s.text.utf8.decode(F);if(T==="utf16")return s.text.utf16.decode(F);throw new Error("Invalid encoding: "+T)},s.createBuffer=function(T,F){return F=F||"raw",T!==void 0&&F==="utf8"&&(T=s.encodeUtf8(T)),new s.ByteBuffer(T)},s.fillString=function(T,F){for(var U="";F>0;)F&1&&(U+=T),F>>>=1,F>0&&(T+=T);return U},s.xorBytes=function(T,F,U){for(var K="",X="",M="",I=0,E=0;U>0;--U,++I)X=T.charCodeAt(I)^F.charCodeAt(I),E>=10&&(K+=M,M="",E=0),M+=String.fromCharCode(X),++E;return K+=M,K},s.hexToBytes=function(T){var F="",U=0;for(T.length&!0&&(U=1,F+=String.fromCharCode(parseInt(T[0],16)));U<T.length;U+=2)F+=String.fromCharCode(parseInt(T.substr(U,2),16));return F},s.bytesToHex=function(T){return s.createBuffer(T).toHex()},s.int32ToBytes=function(T){return String.fromCharCode(T>>24&255)+String.fromCharCode(T>>16&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T&255)};var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],C="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(T,F){for(var U="",K="",X,M,I,E=0;E<T.length;)X=T.charCodeAt(E++),M=T.charCodeAt(E++),I=T.charCodeAt(E++),U+=p.charAt(X>>2),U+=p.charAt((X&3)<<4|M>>4),isNaN(M)?U+="==":(U+=p.charAt((M&15)<<2|I>>6),U+=isNaN(I)?"=":p.charAt(I&63)),F&&U.length>F&&(K+=U.substr(0,F)+`\r
`,U=U.substr(F));return K+=U,K},s.decode64=function(T){T=T.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var F="",U,K,X,M,I=0;I<T.length;)U=w[T.charCodeAt(I++)-43],K=w[T.charCodeAt(I++)-43],X=w[T.charCodeAt(I++)-43],M=w[T.charCodeAt(I++)-43],F+=String.fromCharCode(U<<2|K>>4),X!==64&&(F+=String.fromCharCode((K&15)<<4|X>>2),M!==64&&(F+=String.fromCharCode((X&3)<<6|M)));return F},s.encodeUtf8=function(T){return unescape(encodeURIComponent(T))},s.decodeUtf8=function(T){return decodeURIComponent(escape(T))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},s.binary.raw.encode=function(T){return String.fromCharCode.apply(null,T)},s.binary.raw.decode=function(T,F,U){var K=F;K||(K=new Uint8Array(T.length)),U=U||0;for(var X=U,M=0;M<T.length;++M)K[X++]=T.charCodeAt(M);return F?X-U:K},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(T,F,U){var K=F;K||(K=new Uint8Array(Math.ceil(T.length/2))),U=U||0;var X=0,M=U;for(T.length&1&&(X=1,K[M++]=parseInt(T[0],16));X<T.length;X+=2)K[M++]=parseInt(T.substr(X,2),16);return F?M-U:K},s.binary.base64.encode=function(T,F){for(var U="",K="",X,M,I,E=0;E<T.byteLength;)X=T[E++],M=T[E++],I=T[E++],U+=p.charAt(X>>2),U+=p.charAt((X&3)<<4|M>>4),isNaN(M)?U+="==":(U+=p.charAt((M&15)<<2|I>>6),U+=isNaN(I)?"=":p.charAt(I&63)),F&&U.length>F&&(K+=U.substr(0,F)+`\r
`,U=U.substr(F));return K+=U,K},s.binary.base64.decode=function(T,F,U){var K=F;K||(K=new Uint8Array(Math.ceil(T.length/4)*3)),T=T.replace(/[^A-Za-z0-9\+\/\=]/g,""),U=U||0;for(var X,M,I,E,j=0,ie=U;j<T.length;)X=w[T.charCodeAt(j++)-43],M=w[T.charCodeAt(j++)-43],I=w[T.charCodeAt(j++)-43],E=w[T.charCodeAt(j++)-43],K[ie++]=X<<2|M>>4,I!==64&&(K[ie++]=(M&15)<<4|I>>2,E!==64&&(K[ie++]=(I&3)<<6|E));return F?ie-U:K.subarray(0,ie)},s.binary.base58.encode=function(T,F){return s.binary.baseN.encode(T,C,F)},s.binary.base58.decode=function(T,F){return s.binary.baseN.decode(T,C,F)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(T,F,U){T=s.encodeUtf8(T);var K=F;K||(K=new Uint8Array(T.length)),U=U||0;for(var X=U,M=0;M<T.length;++M)K[X++]=T.charCodeAt(M);return F?X-U:K},s.text.utf8.decode=function(T){return s.decodeUtf8(String.fromCharCode.apply(null,T))},s.text.utf16.encode=function(T,F,U){var K=F;K||(K=new Uint8Array(T.length*2));var X=new Uint16Array(K.buffer);U=U||0;for(var M=U,I=U,E=0;E<T.length;++E)X[I++]=T.charCodeAt(E),M+=2;return F?M-U:K},s.text.utf16.decode=function(T){return String.fromCharCode.apply(null,new Uint16Array(T.buffer))},s.deflate=function(T,F,U){if(F=s.decode64(T.deflate(s.encode64(F)).rval),U){var K=2,X=F.charCodeAt(1);X&32&&(K=6),F=F.substring(K,F.length-4)}return F},s.inflate=function(T,F,U){var K=T.inflate(s.encode64(F)).rval;return K===null?null:s.decode64(K)};var D=function(T,F,U){if(!T)throw new Error("WebStorage not available.");var K;if(U===null?K=T.removeItem(F):(U=s.encode64(JSON.stringify(U)),K=T.setItem(F,U)),typeof K<"u"&&K.rval!==!0){var X=new Error(K.error.message);throw X.id=K.error.id,X.name=K.error.name,X}},R=function(T,F){if(!T)throw new Error("WebStorage not available.");var U=T.getItem(F);if(T.init)if(U.rval===null){if(U.error){var K=new Error(U.error.message);throw K.id=U.error.id,K.name=U.error.name,K}U=null}else U=U.rval;return U!==null&&(U=JSON.parse(s.decode64(U))),U},L=function(T,F,U,K){var X=R(T,F);X===null&&(X={}),X[U]=K,D(T,F,X)},_=function(T,F,U){var K=R(T,F);return K!==null&&(K=U in K?K[U]:null),K},V=function(T,F,U){var K=R(T,F);if(K!==null&&U in K){delete K[U];var X=!0;for(var M in K){X=!1;break}X&&(K=null),D(T,F,K)}},P=function(T,F){D(T,F,null)},H=function(T,F,U){var K=null;typeof U>"u"&&(U=["web","flash"]);var X,M=!1,I=null;for(var E in U){X=U[E];try{if(X==="flash"||X==="both"){if(F[0]===null)throw new Error("Flash local storage not available.");K=T.apply(this,F),M=X==="flash"}(X==="web"||X==="both")&&(F[0]=localStorage,K=T.apply(this,F),M=!0)}catch(j){I=j}if(M)break}if(!M)throw I;return K};return s.setItem=function(T,F,U,K,X){H(L,arguments,X)},s.getItem=function(T,F,U,K){return H(_,arguments,K)},s.removeItem=function(T,F,U,K){H(V,arguments,K)},s.clearItems=function(T,F,U){H(P,arguments,U)},s.isEmpty=function(T){for(var F in T)if(T.hasOwnProperty(F))return!1;return!0},s.format=function(T){for(var F=/%./g,U,K,X=0,M=[],I=0;U=F.exec(T);){K=T.substring(I,F.lastIndex-2),K.length>0&&M.push(K),I=F.lastIndex;var E=U[0][1];switch(E){case"s":case"o":X<arguments.length?M.push(arguments[X+++1]):M.push("<?>");break;case"%":M.push("%");break;default:M.push("<%"+E+"?>")}}return M.push(T.substring(I)),M.join("")},s.formatNumber=function(T,F,U,K){var X=T,M=isNaN(F=Math.abs(F))?2:F,I=U===void 0?",":U,E=K===void 0?".":K,j=X<0?"-":"",ie=parseInt(X=Math.abs(+X||0).toFixed(M),10)+"",de=ie.length>3?ie.length%3:0;return j+(de?ie.substr(0,de)+E:"")+ie.substr(de).replace(/(\d{3})(?=\d)/g,"$1"+E)+(M?I+Math.abs(X-ie).toFixed(M).slice(2):"")},s.formatSize=function(T){return T>=1073741824?T=s.formatNumber(T/1073741824,2,".","")+" GiB":T>=1048576?T=s.formatNumber(T/1048576,2,".","")+" MiB":T>=1024?T=s.formatNumber(T/1024,0)+" KiB":T=s.formatNumber(T,0)+" bytes",T},s.bytesFromIP=function(T){return T.indexOf(".")!==-1?s.bytesFromIPv4(T):T.indexOf(":")!==-1?s.bytesFromIPv6(T):null},s.bytesFromIPv4=function(T){if(T=T.split("."),T.length!==4)return null;for(var F=s.createBuffer(),U=0;U<T.length;++U){var K=parseInt(T[U],10);if(isNaN(K))return null;F.putByte(K)}return F.getBytes()},s.bytesFromIPv6=function(T){var F=0;T=T.split(":").filter(function(I){return I.length===0&&++F,!0});for(var U=(8-T.length+F)*2,K=s.createBuffer(),X=0;X<8;++X){if(!T[X]||T[X].length===0){K.fillWithByte(0,U),U=0;continue}var M=s.hexToBytes(T[X]);M.length<2&&K.putByte(0),K.putBytes(M)}return K.getBytes()},s.bytesToIP=function(T){return T.length===4?s.bytesToIPv4(T):T.length===16?s.bytesToIPv6(T):null},s.bytesToIPv4=function(T){if(T.length!==4)return null;for(var F=[],U=0;U<T.length;++U)F.push(T.charCodeAt(U));return F.join(".")},s.bytesToIPv6=function(T){if(T.length!==16)return null;for(var F=[],U=[],K=0,X=0;X<T.length;X+=2){for(var M=s.bytesToHex(T[X]+T[X+1]);M[0]==="0"&&M!=="0";)M=M.substr(1);if(M==="0"){var I=U[U.length-1],E=F.length;!I||E!==I.end+1?U.push({start:E,end:E}):(I.end=E,I.end-I.start>U[K].end-U[K].start&&(K=U.length-1))}F.push(M)}if(U.length>0){var j=U[K];j.end-j.start>0&&(F.splice(j.start,j.end-j.start+1,""),j.start===0&&F.unshift(""),j.end===7&&F.push(""))}return F.join(":")},s.estimateCores=function(T,F){if(typeof T=="function"&&(F=T,T={}),T=T||{},"cores"in s&&!T.update)return F(null,s.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,F(null,s.cores);if(typeof Worker>"u")return s.cores=1,F(null,s.cores);if(typeof Blob>"u")return s.cores=2,F(null,s.cores);var U=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(I){var E=Date.now(),j=E+4;self.postMessage({st:E,et:j})})}).toString(),")()"],{type:"application/javascript"}));K([],5,16);function K(I,E,j){if(E===0){var ie=Math.floor(I.reduce(function(de,ee){return de+ee},0)/I.length);return s.cores=Math.max(1,ie),URL.revokeObjectURL(U),F(null,s.cores)}X(j,function(de,ee){I.push(M(j,ee)),K(I,E-1,j)})}function X(I,E){for(var j=[],ie=[],de=0;de<I;++de){var ee=new Worker(U);ee.addEventListener("message",function(se){if(ie.push(se.data),ie.length===I){for(var Ce=0;Ce<I;++Ce)j[Ce].terminate();E(null,ie)}}),j.push(ee)}for(var de=0;de<I;++de)j[de].postMessage(de)}function M(I,E){for(var j=[],ie=0;ie<I;++ie)for(var de=E[ie],ee=j[ie]=[],se=0;se<I;++se)if(ie!==se){var Ce=E[se];(de.st>Ce.st&&de.st<Ce.et||Ce.st>de.st&&Ce.st<de.et)&&ee.push(se)}return j.reduce(function(oe,he){return Math.max(oe,he.length)},0)}},Ed.exports}var Sd,Qy;function Gh(){if(Qy)return Sd;Qy=1;var r=Nn();Xn(),Sd=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(s,f){var v=s;if(typeof v=="string"&&(v=r.cipher.getAlgorithm(v),v&&(v=v())),!v)throw new Error("Unsupported algorithm: "+s);return new r.cipher.BlockCipher({algorithm:v,key:f,decrypt:!1})},r.cipher.createDecipher=function(s,f){var v=s;if(typeof v=="string"&&(v=r.cipher.getAlgorithm(v),v&&(v=v())),!v)throw new Error("Unsupported algorithm: "+s);return new r.cipher.BlockCipher({algorithm:v,key:f,decrypt:!0})},r.cipher.registerAlgorithm=function(s,f){s=s.toUpperCase(),r.cipher.algorithms[s]=f},r.cipher.getAlgorithm=function(s){return s=s.toUpperCase(),s in r.cipher.algorithms?r.cipher.algorithms[s]:null};var a=r.cipher.BlockCipher=function(s){this.algorithm=s.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=s.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=s.decrypt,this.algorithm.initialize(s)};return a.prototype.start=function(s){s=s||{};var f={};for(var v in s)f[v]=s[v];f.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=s.output||r.util.createBuffer(),this.mode.start(f)},a.prototype.update=function(s){for(s&&this._input.putBuffer(s);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},a.prototype.finish=function(s){s&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(v){return s(this.blockSize,v,!1)},this.mode.unpad=function(v){return s(this.blockSize,v,!0)});var f={};return f.decrypt=this._decrypt,f.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,f)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,f))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,f))},Sd}var Td={exports:{}},Hy;function Q2(){if(Hy)return Td.exports;Hy=1;var r=Nn();Xn(),r.cipher=r.cipher||{};var a=Td.exports=r.cipher.modes=r.cipher.modes||{};a.ecb=function(m){m=m||{},this.name="ECB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},a.ecb.prototype.start=function(m){},a.ecb.prototype.encrypt=function(m,A,p){if(m.length()<this.blockSize&&!(p&&m.length()>0))return!0;for(var w=0;w<this._ints;++w)this._inBlock[w]=m.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var w=0;w<this._ints;++w)A.putInt32(this._outBlock[w])},a.ecb.prototype.decrypt=function(m,A,p){if(m.length()<this.blockSize&&!(p&&m.length()>0))return!0;for(var w=0;w<this._ints;++w)this._inBlock[w]=m.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var w=0;w<this._ints;++w)A.putInt32(this._outBlock[w])},a.ecb.prototype.pad=function(m,A){var p=m.length()===this.blockSize?this.blockSize:this.blockSize-m.length();return m.fillWithByte(p,p),!0},a.ecb.prototype.unpad=function(m,A){if(A.overflow>0)return!1;var p=m.length(),w=m.at(p-1);return w>this.blockSize<<2?!1:(m.truncate(w),!0)},a.cbc=function(m){m=m||{},this.name="CBC",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},a.cbc.prototype.start=function(m){if(m.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in m)this._iv=s(m.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},a.cbc.prototype.encrypt=function(m,A,p){if(m.length()<this.blockSize&&!(p&&m.length()>0))return!0;for(var w=0;w<this._ints;++w)this._inBlock[w]=this._prev[w]^m.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var w=0;w<this._ints;++w)A.putInt32(this._outBlock[w]);this._prev=this._outBlock},a.cbc.prototype.decrypt=function(m,A,p){if(m.length()<this.blockSize&&!(p&&m.length()>0))return!0;for(var w=0;w<this._ints;++w)this._inBlock[w]=m.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var w=0;w<this._ints;++w)A.putInt32(this._prev[w]^this._outBlock[w]);this._prev=this._inBlock.slice(0)},a.cbc.prototype.pad=function(m,A){var p=m.length()===this.blockSize?this.blockSize:this.blockSize-m.length();return m.fillWithByte(p,p),!0},a.cbc.prototype.unpad=function(m,A){if(A.overflow>0)return!1;var p=m.length(),w=m.at(p-1);return w>this.blockSize<<2?!1:(m.truncate(w),!0)},a.cfb=function(m){m=m||{},this.name="CFB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},a.cfb.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=s(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.cfb.prototype.encrypt=function(m,A,p){var w=m.length();if(w===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&w>=this.blockSize){for(var C=0;C<this._ints;++C)this._inBlock[C]=m.getInt32()^this._outBlock[C],A.putInt32(this._inBlock[C]);return}var D=(this.blockSize-w)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialBlock[C]=m.getInt32()^this._outBlock[C],this._partialOutput.putInt32(this._partialBlock[C]);if(D>0)m.read-=this.blockSize;else for(var C=0;C<this._ints;++C)this._inBlock[C]=this._partialBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0},a.cfb.prototype.decrypt=function(m,A,p){var w=m.length();if(w===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&w>=this.blockSize){for(var C=0;C<this._ints;++C)this._inBlock[C]=m.getInt32(),A.putInt32(this._inBlock[C]^this._outBlock[C]);return}var D=(this.blockSize-w)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialBlock[C]=m.getInt32(),this._partialOutput.putInt32(this._partialBlock[C]^this._outBlock[C]);if(D>0)m.read-=this.blockSize;else for(var C=0;C<this._ints;++C)this._inBlock[C]=this._partialBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0},a.ofb=function(m){m=m||{},this.name="OFB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},a.ofb.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=s(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.ofb.prototype.encrypt=function(m,A,p){var w=m.length();if(m.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&w>=this.blockSize){for(var C=0;C<this._ints;++C)A.putInt32(m.getInt32()^this._outBlock[C]),this._inBlock[C]=this._outBlock[C];return}var D=(this.blockSize-w)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialOutput.putInt32(m.getInt32()^this._outBlock[C]);if(D>0)m.read-=this.blockSize;else for(var C=0;C<this._ints;++C)this._inBlock[C]=this._outBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0},a.ofb.prototype.decrypt=a.ofb.prototype.encrypt,a.ctr=function(m){m=m||{},this.name="CTR",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},a.ctr.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=s(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.ctr.prototype.encrypt=function(m,A,p){var w=m.length();if(w===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&w>=this.blockSize)for(var C=0;C<this._ints;++C)A.putInt32(m.getInt32()^this._outBlock[C]);else{var D=(this.blockSize-w)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialOutput.putInt32(m.getInt32()^this._outBlock[C]);if(D>0&&(m.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0}f(this._inBlock)},a.ctr.prototype.decrypt=a.ctr.prototype.encrypt,a.gcm=function(m){m=m||{},this.name="GCM",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},a.gcm.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");var A=r.util.createBuffer(m.iv);this._cipherLength=0;var p;if("additionalData"in m?p=r.util.createBuffer(m.additionalData):p=r.util.createBuffer(),"tagLength"in m?this._tagLength=m.tagLength:this._tagLength=128,this._tag=null,m.decrypt&&(this._tag=r.util.createBuffer(m.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var w=A.length();if(w===12)this._j0=[A.getInt32(),A.getInt32(),A.getInt32(),1];else{for(this._j0=[0,0,0,0];A.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[A.getInt32(),A.getInt32(),A.getInt32(),A.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(v(w*8)))}this._inBlock=this._j0.slice(0),f(this._inBlock),this._partialBytes=0,p=r.util.createBuffer(p),this._aDataLength=v(p.length()*8);var C=p.length()%this.blockSize;for(C&&p.fillWithByte(0,this.blockSize-C),this._s=[0,0,0,0];p.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[p.getInt32(),p.getInt32(),p.getInt32(),p.getInt32()])},a.gcm.prototype.encrypt=function(m,A,p){var w=m.length();if(w===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&w>=this.blockSize){for(var C=0;C<this._ints;++C)A.putInt32(this._outBlock[C]^=m.getInt32());this._cipherLength+=this.blockSize}else{var D=(this.blockSize-w)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialOutput.putInt32(m.getInt32()^this._outBlock[C]);if(D<=0||p){if(p){var R=w%this.blockSize;this._cipherLength+=R,this._partialOutput.truncate(this.blockSize-R)}else this._cipherLength+=this.blockSize;for(var C=0;C<this._ints;++C)this._outBlock[C]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return m.read-=this.blockSize,A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),f(this._inBlock)},a.gcm.prototype.decrypt=function(m,A,p){var w=m.length();if(w<this.blockSize&&!(p&&w>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),f(this._inBlock),this._hashBlock[0]=m.getInt32(),this._hashBlock[1]=m.getInt32(),this._hashBlock[2]=m.getInt32(),this._hashBlock[3]=m.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var C=0;C<this._ints;++C)A.putInt32(this._outBlock[C]^this._hashBlock[C]);w<this.blockSize?this._cipherLength+=w%this.blockSize:this._cipherLength+=this.blockSize},a.gcm.prototype.afterFinish=function(m,A){var p=!0;A.decrypt&&A.overflow&&m.truncate(this.blockSize-A.overflow),this.tag=r.util.createBuffer();var w=this._aDataLength.concat(v(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,w);var C=[];this.cipher.encrypt(this._j0,C);for(var D=0;D<this._ints;++D)this.tag.putInt32(this._s[D]^C[D]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),A.decrypt&&this.tag.bytes()!==this._tag&&(p=!1),p},a.gcm.prototype.multiply=function(m,A){for(var p=[0,0,0,0],w=A.slice(0),C=0;C<128;++C){var D=m[C/32|0]&1<<31-C%32;D&&(p[0]^=w[0],p[1]^=w[1],p[2]^=w[2],p[3]^=w[3]),this.pow(w,w)}return p},a.gcm.prototype.pow=function(m,A){for(var p=m[3]&1,w=3;w>0;--w)A[w]=m[w]>>>1|(m[w-1]&1)<<31;A[0]=m[0]>>>1,p&&(A[0]^=this._R)},a.gcm.prototype.tableMultiply=function(m){for(var A=[0,0,0,0],p=0;p<32;++p){var w=p/8|0,C=m[w]>>>(7-p%8)*4&15,D=this._m[p][C];A[0]^=D[0],A[1]^=D[1],A[2]^=D[2],A[3]^=D[3]}return A},a.gcm.prototype.ghash=function(m,A,p){return A[0]^=p[0],A[1]^=p[1],A[2]^=p[2],A[3]^=p[3],this.tableMultiply(A)},a.gcm.prototype.generateHashTable=function(m,A){for(var p=8/A,w=4*p,C=16*p,D=new Array(C),R=0;R<C;++R){var L=[0,0,0,0],_=R/w|0,V=(w-1-R%w)*A;L[_]=1<<A-1<<V,D[R]=this.generateSubHashTable(this.multiply(L,m),A)}return D},a.gcm.prototype.generateSubHashTable=function(m,A){var p=1<<A,w=p>>>1,C=new Array(p);C[w]=m.slice(0);for(var D=w>>>1;D>0;)this.pow(C[2*D],C[D]=[]),D>>=1;for(D=2;D<w;){for(var R=1;R<D;++R){var L=C[D],_=C[R];C[D+R]=[L[0]^_[0],L[1]^_[1],L[2]^_[2],L[3]^_[3]]}D*=2}for(C[0]=[0,0,0,0],D=w+1;D<p;++D){var V=C[D^w];C[D]=[m[0]^V[0],m[1]^V[1],m[2]^V[2],m[3]^V[3]]}return C};function s(m,A){if(typeof m=="string"&&(m=r.util.createBuffer(m)),r.util.isArray(m)&&m.length>4){var p=m;m=r.util.createBuffer();for(var w=0;w<p.length;++w)m.putByte(p[w])}if(m.length()<A)throw new Error("Invalid IV length; got "+m.length()+" bytes and expected "+A+" bytes.");if(!r.util.isArray(m)){for(var C=[],D=A/4,w=0;w<D;++w)C.push(m.getInt32());m=C}return m}function f(m){m[m.length-1]=m[m.length-1]+1&4294967295}function v(m){return[m/4294967296|0,m&4294967295]}return Td.exports}var Bd,Gy;function Oo(){if(Gy)return Bd;Gy=1;var r=Nn();Gh(),Q2(),Xn(),Bd=r.aes=r.aes||{},r.aes.startEncrypting=function(_,V,P,H){var T=L({key:_,output:P,decrypt:!1,mode:H});return T.start(V),T},r.aes.createEncryptionCipher=function(_,V){return L({key:_,output:null,decrypt:!1,mode:V})},r.aes.startDecrypting=function(_,V,P,H){var T=L({key:_,output:P,decrypt:!0,mode:H});return T.start(V),T},r.aes.createDecryptionCipher=function(_,V){return L({key:_,output:null,decrypt:!0,mode:V})},r.aes.Algorithm=function(_,V){s||C();var P=this;P.name=_,P.mode=new V({blockSize:16,cipher:{encrypt:function(H,T){return R(P._w,H,T,!1)},decrypt:function(H,T){return R(P._w,H,T,!0)}}}),P._init=!1},r.aes.Algorithm.prototype.initialize=function(_){if(!this._init){var V=_.key,P;if(typeof V=="string"&&(V.length===16||V.length===24||V.length===32))V=r.util.createBuffer(V);else if(r.util.isArray(V)&&(V.length===16||V.length===24||V.length===32)){P=V,V=r.util.createBuffer();for(var H=0;H<P.length;++H)V.putByte(P[H])}if(!r.util.isArray(V)){P=V,V=[];var T=P.length();if(T===16||T===24||T===32){T=T>>>2;for(var H=0;H<T;++H)V.push(P.getInt32())}}if(!r.util.isArray(V)||!(V.length===4||V.length===6||V.length===8))throw new Error("Invalid key parameter.");var F=this.mode.name,U=["CFB","OFB","CTR","GCM"].indexOf(F)!==-1;this._w=D(V,_.decrypt&&!U),this._init=!0}},r.aes._expandKey=function(_,V){return s||C(),D(_,V)},r.aes._updateBlock=R,a("AES-ECB",r.cipher.modes.ecb),a("AES-CBC",r.cipher.modes.cbc),a("AES-CFB",r.cipher.modes.cfb),a("AES-OFB",r.cipher.modes.ofb),a("AES-CTR",r.cipher.modes.ctr),a("AES-GCM",r.cipher.modes.gcm);function a(_,V){var P=function(){return new r.aes.Algorithm(_,V)};r.cipher.registerAlgorithm(_,P)}var s=!1,f=4,v,m,A,p,w;function C(){s=!0,A=[0,1,2,4,8,16,32,64,128,27,54];for(var _=new Array(256),V=0;V<128;++V)_[V]=V<<1,_[V+128]=V+128<<1^283;v=new Array(256),m=new Array(256),p=new Array(4),w=new Array(4);for(var V=0;V<4;++V)p[V]=new Array(256),w[V]=new Array(256);for(var P=0,H=0,T,F,U,K,X,M,I,V=0;V<256;++V){K=H^H<<1^H<<2^H<<3^H<<4,K=K>>8^K&255^99,v[P]=K,m[K]=P,X=_[K],T=_[P],F=_[T],U=_[F],M=X<<24^K<<16^K<<8^(K^X),I=(T^F^U)<<24^(P^U)<<16^(P^F^U)<<8^(P^T^U);for(var E=0;E<4;++E)p[E][P]=M,w[E][K]=I,M=M<<24|M>>>8,I=I<<24|I>>>8;P===0?P=H=1:(P=T^_[_[_[T^U]]],H^=_[_[H]])}}function D(_,V){for(var P=_.slice(0),H,T=1,F=P.length,U=F+6+1,K=f*U,X=F;X<K;++X)H=P[X-1],X%F===0?(H=v[H>>>16&255]<<24^v[H>>>8&255]<<16^v[H&255]<<8^v[H>>>24]^A[T]<<24,T++):F>6&&X%F===4&&(H=v[H>>>24]<<24^v[H>>>16&255]<<16^v[H>>>8&255]<<8^v[H&255]),P[X]=P[X-F]^H;if(V){var M,I=w[0],E=w[1],j=w[2],ie=w[3],de=P.slice(0);K=P.length;for(var X=0,ee=K-f;X<K;X+=f,ee-=f)if(X===0||X===K-f)de[X]=P[ee],de[X+1]=P[ee+3],de[X+2]=P[ee+2],de[X+3]=P[ee+1];else for(var se=0;se<f;++se)M=P[ee+se],de[X+(3&-se)]=I[v[M>>>24]]^E[v[M>>>16&255]]^j[v[M>>>8&255]]^ie[v[M&255]];P=de}return P}function R(_,V,P,H){var T=_.length/4-1,F,U,K,X,M;H?(F=w[0],U=w[1],K=w[2],X=w[3],M=m):(F=p[0],U=p[1],K=p[2],X=p[3],M=v);var I,E,j,ie,de,ee,se;I=V[0]^_[0],E=V[H?3:1]^_[1],j=V[2]^_[2],ie=V[H?1:3]^_[3];for(var Ce=3,oe=1;oe<T;++oe)de=F[I>>>24]^U[E>>>16&255]^K[j>>>8&255]^X[ie&255]^_[++Ce],ee=F[E>>>24]^U[j>>>16&255]^K[ie>>>8&255]^X[I&255]^_[++Ce],se=F[j>>>24]^U[ie>>>16&255]^K[I>>>8&255]^X[E&255]^_[++Ce],ie=F[ie>>>24]^U[I>>>16&255]^K[E>>>8&255]^X[j&255]^_[++Ce],I=de,E=ee,j=se;P[0]=M[I>>>24]<<24^M[E>>>16&255]<<16^M[j>>>8&255]<<8^M[ie&255]^_[++Ce],P[H?3:1]=M[E>>>24]<<24^M[j>>>16&255]<<16^M[ie>>>8&255]<<8^M[I&255]^_[++Ce],P[2]=M[j>>>24]<<24^M[ie>>>16&255]<<16^M[I>>>8&255]<<8^M[E&255]^_[++Ce],P[H?1:3]=M[ie>>>24]<<24^M[I>>>16&255]<<16^M[E>>>8&255]<<8^M[j&255]^_[++Ce]}function L(_){_=_||{};var V=(_.mode||"CBC").toUpperCase(),P="AES-"+V,H;_.decrypt?H=r.cipher.createDecipher(P,_.key):H=r.cipher.createCipher(P,_.key);var T=H.start;return H.start=function(F,U){var K=null;U instanceof r.util.ByteBuffer&&(K=U,U={}),U=U||{},U.output=K,U.iv=F,T.call(H,U)},H}return Bd}var Nd={exports:{}},_d={exports:{}},Dd={exports:{}},jy;function ko(){if(jy)return Dd.exports;jy=1;var r=Nn();r.pki=r.pki||{};var a=Dd.exports=r.pki.oids=r.oids=r.oids||{};function s(v,m){a[v]=m,a[m]=v}function f(v,m){a[v]=m}return s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("1.3.14.3.2.29","sha1WithRSASignature"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("2.16.840.1.101.3.4.2.4","sha224"),s("2.16.840.1.101.3.4.2.5","sha512-224"),s("2.16.840.1.101.3.4.2.6","sha512-256"),s("1.2.840.113549.2.2","md2"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.4","surname"),s("2.5.4.5","serialNumber"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.12","title"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("2.5.4.42","givenName"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),f("2.5.29.1","authorityKeyIdentifier"),f("2.5.29.2","keyAttributes"),f("2.5.29.3","certificatePolicies"),f("2.5.29.4","keyUsageRestriction"),f("2.5.29.5","policyMapping"),f("2.5.29.6","subtreesConstraint"),f("2.5.29.7","subjectAltName"),f("2.5.29.8","issuerAltName"),f("2.5.29.9","subjectDirectoryAttributes"),f("2.5.29.10","basicConstraints"),f("2.5.29.11","nameConstraints"),f("2.5.29.12","policyConstraints"),f("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),f("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),f("2.5.29.20","cRLNumber"),f("2.5.29.21","cRLReason"),f("2.5.29.22","expirationDate"),f("2.5.29.23","instructionCode"),f("2.5.29.24","invalidityDate"),f("2.5.29.25","cRLDistributionPoints"),f("2.5.29.26","issuingDistributionPoint"),f("2.5.29.27","deltaCRLIndicator"),f("2.5.29.28","issuingDistributionPoint"),f("2.5.29.29","certificateIssuer"),f("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),f("2.5.29.33","policyMappings"),f("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),f("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),f("2.5.29.46","freshestCRL"),f("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping"),Dd.exports}var Ky;function Pi(){if(Ky)return _d.exports;Ky=1;var r=Nn();Xn(),ko();var a=_d.exports=r.asn1=r.asn1||{};a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.maxDepth=256,a.create=function(A,p,w,C,D){if(r.util.isArray(C)){for(var R=[],L=0;L<C.length;++L)C[L]!==void 0&&R.push(C[L]);C=R}var _={tagClass:A,type:p,constructed:w,composed:w||r.util.isArray(C),value:C};return D&&"bitStringContents"in D&&(_.bitStringContents=D.bitStringContents,_.original=a.copy(_)),_},a.copy=function(A,p){var w;if(r.util.isArray(A)){w=[];for(var C=0;C<A.length;++C)w.push(a.copy(A[C],p));return w}return typeof A=="string"?A:(w={tagClass:A.tagClass,type:A.type,constructed:A.constructed,composed:A.composed,value:a.copy(A.value,p)},p&&!p.excludeBitStringContents&&(w.bitStringContents=A.bitStringContents),w)},a.equals=function(A,p,w){if(r.util.isArray(A)){if(!r.util.isArray(p)||A.length!==p.length)return!1;for(var C=0;C<A.length;++C)if(!a.equals(A[C],p[C]))return!1;return!0}if(typeof A!=typeof p)return!1;if(typeof A=="string")return A===p;var D=A.tagClass===p.tagClass&&A.type===p.type&&A.constructed===p.constructed&&A.composed===p.composed&&a.equals(A.value,p.value);return w&&w.includeBitStringContents&&(D=D&&A.bitStringContents===p.bitStringContents),D},a.getBerValueLength=function(A){var p=A.getByte();if(p!==128){var w,C=p&128;return C?w=A.getInt((p&127)<<3):w=p,w}};function s(A,p,w){if(w>p){var C=new Error("Too few bytes to parse DER.");throw C.available=A.length(),C.remaining=p,C.requested=w,C}}var f=function(A,p){var w=A.getByte();if(p--,w!==128){var C,D=w&128;if(!D)C=w;else{var R=w&127;s(A,p,R),C=A.getInt(R<<3)}if(C<0)throw new Error("Negative length: "+C);return C}};a.fromDer=function(A,p){p===void 0&&(p={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof p=="boolean"&&(p={strict:p,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in p||(p.strict=!0),"parseAllBytes"in p||(p.parseAllBytes=!0),"decodeBitStrings"in p||(p.decodeBitStrings=!0),"maxDepth"in p||(p.maxDepth=a.maxDepth),typeof A=="string"&&(A=r.util.createBuffer(A));var w=A.length(),C=v(A,A.length(),0,p);if(p.parseAllBytes&&A.length()!==0){var D=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw D.byteCount=w,D.remaining=A.length(),D}return C};function v(A,p,w,C){if(w>=C.maxDepth)throw new Error("ASN.1 parsing error: Max depth exceeded.");var D;s(A,p,2);var R=A.getByte();p--;var L=R&192,_=R&31;D=A.length();var V=f(A,p);if(p-=D-A.length(),V!==void 0&&V>p){if(C.strict){var P=new Error("Too few bytes to read ASN.1 value.");throw P.available=A.length(),P.remaining=p,P.requested=V,P}V=p}var H,T,F=(R&32)===32;if(F)if(H=[],V===void 0)for(;;){if(s(A,p,2),A.bytes(2)==="\0\0"){A.getBytes(2),p-=2;break}D=A.length(),H.push(v(A,p,w+1,C)),p-=D-A.length()}else for(;V>0;)D=A.length(),H.push(v(A,V,w+1,C)),p-=D-A.length(),V-=D-A.length();if(H===void 0&&L===a.Class.UNIVERSAL&&_===a.Type.BITSTRING&&(T=A.bytes(V)),H===void 0&&C.decodeBitStrings&&L===a.Class.UNIVERSAL&&_===a.Type.BITSTRING&&V>1){var U=A.read,K=p,X=0;if(_===a.Type.BITSTRING&&(s(A,p,1),X=A.getByte(),p--),X===0)try{D=A.length();var M={strict:!0,decodeBitStrings:!0},I=v(A,p,w+1,M),E=D-A.length();p-=E,_==a.Type.BITSTRING&&E++;var j=I.tagClass;E===V&&(j===a.Class.UNIVERSAL||j===a.Class.CONTEXT_SPECIFIC)&&(H=[I])}catch{}H===void 0&&(A.read=U,p=K)}if(H===void 0){if(V===void 0){if(C.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");V=p}if(_===a.Type.BMPSTRING)for(H="";V>0;V-=2)s(A,p,2),H+=String.fromCharCode(A.getInt16()),p-=2;else H=A.getBytes(V),p-=V}var ie=T===void 0?null:{bitStringContents:T};return a.create(L,_,F,H,ie)}a.toDer=function(A){var p=r.util.createBuffer(),w=A.tagClass|A.type,C=r.util.createBuffer(),D=!1;if("bitStringContents"in A&&(D=!0,A.original&&(D=a.equals(A,A.original))),D)C.putBytes(A.bitStringContents);else if(A.composed){A.constructed?w|=32:C.putByte(0);for(var R=0;R<A.value.length;++R)A.value[R]!==void 0&&C.putBuffer(a.toDer(A.value[R]))}else if(A.type===a.Type.BMPSTRING)for(var R=0;R<A.value.length;++R)C.putInt16(A.value.charCodeAt(R));else A.type===a.Type.INTEGER&&A.value.length>1&&(A.value.charCodeAt(0)===0&&(A.value.charCodeAt(1)&128)===0||A.value.charCodeAt(0)===255&&(A.value.charCodeAt(1)&128)===128)?C.putBytes(A.value.substr(1)):C.putBytes(A.value);if(p.putByte(w),C.length()<=127)p.putByte(C.length()&127);else{var L=C.length(),_="";do _+=String.fromCharCode(L&255),L=L>>>8;while(L>0);p.putByte(_.length|128);for(var R=_.length-1;R>=0;--R)p.putByte(_.charCodeAt(R))}return p.putBuffer(C),p},a.oidToDer=function(A){var p=A.split("."),w=r.util.createBuffer();w.putByte(40*parseInt(p[0],10)+parseInt(p[1],10));for(var C,D,R,L,_=2;_<p.length;++_){if(C=!0,D=[],R=parseInt(p[_],10),R>4294967295)throw new Error("OID value too large; max is 32-bits.");do L=R&127,R=R>>>7,C||(L|=128),D.push(L),C=!1;while(R>0);for(var V=D.length-1;V>=0;--V)w.putByte(D[V])}return w},a.derToOid=function(A){var p;typeof A=="string"&&(A=r.util.createBuffer(A));var w=A.getByte();p=Math.floor(w/40)+"."+w%40;for(var C=0;A.length()>0;){if(C>70368744177663)throw new Error("OID value too large; max is 53-bits.");w=A.getByte(),C=C*128,w&128?C+=w&127:(p+="."+(C+w),C=0)}return p},a.utcTimeToDate=function(A){var p=new Date,w=parseInt(A.substr(0,2),10);w=w>=50?1900+w:2e3+w;var C=parseInt(A.substr(2,2),10)-1,D=parseInt(A.substr(4,2),10),R=parseInt(A.substr(6,2),10),L=parseInt(A.substr(8,2),10),_=0;if(A.length>11){var V=A.charAt(10),P=10;V!=="+"&&V!=="-"&&(_=parseInt(A.substr(10,2),10),P+=2)}if(p.setUTCFullYear(w,C,D),p.setUTCHours(R,L,_,0),P&&(V=A.charAt(P),V==="+"||V==="-")){var H=parseInt(A.substr(P+1,2),10),T=parseInt(A.substr(P+4,2),10),F=H*60+T;F*=6e4,V==="+"?p.setTime(+p-F):p.setTime(+p+F)}return p},a.generalizedTimeToDate=function(A){var p=new Date,w=parseInt(A.substr(0,4),10),C=parseInt(A.substr(4,2),10)-1,D=parseInt(A.substr(6,2),10),R=parseInt(A.substr(8,2),10),L=parseInt(A.substr(10,2),10),_=parseInt(A.substr(12,2),10),V=0,P=0,H=!1;A.charAt(A.length-1)==="Z"&&(H=!0);var T=A.length-5,F=A.charAt(T);if(F==="+"||F==="-"){var U=parseInt(A.substr(T+1,2),10),K=parseInt(A.substr(T+4,2),10);P=U*60+K,P*=6e4,F==="+"&&(P*=-1),H=!0}return A.charAt(14)==="."&&(V=parseFloat(A.substr(14),10)*1e3),H?(p.setUTCFullYear(w,C,D),p.setUTCHours(R,L,_,V),p.setTime(+p+P)):(p.setFullYear(w,C,D),p.setHours(R,L,_,V)),p},a.dateToUtcTime=function(A){if(typeof A=="string")return A;var p="",w=[];w.push((""+A.getUTCFullYear()).substr(2)),w.push(""+(A.getUTCMonth()+1)),w.push(""+A.getUTCDate()),w.push(""+A.getUTCHours()),w.push(""+A.getUTCMinutes()),w.push(""+A.getUTCSeconds());for(var C=0;C<w.length;++C)w[C].length<2&&(p+="0"),p+=w[C];return p+="Z",p},a.dateToGeneralizedTime=function(A){if(typeof A=="string")return A;var p="",w=[];w.push(""+A.getUTCFullYear()),w.push(""+(A.getUTCMonth()+1)),w.push(""+A.getUTCDate()),w.push(""+A.getUTCHours()),w.push(""+A.getUTCMinutes()),w.push(""+A.getUTCSeconds());for(var C=0;C<w.length;++C)w[C].length<2&&(p+="0"),p+=w[C];return p+="Z",p},a.integerToDer=function(A){var p=r.util.createBuffer();if(A>=-128&&A<128)return p.putSignedInt(A,8);if(A>=-32768&&A<32768)return p.putSignedInt(A,16);if(A>=-8388608&&A<8388608)return p.putSignedInt(A,24);if(A>=-2147483648&&A<2147483648)return p.putSignedInt(A,32);var w=new Error("Integer too large; max is 32-bits.");throw w.integer=A,w},a.derToInteger=function(A){typeof A=="string"&&(A=r.util.createBuffer(A));var p=A.length()*8;if(p>32)throw new Error("Integer too large; max is 32-bits.");return A.getSignedInt(p)},a.validate=function(A,p,w,C){var D=!1;if((A.tagClass===p.tagClass||typeof p.tagClass>"u")&&(A.type===p.type||typeof p.type>"u"))if(A.constructed===p.constructed||typeof p.constructed>"u"){if(D=!0,p.value&&r.util.isArray(p.value))for(var R=0,L=0;D&&L<p.value.length;++L){var _=p.value[L];D=!!_.optional;var V=A.value[R];if(!V){_.optional||(D=!1,C&&C.push("["+p.name+'] Missing required element. Expected tag class "'+_.tagClass+'", type "'+_.type+'"'));continue}var P=typeof _.tagClass<"u"&&typeof _.type<"u";if(P&&(V.tagClass!==_.tagClass||V.type!==_.type))if(_.optional){D=!0;continue}else{D=!1,C&&C.push("["+p.name+"] Tag mismatch. Expected ("+_.tagClass+","+_.type+"), got ("+V.tagClass+","+V.type+")");break}var H=a.validate(V,_,w,C);if(H)++R,D=!0;else if(_.optional)D=!0;else{D=!1;break}}if(D&&w&&(p.capture&&(w[p.capture]=A.value),p.captureAsn1&&(w[p.captureAsn1]=A),p.captureBitStringContents&&"bitStringContents"in A&&(w[p.captureBitStringContents]=A.bitStringContents),p.captureBitStringValue&&"bitStringContents"in A))if(A.bitStringContents.length<2)w[p.captureBitStringValue]="";else{var T=A.bitStringContents.charCodeAt(0);if(T!==0)throw new Error("captureBitStringValue only supported for zero unused bits");w[p.captureBitStringValue]=A.bitStringContents.slice(1)}}else C&&C.push("["+p.name+'] Expected constructed "'+p.constructed+'", got "'+A.constructed+'"');else C&&(A.tagClass!==p.tagClass&&C.push("["+p.name+'] Expected tag class "'+p.tagClass+'", got "'+A.tagClass+'"'),A.type!==p.type&&C.push("["+p.name+'] Expected type "'+p.type+'", got "'+A.type+'"'));return D};var m=/[^\\u0000-\\u00ff]/;return a.prettyPrint=function(A,p,w){var C="";p=p||0,w=w||2,p>0&&(C+=`
`);for(var D="",R=0;R<p*w;++R)D+=" ";switch(C+=D+"Tag: ",A.tagClass){case a.Class.UNIVERSAL:C+="Universal:";break;case a.Class.APPLICATION:C+="Application:";break;case a.Class.CONTEXT_SPECIFIC:C+="Context-Specific:";break;case a.Class.PRIVATE:C+="Private:";break}if(A.tagClass===a.Class.UNIVERSAL)switch(C+=A.type,A.type){case a.Type.NONE:C+=" (None)";break;case a.Type.BOOLEAN:C+=" (Boolean)";break;case a.Type.INTEGER:C+=" (Integer)";break;case a.Type.BITSTRING:C+=" (Bit string)";break;case a.Type.OCTETSTRING:C+=" (Octet string)";break;case a.Type.NULL:C+=" (Null)";break;case a.Type.OID:C+=" (Object Identifier)";break;case a.Type.ODESC:C+=" (Object Descriptor)";break;case a.Type.EXTERNAL:C+=" (External or Instance of)";break;case a.Type.REAL:C+=" (Real)";break;case a.Type.ENUMERATED:C+=" (Enumerated)";break;case a.Type.EMBEDDED:C+=" (Embedded PDV)";break;case a.Type.UTF8:C+=" (UTF8)";break;case a.Type.ROID:C+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:C+=" (Sequence)";break;case a.Type.SET:C+=" (Set)";break;case a.Type.PRINTABLESTRING:C+=" (Printable String)";break;case a.Type.IA5String:C+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:C+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:C+=" (Generalized time)";break;case a.Type.BMPSTRING:C+=" (BMP String)";break}else C+=A.type;if(C+=`
`,C+=D+"Constructed: "+A.constructed+`
`,A.composed){for(var L=0,_="",R=0;R<A.value.length;++R)A.value[R]!==void 0&&(L+=1,_+=a.prettyPrint(A.value[R],p+1,w),R+1<A.value.length&&(_+=","));C+=D+"Sub values: "+L+_}else{if(C+=D+"Value: ",A.type===a.Type.OID){var V=a.derToOid(A.value);C+=V,r.pki&&r.pki.oids&&V in r.pki.oids&&(C+=" ("+r.pki.oids[V]+") ")}if(A.type===a.Type.INTEGER)try{C+=a.derToInteger(A.value)}catch{C+="0x"+r.util.bytesToHex(A.value)}else if(A.type===a.Type.BITSTRING){if(A.value.length>1?C+="0x"+r.util.bytesToHex(A.value.slice(1)):C+="(none)",A.value.length>0){var P=A.value.charCodeAt(0);P==1?C+=" (1 unused bit shown)":P>1&&(C+=" ("+P+" unused bits shown)")}}else if(A.type===a.Type.OCTETSTRING)m.test(A.value)||(C+="("+A.value+") "),C+="0x"+r.util.bytesToHex(A.value);else if(A.type===a.Type.UTF8)try{C+=r.util.decodeUtf8(A.value)}catch(H){if(H.message==="URI malformed")C+="0x"+r.util.bytesToHex(A.value)+" (malformed UTF8)";else throw H}else A.type===a.Type.PRINTABLESTRING||A.type===a.Type.IA5String?C+=A.value:m.test(A.value)?C+="0x"+r.util.bytesToHex(A.value):A.value.length===0?C+="[null]":C+=A.value}return C},_d.exports}var Rd={exports:{}},Od,zy;function ys(){if(zy)return Od;zy=1;var r=Nn();return Od=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{},Od}var qy;function Oc(){if(qy)return Rd.exports;qy=1;var r=Nn();ys(),Xn();var a=Rd.exports=r.hmac=r.hmac||{};return a.create=function(){var s=null,f=null,v=null,m=null,A={};return A.start=function(p,w){if(p!==null)if(typeof p=="string")if(p=p.toLowerCase(),p in r.md.algorithms)f=r.md.algorithms[p].create();else throw new Error('Unknown hash algorithm "'+p+'"');else f=p;if(w===null)w=s;else{if(typeof w=="string")w=r.util.createBuffer(w);else if(r.util.isArray(w)){var C=w;w=r.util.createBuffer();for(var D=0;D<C.length;++D)w.putByte(C[D])}var R=w.length();R>f.blockLength&&(f.start(),f.update(w.bytes()),w=f.digest()),v=r.util.createBuffer(),m=r.util.createBuffer(),R=w.length();for(var D=0;D<R;++D){var C=w.at(D);v.putByte(54^C),m.putByte(92^C)}if(R<f.blockLength)for(var C=f.blockLength-R,D=0;D<C;++D)v.putByte(54),m.putByte(92);s=w,v=v.bytes(),m=m.bytes()}f.start(),f.update(v)},A.update=function(p){f.update(p)},A.getMac=function(){var p=f.digest().bytes();return f.start(),f.update(m),f.update(p),f.digest()},A.digest=A.getMac,A},Rd.exports}var kd={exports:{}},Yy;function jh(){if(Yy)return kd.exports;Yy=1;var r=Nn();ys(),Xn();var a=kd.exports=r.md5=r.md5||{};r.md.md5=r.md.algorithms.md5=a,a.create=function(){A||p();var C=null,D=r.util.createBuffer(),R=new Array(16),L={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return L.start=function(){L.messageLength=0,L.fullMessageLength=L.messageLength64=[];for(var _=L.messageLengthSize/4,V=0;V<_;++V)L.fullMessageLength.push(0);return D=r.util.createBuffer(),C={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},L},L.start(),L.update=function(_,V){V==="utf8"&&(_=r.util.encodeUtf8(_));var P=_.length;L.messageLength+=P,P=[P/4294967296>>>0,P>>>0];for(var H=L.fullMessageLength.length-1;H>=0;--H)L.fullMessageLength[H]+=P[1],P[1]=P[0]+(L.fullMessageLength[H]/4294967296>>>0),L.fullMessageLength[H]=L.fullMessageLength[H]>>>0,P[0]=P[1]/4294967296>>>0;return D.putBytes(_),w(C,R,D),(D.read>2048||D.length()===0)&&D.compact(),L},L.digest=function(){var _=r.util.createBuffer();_.putBytes(D.bytes());var V=L.fullMessageLength[L.fullMessageLength.length-1]+L.messageLengthSize,P=V&L.blockLength-1;_.putBytes(s.substr(0,L.blockLength-P));for(var H,T=0,F=L.fullMessageLength.length-1;F>=0;--F)H=L.fullMessageLength[F]*8+T,T=H/4294967296>>>0,_.putInt32Le(H>>>0);var U={h0:C.h0,h1:C.h1,h2:C.h2,h3:C.h3};w(U,R,_);var K=r.util.createBuffer();return K.putInt32Le(U.h0),K.putInt32Le(U.h1),K.putInt32Le(U.h2),K.putInt32Le(U.h3),K},L};var s=null,f=null,v=null,m=null,A=!1;function p(){s="",s+=r.util.fillString("\0",64),f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],v=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],m=new Array(64);for(var C=0;C<64;++C)m[C]=Math.floor(Math.abs(Math.sin(C+1))*4294967296);A=!0}function w(C,D,R){for(var L,_,V,P,H,T,F,U,K=R.length();K>=64;){for(_=C.h0,V=C.h1,P=C.h2,H=C.h3,U=0;U<16;++U)D[U]=R.getInt32Le(),T=H^V&(P^H),L=_+T+m[U]+D[U],F=v[U],_=H,H=P,P=V,V+=L<<F|L>>>32-F;for(;U<32;++U)T=P^H&(V^P),L=_+T+m[U]+D[f[U]],F=v[U],_=H,H=P,P=V,V+=L<<F|L>>>32-F;for(;U<48;++U)T=V^P^H,L=_+T+m[U]+D[f[U]],F=v[U],_=H,H=P,P=V,V+=L<<F|L>>>32-F;for(;U<64;++U)T=P^(V|~H),L=_+T+m[U]+D[f[U]],F=v[U],_=H,H=P,P=V,V+=L<<F|L>>>32-F;C.h0=C.h0+_|0,C.h1=C.h1+V|0,C.h2=C.h2+P|0,C.h3=C.h3+H|0,K-=64}}return kd.exports}var Md={exports:{}},Xy;function Tl(){if(Xy)return Md.exports;Xy=1;var r=Nn();Xn();var a=Md.exports=r.pem=r.pem||{};a.encode=function(v,m){m=m||{};var A="-----BEGIN "+v.type+`-----\r
`,p;if(v.procType&&(p={name:"Proc-Type",values:[String(v.procType.version),v.procType.type]},A+=s(p)),v.contentDomain&&(p={name:"Content-Domain",values:[v.contentDomain]},A+=s(p)),v.dekInfo&&(p={name:"DEK-Info",values:[v.dekInfo.algorithm]},v.dekInfo.parameters&&p.values.push(v.dekInfo.parameters),A+=s(p)),v.headers)for(var w=0;w<v.headers.length;++w)A+=s(v.headers[w]);return v.procType&&(A+=`\r
`),A+=r.util.encode64(v.body,m.maxline||64)+`\r
`,A+="-----END "+v.type+`-----\r
`,A},a.decode=function(v){for(var m=[],A=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,p=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,w=/\r?\n/,C;C=A.exec(v),!!C;){var D=C[1];D==="NEW CERTIFICATE REQUEST"&&(D="CERTIFICATE REQUEST");var R={type:D,procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(C[3])};if(m.push(R),!!C[2]){for(var L=C[2].split(w),_=0;C&&_<L.length;){for(var V=L[_].replace(/\s+$/,""),P=_+1;P<L.length;++P){var H=L[P];if(!/\s/.test(H[0]))break;V+=H,_=P}if(C=V.match(p),C){for(var T={name:C[1],values:[]},F=C[2].split(","),U=0;U<F.length;++U)T.values.push(f(F[U]));if(R.procType)if(!R.contentDomain&&T.name==="Content-Domain")R.contentDomain=F[0]||"";else if(!R.dekInfo&&T.name==="DEK-Info"){if(T.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');R.dekInfo={algorithm:F[0],parameters:F[1]||null}}else R.headers.push(T);else{if(T.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(T.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');R.procType={version:F[0],type:F[1]}}}++_}if(R.procType==="ENCRYPTED"&&!R.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(m.length===0)throw new Error("Invalid PEM formatted message.");return m};function s(v){for(var m=v.name+": ",A=[],p=function(L,_){return" "+_},w=0;w<v.values.length;++w)A.push(v.values[w].replace(/^(\S+\r\n)/,p));m+=A.join(",")+`\r
`;for(var C=0,D=-1,w=0;w<m.length;++w,++C)if(C>65&&D!==-1){var R=m[D];R===","?(++D,m=m.substr(0,D)+`\r
 `+m.substr(D)):m=m.substr(0,D)+`\r
`+R+m.substr(D+1),C=w-D-1,D=-1,++w}else(m[w]===" "||m[w]==="	"||m[w]===",")&&(D=w);return m}function f(v){return v.replace(/^\s+/,"")}return Md.exports}var Ld={exports:{}},Ud,Zy;function hf(){if(Zy)return Ud;Zy=1;var r=Nn();Gh(),Q2(),Xn(),Ud=r.des=r.des||{},r.des.startEncrypting=function(_,V,P,H){var T=L({key:_,output:P,decrypt:!1,mode:H||(V===null?"ECB":"CBC")});return T.start(V),T},r.des.createEncryptionCipher=function(_,V){return L({key:_,output:null,decrypt:!1,mode:V})},r.des.startDecrypting=function(_,V,P,H){var T=L({key:_,output:P,decrypt:!0,mode:H||(V===null?"ECB":"CBC")});return T.start(V),T},r.des.createDecryptionCipher=function(_,V){return L({key:_,output:null,decrypt:!0,mode:V})},r.des.Algorithm=function(_,V){var P=this;P.name=_,P.mode=new V({blockSize:8,cipher:{encrypt:function(H,T){return R(P._keys,H,T,!1)},decrypt:function(H,T){return R(P._keys,H,T,!0)}}}),P._init=!1},r.des.Algorithm.prototype.initialize=function(_){if(!this._init){var V=r.util.createBuffer(_.key);if(this.name.indexOf("3DES")===0&&V.length()!==24)throw new Error("Invalid Triple-DES key size: "+V.length()*8);this._keys=D(V),this._init=!0}},a("DES-ECB",r.cipher.modes.ecb),a("DES-CBC",r.cipher.modes.cbc),a("DES-CFB",r.cipher.modes.cfb),a("DES-OFB",r.cipher.modes.ofb),a("DES-CTR",r.cipher.modes.ctr),a("3DES-ECB",r.cipher.modes.ecb),a("3DES-CBC",r.cipher.modes.cbc),a("3DES-CFB",r.cipher.modes.cfb),a("3DES-OFB",r.cipher.modes.ofb),a("3DES-CTR",r.cipher.modes.ctr);function a(_,V){var P=function(){return new r.des.Algorithm(_,V)};r.cipher.registerAlgorithm(_,P)}var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],f=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],v=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],m=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],A=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],p=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],w=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],C=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function D(_){for(var V=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],P=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],H=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],T=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],F=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],U=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],K=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],X=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],M=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],I=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],E=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],j=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],ie=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],de=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],ee=_.length()>8?3:1,se=[],Ce=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],oe=0,he,ve=0;ve<ee;ve++){var ke=_.getInt32(),Ue=_.getInt32();he=(ke>>>4^Ue)&252645135,Ue^=he,ke^=he<<4,he=(Ue>>>-16^ke)&65535,ke^=he,Ue^=he<<-16,he=(ke>>>2^Ue)&858993459,Ue^=he,ke^=he<<2,he=(Ue>>>-16^ke)&65535,ke^=he,Ue^=he<<-16,he=(ke>>>1^Ue)&1431655765,Ue^=he,ke^=he<<1,he=(Ue>>>8^ke)&16711935,ke^=he,Ue^=he<<8,he=(ke>>>1^Ue)&1431655765,Ue^=he,ke^=he<<1,he=ke<<8|Ue>>>20&240,ke=Ue<<24|Ue<<8&16711680|Ue>>>8&65280|Ue>>>24&240,Ue=he;for(var Me=0;Me<Ce.length;++Me){Ce[Me]?(ke=ke<<2|ke>>>26,Ue=Ue<<2|Ue>>>26):(ke=ke<<1|ke>>>27,Ue=Ue<<1|Ue>>>27),ke&=-15,Ue&=-15;var Ae=V[ke>>>28]|P[ke>>>24&15]|H[ke>>>20&15]|T[ke>>>16&15]|F[ke>>>12&15]|U[ke>>>8&15]|K[ke>>>4&15],Se=X[Ue>>>28]|M[Ue>>>24&15]|I[Ue>>>20&15]|E[Ue>>>16&15]|j[Ue>>>12&15]|ie[Ue>>>8&15]|de[Ue>>>4&15];he=(Se>>>16^Ae)&65535,se[oe++]=Ae^he,se[oe++]=Se^he<<16}}return se}function R(_,V,P,H){var T=_.length===32?3:9,F;T===3?F=H?[30,-2,-2]:[0,32,2]:F=H?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var U,K=V[0],X=V[1];U=(K>>>4^X)&252645135,X^=U,K^=U<<4,U=(K>>>16^X)&65535,X^=U,K^=U<<16,U=(X>>>2^K)&858993459,K^=U,X^=U<<2,U=(X>>>8^K)&16711935,K^=U,X^=U<<8,U=(K>>>1^X)&1431655765,X^=U,K^=U<<1,K=K<<1|K>>>31,X=X<<1|X>>>31;for(var M=0;M<T;M+=3){for(var I=F[M+1],E=F[M+2],j=F[M];j!=I;j+=E){var ie=X^_[j],de=(X>>>4|X<<28)^_[j+1];U=K,K=X,X=U^(f[ie>>>24&63]|m[ie>>>16&63]|p[ie>>>8&63]|C[ie&63]|s[de>>>24&63]|v[de>>>16&63]|A[de>>>8&63]|w[de&63])}U=K,K=X,X=U}K=K>>>1|K<<31,X=X>>>1|X<<31,U=(K>>>1^X)&1431655765,X^=U,K^=U<<1,U=(X>>>8^K)&16711935,K^=U,X^=U<<8,U=(X>>>2^K)&858993459,K^=U,X^=U<<2,U=(K>>>16^X)&65535,X^=U,K^=U<<16,U=(K>>>4^X)&252645135,X^=U,K^=U<<4,P[0]=K,P[1]=X}function L(_){_=_||{};var V=(_.mode||"CBC").toUpperCase(),P="DES-"+V,H;_.decrypt?H=r.cipher.createDecipher(P,_.key):H=r.cipher.createCipher(P,_.key);var T=H.start;return H.start=function(F,U){var K=null;U instanceof r.util.ByteBuffer&&(K=U,U={}),U=U||{},U.output=K,U.iv=F,T.call(H,U)},H}return Ud}const Yb={},Xb=Object.freeze(Object.defineProperty({__proto__:null,default:Yb},Symbol.toStringTag,{value:"Module"})),Kh=kA(Xb);var Fd,Wy;function zh(){if(Wy)return Fd;Wy=1;var r=Nn();Oc(),ys(),Xn();var a=r.pkcs5=r.pkcs5||{},s;return r.util.isNodejs&&!r.options.usePureJavaScript&&(s=Kh),Fd=r.pbkdf2=a.pbkdf2=function(f,v,m,A,p,w){if(typeof p=="function"&&(w=p,p=null),r.util.isNodejs&&!r.options.usePureJavaScript&&s.pbkdf2&&(p===null||typeof p!="object")&&(s.pbkdf2Sync.length>4||!p||p==="sha1"))return typeof p!="string"&&(p="sha1"),f=Buffer.from(f,"binary"),v=Buffer.from(v,"binary"),w?s.pbkdf2Sync.length===4?s.pbkdf2(f,v,m,A,function(M,I){if(M)return w(M);w(null,I.toString("binary"))}):s.pbkdf2(f,v,m,A,p,function(M,I){if(M)return w(M);w(null,I.toString("binary"))}):s.pbkdf2Sync.length===4?s.pbkdf2Sync(f,v,m,A).toString("binary"):s.pbkdf2Sync(f,v,m,A,p).toString("binary");if((typeof p>"u"||p===null)&&(p="sha1"),typeof p=="string"){if(!(p in r.md.algorithms))throw new Error("Unknown hash algorithm: "+p);p=r.md[p].create()}var C=p.digestLength;if(A>4294967295*C){var D=new Error("Derived key is too long.");if(w)return w(D);throw D}var R=Math.ceil(A/C),L=A-(R-1)*C,_=r.hmac.create();_.start(p,f);var V="",P,H,T;if(!w){for(var F=1;F<=R;++F){_.start(null,null),_.update(v),_.update(r.util.int32ToBytes(F)),P=T=_.digest().getBytes();for(var U=2;U<=m;++U)_.start(null,null),_.update(T),H=_.digest().getBytes(),P=r.util.xorBytes(P,H,C),T=H;V+=F<R?P:P.substr(0,L)}return V}var F=1,U;function K(){if(F>R)return w(null,V);_.start(null,null),_.update(v),_.update(r.util.int32ToBytes(F)),P=T=_.digest().getBytes(),U=2,X()}function X(){if(U<=m)return _.start(null,null),_.update(T),H=_.digest().getBytes(),P=r.util.xorBytes(P,H,C),T=H,++U,r.util.setImmediate(X);V+=F<R?P:P.substr(0,L),++F,K()}K()},Fd}var Fu={exports:{}},Pd={exports:{}},Jy;function H2(){if(Jy)return Pd.exports;Jy=1;var r=Nn();ys(),Xn();var a=Pd.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=a,a.create=function(){f||m();var p=null,w=r.util.createBuffer(),C=new Array(64),D={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return D.start=function(){D.messageLength=0,D.fullMessageLength=D.messageLength64=[];for(var R=D.messageLengthSize/4,L=0;L<R;++L)D.fullMessageLength.push(0);return w=r.util.createBuffer(),p={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},D},D.start(),D.update=function(R,L){L==="utf8"&&(R=r.util.encodeUtf8(R));var _=R.length;D.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var V=D.fullMessageLength.length-1;V>=0;--V)D.fullMessageLength[V]+=_[1],_[1]=_[0]+(D.fullMessageLength[V]/4294967296>>>0),D.fullMessageLength[V]=D.fullMessageLength[V]>>>0,_[0]=_[1]/4294967296>>>0;return w.putBytes(R),A(p,C,w),(w.read>2048||w.length()===0)&&w.compact(),D},D.digest=function(){var R=r.util.createBuffer();R.putBytes(w.bytes());var L=D.fullMessageLength[D.fullMessageLength.length-1]+D.messageLengthSize,_=L&D.blockLength-1;R.putBytes(s.substr(0,D.blockLength-_));for(var V,P,H=D.fullMessageLength[0]*8,T=0;T<D.fullMessageLength.length-1;++T)V=D.fullMessageLength[T+1]*8,P=V/4294967296>>>0,H+=P,R.putInt32(H>>>0),H=V>>>0;R.putInt32(H);var F={h0:p.h0,h1:p.h1,h2:p.h2,h3:p.h3,h4:p.h4,h5:p.h5,h6:p.h6,h7:p.h7};A(F,C,R);var U=r.util.createBuffer();return U.putInt32(F.h0),U.putInt32(F.h1),U.putInt32(F.h2),U.putInt32(F.h3),U.putInt32(F.h4),U.putInt32(F.h5),U.putInt32(F.h6),U.putInt32(F.h7),U},D};var s=null,f=!1,v=null;function m(){s="",s+=r.util.fillString("\0",64),v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=!0}function A(p,w,C){for(var D,R,L,_,V,P,H,T,F,U,K,X,M,I,E,j=C.length();j>=64;){for(H=0;H<16;++H)w[H]=C.getInt32();for(;H<64;++H)D=w[H-2],D=(D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10,R=w[H-15],R=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,w[H]=D+w[H-7]+R+w[H-16]|0;for(T=p.h0,F=p.h1,U=p.h2,K=p.h3,X=p.h4,M=p.h5,I=p.h6,E=p.h7,H=0;H<64;++H)_=(X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7),V=I^X&(M^I),L=(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10),P=T&F|U&(T^F),D=E+_+V+v[H]+w[H],R=L+P,E=I,I=M,M=X,X=K+D>>>0,K=U,U=F,F=T,T=D+R>>>0;p.h0=p.h0+T|0,p.h1=p.h1+F|0,p.h2=p.h2+U|0,p.h3=p.h3+K|0,p.h4=p.h4+X|0,p.h5=p.h5+M|0,p.h6=p.h6+I|0,p.h7=p.h7+E|0,j-=64}}return Pd.exports}var Vd={exports:{}},$y;function G2(){if($y)return Vd.exports;$y=1;var r=Nn();Xn();var a=null;r.util.isNodejs&&!r.options.usePureJavaScript&&!process.versions["node-webkit"]&&(a=Kh);var s=Vd.exports=r.prng=r.prng||{};return s.create=function(f){for(var v={plugin:f,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},m=f.md,A=new Array(32),p=0;p<32;++p)A[p]=m.create();v.pools=A,v.pool=0,v.generate=function(L,_){if(!_)return v.generateSync(L);var V=v.plugin.cipher,P=v.plugin.increment,H=v.plugin.formatKey,T=v.plugin.formatSeed,F=r.util.createBuffer();v.key=null,U();function U(K){if(K)return _(K);if(F.length()>=L)return _(null,F.getBytes(L));if(v.generated>1048575&&(v.key=null),v.key===null)return r.util.nextTick(function(){w(U)});var X=V(v.key,v.seed);v.generated+=X.length,F.putBytes(X),v.key=H(V(v.key,P(v.seed))),v.seed=T(V(v.key,v.seed)),r.util.setImmediate(U)}},v.generateSync=function(L){var _=v.plugin.cipher,V=v.plugin.increment,P=v.plugin.formatKey,H=v.plugin.formatSeed;v.key=null;for(var T=r.util.createBuffer();T.length()<L;){v.generated>1048575&&(v.key=null),v.key===null&&C();var F=_(v.key,v.seed);v.generated+=F.length,T.putBytes(F),v.key=P(_(v.key,V(v.seed))),v.seed=H(_(v.key,v.seed))}return T.getBytes(L)};function w(L){if(v.pools[0].messageLength>=32)return D(),L();var _=32-v.pools[0].messageLength<<5;v.seedFile(_,function(V,P){if(V)return L(V);v.collect(P),D(),L()})}function C(){if(v.pools[0].messageLength>=32)return D();var L=32-v.pools[0].messageLength<<5;v.collect(v.seedFileSync(L)),D()}function D(){v.reseeds=v.reseeds===4294967295?0:v.reseeds+1;var L=v.plugin.md.create();L.update(v.keyBytes);for(var _=1,V=0;V<32;++V)v.reseeds%_===0&&(L.update(v.pools[V].digest().getBytes()),v.pools[V].start()),_=_<<1;v.keyBytes=L.digest().getBytes(),L.start(),L.update(v.keyBytes);var P=L.digest().getBytes();v.key=v.plugin.formatKey(v.keyBytes),v.seed=v.plugin.formatSeed(P),v.generated=0}function R(L){var _=null,V=r.util.globalScope,P=V.crypto||V.msCrypto;P&&P.getRandomValues&&(_=function(E){return P.getRandomValues(E)});var H=r.util.createBuffer();if(_)for(;H.length()<L;){var T=Math.max(1,Math.min(L-H.length(),65536)/4),F=new Uint32Array(Math.floor(T));try{_(F);for(var U=0;U<F.length;++U)H.putInt32(F[U])}catch(E){if(!(typeof QuotaExceededError<"u"&&E instanceof QuotaExceededError))throw E}}if(H.length()<L)for(var K,X,M,I=Math.floor(Math.random()*65536);H.length()<L;){X=16807*(I&65535),K=16807*(I>>16),X+=(K&32767)<<16,X+=K>>15,X=(X&2147483647)+(X>>31),I=X&4294967295;for(var U=0;U<3;++U)M=I>>>(U<<3),M^=Math.floor(Math.random()*256),H.putByte(M&255)}return H.getBytes(L)}return a?(v.seedFile=function(L,_){a.randomBytes(L,function(V,P){if(V)return _(V);_(null,P.toString())})},v.seedFileSync=function(L){return a.randomBytes(L).toString()}):(v.seedFile=function(L,_){try{_(null,R(L))}catch(V){_(V)}},v.seedFileSync=R),v.collect=function(L){for(var _=L.length,V=0;V<_;++V)v.pools[v.pool].update(L.substr(V,1)),v.pool=v.pool===31?0:v.pool+1},v.collectInt=function(L,_){for(var V="",P=0;P<_;P+=8)V+=String.fromCharCode(L>>P&255);v.collect(V)},v.registerWorker=function(L){if(L===self)v.seedFile=function(V,P){function H(T){var F=T.data;F.forge&&F.forge.prng&&(self.removeEventListener("message",H),P(F.forge.prng.err,F.forge.prng.bytes))}self.addEventListener("message",H),self.postMessage({forge:{prng:{needed:V}}})};else{var _=function(V){var P=V.data;P.forge&&P.forge.prng&&v.seedFile(P.forge.prng.needed,function(H,T){L.postMessage({forge:{prng:{err:H,bytes:T}}})})};L.addEventListener("message",_)}},v},Vd.exports}var em;function Ai(){if(em)return Fu.exports;em=1;var r=Nn();return Oo(),H2(),G2(),Xn(),(function(){if(r.random&&r.random.getBytes){Fu.exports=r.random;return}(function(a){var s={},f=new Array(4),v=r.util.createBuffer();s.formatKey=function(L){var _=r.util.createBuffer(L);return L=new Array(4),L[0]=_.getInt32(),L[1]=_.getInt32(),L[2]=_.getInt32(),L[3]=_.getInt32(),r.aes._expandKey(L,!1)},s.formatSeed=function(L){var _=r.util.createBuffer(L);return L=new Array(4),L[0]=_.getInt32(),L[1]=_.getInt32(),L[2]=_.getInt32(),L[3]=_.getInt32(),L},s.cipher=function(L,_){return r.aes._updateBlock(L,_,f,!1),v.putInt32(f[0]),v.putInt32(f[1]),v.putInt32(f[2]),v.putInt32(f[3]),v.getBytes()},s.increment=function(L){return++L[3],L},s.md=r.md.sha256;function m(){var L=r.prng.create(s);return L.getBytes=function(_,V){return L.generate(_,V)},L.getBytesSync=function(_){return L.generate(_)},L}var A=m(),p=null,w=r.util.globalScope,C=w.crypto||w.msCrypto;if(C&&C.getRandomValues&&(p=function(L){return C.getRandomValues(L)}),r.options.usePureJavaScript||!r.util.isNodejs&&!p){if(A.collectInt(+new Date,32),typeof navigator<"u"){var D="";for(var R in navigator)try{typeof navigator[R]=="string"&&(D+=navigator[R])}catch{}A.collect(D),D=null}a&&(a().mousemove(function(L){A.collectInt(L.clientX,16),A.collectInt(L.clientY,16)}),a().keypress(function(L){A.collectInt(L.charCode,8)}))}if(!r.random)r.random=A;else for(var R in A)r.random[R]=A[R];r.random.createInstance=m,Fu.exports=r.random})(typeof jQuery<"u"?jQuery:null)})(),Fu.exports}var Qd,tm;function j2(){if(tm)return Qd;tm=1;var r=Nn();Xn();var a=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],f=function(A,p){return A<<p&65535|(A&65535)>>16-p},v=function(A,p){return(A&65535)>>p|A<<16-p&65535};Qd=r.rc2=r.rc2||{},r.rc2.expandKey=function(A,p){typeof A=="string"&&(A=r.util.createBuffer(A)),p=p||128;var w=A,C=A.length(),D=p,R=Math.ceil(D/8),L=255>>(D&7),_;for(_=C;_<128;_++)w.putByte(a[w.at(_-1)+w.at(_-C)&255]);for(w.setAt(128-R,a[w.at(128-R)&L]),_=127-R;_>=0;_--)w.setAt(_,a[w.at(_+1)^w.at(_+R)]);return w};var m=function(A,p,w){var C=!1,D=null,R=null,L=null,_,V,P,H,T=[];for(A=r.rc2.expandKey(A,p),P=0;P<64;P++)T.push(A.getInt16Le());w?(_=function(K){for(P=0;P<4;P++)K[P]+=T[H]+(K[(P+3)%4]&K[(P+2)%4])+(~K[(P+3)%4]&K[(P+1)%4]),K[P]=f(K[P],s[P]),H++},V=function(K){for(P=0;P<4;P++)K[P]+=T[K[(P+3)%4]&63]}):(_=function(K){for(P=3;P>=0;P--)K[P]=v(K[P],s[P]),K[P]-=T[H]+(K[(P+3)%4]&K[(P+2)%4])+(~K[(P+3)%4]&K[(P+1)%4]),H--},V=function(K){for(P=3;P>=0;P--)K[P]-=T[K[(P+3)%4]&63]});var F=function(K){var X=[];for(P=0;P<4;P++){var M=D.getInt16Le();L!==null&&(w?M^=L.getInt16Le():L.putInt16Le(M)),X.push(M&65535)}H=w?0:63;for(var I=0;I<K.length;I++)for(var E=0;E<K[I][0];E++)K[I][1](X);for(P=0;P<4;P++)L!==null&&(w?L.putInt16Le(X[P]):X[P]^=L.getInt16Le()),R.putInt16Le(X[P])},U=null;return U={start:function(K,X){K&&typeof K=="string"&&(K=r.util.createBuffer(K)),C=!1,D=r.util.createBuffer(),R=X||new r.util.createBuffer,L=K,U.output=R},update:function(K){for(C||D.putBuffer(K);D.length()>=8;)F([[5,_],[1,V],[6,_],[1,V],[5,_]])},finish:function(K){var X=!0;if(w)if(K)X=K(8,D,!w);else{var M=D.length()===8?8:8-D.length();D.fillWithByte(M,M)}if(X&&(C=!0,U.update()),!w&&(X=D.length()===0,X))if(K)X=K(8,R,!w);else{var I=R.length(),E=R.at(I-1);E>I?X=!1:R.truncate(E)}return X}},U};return r.rc2.startEncrypting=function(A,p,w){var C=r.rc2.createEncryptionCipher(A,128);return C.start(p,w),C},r.rc2.createEncryptionCipher=function(A,p){return m(A,p,!0)},r.rc2.startDecrypting=function(A,p,w){var C=r.rc2.createDecryptionCipher(A,128);return C.start(p,w),C},r.rc2.createDecryptionCipher=function(A,p){return m(A,p,!1)},Qd}var Hd,nm;function gf(){if(nm)return Hd;nm=1;var r=Nn();Hd=r.jsbn=r.jsbn||{};var a;function s(J,te,ue){this.data=[],J!=null&&(typeof J=="number"?this.fromNumber(J,te,ue):te==null&&typeof J!="string"?this.fromString(J,256):this.fromString(J,te))}r.jsbn.BigInteger=s;function f(){return new s(null)}function v(J,te,ue,Re,nt,We){for(;--We>=0;){var At=te*this.data[J++]+ue.data[Re]+nt;nt=Math.floor(At/67108864),ue.data[Re++]=At&67108863}return nt}function m(J,te,ue,Re,nt,We){for(var At=te&32767,bt=te>>15;--We>=0;){var Zt=this.data[J]&32767,Gn=this.data[J++]>>15,pn=bt*Zt+Gn*At;Zt=At*Zt+((pn&32767)<<15)+ue.data[Re]+(nt&1073741823),nt=(Zt>>>30)+(pn>>>15)+bt*Gn+(nt>>>30),ue.data[Re++]=Zt&1073741823}return nt}function A(J,te,ue,Re,nt,We){for(var At=te&16383,bt=te>>14;--We>=0;){var Zt=this.data[J]&16383,Gn=this.data[J++]>>14,pn=bt*Zt+Gn*At;Zt=At*Zt+((pn&16383)<<14)+ue.data[Re]+nt,nt=(Zt>>28)+(pn>>14)+bt*Gn,ue.data[Re++]=Zt&268435455}return nt}typeof navigator>"u"?(s.prototype.am=A,a=28):navigator.appName=="Microsoft Internet Explorer"?(s.prototype.am=m,a=30):navigator.appName!="Netscape"?(s.prototype.am=v,a=26):(s.prototype.am=A,a=28),s.prototype.DB=a,s.prototype.DM=(1<<a)-1,s.prototype.DV=1<<a;var p=52;s.prototype.FV=Math.pow(2,p),s.prototype.F1=p-a,s.prototype.F2=2*a-p;var w="0123456789abcdefghijklmnopqrstuvwxyz",C=new Array,D,R;for(D=48,R=0;R<=9;++R)C[D++]=R;for(D=97,R=10;R<36;++R)C[D++]=R;for(D=65,R=10;R<36;++R)C[D++]=R;function L(J){return w.charAt(J)}function _(J,te){var ue=C[J.charCodeAt(te)];return ue??-1}function V(J){for(var te=this.t-1;te>=0;--te)J.data[te]=this.data[te];J.t=this.t,J.s=this.s}function P(J){this.t=1,this.s=J<0?-1:0,J>0?this.data[0]=J:J<-1?this.data[0]=J+this.DV:this.t=0}function H(J){var te=f();return te.fromInt(J),te}function T(J,te){var ue;if(te==16)ue=4;else if(te==8)ue=3;else if(te==256)ue=8;else if(te==2)ue=1;else if(te==32)ue=5;else if(te==4)ue=2;else{this.fromRadix(J,te);return}this.t=0,this.s=0;for(var Re=J.length,nt=!1,We=0;--Re>=0;){var At=ue==8?J[Re]&255:_(J,Re);if(At<0){J.charAt(Re)=="-"&&(nt=!0);continue}nt=!1,We==0?this.data[this.t++]=At:We+ue>this.DB?(this.data[this.t-1]|=(At&(1<<this.DB-We)-1)<<We,this.data[this.t++]=At>>this.DB-We):this.data[this.t-1]|=At<<We,We+=ue,We>=this.DB&&(We-=this.DB)}ue==8&&(J[0]&128)!=0&&(this.s=-1,We>0&&(this.data[this.t-1]|=(1<<this.DB-We)-1<<We)),this.clamp(),nt&&s.ZERO.subTo(this,this)}function F(){for(var J=this.s&this.DM;this.t>0&&this.data[this.t-1]==J;)--this.t}function U(J){if(this.s<0)return"-"+this.negate().toString(J);var te;if(J==16)te=4;else if(J==8)te=3;else if(J==2)te=1;else if(J==32)te=5;else if(J==4)te=2;else return this.toRadix(J);var ue=(1<<te)-1,Re,nt=!1,We="",At=this.t,bt=this.DB-At*this.DB%te;if(At-- >0)for(bt<this.DB&&(Re=this.data[At]>>bt)>0&&(nt=!0,We=L(Re));At>=0;)bt<te?(Re=(this.data[At]&(1<<bt)-1)<<te-bt,Re|=this.data[--At]>>(bt+=this.DB-te)):(Re=this.data[At]>>(bt-=te)&ue,bt<=0&&(bt+=this.DB,--At)),Re>0&&(nt=!0),nt&&(We+=L(Re));return nt?We:"0"}function K(){var J=f();return s.ZERO.subTo(this,J),J}function X(){return this.s<0?this.negate():this}function M(J){var te=this.s-J.s;if(te!=0)return te;var ue=this.t;if(te=ue-J.t,te!=0)return this.s<0?-te:te;for(;--ue>=0;)if((te=this.data[ue]-J.data[ue])!=0)return te;return 0}function I(J){var te=1,ue;return(ue=J>>>16)!=0&&(J=ue,te+=16),(ue=J>>8)!=0&&(J=ue,te+=8),(ue=J>>4)!=0&&(J=ue,te+=4),(ue=J>>2)!=0&&(J=ue,te+=2),(ue=J>>1)!=0&&(J=ue,te+=1),te}function E(){return this.t<=0?0:this.DB*(this.t-1)+I(this.data[this.t-1]^this.s&this.DM)}function j(J,te){var ue;for(ue=this.t-1;ue>=0;--ue)te.data[ue+J]=this.data[ue];for(ue=J-1;ue>=0;--ue)te.data[ue]=0;te.t=this.t+J,te.s=this.s}function ie(J,te){for(var ue=J;ue<this.t;++ue)te.data[ue-J]=this.data[ue];te.t=Math.max(this.t-J,0),te.s=this.s}function de(J,te){var ue=J%this.DB,Re=this.DB-ue,nt=(1<<Re)-1,We=Math.floor(J/this.DB),At=this.s<<ue&this.DM,bt;for(bt=this.t-1;bt>=0;--bt)te.data[bt+We+1]=this.data[bt]>>Re|At,At=(this.data[bt]&nt)<<ue;for(bt=We-1;bt>=0;--bt)te.data[bt]=0;te.data[We]=At,te.t=this.t+We+1,te.s=this.s,te.clamp()}function ee(J,te){te.s=this.s;var ue=Math.floor(J/this.DB);if(ue>=this.t){te.t=0;return}var Re=J%this.DB,nt=this.DB-Re,We=(1<<Re)-1;te.data[0]=this.data[ue]>>Re;for(var At=ue+1;At<this.t;++At)te.data[At-ue-1]|=(this.data[At]&We)<<nt,te.data[At-ue]=this.data[At]>>Re;Re>0&&(te.data[this.t-ue-1]|=(this.s&We)<<nt),te.t=this.t-ue,te.clamp()}function se(J,te){for(var ue=0,Re=0,nt=Math.min(J.t,this.t);ue<nt;)Re+=this.data[ue]-J.data[ue],te.data[ue++]=Re&this.DM,Re>>=this.DB;if(J.t<this.t){for(Re-=J.s;ue<this.t;)Re+=this.data[ue],te.data[ue++]=Re&this.DM,Re>>=this.DB;Re+=this.s}else{for(Re+=this.s;ue<J.t;)Re-=J.data[ue],te.data[ue++]=Re&this.DM,Re>>=this.DB;Re-=J.s}te.s=Re<0?-1:0,Re<-1?te.data[ue++]=this.DV+Re:Re>0&&(te.data[ue++]=Re),te.t=ue,te.clamp()}function Ce(J,te){var ue=this.abs(),Re=J.abs(),nt=ue.t;for(te.t=nt+Re.t;--nt>=0;)te.data[nt]=0;for(nt=0;nt<Re.t;++nt)te.data[nt+ue.t]=ue.am(0,Re.data[nt],te,nt,0,ue.t);te.s=0,te.clamp(),this.s!=J.s&&s.ZERO.subTo(te,te)}function oe(J){for(var te=this.abs(),ue=J.t=2*te.t;--ue>=0;)J.data[ue]=0;for(ue=0;ue<te.t-1;++ue){var Re=te.am(ue,te.data[ue],J,2*ue,0,1);(J.data[ue+te.t]+=te.am(ue+1,2*te.data[ue],J,2*ue+1,Re,te.t-ue-1))>=te.DV&&(J.data[ue+te.t]-=te.DV,J.data[ue+te.t+1]=1)}J.t>0&&(J.data[J.t-1]+=te.am(ue,te.data[ue],J,2*ue,0,1)),J.s=0,J.clamp()}function he(J,te,ue){var Re=J.abs();if(!(Re.t<=0)){var nt=this.abs();if(nt.t<Re.t){te!=null&&te.fromInt(0),ue!=null&&this.copyTo(ue);return}ue==null&&(ue=f());var We=f(),At=this.s,bt=J.s,Zt=this.DB-I(Re.data[Re.t-1]);Zt>0?(Re.lShiftTo(Zt,We),nt.lShiftTo(Zt,ue)):(Re.copyTo(We),nt.copyTo(ue));var Gn=We.t,pn=We.data[Gn-1];if(pn!=0){var sr=pn*(1<<this.F1)+(Gn>1?We.data[Gn-2]>>this.F2:0),en=this.FV/sr,zn=(1<<this.F1)/sr,Fe=1<<this.F2,ge=ue.t,Bt=ge-Gn,jn=te??f();for(We.dlShiftTo(Bt,jn),ue.compareTo(jn)>=0&&(ue.data[ue.t++]=1,ue.subTo(jn,ue)),s.ONE.dlShiftTo(Gn,jn),jn.subTo(We,We);We.t<Gn;)We.data[We.t++]=0;for(;--Bt>=0;){var Cr=ue.data[--ge]==pn?this.DM:Math.floor(ue.data[ge]*en+(ue.data[ge-1]+Fe)*zn);if((ue.data[ge]+=We.am(0,Cr,ue,Bt,0,Gn))<Cr)for(We.dlShiftTo(Bt,jn),ue.subTo(jn,ue);ue.data[ge]<--Cr;)ue.subTo(jn,ue)}te!=null&&(ue.drShiftTo(Gn,te),At!=bt&&s.ZERO.subTo(te,te)),ue.t=Gn,ue.clamp(),Zt>0&&ue.rShiftTo(Zt,ue),At<0&&s.ZERO.subTo(ue,ue)}}}function ve(J){var te=f();return this.abs().divRemTo(J,null,te),this.s<0&&te.compareTo(s.ZERO)>0&&J.subTo(te,te),te}function ke(J){this.m=J}function Ue(J){return J.s<0||J.compareTo(this.m)>=0?J.mod(this.m):J}function Me(J){return J}function Ae(J){J.divRemTo(this.m,null,J)}function Se(J,te,ue){J.multiplyTo(te,ue),this.reduce(ue)}function ze(J,te){J.squareTo(te),this.reduce(te)}ke.prototype.convert=Ue,ke.prototype.revert=Me,ke.prototype.reduce=Ae,ke.prototype.mulTo=Se,ke.prototype.sqrTo=ze;function _e(){if(this.t<1)return 0;var J=this.data[0];if((J&1)==0)return 0;var te=J&3;return te=te*(2-(J&15)*te)&15,te=te*(2-(J&255)*te)&255,te=te*(2-((J&65535)*te&65535))&65535,te=te*(2-J*te%this.DV)%this.DV,te>0?this.DV-te:-te}function Je(J){this.m=J,this.mp=J.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<J.DB-15)-1,this.mt2=2*J.t}function Ne(J){var te=f();return J.abs().dlShiftTo(this.m.t,te),te.divRemTo(this.m,null,te),J.s<0&&te.compareTo(s.ZERO)>0&&this.m.subTo(te,te),te}function wt(J){var te=f();return J.copyTo(te),this.reduce(te),te}function yt(J){for(;J.t<=this.mt2;)J.data[J.t++]=0;for(var te=0;te<this.m.t;++te){var ue=J.data[te]&32767,Re=ue*this.mpl+((ue*this.mph+(J.data[te]>>15)*this.mpl&this.um)<<15)&J.DM;for(ue=te+this.m.t,J.data[ue]+=this.m.am(0,Re,J,te,0,this.m.t);J.data[ue]>=J.DV;)J.data[ue]-=J.DV,J.data[++ue]++}J.clamp(),J.drShiftTo(this.m.t,J),J.compareTo(this.m)>=0&&J.subTo(this.m,J)}function Q(J,te){J.squareTo(te),this.reduce(te)}function W(J,te,ue){J.multiplyTo(te,ue),this.reduce(ue)}Je.prototype.convert=Ne,Je.prototype.revert=wt,Je.prototype.reduce=yt,Je.prototype.mulTo=W,Je.prototype.sqrTo=Q;function re(){return(this.t>0?this.data[0]&1:this.s)==0}function O(J,te){if(J>4294967295||J<1)return s.ONE;var ue=f(),Re=f(),nt=te.convert(this),We=I(J)-1;for(nt.copyTo(ue);--We>=0;)if(te.sqrTo(ue,Re),(J&1<<We)>0)te.mulTo(Re,nt,ue);else{var At=ue;ue=Re,Re=At}return te.revert(ue)}function Z(J,te){var ue;return J<256||te.isEven()?ue=new ke(te):ue=new Je(te),this.exp(J,ue)}s.prototype.copyTo=V,s.prototype.fromInt=P,s.prototype.fromString=T,s.prototype.clamp=F,s.prototype.dlShiftTo=j,s.prototype.drShiftTo=ie,s.prototype.lShiftTo=de,s.prototype.rShiftTo=ee,s.prototype.subTo=se,s.prototype.multiplyTo=Ce,s.prototype.squareTo=oe,s.prototype.divRemTo=he,s.prototype.invDigit=_e,s.prototype.isEven=re,s.prototype.exp=O,s.prototype.toString=U,s.prototype.negate=K,s.prototype.abs=X,s.prototype.compareTo=M,s.prototype.bitLength=E,s.prototype.mod=ve,s.prototype.modPowInt=Z,s.ZERO=H(0),s.ONE=H(1);function be(){var J=f();return this.copyTo(J),J}function xe(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Ze(){return this.t==0?this.s:this.data[0]<<24>>24}function gt(){return this.t==0?this.s:this.data[0]<<16>>16}function dt(J){return Math.floor(Math.LN2*this.DB/Math.log(J))}function Ve(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function pt(J){if(J==null&&(J=10),this.signum()==0||J<2||J>36)return"0";var te=this.chunkSize(J),ue=Math.pow(J,te),Re=H(ue),nt=f(),We=f(),At="";for(this.divRemTo(Re,nt,We);nt.signum()>0;)At=(ue+We.intValue()).toString(J).substr(1)+At,nt.divRemTo(Re,nt,We);return We.intValue().toString(J)+At}function Ye(J,te){this.fromInt(0),te==null&&(te=10);for(var ue=this.chunkSize(te),Re=Math.pow(te,ue),nt=!1,We=0,At=0,bt=0;bt<J.length;++bt){var Zt=_(J,bt);if(Zt<0){J.charAt(bt)=="-"&&this.signum()==0&&(nt=!0);continue}At=te*At+Zt,++We>=ue&&(this.dMultiply(Re),this.dAddOffset(At,0),We=0,At=0)}We>0&&(this.dMultiply(Math.pow(te,We)),this.dAddOffset(At,0)),nt&&s.ZERO.subTo(this,this)}function Lt(J,te,ue){if(typeof te=="number")if(J<2)this.fromInt(1);else for(this.fromNumber(J,ue),this.testBit(J-1)||this.bitwiseTo(s.ONE.shiftLeft(J-1),wn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(te);)this.dAddOffset(2,0),this.bitLength()>J&&this.subTo(s.ONE.shiftLeft(J-1),this);else{var Re=new Array,nt=J&7;Re.length=(J>>3)+1,te.nextBytes(Re),nt>0?Re[0]&=(1<<nt)-1:Re[0]=0,this.fromString(Re,256)}}function St(){var J=this.t,te=new Array;te[0]=this.s;var ue=this.DB-J*this.DB%8,Re,nt=0;if(J-- >0)for(ue<this.DB&&(Re=this.data[J]>>ue)!=(this.s&this.DM)>>ue&&(te[nt++]=Re|this.s<<this.DB-ue);J>=0;)ue<8?(Re=(this.data[J]&(1<<ue)-1)<<8-ue,Re|=this.data[--J]>>(ue+=this.DB-8)):(Re=this.data[J]>>(ue-=8)&255,ue<=0&&(ue+=this.DB,--J)),(Re&128)!=0&&(Re|=-256),nt==0&&(this.s&128)!=(Re&128)&&++nt,(nt>0||Re!=this.s)&&(te[nt++]=Re);return te}function Kt(J){return this.compareTo(J)==0}function An(J){return this.compareTo(J)<0?this:J}function Ht(J){return this.compareTo(J)>0?this:J}function rn(J,te,ue){var Re,nt,We=Math.min(J.t,this.t);for(Re=0;Re<We;++Re)ue.data[Re]=te(this.data[Re],J.data[Re]);if(J.t<this.t){for(nt=J.s&this.DM,Re=We;Re<this.t;++Re)ue.data[Re]=te(this.data[Re],nt);ue.t=this.t}else{for(nt=this.s&this.DM,Re=We;Re<J.t;++Re)ue.data[Re]=te(nt,J.data[Re]);ue.t=J.t}ue.s=te(this.s,J.s),ue.clamp()}function nn(J,te){return J&te}function Vt(J){var te=f();return this.bitwiseTo(J,nn,te),te}function wn(J,te){return J|te}function yn(J){var te=f();return this.bitwiseTo(J,wn,te),te}function Sn(J,te){return J^te}function Gt(J){var te=f();return this.bitwiseTo(J,Sn,te),te}function at(J,te){return J&~te}function Qt(J){var te=f();return this.bitwiseTo(J,at,te),te}function we(){for(var J=f(),te=0;te<this.t;++te)J.data[te]=this.DM&~this.data[te];return J.t=this.t,J.s=~this.s,J}function Te(J){var te=f();return J<0?this.rShiftTo(-J,te):this.lShiftTo(J,te),te}function $e(J){var te=f();return J<0?this.lShiftTo(-J,te):this.rShiftTo(J,te),te}function ot(J){if(J==0)return-1;var te=0;return(J&65535)==0&&(J>>=16,te+=16),(J&255)==0&&(J>>=8,te+=8),(J&15)==0&&(J>>=4,te+=4),(J&3)==0&&(J>>=2,te+=2),(J&1)==0&&++te,te}function et(){for(var J=0;J<this.t;++J)if(this.data[J]!=0)return J*this.DB+ot(this.data[J]);return this.s<0?this.t*this.DB:-1}function Rt(J){for(var te=0;J!=0;)J&=J-1,++te;return te}function dn(){for(var J=0,te=this.s&this.DM,ue=0;ue<this.t;++ue)J+=Rt(this.data[ue]^te);return J}function On(J){var te=Math.floor(J/this.DB);return te>=this.t?this.s!=0:(this.data[te]&1<<J%this.DB)!=0}function Zn(J,te){var ue=s.ONE.shiftLeft(J);return this.bitwiseTo(ue,te,ue),ue}function an(J){return this.changeBit(J,wn)}function tt(J){return this.changeBit(J,at)}function It(J){return this.changeBit(J,Sn)}function _t(J,te){for(var ue=0,Re=0,nt=Math.min(J.t,this.t);ue<nt;)Re+=this.data[ue]+J.data[ue],te.data[ue++]=Re&this.DM,Re>>=this.DB;if(J.t<this.t){for(Re+=J.s;ue<this.t;)Re+=this.data[ue],te.data[ue++]=Re&this.DM,Re>>=this.DB;Re+=this.s}else{for(Re+=this.s;ue<J.t;)Re+=J.data[ue],te.data[ue++]=Re&this.DM,Re>>=this.DB;Re+=J.s}te.s=Re<0?-1:0,Re>0?te.data[ue++]=Re:Re<-1&&(te.data[ue++]=this.DV+Re),te.t=ue,te.clamp()}function kt(J){var te=f();return this.addTo(J,te),te}function Tt(J){var te=f();return this.subTo(J,te),te}function zt(J){var te=f();return this.multiplyTo(J,te),te}function Ct(J){var te=f();return this.divRemTo(J,te,null),te}function Ut(J){var te=f();return this.divRemTo(J,null,te),te}function sn(J){var te=f(),ue=f();return this.divRemTo(J,te,ue),new Array(te,ue)}function on(J){this.data[this.t]=this.am(0,J-1,this,0,0,this.t),++this.t,this.clamp()}function cn(J,te){if(J!=0){for(;this.t<=te;)this.data[this.t++]=0;for(this.data[te]+=J;this.data[te]>=this.DV;)this.data[te]-=this.DV,++te>=this.t&&(this.data[this.t++]=0),++this.data[te]}}function ht(){}function En(J){return J}function fn(J,te,ue){J.multiplyTo(te,ue)}function Jt(J,te){J.squareTo(te)}ht.prototype.convert=En,ht.prototype.revert=En,ht.prototype.mulTo=fn,ht.prototype.sqrTo=Jt;function Ar(J){return this.exp(J,new ht)}function ma(J,te,ue){var Re=Math.min(this.t+J.t,te);for(ue.s=0,ue.t=Re;Re>0;)ue.data[--Re]=0;var nt;for(nt=ue.t-this.t;Re<nt;++Re)ue.data[Re+this.t]=this.am(0,J.data[Re],ue,Re,0,this.t);for(nt=Math.min(J.t,te);Re<nt;++Re)this.am(0,J.data[Re],ue,Re,0,te-Re);ue.clamp()}function Ci(J,te,ue){--te;var Re=ue.t=this.t+J.t-te;for(ue.s=0;--Re>=0;)ue.data[Re]=0;for(Re=Math.max(te-this.t,0);Re<J.t;++Re)ue.data[this.t+Re-te]=this.am(te-Re,J.data[Re],ue,0,0,this.t+Re-te);ue.clamp(),ue.drShiftTo(1,ue)}function ar(J){this.r2=f(),this.q3=f(),s.ONE.dlShiftTo(2*J.t,this.r2),this.mu=this.r2.divide(J),this.m=J}function Vi(J){if(J.s<0||J.t>2*this.m.t)return J.mod(this.m);if(J.compareTo(this.m)<0)return J;var te=f();return J.copyTo(te),this.reduce(te),te}function na(J){return J}function Gr(J){for(J.drShiftTo(this.m.t-1,this.r2),J.t>this.m.t+1&&(J.t=this.m.t+1,J.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);J.compareTo(this.r2)<0;)J.dAddOffset(1,this.m.t+1);for(J.subTo(this.r2,J);J.compareTo(this.m)>=0;)J.subTo(this.m,J)}function ir(J,te){J.squareTo(te),this.reduce(te)}function $t(J,te,ue){J.multiplyTo(te,ue),this.reduce(ue)}ar.prototype.convert=Vi,ar.prototype.revert=na,ar.prototype.reduce=Gr,ar.prototype.mulTo=$t,ar.prototype.sqrTo=ir;function Zr(J,te){var ue=J.bitLength(),Re,nt=H(1),We;if(ue<=0)return nt;ue<18?Re=1:ue<48?Re=3:ue<144?Re=4:ue<768?Re=5:Re=6,ue<8?We=new ke(te):te.isEven()?We=new ar(te):We=new Je(te);var At=new Array,bt=3,Zt=Re-1,Gn=(1<<Re)-1;if(At[1]=We.convert(this),Re>1){var pn=f();for(We.sqrTo(At[1],pn);bt<=Gn;)At[bt]=f(),We.mulTo(pn,At[bt-2],At[bt]),bt+=2}var sr=J.t-1,en,zn=!0,Fe=f(),ge;for(ue=I(J.data[sr])-1;sr>=0;){for(ue>=Zt?en=J.data[sr]>>ue-Zt&Gn:(en=(J.data[sr]&(1<<ue+1)-1)<<Zt-ue,sr>0&&(en|=J.data[sr-1]>>this.DB+ue-Zt)),bt=Re;(en&1)==0;)en>>=1,--bt;if((ue-=bt)<0&&(ue+=this.DB,--sr),zn)At[en].copyTo(nt),zn=!1;else{for(;bt>1;)We.sqrTo(nt,Fe),We.sqrTo(Fe,nt),bt-=2;bt>0?We.sqrTo(nt,Fe):(ge=nt,nt=Fe,Fe=ge),We.mulTo(Fe,At[en],nt)}for(;sr>=0&&(J.data[sr]&1<<ue)==0;)We.sqrTo(nt,Fe),ge=nt,nt=Fe,Fe=ge,--ue<0&&(ue=this.DB-1,--sr)}return We.revert(nt)}function dr(J){var te=this.s<0?this.negate():this.clone(),ue=J.s<0?J.negate():J.clone();if(te.compareTo(ue)<0){var Re=te;te=ue,ue=Re}var nt=te.getLowestSetBit(),We=ue.getLowestSetBit();if(We<0)return te;for(nt<We&&(We=nt),We>0&&(te.rShiftTo(We,te),ue.rShiftTo(We,ue));te.signum()>0;)(nt=te.getLowestSetBit())>0&&te.rShiftTo(nt,te),(nt=ue.getLowestSetBit())>0&&ue.rShiftTo(nt,ue),te.compareTo(ue)>=0?(te.subTo(ue,te),te.rShiftTo(1,te)):(ue.subTo(te,ue),ue.rShiftTo(1,ue));return We>0&&ue.lShiftTo(We,ue),ue}function hr(J){if(J<=0)return 0;var te=this.DV%J,ue=this.s<0?J-1:0;if(this.t>0)if(te==0)ue=this.data[0]%J;else for(var Re=this.t-1;Re>=0;--Re)ue=(te*ue+this.data[Re])%J;return ue}function lt(J){var te=J.isEven();if(this.isEven()&&te||J.signum()==0)return s.ZERO;for(var ue=J.clone(),Re=this.clone(),nt=H(1),We=H(0),At=H(0),bt=H(1);ue.signum()!=0;){for(;ue.isEven();)ue.rShiftTo(1,ue),te?((!nt.isEven()||!We.isEven())&&(nt.addTo(this,nt),We.subTo(J,We)),nt.rShiftTo(1,nt)):We.isEven()||We.subTo(J,We),We.rShiftTo(1,We);for(;Re.isEven();)Re.rShiftTo(1,Re),te?((!At.isEven()||!bt.isEven())&&(At.addTo(this,At),bt.subTo(J,bt)),At.rShiftTo(1,At)):bt.isEven()||bt.subTo(J,bt),bt.rShiftTo(1,bt);ue.compareTo(Re)>=0?(ue.subTo(Re,ue),te&&nt.subTo(At,nt),We.subTo(bt,We)):(Re.subTo(ue,Re),te&&At.subTo(nt,At),bt.subTo(We,bt))}if(Re.compareTo(s.ONE)!=0)return s.ZERO;if(bt.compareTo(J)>=0)return bt.subtract(J);if(bt.signum()<0)bt.addTo(J,bt);else return bt;return bt.signum()<0?bt.add(J):bt}var Dr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],kn=(1<<26)/Dr[Dr.length-1];function jr(J){var te,ue=this.abs();if(ue.t==1&&ue.data[0]<=Dr[Dr.length-1]){for(te=0;te<Dr.length;++te)if(ue.data[0]==Dr[te])return!0;return!1}if(ue.isEven())return!1;for(te=1;te<Dr.length;){for(var Re=Dr[te],nt=te+1;nt<Dr.length&&Re<kn;)Re*=Dr[nt++];for(Re=ue.modInt(Re);te<nt;)if(Re%Dr[te++]==0)return!1}return ue.millerRabin(J)}function Ma(J){var te=this.subtract(s.ONE),ue=te.getLowestSetBit();if(ue<=0)return!1;for(var Re=te.shiftRight(ue),nt=_n(),We,At=0;At<J;++At){do We=new s(this.bitLength(),nt);while(We.compareTo(s.ONE)<=0||We.compareTo(te)>=0);var bt=We.modPow(Re,this);if(bt.compareTo(s.ONE)!=0&&bt.compareTo(te)!=0){for(var Zt=1;Zt++<ue&&bt.compareTo(te)!=0;)if(bt=bt.modPowInt(2,this),bt.compareTo(s.ONE)==0)return!1;if(bt.compareTo(te)!=0)return!1}}return!0}function _n(){return{nextBytes:function(J){for(var te=0;te<J.length;++te)J[te]=Math.floor(Math.random()*256)}}}return s.prototype.chunkSize=dt,s.prototype.toRadix=pt,s.prototype.fromRadix=Ye,s.prototype.fromNumber=Lt,s.prototype.bitwiseTo=rn,s.prototype.changeBit=Zn,s.prototype.addTo=_t,s.prototype.dMultiply=on,s.prototype.dAddOffset=cn,s.prototype.multiplyLowerTo=ma,s.prototype.multiplyUpperTo=Ci,s.prototype.modInt=hr,s.prototype.millerRabin=Ma,s.prototype.clone=be,s.prototype.intValue=xe,s.prototype.byteValue=Ze,s.prototype.shortValue=gt,s.prototype.signum=Ve,s.prototype.toByteArray=St,s.prototype.equals=Kt,s.prototype.min=An,s.prototype.max=Ht,s.prototype.and=Vt,s.prototype.or=yn,s.prototype.xor=Gt,s.prototype.andNot=Qt,s.prototype.not=we,s.prototype.shiftLeft=Te,s.prototype.shiftRight=$e,s.prototype.getLowestSetBit=et,s.prototype.bitCount=dn,s.prototype.testBit=On,s.prototype.setBit=an,s.prototype.clearBit=tt,s.prototype.flipBit=It,s.prototype.add=kt,s.prototype.subtract=Tt,s.prototype.multiply=zt,s.prototype.divide=Ct,s.prototype.remainder=Ut,s.prototype.divideAndRemainder=sn,s.prototype.modPow=Zr,s.prototype.modInverse=lt,s.prototype.pow=Ar,s.prototype.gcd=dr,s.prototype.isProbablePrime=jr,Hd}var Gd={exports:{}},jd={exports:{}},rm;function kc(){if(rm)return jd.exports;rm=1;var r=Nn();ys(),Xn();var a=jd.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=a,a.create=function(){f||v();var A=null,p=r.util.createBuffer(),w=new Array(80),C={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return C.start=function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var D=C.messageLengthSize/4,R=0;R<D;++R)C.fullMessageLength.push(0);return p=r.util.createBuffer(),A={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},C},C.start(),C.update=function(D,R){R==="utf8"&&(D=r.util.encodeUtf8(D));var L=D.length;C.messageLength+=L,L=[L/4294967296>>>0,L>>>0];for(var _=C.fullMessageLength.length-1;_>=0;--_)C.fullMessageLength[_]+=L[1],L[1]=L[0]+(C.fullMessageLength[_]/4294967296>>>0),C.fullMessageLength[_]=C.fullMessageLength[_]>>>0,L[0]=L[1]/4294967296>>>0;return p.putBytes(D),m(A,w,p),(p.read>2048||p.length()===0)&&p.compact(),C},C.digest=function(){var D=r.util.createBuffer();D.putBytes(p.bytes());var R=C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize,L=R&C.blockLength-1;D.putBytes(s.substr(0,C.blockLength-L));for(var _,V,P=C.fullMessageLength[0]*8,H=0;H<C.fullMessageLength.length-1;++H)_=C.fullMessageLength[H+1]*8,V=_/4294967296>>>0,P+=V,D.putInt32(P>>>0),P=_>>>0;D.putInt32(P);var T={h0:A.h0,h1:A.h1,h2:A.h2,h3:A.h3,h4:A.h4};m(T,w,D);var F=r.util.createBuffer();return F.putInt32(T.h0),F.putInt32(T.h1),F.putInt32(T.h2),F.putInt32(T.h3),F.putInt32(T.h4),F},C};var s=null,f=!1;function v(){s="",s+=r.util.fillString("\0",64),f=!0}function m(A,p,w){for(var C,D,R,L,_,V,P,H,T=w.length();T>=64;){for(D=A.h0,R=A.h1,L=A.h2,_=A.h3,V=A.h4,H=0;H<16;++H)C=w.getInt32(),p[H]=C,P=_^R&(L^_),C=(D<<5|D>>>27)+P+V+1518500249+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<20;++H)C=p[H-3]^p[H-8]^p[H-14]^p[H-16],C=C<<1|C>>>31,p[H]=C,P=_^R&(L^_),C=(D<<5|D>>>27)+P+V+1518500249+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<32;++H)C=p[H-3]^p[H-8]^p[H-14]^p[H-16],C=C<<1|C>>>31,p[H]=C,P=R^L^_,C=(D<<5|D>>>27)+P+V+1859775393+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<40;++H)C=p[H-6]^p[H-16]^p[H-28]^p[H-32],C=C<<2|C>>>30,p[H]=C,P=R^L^_,C=(D<<5|D>>>27)+P+V+1859775393+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<60;++H)C=p[H-6]^p[H-16]^p[H-28]^p[H-32],C=C<<2|C>>>30,p[H]=C,P=R&L|_&(R^L),C=(D<<5|D>>>27)+P+V+2400959708+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<80;++H)C=p[H-6]^p[H-16]^p[H-28]^p[H-32],C=C<<2|C>>>30,p[H]=C,P=R^L^_,C=(D<<5|D>>>27)+P+V+3395469782+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;A.h0=A.h0+D|0,A.h1=A.h1+R|0,A.h2=A.h2+L|0,A.h3=A.h3+_|0,A.h4=A.h4+V|0,T-=64}}return jd.exports}var am;function K2(){if(am)return Gd.exports;am=1;var r=Nn();Xn(),Ai(),kc();var a=Gd.exports=r.pkcs1=r.pkcs1||{};a.encode_rsa_oaep=function(f,v,m){var A,p,w,C;typeof m=="string"?(A=m,p=arguments[3]||void 0,w=arguments[4]||void 0):m&&(A=m.label||void 0,p=m.seed||void 0,w=m.md||void 0,m.mgf1&&m.mgf1.md&&(C=m.mgf1.md)),w?w.start():w=r.md.sha1.create(),C||(C=w);var D=Math.ceil(f.n.bitLength()/8),R=D-2*w.digestLength-2;if(v.length>R){var L=new Error("RSAES-OAEP input message length is too long.");throw L.length=v.length,L.maxLength=R,L}A||(A=""),w.update(A,"raw");for(var _=w.digest(),V="",P=R-v.length,H=0;H<P;H++)V+="\0";var T=_.getBytes()+V+""+v;if(!p)p=r.random.getBytes(w.digestLength);else if(p.length!==w.digestLength){var L=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw L.seedLength=p.length,L.digestLength=w.digestLength,L}var F=s(p,D-w.digestLength-1,C),U=r.util.xorBytes(T,F,T.length),K=s(U,w.digestLength,C),X=r.util.xorBytes(p,K,p.length);return"\0"+X+U},a.decode_rsa_oaep=function(f,v,m){var A,p,w;typeof m=="string"?(A=m,p=arguments[3]||void 0):m&&(A=m.label||void 0,p=m.md||void 0,m.mgf1&&m.mgf1.md&&(w=m.mgf1.md));var C=Math.ceil(f.n.bitLength()/8);if(v.length!==C){var U=new Error("RSAES-OAEP encoded message length is invalid.");throw U.length=v.length,U.expectedLength=C,U}if(p===void 0?p=r.md.sha1.create():p.start(),w||(w=p),C<2*p.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");A||(A=""),p.update(A,"raw");for(var D=p.digest().getBytes(),R=v.charAt(0),L=v.substring(1,p.digestLength+1),_=v.substring(1+p.digestLength),V=s(_,p.digestLength,w),P=r.util.xorBytes(L,V,L.length),H=s(P,C-p.digestLength-1,w),T=r.util.xorBytes(_,H,_.length),F=T.substring(0,p.digestLength),U=R!=="\0",K=0;K<p.digestLength;++K)U|=D.charAt(K)!==F.charAt(K);for(var X=1,M=p.digestLength,I=p.digestLength;I<T.length;I++){var E=T.charCodeAt(I),j=E&1^1,ie=X?65534:0;U|=E&ie,X=X&j,M+=X}if(U||T.charCodeAt(M)!==1)throw new Error("Invalid RSAES-OAEP padding.");return T.substring(M+1)};function s(f,v,m){m||(m=r.md.sha1.create());for(var A="",p=Math.ceil(v/m.digestLength),w=0;w<p;++w){var C=String.fromCharCode(w>>24&255,w>>16&255,w>>8&255,w&255);m.start(),m.update(f+C),A+=m.digest().getBytes()}return A.substring(0,v)}return Gd.exports}var Pu={exports:{}},im;function z2(){if(im)return Pu.exports;im=1;var r=Nn();return Xn(),gf(),Ai(),(function(){if(r.prime){Pu.exports=r.prime;return}var a=Pu.exports=r.prime=r.prime||{},s=r.jsbn.BigInteger,f=[6,4,2,4,2,4,6,2],v=new s(null);v.fromInt(30);var m=function(L,_){return L|_};a.generateProbablePrime=function(L,_,V){typeof _=="function"&&(V=_,_={}),_=_||{};var P=_.algorithm||"PRIMEINC";typeof P=="string"&&(P={name:P}),P.options=P.options||{};var H=_.prng||r.random,T={nextBytes:function(F){for(var U=H.getBytesSync(F.length),K=0;K<F.length;++K)F[K]=U.charCodeAt(K)}};if(P.name==="PRIMEINC")return A(L,T,P.options,V);throw new Error("Invalid prime generation algorithm: "+P.name)};function A(L,_,V,P){return"workers"in V?C(L,_,V,P):p(L,_,V,P)}function p(L,_,V,P){var H=D(L,_),T=0,F=R(H.bitLength());"millerRabinTests"in V&&(F=V.millerRabinTests);var U=10;"maxBlockTime"in V&&(U=V.maxBlockTime),w(H,L,_,T,F,U,P)}function w(L,_,V,P,H,T,F){var U=+new Date;do{if(L.bitLength()>_&&(L=D(_,V)),L.isProbablePrime(H))return F(null,L);L.dAddOffset(f[P++%8],0)}while(T<0||+new Date-U<T);r.util.setImmediate(function(){w(L,_,V,P,H,T,F)})}function C(L,_,V,P){if(typeof Worker>"u")return p(L,_,V,P);var H=D(L,_),T=V.workers,F=V.workLoad||100,U=F*30/8,K=V.workerScript||"forge/prime.worker.js";if(T===-1)return r.util.estimateCores(function(M,I){M&&(I=2),T=I-1,X()});X();function X(){T=Math.max(1,T);for(var M=[],I=0;I<T;++I)M[I]=new Worker(K);for(var I=0;I<T;++I)M[I].addEventListener("message",j);var E=!1;function j(ie){if(!E){var de=ie.data;if(de.found){for(var ee=0;ee<M.length;++ee)M[ee].terminate();return E=!0,P(null,new s(de.prime,16))}H.bitLength()>L&&(H=D(L,_));var se=H.toString(16);ie.target.postMessage({hex:se,workLoad:F}),H.dAddOffset(U,0)}}}}function D(L,_){var V=new s(L,_),P=L-1;return V.testBit(P)||V.bitwiseTo(s.ONE.shiftLeft(P),m,V),V.dAddOffset(31-V.mod(v).byteValue(),0),V}function R(L){return L<=100?27:L<=150?18:L<=200?15:L<=250?12:L<=300?9:L<=350?8:L<=400?7:L<=500?6:L<=600?5:L<=800?4:L<=1250?3:2}})(),Pu.exports}var Kd,sm;function pf(){if(sm)return Kd;sm=1;var r=Nn();if(Pi(),gf(),ko(),K2(),z2(),Ai(),Xn(),typeof a>"u")var a=r.jsbn.BigInteger;var s=r.util.isNodejs?Kh:null,f=r.asn1,v=r.util;r.pki=r.pki||{},Kd=r.pki.rsa=r.rsa=r.rsa||{};var m=r.pki,A=[6,4,2,4,2,4,6,2],p={name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},w={name:"RSAPrivateKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},C={name:"RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},D=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},R={name:"DigestInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:f.Class.UNIVERSAL,type:f.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},L=function(I){var E;if(I.algorithm in m.oids)E=m.oids[I.algorithm];else{var j=new Error("Unknown message digest algorithm.");throw j.algorithm=I.algorithm,j}var ie=f.oidToDer(E).getBytes(),de=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),ee=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);ee.value.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,ie)),ee.value.push(f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,""));var se=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,I.digest().getBytes());return de.value.push(ee),de.value.push(se),f.toDer(de).getBytes()},_=function(I,E,j){if(j)return I.modPow(E.e,E.n);if(!E.p||!E.q)return I.modPow(E.d,E.n);E.dP||(E.dP=E.d.mod(E.p.subtract(a.ONE))),E.dQ||(E.dQ=E.d.mod(E.q.subtract(a.ONE))),E.qInv||(E.qInv=E.q.modInverse(E.p));var ie;do ie=new a(r.util.bytesToHex(r.random.getBytes(E.n.bitLength()/8)),16);while(ie.compareTo(E.n)>=0||!ie.gcd(E.n).equals(a.ONE));I=I.multiply(ie.modPow(E.e,E.n)).mod(E.n);for(var de=I.mod(E.p).modPow(E.dP,E.p),ee=I.mod(E.q).modPow(E.dQ,E.q);de.compareTo(ee)<0;)de=de.add(E.p);var se=de.subtract(ee).multiply(E.qInv).mod(E.p).multiply(E.q).add(ee);return se=se.multiply(ie.modInverse(E.n)).mod(E.n),se};m.rsa.encrypt=function(I,E,j){var ie=j,de,ee=Math.ceil(E.n.bitLength()/8);j!==!1&&j!==!0?(ie=j===2,de=V(I,E,j)):(de=r.util.createBuffer(),de.putBytes(I));for(var se=new a(de.toHex(),16),Ce=_(se,E,ie),oe=Ce.toString(16),he=r.util.createBuffer(),ve=ee-Math.ceil(oe.length/2);ve>0;)he.putByte(0),--ve;return he.putBytes(r.util.hexToBytes(oe)),he.getBytes()},m.rsa.decrypt=function(I,E,j,ie){var de=Math.ceil(E.n.bitLength()/8);if(I.length!==de){var ee=new Error("Encrypted message length is invalid.");throw ee.length=I.length,ee.expected=de,ee}var se=new a(r.util.createBuffer(I).toHex(),16);if(se.compareTo(E.n)>=0)throw new Error("Encrypted message is invalid.");for(var Ce=_(se,E,j),oe=Ce.toString(16),he=r.util.createBuffer(),ve=de-Math.ceil(oe.length/2);ve>0;)he.putByte(0),--ve;return he.putBytes(r.util.hexToBytes(oe)),ie!==!1?P(he.getBytes(),E,j):he.getBytes()},m.rsa.createKeyPairGenerationState=function(I,E,j){typeof I=="string"&&(I=parseInt(I,10)),I=I||2048,j=j||{};var ie=j.prng||r.random,de={nextBytes:function(Ce){for(var oe=ie.getBytesSync(Ce.length),he=0;he<Ce.length;++he)Ce[he]=oe.charCodeAt(he)}},ee=j.algorithm||"PRIMEINC",se;if(ee==="PRIMEINC")se={algorithm:ee,state:0,bits:I,rng:de,eInt:E||65537,e:new a(null),p:null,q:null,qBits:I>>1,pBits:I-(I>>1),pqState:0,num:null,keys:null},se.e.fromInt(se.eInt);else throw new Error("Invalid key generation algorithm: "+ee);return se},m.rsa.stepKeyPairGenerationState=function(I,E){"algorithm"in I||(I.algorithm="PRIMEINC");var j=new a(null);j.fromInt(30);for(var ie=0,de=function(ke,Ue){return ke|Ue},ee=+new Date,se,Ce=0;I.keys===null&&(E<=0||Ce<E);){if(I.state===0){var oe=I.p===null?I.pBits:I.qBits,he=oe-1;I.pqState===0?(I.num=new a(oe,I.rng),I.num.testBit(he)||I.num.bitwiseTo(a.ONE.shiftLeft(he),de,I.num),I.num.dAddOffset(31-I.num.mod(j).byteValue(),0),ie=0,++I.pqState):I.pqState===1?I.num.bitLength()>oe?I.pqState=0:I.num.isProbablePrime(F(I.num.bitLength()))?++I.pqState:I.num.dAddOffset(A[ie++%8],0):I.pqState===2?I.pqState=I.num.subtract(a.ONE).gcd(I.e).compareTo(a.ONE)===0?3:0:I.pqState===3&&(I.pqState=0,I.p===null?I.p=I.num:I.q=I.num,I.p!==null&&I.q!==null&&++I.state,I.num=null)}else if(I.state===1)I.p.compareTo(I.q)<0&&(I.num=I.p,I.p=I.q,I.q=I.num),++I.state;else if(I.state===2)I.p1=I.p.subtract(a.ONE),I.q1=I.q.subtract(a.ONE),I.phi=I.p1.multiply(I.q1),++I.state;else if(I.state===3)I.phi.gcd(I.e).compareTo(a.ONE)===0?++I.state:(I.p=null,I.q=null,I.state=0);else if(I.state===4)I.n=I.p.multiply(I.q),I.n.bitLength()===I.bits?++I.state:(I.q=null,I.state=0);else if(I.state===5){var ve=I.e.modInverse(I.phi);I.keys={privateKey:m.rsa.setPrivateKey(I.n,I.e,ve,I.p,I.q,ve.mod(I.p1),ve.mod(I.q1),I.q.modInverse(I.p)),publicKey:m.rsa.setPublicKey(I.n,I.e)}}se=+new Date,Ce+=se-ee,ee=se}return I.keys!==null},m.rsa.generateKeyPair=function(I,E,j,ie){if(arguments.length===1?typeof I=="object"?(j=I,I=void 0):typeof I=="function"&&(ie=I,I=void 0):arguments.length===2?typeof I=="number"?typeof E=="function"?(ie=E,E=void 0):typeof E!="number"&&(j=E,E=void 0):(j=I,ie=E,I=void 0,E=void 0):arguments.length===3&&(typeof E=="number"?typeof j=="function"&&(ie=j,j=void 0):(ie=j,j=E,E=void 0)),j=j||{},I===void 0&&(I=j.bits||2048),E===void 0&&(E=j.e||65537),!r.options.usePureJavaScript&&!j.prng&&I>=256&&I<=16384&&(E===65537||E===3)){if(ie){if(U("generateKeyPair"))return s.generateKeyPair("rsa",{modulusLength:I,publicExponent:E,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Ce,oe,he){if(Ce)return ie(Ce);ie(null,{privateKey:m.privateKeyFromPem(he),publicKey:m.publicKeyFromPem(oe)})});if(K("generateKey")&&K("exportKey"))return v.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:M(E),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Ce){return v.globalScope.crypto.subtle.exportKey("pkcs8",Ce.privateKey)}).then(void 0,function(Ce){ie(Ce)}).then(function(Ce){if(Ce){var oe=m.privateKeyFromAsn1(f.fromDer(r.util.createBuffer(Ce)));ie(null,{privateKey:oe,publicKey:m.setRsaPublicKey(oe.n,oe.e)})}});if(X("generateKey")&&X("exportKey")){var de=v.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:M(E),hash:{name:"SHA-256"}},!0,["sign","verify"]);de.oncomplete=function(Ce){var oe=Ce.target.result,he=v.globalScope.msCrypto.subtle.exportKey("pkcs8",oe.privateKey);he.oncomplete=function(ve){var ke=ve.target.result,Ue=m.privateKeyFromAsn1(f.fromDer(r.util.createBuffer(ke)));ie(null,{privateKey:Ue,publicKey:m.setRsaPublicKey(Ue.n,Ue.e)})},he.onerror=function(ve){ie(ve)}},de.onerror=function(Ce){ie(Ce)};return}}else if(U("generateKeyPairSync")){var ee=s.generateKeyPairSync("rsa",{modulusLength:I,publicExponent:E,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:m.privateKeyFromPem(ee.privateKey),publicKey:m.publicKeyFromPem(ee.publicKey)}}}var se=m.rsa.createKeyPairGenerationState(I,E,j);if(!ie)return m.rsa.stepKeyPairGenerationState(se,0),se.keys;H(se,j,ie)},m.setRsaPublicKey=m.rsa.setPublicKey=function(I,E){var j={n:I,e:E};return j.encrypt=function(ie,de,ee){if(typeof de=="string"?de=de.toUpperCase():de===void 0&&(de="RSAES-PKCS1-V1_5"),de==="RSAES-PKCS1-V1_5")de={encode:function(Ce,oe,he){return V(Ce,oe,2).getBytes()}};else if(de==="RSA-OAEP"||de==="RSAES-OAEP")de={encode:function(Ce,oe){return r.pkcs1.encode_rsa_oaep(oe,Ce,ee)}};else if(["RAW","NONE","NULL",null].indexOf(de)!==-1)de={encode:function(Ce){return Ce}};else if(typeof de=="string")throw new Error('Unsupported encryption scheme: "'+de+'".');var se=de.encode(ie,j,!0);return m.rsa.encrypt(se,j,!0)},j.verify=function(ie,de,ee,se){typeof ee=="string"?ee=ee.toUpperCase():ee===void 0&&(ee="RSASSA-PKCS1-V1_5"),se===void 0&&(se={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in se||(se._parseAllDigestBytes=!0),ee==="RSASSA-PKCS1-V1_5"?ee={verify:function(oe,he){he=P(he,j,!0);var ve=f.fromDer(he,{parseAllBytes:se._parseAllDigestBytes}),ke={},Ue=[];if(!f.validate(ve,R,ke,Ue)){var Me=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw Me.errors=Ue,Me}var Ae=f.derToOid(ke.algorithmIdentifier);if(!(Ae===r.oids.md2||Ae===r.oids.md5||Ae===r.oids.sha1||Ae===r.oids.sha224||Ae===r.oids.sha256||Ae===r.oids.sha384||Ae===r.oids.sha512||Ae===r.oids["sha512-224"]||Ae===r.oids["sha512-256"])){var Me=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw Me.oid=Ae,Me}if((Ae===r.oids.md2||Ae===r.oids.md5)&&!("parameters"in ke))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifier NULL parameters.");return oe===ke.digest}}:(ee==="NONE"||ee==="NULL"||ee===null)&&(ee={verify:function(oe,he){return he=P(he,j,!0),oe===he}});var Ce=m.rsa.decrypt(de,j,!0,!1);return ee.verify(ie,Ce,j.n.bitLength())},j},m.setRsaPrivateKey=m.rsa.setPrivateKey=function(I,E,j,ie,de,ee,se,Ce){var oe={n:I,e:E,d:j,p:ie,q:de,dP:ee,dQ:se,qInv:Ce};return oe.decrypt=function(he,ve,ke){typeof ve=="string"?ve=ve.toUpperCase():ve===void 0&&(ve="RSAES-PKCS1-V1_5");var Ue=m.rsa.decrypt(he,oe,!1,!1);if(ve==="RSAES-PKCS1-V1_5")ve={decode:P};else if(ve==="RSA-OAEP"||ve==="RSAES-OAEP")ve={decode:function(Me,Ae){return r.pkcs1.decode_rsa_oaep(Ae,Me,ke)}};else if(["RAW","NONE","NULL",null].indexOf(ve)!==-1)ve={decode:function(Me){return Me}};else throw new Error('Unsupported encryption scheme: "'+ve+'".');return ve.decode(Ue,oe,!1)},oe.sign=function(he,ve){var ke=!1;typeof ve=="string"&&(ve=ve.toUpperCase()),ve===void 0||ve==="RSASSA-PKCS1-V1_5"?(ve={encode:L},ke=1):(ve==="NONE"||ve==="NULL"||ve===null)&&(ve={encode:function(){return he}},ke=1);var Ue=ve.encode(he,oe.n.bitLength());return m.rsa.encrypt(Ue,oe,ke)},oe},m.wrapRsaPrivateKey=function(I){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(m.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,f.toDer(I).getBytes())])},m.privateKeyFromAsn1=function(I){var E={},j=[];if(f.validate(I,p,E,j)&&(I=f.fromDer(r.util.createBuffer(E.privateKey))),E={},j=[],!f.validate(I,w,E,j)){var ie=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw ie.errors=j,ie}var de,ee,se,Ce,oe,he,ve,ke;return de=r.util.createBuffer(E.privateKeyModulus).toHex(),ee=r.util.createBuffer(E.privateKeyPublicExponent).toHex(),se=r.util.createBuffer(E.privateKeyPrivateExponent).toHex(),Ce=r.util.createBuffer(E.privateKeyPrime1).toHex(),oe=r.util.createBuffer(E.privateKeyPrime2).toHex(),he=r.util.createBuffer(E.privateKeyExponent1).toHex(),ve=r.util.createBuffer(E.privateKeyExponent2).toHex(),ke=r.util.createBuffer(E.privateKeyCoefficient).toHex(),m.setRsaPrivateKey(new a(de,16),new a(ee,16),new a(se,16),new a(Ce,16),new a(oe,16),new a(he,16),new a(ve,16),new a(ke,16))},m.privateKeyToAsn1=m.privateKeyToRSAPrivateKey=function(I){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.e)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.d)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.p)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.q)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.dP)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.dQ)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.qInv))])},m.publicKeyFromAsn1=function(I){var E={},j=[];if(f.validate(I,D,E,j)){var ie=f.derToOid(E.publicKeyOid);if(ie!==m.oids.rsaEncryption){var de=new Error("Cannot read public key. Unknown OID.");throw de.oid=ie,de}I=E.rsaPublicKey}if(j=[],!f.validate(I,C,E,j)){var de=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw de.errors=j,de}var ee=r.util.createBuffer(E.publicKeyModulus).toHex(),se=r.util.createBuffer(E.publicKeyExponent).toHex();return m.setRsaPublicKey(new a(ee,16),new a(se,16))},m.publicKeyToAsn1=m.publicKeyToSubjectPublicKeyInfo=function(I){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(m.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,[m.publicKeyToRSAPublicKey(I)])])},m.publicKeyToRSAPublicKey=function(I){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,T(I.e))])};function V(I,E,j){var ie=r.util.createBuffer(),de=Math.ceil(E.n.bitLength()/8);if(I.length>de-11){var ee=new Error("Message is too long for PKCS#1 v1.5 padding.");throw ee.length=I.length,ee.max=de-11,ee}ie.putByte(0),ie.putByte(j);var se=de-3-I.length,Ce;if(j===0||j===1){Ce=j===0?0:255;for(var oe=0;oe<se;++oe)ie.putByte(Ce)}else for(;se>0;){for(var he=0,ve=r.random.getBytes(se),oe=0;oe<se;++oe)Ce=ve.charCodeAt(oe),Ce===0?++he:ie.putByte(Ce);se=he}return ie.putByte(0),ie.putBytes(I),ie}function P(I,E,j,ie){var de=Math.ceil(E.n.bitLength()/8),ee=r.util.createBuffer(I),se=ee.getByte(),Ce=ee.getByte();if(se!==0||j&&Ce!==0&&Ce!==1||!j&&Ce!=2||j&&Ce===0&&typeof ie>"u")throw new Error("Encryption block is invalid.");var oe=0;if(Ce===0){oe=de-3-ie;for(var he=0;he<oe;++he)if(ee.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(Ce===1)for(oe=0;ee.length()>1;){if(ee.getByte()!==255){--ee.read;break}++oe}else if(Ce===2)for(oe=0;ee.length()>1;){if(ee.getByte()===0){--ee.read;break}++oe}var ve=ee.getByte();if(ve!==0||oe!==de-3-ee.length())throw new Error("Encryption block is invalid.");return ee.getBytes()}function H(I,E,j){typeof E=="function"&&(j=E,E={}),E=E||{};var ie={algorithm:{name:E.algorithm||"PRIMEINC",options:{workers:E.workers||2,workLoad:E.workLoad||100,workerScript:E.workerScript}}};"prng"in E&&(ie.prng=E.prng),de();function de(){ee(I.pBits,function(Ce,oe){if(Ce)return j(Ce);if(I.p=oe,I.q!==null)return se(Ce,I.q);ee(I.qBits,se)})}function ee(Ce,oe){r.prime.generateProbablePrime(Ce,ie,oe)}function se(Ce,oe){if(Ce)return j(Ce);if(I.q=oe,I.p.compareTo(I.q)<0){var he=I.p;I.p=I.q,I.q=he}if(I.p.subtract(a.ONE).gcd(I.e).compareTo(a.ONE)!==0){I.p=null,de();return}if(I.q.subtract(a.ONE).gcd(I.e).compareTo(a.ONE)!==0){I.q=null,ee(I.qBits,se);return}if(I.p1=I.p.subtract(a.ONE),I.q1=I.q.subtract(a.ONE),I.phi=I.p1.multiply(I.q1),I.phi.gcd(I.e).compareTo(a.ONE)!==0){I.p=I.q=null,de();return}if(I.n=I.p.multiply(I.q),I.n.bitLength()!==I.bits){I.q=null,ee(I.qBits,se);return}var ve=I.e.modInverse(I.phi);I.keys={privateKey:m.rsa.setPrivateKey(I.n,I.e,ve,I.p,I.q,ve.mod(I.p1),ve.mod(I.q1),I.q.modInverse(I.p)),publicKey:m.rsa.setPublicKey(I.n,I.e)},j(null,I.keys)}}function T(I){var E=I.toString(16);E[0]>="8"&&(E="00"+E);var j=r.util.hexToBytes(E);return j.length>1&&(j.charCodeAt(0)===0&&(j.charCodeAt(1)&128)===0||j.charCodeAt(0)===255&&(j.charCodeAt(1)&128)===128)?j.substr(1):j}function F(I){return I<=100?27:I<=150?18:I<=200?15:I<=250?12:I<=300?9:I<=350?8:I<=400?7:I<=500?6:I<=600?5:I<=800?4:I<=1250?3:2}function U(I){return r.util.isNodejs&&typeof s[I]=="function"}function K(I){return typeof v.globalScope<"u"&&typeof v.globalScope.crypto=="object"&&typeof v.globalScope.crypto.subtle=="object"&&typeof v.globalScope.crypto.subtle[I]=="function"}function X(I){return typeof v.globalScope<"u"&&typeof v.globalScope.msCrypto=="object"&&typeof v.globalScope.msCrypto.subtle=="object"&&typeof v.globalScope.msCrypto.subtle[I]=="function"}function M(I){for(var E=r.util.hexToBytes(I.toString(16)),j=new Uint8Array(E.length),ie=0;ie<E.length;++ie)j[ie]=E.charCodeAt(ie);return j}return Kd}var zd,om;function q2(){if(om)return zd;om=1;var r=Nn();if(Oo(),Pi(),hf(),ys(),ko(),zh(),Tl(),Ai(),j2(),pf(),Xn(),typeof a>"u")var a=r.jsbn.BigInteger;var s=r.asn1,f=r.pki=r.pki||{};zd=f.pbe=r.pbe=r.pbe||{};var v=f.oids,m={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},A={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},p={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};f.encryptPrivateKeyInfo=function(L,_,V){V=V||{},V.saltSize=V.saltSize||8,V.count=V.count||2048,V.algorithm=V.algorithm||"aes128",V.prfAlgorithm=V.prfAlgorithm||"sha1";var P=r.random.getBytesSync(V.saltSize),H=V.count,T=s.integerToDer(H),F,U,K;if(V.algorithm.indexOf("aes")===0||V.algorithm==="des"){var X,M,I;switch(V.algorithm){case"aes128":F=16,X=16,M=v["aes128-CBC"],I=r.aes.createEncryptionCipher;break;case"aes192":F=24,X=16,M=v["aes192-CBC"],I=r.aes.createEncryptionCipher;break;case"aes256":F=32,X=16,M=v["aes256-CBC"],I=r.aes.createEncryptionCipher;break;case"des":F=8,X=8,M=v.desCBC,I=r.des.createEncryptionCipher;break;default:var E=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw E.algorithm=V.algorithm,E}var j="hmacWith"+V.prfAlgorithm.toUpperCase(),ie=D(j),de=r.pkcs5.pbkdf2(_,P,H,F,ie),ee=r.random.getBytesSync(X),se=I(de);se.start(ee),se.update(s.toDer(L)),se.finish(),K=se.output.getBytes();var Ce=R(P,T,F,j);U=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(v.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(v.pkcs5PBKDF2).getBytes()),Ce]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(M).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,ee)])])])}else if(V.algorithm==="3des"){F=24;var oe=new r.util.ByteBuffer(P),de=f.pbe.generatePkcs12Key(_,oe,1,H,F),ee=f.pbe.generatePkcs12Key(_,oe,2,H,F),se=r.des.createEncryptionCipher(de);se.start(ee),se.update(s.toDer(L)),se.finish(),K=se.output.getBytes(),U=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(v["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,P),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,T.getBytes())])])}else{var E=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw E.algorithm=V.algorithm,E}var he=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[U,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,K)]);return he},f.decryptPrivateKeyInfo=function(L,_){var V=null,P={},H=[];if(!s.validate(L,m,P,H)){var T=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw T.errors=H,T}var F=s.derToOid(P.encryptionOid),U=f.pbe.getCipher(F,P.encryptionParams,_),K=r.util.createBuffer(P.encryptedData);return U.update(K),U.finish()&&(V=s.fromDer(U.output)),V},f.encryptedPrivateKeyToPem=function(L,_){var V={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(L).getBytes()};return r.pem.encode(V,{maxline:_})},f.encryptedPrivateKeyFromPem=function(L){var _=r.pem.decode(L)[0];if(_.type!=="ENCRYPTED PRIVATE KEY"){var V=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw V.headerType=_.type,V}if(_.procType&&_.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(_.body)},f.encryptRsaPrivateKey=function(L,_,V){if(V=V||{},!V.legacy){var P=f.wrapRsaPrivateKey(f.privateKeyToAsn1(L));return P=f.encryptPrivateKeyInfo(P,_,V),f.encryptedPrivateKeyToPem(P)}var H,T,F,U;switch(V.algorithm){case"aes128":H="AES-128-CBC",F=16,T=r.random.getBytesSync(16),U=r.aes.createEncryptionCipher;break;case"aes192":H="AES-192-CBC",F=24,T=r.random.getBytesSync(16),U=r.aes.createEncryptionCipher;break;case"aes256":H="AES-256-CBC",F=32,T=r.random.getBytesSync(16),U=r.aes.createEncryptionCipher;break;case"3des":H="DES-EDE3-CBC",F=24,T=r.random.getBytesSync(8),U=r.des.createEncryptionCipher;break;case"des":H="DES-CBC",F=8,T=r.random.getBytesSync(8),U=r.des.createEncryptionCipher;break;default:var K=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+V.algorithm+'".');throw K.algorithm=V.algorithm,K}var X=r.pbe.opensslDeriveBytes(_,T.substr(0,8),F),M=U(X);M.start(T),M.update(s.toDer(f.privateKeyToAsn1(L))),M.finish();var I={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:H,parameters:r.util.bytesToHex(T).toUpperCase()},body:M.output.getBytes()};return r.pem.encode(I)},f.decryptRsaPrivateKey=function(L,_){var V=null,P=r.pem.decode(L)[0];if(P.type!=="ENCRYPTED PRIVATE KEY"&&P.type!=="PRIVATE KEY"&&P.type!=="RSA PRIVATE KEY"){var H=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw H.headerType=H,H}if(P.procType&&P.procType.type==="ENCRYPTED"){var T,F;switch(P.dekInfo.algorithm){case"DES-CBC":T=8,F=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":T=24,F=r.des.createDecryptionCipher;break;case"AES-128-CBC":T=16,F=r.aes.createDecryptionCipher;break;case"AES-192-CBC":T=24,F=r.aes.createDecryptionCipher;break;case"AES-256-CBC":T=32,F=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":T=5,F=function(I){return r.rc2.createDecryptionCipher(I,40)};break;case"RC2-64-CBC":T=8,F=function(I){return r.rc2.createDecryptionCipher(I,64)};break;case"RC2-128-CBC":T=16,F=function(I){return r.rc2.createDecryptionCipher(I,128)};break;default:var H=new Error('Could not decrypt private key; unsupported encryption algorithm "'+P.dekInfo.algorithm+'".');throw H.algorithm=P.dekInfo.algorithm,H}var U=r.util.hexToBytes(P.dekInfo.parameters),K=r.pbe.opensslDeriveBytes(_,U.substr(0,8),T),X=F(K);if(X.start(U),X.update(r.util.createBuffer(P.body)),X.finish())V=X.output.getBytes();else return V}else V=P.body;return P.type==="ENCRYPTED PRIVATE KEY"?V=f.decryptPrivateKeyInfo(s.fromDer(V),_):V=s.fromDer(V),V!==null&&(V=f.privateKeyFromAsn1(V)),V},f.pbe.generatePkcs12Key=function(L,_,V,P,H,T){var F,U;if(typeof T>"u"||T===null){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');T=r.md.sha1.create()}var K=T.digestLength,X=T.blockLength,M=new r.util.ByteBuffer,I=new r.util.ByteBuffer;if(L!=null){for(U=0;U<L.length;U++)I.putInt16(L.charCodeAt(U));I.putInt16(0)}var E=I.length(),j=_.length(),ie=new r.util.ByteBuffer;ie.fillWithByte(V,X);var de=X*Math.ceil(j/X),ee=new r.util.ByteBuffer;for(U=0;U<de;U++)ee.putByte(_.at(U%j));var se=X*Math.ceil(E/X),Ce=new r.util.ByteBuffer;for(U=0;U<se;U++)Ce.putByte(I.at(U%E));var oe=ee;oe.putBuffer(Ce);for(var he=Math.ceil(H/K),ve=1;ve<=he;ve++){var ke=new r.util.ByteBuffer;ke.putBytes(ie.bytes()),ke.putBytes(oe.bytes());for(var Ue=0;Ue<P;Ue++)T.start(),T.update(ke.getBytes()),ke=T.digest();var Me=new r.util.ByteBuffer;for(U=0;U<X;U++)Me.putByte(ke.at(U%K));var Ae=Math.ceil(j/X)+Math.ceil(E/X),Se=new r.util.ByteBuffer;for(F=0;F<Ae;F++){var ze=new r.util.ByteBuffer(oe.getBytes(X)),_e=511;for(U=Me.length()-1;U>=0;U--)_e=_e>>8,_e+=Me.at(U)+ze.at(U),ze.setAt(U,_e&255);Se.putBuffer(ze)}oe=Se,M.putBuffer(ke)}return M.truncate(M.length()-H),M},f.pbe.getCipher=function(L,_,V){switch(L){case f.oids.pkcs5PBES2:return f.pbe.getCipherForPBES2(L,_,V);case f.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case f.oids["pbewithSHAAnd40BitRC2-CBC"]:return f.pbe.getCipherForPKCS12PBE(L,_,V);default:var P=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw P.oid=L,P.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],P}},f.pbe.getCipherForPBES2=function(L,_,V){var P={},H=[];if(!s.validate(_,A,P,H)){var T=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw T.errors=H,T}if(L=s.derToOid(P.kdfOid),L!==f.oids.pkcs5PBKDF2){var T=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw T.oid=L,T.supportedOids=["pkcs5PBKDF2"],T}if(L=s.derToOid(P.encOid),L!==f.oids["aes128-CBC"]&&L!==f.oids["aes192-CBC"]&&L!==f.oids["aes256-CBC"]&&L!==f.oids["des-EDE3-CBC"]&&L!==f.oids.desCBC){var T=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw T.oid=L,T.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],T}var F=P.kdfSalt,U=r.util.createBuffer(P.kdfIterationCount);U=U.getInt(U.length()<<3);var K,X;switch(f.oids[L]){case"aes128-CBC":K=16,X=r.aes.createDecryptionCipher;break;case"aes192-CBC":K=24,X=r.aes.createDecryptionCipher;break;case"aes256-CBC":K=32,X=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":K=24,X=r.des.createDecryptionCipher;break;case"desCBC":K=8,X=r.des.createDecryptionCipher;break}var M=C(P.prfOid),I=r.pkcs5.pbkdf2(V,F,U,K,M),E=P.encIv,j=X(I);return j.start(E),j},f.pbe.getCipherForPKCS12PBE=function(L,_,V){var P={},H=[];if(!s.validate(_,p,P,H)){var T=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw T.errors=H,T}var F=r.util.createBuffer(P.salt),U=r.util.createBuffer(P.iterations);U=U.getInt(U.length()<<3);var K,X,M;switch(L){case f.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:K=24,X=8,M=r.des.startDecrypting;break;case f.oids["pbewithSHAAnd40BitRC2-CBC"]:K=5,X=8,M=function(de,ee){var se=r.rc2.createDecryptionCipher(de,40);return se.start(ee,null),se};break;default:var T=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw T.oid=L,T}var I=C(P.prfOid),E=f.pbe.generatePkcs12Key(V,F,1,U,K,I);I.start();var j=f.pbe.generatePkcs12Key(V,F,2,U,X,I);return M(E,j)},f.pbe.opensslDeriveBytes=function(L,_,V,P){if(typeof P>"u"||P===null){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');P=r.md.md5.create()}_===null&&(_="");for(var H=[w(P,L+_)],T=16,F=1;T<V;++F,T+=16)H.push(w(P,H[F-1]+L+_));return H.join("").substr(0,V)};function w(L,_){return L.start().update(_).digest().getBytes()}function C(L){var _;if(!L)_="hmacWithSHA1";else if(_=f.oids[s.derToOid(L)],!_){var V=new Error("Unsupported PRF OID.");throw V.oid=L,V.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],V}return D(_)}function D(L){var _=r.md;switch(L){case"hmacWithSHA224":_=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":L=L.substr(8).toLowerCase();break;default:var V=new Error("Unsupported PRF algorithm.");throw V.algorithm=L,V.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],V}if(!_||!(L in _))throw new Error("Unknown hash algorithm: "+L);return _[L].create()}function R(L,_,V,P){var H=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,L),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,_.getBytes())]);return P!=="hmacWithSHA1"&&H.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,r.util.hexToBytes(V.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(f.oids[P]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])),H}return zd}var qd={exports:{}},Yd={exports:{}},lm;function Y2(){if(lm)return Yd.exports;lm=1;var r=Nn();Pi(),Xn();var a=r.asn1,s=Yd.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=s;var f={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=f;var v={name:"EncryptedContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(v)},s.encryptedDataValidator={name:"EncryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"}].concat(v)};var m={name:"SignerInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};return s.signedDataValidator={name:"SignedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},f,{name:"SignedData.Certificates",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,capture:"signerInfos",optional:!0,value:[m]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]},Yd.exports}var Xd={exports:{}},Zd={exports:{}},cm;function X2(){if(cm)return Zd.exports;cm=1;var r=Nn();Xn(),r.mgf=r.mgf||{};var a=Zd.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{};return a.create=function(s){var f={generate:function(v,m){for(var A=new r.util.ByteBuffer,p=Math.ceil(m/s.digestLength),w=0;w<p;w++){var C=new r.util.ByteBuffer;C.putInt32(w),s.start(),s.update(v+C.getBytes()),A.putBuffer(s.digest())}return A.truncate(A.length()-m),A.getBytes()}};return f},Zd.exports}var Wd,um;function Zb(){if(um)return Wd;um=1;var r=Nn();return X2(),Wd=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1,Wd}var Jd={exports:{}},fm;function qh(){if(fm)return Jd.exports;fm=1;var r=Nn();Ai(),Xn();var a=Jd.exports=r.pss=r.pss||{};return a.create=function(s){arguments.length===3&&(s={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var f=s.md,v=s.mgf,m=f.digestLength,A=s.salt||null;typeof A=="string"&&(A=r.util.createBuffer(A));var p;if("saltLength"in s)p=s.saltLength;else if(A!==null)p=A.length();else throw new Error("Salt length not specified or specific salt not given.");if(A!==null&&A.length()!==p)throw new Error("Given salt length does not match length of given salt.");var w=s.prng||r.random,C={};return C.encode=function(D,R){var L,_=R-1,V=Math.ceil(_/8),P=D.digest().getBytes();if(V<m+p+2)throw new Error("Message is too long to encrypt.");var H;A===null?H=w.getBytesSync(p):H=A.bytes();var T=new r.util.ByteBuffer;T.fillWithByte(0,8),T.putBytes(P),T.putBytes(H),f.start(),f.update(T.getBytes());var F=f.digest().getBytes(),U=new r.util.ByteBuffer;U.fillWithByte(0,V-p-m-2),U.putByte(1),U.putBytes(H);var K=U.getBytes(),X=V-m-1,M=v.generate(F,X),I="";for(L=0;L<X;L++)I+=String.fromCharCode(K.charCodeAt(L)^M.charCodeAt(L));var E=65280>>8*V-_&255;return I=String.fromCharCode(I.charCodeAt(0)&~E)+I.substr(1),I+F+""},C.verify=function(D,R,L){var _,V=L-1,P=Math.ceil(V/8);if(R=R.substr(-P),P<m+p+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(R.charCodeAt(P-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var H=P-m-1,T=R.substr(0,H),F=R.substr(H,m),U=65280>>8*P-V&255;if((T.charCodeAt(0)&U)!==0)throw new Error("Bits beyond keysize not zero as expected.");var K=v.generate(F,H),X="";for(_=0;_<H;_++)X+=String.fromCharCode(T.charCodeAt(_)^K.charCodeAt(_));X=String.fromCharCode(X.charCodeAt(0)&~U)+X.substr(1);var M=P-m-p-2;for(_=0;_<M;_++)if(X.charCodeAt(_)!==0)throw new Error("Leftmost octets not zero as expected");if(X.charCodeAt(M)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var I=X.substr(-p),E=new r.util.ByteBuffer;E.fillWithByte(0,8),E.putBytes(D),E.putBytes(I),f.start(),f.update(E.getBytes());var j=f.digest().getBytes();return F===j},C},Jd.exports}var dm;function Yh(){if(dm)return Xd.exports;dm=1;var r=Nn();Oo(),Pi(),hf(),ys(),Zb(),ko(),Tl(),qh(),pf(),Xn();var a=r.asn1,s=Xd.exports=r.pki=r.pki||{},f=s.oids,v={};v.CN=f.commonName,v.commonName="CN",v.C=f.countryName,v.countryName="C",v.L=f.localityName,v.localityName="L",v.ST=f.stateOrProvinceName,v.stateOrProvinceName="ST",v.O=f.organizationName,v.organizationName="O",v.OU=f.organizationalUnitName,v.organizationalUnitName="OU",v.E=f.emailAddress,v.emailAddress="E";var m=r.pki.rsa.publicKeyValidator,A={name:"Certificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},m,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},p={name:"rsapss",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},w={name:"CertificationRequestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},m,{name:"CertificationRequestInfo.attributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0}]}]}]},C={name:"CertificationRequest",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[w,{name:"CertificationRequest.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};s.RDNAttributesAsArray=function(M,I){for(var E=[],j,ie,de,ee=0;ee<M.value.length;++ee){j=M.value[ee];for(var se=0;se<j.value.length;++se)de={},ie=j.value[se],de.type=a.derToOid(ie.value[0].value),de.value=ie.value[1].value,de.valueTagClass=ie.value[1].type,de.type in f&&(de.name=f[de.type],de.name in v&&(de.shortName=v[de.name])),I&&(I.update(de.type),I.update(de.value)),E.push(de)}return E},s.CRIAttributesAsArray=function(M){for(var I=[],E=0;E<M.length;++E)for(var j=M[E],ie=a.derToOid(j.value[0].value),de=j.value[1].value,ee=0;ee<de.length;++ee){var se={};if(se.type=ie,se.value=de[ee].value,se.valueTagClass=de[ee].type,se.type in f&&(se.name=f[se.type],se.name in v&&(se.shortName=v[se.name])),se.type===f.extensionRequest){se.extensions=[];for(var Ce=0;Ce<se.value.length;++Ce)se.extensions.push(s.certificateExtensionFromAsn1(se.value[Ce]))}I.push(se)}return I};function D(M,I){typeof I=="string"&&(I={shortName:I});for(var E=null,j,ie=0;E===null&&ie<M.attributes.length;++ie)j=M.attributes[ie],(I.type&&I.type===j.type||I.name&&I.name===j.name||I.shortName&&I.shortName===j.shortName)&&(E=j);return E}var R=function(M,I,E){var j={};if(M!==f["RSASSA-PSS"])return j;E&&(j={hash:{algorithmOid:f.sha1},mgf:{algorithmOid:f.mgf1,hash:{algorithmOid:f.sha1}},saltLength:20});var ie={},de=[];if(!a.validate(I,p,ie,de)){var ee=new Error("Cannot read RSASSA-PSS parameter block.");throw ee.errors=de,ee}return ie.hashOid!==void 0&&(j.hash=j.hash||{},j.hash.algorithmOid=a.derToOid(ie.hashOid)),ie.maskGenOid!==void 0&&(j.mgf=j.mgf||{},j.mgf.algorithmOid=a.derToOid(ie.maskGenOid),j.mgf.hash=j.mgf.hash||{},j.mgf.hash.algorithmOid=a.derToOid(ie.maskGenHashOid)),ie.saltLength!==void 0&&(j.saltLength=ie.saltLength.charCodeAt(0)),j},L=function(M){switch(f[M.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return r.md.sha1.create();case"md5WithRSAEncryption":return r.md.md5.create();case"sha256WithRSAEncryption":return r.md.sha256.create();case"sha384WithRSAEncryption":return r.md.sha384.create();case"sha512WithRSAEncryption":return r.md.sha512.create();case"RSASSA-PSS":return r.md.sha256.create();default:var I=new Error("Could not compute "+M.type+" digest. Unknown signature OID.");throw I.signatureOid=M.signatureOid,I}},_=function(M){var I=M.certificate,E;switch(I.signatureOid){case f.sha1WithRSAEncryption:case f.sha1WithRSASignature:break;case f["RSASSA-PSS"]:var j,ie;if(j=f[I.signatureParameters.mgf.hash.algorithmOid],j===void 0||r.md[j]===void 0){var de=new Error("Unsupported MGF hash function.");throw de.oid=I.signatureParameters.mgf.hash.algorithmOid,de.name=j,de}if(ie=f[I.signatureParameters.mgf.algorithmOid],ie===void 0||r.mgf[ie]===void 0){var de=new Error("Unsupported MGF function.");throw de.oid=I.signatureParameters.mgf.algorithmOid,de.name=ie,de}if(ie=r.mgf[ie].create(r.md[j].create()),j=f[I.signatureParameters.hash.algorithmOid],j===void 0||r.md[j]===void 0){var de=new Error("Unsupported RSASSA-PSS hash function.");throw de.oid=I.signatureParameters.hash.algorithmOid,de.name=j,de}E=r.pss.create(r.md[j].create(),ie,I.signatureParameters.saltLength);break}return I.publicKey.verify(M.md.digest().getBytes(),M.signature,E)};s.certificateFromPem=function(M,I,E){var j=r.pem.decode(M)[0];if(j.type!=="CERTIFICATE"&&j.type!=="X509 CERTIFICATE"&&j.type!=="TRUSTED CERTIFICATE"){var ie=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw ie.headerType=j.type,ie}if(j.procType&&j.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var de=a.fromDer(j.body,E);return s.certificateFromAsn1(de,I)},s.certificateToPem=function(M,I){var E={type:"CERTIFICATE",body:a.toDer(s.certificateToAsn1(M)).getBytes()};return r.pem.encode(E,{maxline:I})},s.publicKeyFromPem=function(M){var I=r.pem.decode(M)[0];if(I.type!=="PUBLIC KEY"&&I.type!=="RSA PUBLIC KEY"){var E=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw E.headerType=I.type,E}if(I.procType&&I.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var j=a.fromDer(I.body);return s.publicKeyFromAsn1(j)},s.publicKeyToPem=function(M,I){var E={type:"PUBLIC KEY",body:a.toDer(s.publicKeyToAsn1(M)).getBytes()};return r.pem.encode(E,{maxline:I})},s.publicKeyToRSAPublicKeyPem=function(M,I){var E={type:"RSA PUBLIC KEY",body:a.toDer(s.publicKeyToRSAPublicKey(M)).getBytes()};return r.pem.encode(E,{maxline:I})},s.getPublicKeyFingerprint=function(M,I){I=I||{};var E=I.md||r.md.sha1.create(),j=I.type||"RSAPublicKey",ie;switch(j){case"RSAPublicKey":ie=a.toDer(s.publicKeyToRSAPublicKey(M)).getBytes();break;case"SubjectPublicKeyInfo":ie=a.toDer(s.publicKeyToAsn1(M)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+I.type+'".')}E.start(),E.update(ie);var de=E.digest();if(I.encoding==="hex"){var ee=de.toHex();return I.delimiter?ee.match(/.{2}/g).join(I.delimiter):ee}else{if(I.encoding==="binary")return de.getBytes();if(I.encoding)throw new Error('Unknown encoding "'+I.encoding+'".')}return de},s.certificationRequestFromPem=function(M,I,E){var j=r.pem.decode(M)[0];if(j.type!=="CERTIFICATE REQUEST"){var ie=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw ie.headerType=j.type,ie}if(j.procType&&j.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var de=a.fromDer(j.body,E);return s.certificationRequestFromAsn1(de,I)},s.certificationRequestToPem=function(M,I){var E={type:"CERTIFICATE REQUEST",body:a.toDer(s.certificationRequestToAsn1(M)).getBytes()};return r.pem.encode(E,{maxline:I})},s.createCertificate=function(){var M={};return M.version=2,M.serialNumber="00",M.signatureOid=null,M.signature=null,M.siginfo={},M.siginfo.algorithmOid=null,M.validity={},M.validity.notBefore=new Date,M.validity.notAfter=new Date,M.issuer={},M.issuer.getField=function(I){return D(M.issuer,I)},M.issuer.addField=function(I){P([I]),M.issuer.attributes.push(I)},M.issuer.attributes=[],M.issuer.hash=null,M.subject={},M.subject.getField=function(I){return D(M.subject,I)},M.subject.addField=function(I){P([I]),M.subject.attributes.push(I)},M.subject.attributes=[],M.subject.hash=null,M.extensions=[],M.publicKey=null,M.md=null,M.setSubject=function(I,E){P(I),M.subject.attributes=I,delete M.subject.uniqueId,E&&(M.subject.uniqueId=E),M.subject.hash=null},M.setIssuer=function(I,E){P(I),M.issuer.attributes=I,delete M.issuer.uniqueId,E&&(M.issuer.uniqueId=E),M.issuer.hash=null},M.setExtensions=function(I){for(var E=0;E<I.length;++E)H(I[E],{cert:M});M.extensions=I},M.getExtension=function(I){typeof I=="string"&&(I={name:I});for(var E=null,j,ie=0;E===null&&ie<M.extensions.length;++ie)j=M.extensions[ie],(I.id&&j.id===I.id||I.name&&j.name===I.name)&&(E=j);return E},M.sign=function(I,E){M.md=E||r.md.sha1.create();var j=f[M.md.algorithm+"WithRSAEncryption"];if(!j){var ie=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw ie.algorithm=M.md.algorithm,ie}M.signatureOid=M.siginfo.algorithmOid=j,M.tbsCertificate=s.getTBSCertificate(M);var de=a.toDer(M.tbsCertificate);M.md.update(de.getBytes()),M.signature=I.sign(M.md)},M.verify=function(I){var E=!1;if(!M.issued(I)){var j=I.issuer,ie=M.subject,de=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw de.expectedIssuer=ie.attributes,de.actualIssuer=j.attributes,de}var ee=I.md;if(ee===null){ee=L({signatureOid:I.signatureOid,type:"certificate"});var se=I.tbsCertificate||s.getTBSCertificate(I),Ce=a.toDer(se);ee.update(Ce.getBytes())}return ee!==null&&(E=_({certificate:M,md:ee,signature:I.signature})),E},M.isIssuer=function(I){var E=!1,j=M.issuer,ie=I.subject;if(j.hash&&ie.hash)E=j.hash===ie.hash;else if(j.attributes.length===ie.attributes.length){E=!0;for(var de,ee,se=0;E&&se<j.attributes.length;++se)de=j.attributes[se],ee=ie.attributes[se],(de.type!==ee.type||de.value!==ee.value)&&(E=!1)}return E},M.issued=function(I){return I.isIssuer(M)},M.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(M.publicKey,{type:"RSAPublicKey"})},M.verifySubjectKeyIdentifier=function(){for(var I=f.subjectKeyIdentifier,E=0;E<M.extensions.length;++E){var j=M.extensions[E];if(j.id===I){var ie=M.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(j.subjectKeyIdentifier)===ie}}return!1},M},s.certificateFromAsn1=function(M,I){var E={},j=[];if(!a.validate(M,A,E,j)){var ie=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw ie.errors=j,ie}var de=a.derToOid(E.publicKeyOid);if(de!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var ee=s.createCertificate();ee.version=E.certVersion?E.certVersion.charCodeAt(0):0;var se=r.util.createBuffer(E.certSerialNumber);ee.serialNumber=se.toHex(),ee.signatureOid=r.asn1.derToOid(E.certSignatureOid),ee.signatureParameters=R(ee.signatureOid,E.certSignatureParams,!0),ee.siginfo.algorithmOid=r.asn1.derToOid(E.certinfoSignatureOid),ee.siginfo.parameters=R(ee.siginfo.algorithmOid,E.certinfoSignatureParams,!1),ee.signature=E.certSignature;var Ce=[];if(E.certValidity1UTCTime!==void 0&&Ce.push(a.utcTimeToDate(E.certValidity1UTCTime)),E.certValidity2GeneralizedTime!==void 0&&Ce.push(a.generalizedTimeToDate(E.certValidity2GeneralizedTime)),E.certValidity3UTCTime!==void 0&&Ce.push(a.utcTimeToDate(E.certValidity3UTCTime)),E.certValidity4GeneralizedTime!==void 0&&Ce.push(a.generalizedTimeToDate(E.certValidity4GeneralizedTime)),Ce.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Ce.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(ee.validity.notBefore=Ce[0],ee.validity.notAfter=Ce[1],ee.tbsCertificate=E.tbsCertificate,I){ee.md=L({signatureOid:ee.signatureOid,type:"certificate"});var oe=a.toDer(ee.tbsCertificate);ee.md.update(oe.getBytes())}var he=r.md.sha1.create(),ve=a.toDer(E.certIssuer);he.update(ve.getBytes()),ee.issuer.getField=function(Me){return D(ee.issuer,Me)},ee.issuer.addField=function(Me){P([Me]),ee.issuer.attributes.push(Me)},ee.issuer.attributes=s.RDNAttributesAsArray(E.certIssuer),E.certIssuerUniqueId&&(ee.issuer.uniqueId=E.certIssuerUniqueId),ee.issuer.hash=he.digest().toHex();var ke=r.md.sha1.create(),Ue=a.toDer(E.certSubject);return ke.update(Ue.getBytes()),ee.subject.getField=function(Me){return D(ee.subject,Me)},ee.subject.addField=function(Me){P([Me]),ee.subject.attributes.push(Me)},ee.subject.attributes=s.RDNAttributesAsArray(E.certSubject),E.certSubjectUniqueId&&(ee.subject.uniqueId=E.certSubjectUniqueId),ee.subject.hash=ke.digest().toHex(),E.certExtensions?ee.extensions=s.certificateExtensionsFromAsn1(E.certExtensions):ee.extensions=[],ee.publicKey=s.publicKeyFromAsn1(E.subjectPublicKeyInfo),ee},s.certificateExtensionsFromAsn1=function(M){for(var I=[],E=0;E<M.value.length;++E)for(var j=M.value[E],ie=0;ie<j.value.length;++ie)I.push(s.certificateExtensionFromAsn1(j.value[ie]));return I},s.certificateExtensionFromAsn1=function(M){var I={};if(I.id=a.derToOid(M.value[0].value),I.critical=!1,M.value[1].type===a.Type.BOOLEAN?(I.critical=M.value[1].value.charCodeAt(0)!==0,I.value=M.value[2].value):I.value=M.value[1].value,I.id in f){if(I.name=f[I.id],I.name==="keyUsage"){var E=a.fromDer(I.value),j=0,ie=0;E.value.length>1&&(j=E.value.charCodeAt(1),ie=E.value.length>2?E.value.charCodeAt(2):0),I.digitalSignature=(j&128)===128,I.nonRepudiation=(j&64)===64,I.keyEncipherment=(j&32)===32,I.dataEncipherment=(j&16)===16,I.keyAgreement=(j&8)===8,I.keyCertSign=(j&4)===4,I.cRLSign=(j&2)===2,I.encipherOnly=(j&1)===1,I.decipherOnly=(ie&128)===128}else if(I.name==="basicConstraints"){var E=a.fromDer(I.value);E.value.length>0&&E.value[0].type===a.Type.BOOLEAN?I.cA=E.value[0].value.charCodeAt(0)!==0:I.cA=!1;var de=null;E.value.length>0&&E.value[0].type===a.Type.INTEGER?de=E.value[0].value:E.value.length>1&&(de=E.value[1].value),de!==null&&(I.pathLenConstraint=a.derToInteger(de))}else if(I.name==="extKeyUsage")for(var E=a.fromDer(I.value),ee=0;ee<E.value.length;++ee){var se=a.derToOid(E.value[ee].value);se in f?I[f[se]]=!0:I[se]=!0}else if(I.name==="nsCertType"){var E=a.fromDer(I.value),j=0;E.value.length>1&&(j=E.value.charCodeAt(1)),I.client=(j&128)===128,I.server=(j&64)===64,I.email=(j&32)===32,I.objsign=(j&16)===16,I.reserved=(j&8)===8,I.sslCA=(j&4)===4,I.emailCA=(j&2)===2,I.objCA=(j&1)===1}else if(I.name==="subjectAltName"||I.name==="issuerAltName"){I.altNames=[];for(var Ce,E=a.fromDer(I.value),oe=0;oe<E.value.length;++oe){Ce=E.value[oe];var he={type:Ce.type,value:Ce.value};switch(I.altNames.push(he),Ce.type){case 1:case 2:case 6:break;case 7:he.ip=r.util.bytesToIP(Ce.value);break;case 8:he.oid=a.derToOid(Ce.value);break}}}else if(I.name==="subjectKeyIdentifier"){var E=a.fromDer(I.value);I.subjectKeyIdentifier=r.util.bytesToHex(E.value)}}return I},s.certificationRequestFromAsn1=function(M,I){var E={},j=[];if(!a.validate(M,C,E,j)){var ie=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw ie.errors=j,ie}var de=a.derToOid(E.publicKeyOid);if(de!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var ee=s.createCertificationRequest();if(ee.version=E.csrVersion?E.csrVersion.charCodeAt(0):0,ee.signatureOid=r.asn1.derToOid(E.csrSignatureOid),ee.signatureParameters=R(ee.signatureOid,E.csrSignatureParams,!0),ee.siginfo.algorithmOid=r.asn1.derToOid(E.csrSignatureOid),ee.siginfo.parameters=R(ee.siginfo.algorithmOid,E.csrSignatureParams,!1),ee.signature=E.csrSignature,ee.certificationRequestInfo=E.certificationRequestInfo,I){ee.md=L({signatureOid:ee.signatureOid,type:"certification request"});var se=a.toDer(ee.certificationRequestInfo);ee.md.update(se.getBytes())}var Ce=r.md.sha1.create();return ee.subject.getField=function(oe){return D(ee.subject,oe)},ee.subject.addField=function(oe){P([oe]),ee.subject.attributes.push(oe)},ee.subject.attributes=s.RDNAttributesAsArray(E.certificationRequestInfoSubject,Ce),ee.subject.hash=Ce.digest().toHex(),ee.publicKey=s.publicKeyFromAsn1(E.subjectPublicKeyInfo),ee.getAttribute=function(oe){return D(ee,oe)},ee.addAttribute=function(oe){P([oe]),ee.attributes.push(oe)},ee.attributes=s.CRIAttributesAsArray(E.certificationRequestInfoAttributes||[]),ee},s.createCertificationRequest=function(){var M={};return M.version=0,M.signatureOid=null,M.signature=null,M.siginfo={},M.siginfo.algorithmOid=null,M.subject={},M.subject.getField=function(I){return D(M.subject,I)},M.subject.addField=function(I){P([I]),M.subject.attributes.push(I)},M.subject.attributes=[],M.subject.hash=null,M.publicKey=null,M.attributes=[],M.getAttribute=function(I){return D(M,I)},M.addAttribute=function(I){P([I]),M.attributes.push(I)},M.md=null,M.setSubject=function(I){P(I),M.subject.attributes=I,M.subject.hash=null},M.setAttributes=function(I){P(I),M.attributes=I},M.sign=function(I,E){M.md=E||r.md.sha1.create();var j=f[M.md.algorithm+"WithRSAEncryption"];if(!j){var ie=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw ie.algorithm=M.md.algorithm,ie}M.signatureOid=M.siginfo.algorithmOid=j,M.certificationRequestInfo=s.getCertificationRequestInfo(M);var de=a.toDer(M.certificationRequestInfo);M.md.update(de.getBytes()),M.signature=I.sign(M.md)},M.verify=function(){var I=!1,E=M.md;if(E===null){E=L({signatureOid:M.signatureOid,type:"certification request"});var j=M.certificationRequestInfo||s.getCertificationRequestInfo(M),ie=a.toDer(j);E.update(ie.getBytes())}return E!==null&&(I=_({certificate:M,md:E,signature:M.signature})),I},M};function V(M){for(var I=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),E,j,ie=M.attributes,de=0;de<ie.length;++de){E=ie[de];var ee=E.value,se=a.Type.PRINTABLESTRING;"valueTagClass"in E&&(se=E.valueTagClass,se===a.Type.UTF8&&(ee=r.util.encodeUtf8(ee))),j=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(E.type).getBytes()),a.create(a.Class.UNIVERSAL,se,!1,ee)])]),I.value.push(j)}return I}function P(M){for(var I,E=0;E<M.length;++E){if(I=M[E],typeof I.name>"u"&&(I.type&&I.type in s.oids?I.name=s.oids[I.type]:I.shortName&&I.shortName in v&&(I.name=s.oids[v[I.shortName]])),typeof I.type>"u")if(I.name&&I.name in s.oids)I.type=s.oids[I.name];else{var j=new Error("Attribute type not specified.");throw j.attribute=I,j}if(typeof I.shortName>"u"&&I.name&&I.name in v&&(I.shortName=v[I.name]),I.type===f.extensionRequest&&(I.valueConstructed=!0,I.valueTagClass=a.Type.SEQUENCE,!I.value&&I.extensions)){I.value=[];for(var ie=0;ie<I.extensions.length;++ie)I.value.push(s.certificateExtensionToAsn1(H(I.extensions[ie])))}if(typeof I.value>"u"){var j=new Error("Attribute value not specified.");throw j.attribute=I,j}}}function H(M,I){if(I=I||{},typeof M.name>"u"&&M.id&&M.id in s.oids&&(M.name=s.oids[M.id]),typeof M.id>"u")if(M.name&&M.name in s.oids)M.id=s.oids[M.name];else{var E=new Error("Extension ID not specified.");throw E.extension=M,E}if(typeof M.value<"u")return M;if(M.name==="keyUsage"){var j=0,ie=0,de=0;M.digitalSignature&&(ie|=128,j=7),M.nonRepudiation&&(ie|=64,j=6),M.keyEncipherment&&(ie|=32,j=5),M.dataEncipherment&&(ie|=16,j=4),M.keyAgreement&&(ie|=8,j=3),M.keyCertSign&&(ie|=4,j=2),M.cRLSign&&(ie|=2,j=1),M.encipherOnly&&(ie|=1,j=0),M.decipherOnly&&(de|=128,j=7);var ee=String.fromCharCode(j);de!==0?ee+=String.fromCharCode(ie)+String.fromCharCode(de):ie!==0&&(ee+=String.fromCharCode(ie)),M.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,ee)}else if(M.name==="basicConstraints")M.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),M.cA&&M.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,"")),"pathLenConstraint"in M&&M.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(M.pathLenConstraint).getBytes()));else if(M.name==="extKeyUsage"){M.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);var se=M.value.value;for(var Ce in M)M[Ce]===!0&&(Ce in f?se.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(f[Ce]).getBytes())):Ce.indexOf(".")!==-1&&se.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(Ce).getBytes())))}else if(M.name==="nsCertType"){var j=0,ie=0;M.client&&(ie|=128,j=7),M.server&&(ie|=64,j=6),M.email&&(ie|=32,j=5),M.objsign&&(ie|=16,j=4),M.reserved&&(ie|=8,j=3),M.sslCA&&(ie|=4,j=2),M.emailCA&&(ie|=2,j=1),M.objCA&&(ie|=1,j=0);var ee=String.fromCharCode(j);ie!==0&&(ee+=String.fromCharCode(ie)),M.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,ee)}else if(M.name==="subjectAltName"||M.name==="issuerAltName"){M.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);for(var oe,he=0;he<M.altNames.length;++he){oe=M.altNames[he];var ee=oe.value;if(oe.type===7&&oe.ip){if(ee=r.util.bytesFromIP(oe.ip),ee===null){var E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw E.extension=M,E}}else oe.type===8&&(oe.oid?ee=a.oidToDer(a.oidToDer(oe.oid)):ee=a.oidToDer(ee));M.value.value.push(a.create(a.Class.CONTEXT_SPECIFIC,oe.type,!1,ee))}}else if(M.name==="nsComment"&&I.cert){if(!/^[\x00-\x7F]*$/.test(M.comment)||M.comment.length<1||M.comment.length>128)throw new Error('Invalid "nsComment" content.');M.value=a.create(a.Class.UNIVERSAL,a.Type.IA5STRING,!1,M.comment)}else if(M.name==="subjectKeyIdentifier"&&I.cert){var ve=I.cert.generateSubjectKeyIdentifier();M.subjectKeyIdentifier=ve.toHex(),M.value=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,ve.getBytes())}else if(M.name==="authorityKeyIdentifier"&&I.cert){M.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);var se=M.value.value;if(M.keyIdentifier){var ke=M.keyIdentifier===!0?I.cert.generateSubjectKeyIdentifier().getBytes():M.keyIdentifier;se.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!1,ke))}if(M.authorityCertIssuer){var Ue=[a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[V(M.authorityCertIssuer===!0?I.cert.issuer:M.authorityCertIssuer)])];se.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,Ue))}if(M.serialNumber){var Me=r.util.hexToBytes(M.serialNumber===!0?I.cert.serialNumber:M.serialNumber);se.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!1,Me))}}else if(M.name==="cRLDistributionPoints"){M.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);for(var se=M.value.value,Ae=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),Se=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]),oe,he=0;he<M.altNames.length;++he){oe=M.altNames[he];var ee=oe.value;if(oe.type===7&&oe.ip){if(ee=r.util.bytesFromIP(oe.ip),ee===null){var E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw E.extension=M,E}}else oe.type===8&&(oe.oid?ee=a.oidToDer(a.oidToDer(oe.oid)):ee=a.oidToDer(ee));Se.value.push(a.create(a.Class.CONTEXT_SPECIFIC,oe.type,!1,ee))}Ae.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[Se])),se.push(Ae)}if(typeof M.value>"u"){var E=new Error("Extension value not specified.");throw E.extension=M,E}return M}function T(M,I){switch(M){case f["RSASSA-PSS"]:var E=[];return I.hash.algorithmOid!==void 0&&E.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(I.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])),I.mgf.algorithmOid!==void 0&&E.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(I.mgf.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(I.mgf.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])])),I.saltLength!==void 0&&E.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(I.saltLength).getBytes())])),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,E);default:return a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")}}function F(M){var I=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);if(M.attributes.length===0)return I;for(var E=M.attributes,j=0;j<E.length;++j){var ie=E[j],de=ie.value,ee=a.Type.UTF8;"valueTagClass"in ie&&(ee=ie.valueTagClass),ee===a.Type.UTF8&&(de=r.util.encodeUtf8(de));var se=!1;"valueConstructed"in ie&&(se=ie.valueConstructed);var Ce=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(ie.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,ee,se,de)])]);I.value.push(Ce)}return I}var U=new Date("1950-01-01T00:00:00Z"),K=new Date("2050-01-01T00:00:00Z");function X(M){return M>=U&&M<K?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(M)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(M))}return s.getTBSCertificate=function(M){var I=X(M.validity.notBefore),E=X(M.validity.notAfter),j=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(M.version).getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r.util.hexToBytes(M.serialNumber)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(M.siginfo.algorithmOid).getBytes()),T(M.siginfo.algorithmOid,M.siginfo.parameters)]),V(M.issuer),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[I,E]),V(M.subject),s.publicKeyToAsn1(M.publicKey)]);return M.issuer.uniqueId&&j.value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\0"+M.issuer.uniqueId)])),M.subject.uniqueId&&j.value.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\0"+M.subject.uniqueId)])),M.extensions.length>0&&j.value.push(s.certificateExtensionsToAsn1(M.extensions)),j},s.getCertificationRequestInfo=function(M){var I=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(M.version).getBytes()),V(M.subject),s.publicKeyToAsn1(M.publicKey),F(M)]);return I},s.distinguishedNameToAsn1=function(M){return V(M)},s.certificateToAsn1=function(M){var I=M.tbsCertificate||s.getTBSCertificate(M);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[I,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(M.signatureOid).getBytes()),T(M.signatureOid,M.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\0"+M.signature)])},s.certificateExtensionsToAsn1=function(M){var I=a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[]),E=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);I.value.push(E);for(var j=0;j<M.length;++j)E.value.push(s.certificateExtensionToAsn1(M[j]));return I},s.certificateExtensionToAsn1=function(M){var I=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);I.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(M.id).getBytes())),M.critical&&I.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,""));var E=M.value;return typeof M.value!="string"&&(E=a.toDer(E).getBytes()),I.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,E)),I},s.certificationRequestToAsn1=function(M){var I=M.certificationRequestInfo||s.getCertificationRequestInfo(M);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[I,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(M.signatureOid).getBytes()),T(M.signatureOid,M.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,"\0"+M.signature)])},s.createCaStore=function(M){var I={certs:{}};I.getIssuer=function(ee){var se=E(ee.issuer);return se},I.addCertificate=function(ee){if(typeof ee=="string"&&(ee=r.pki.certificateFromPem(ee)),j(ee.subject),!I.hasCertificate(ee))if(ee.subject.hash in I.certs){var se=I.certs[ee.subject.hash];r.util.isArray(se)||(se=[se]),se.push(ee),I.certs[ee.subject.hash]=se}else I.certs[ee.subject.hash]=ee},I.hasCertificate=function(ee){typeof ee=="string"&&(ee=r.pki.certificateFromPem(ee));var se=E(ee.subject);if(!se)return!1;r.util.isArray(se)||(se=[se]);for(var Ce=a.toDer(s.certificateToAsn1(ee)).getBytes(),oe=0;oe<se.length;++oe){var he=a.toDer(s.certificateToAsn1(se[oe])).getBytes();if(Ce===he)return!0}return!1},I.listAllCertificates=function(){var ee=[];for(var se in I.certs)if(I.certs.hasOwnProperty(se)){var Ce=I.certs[se];if(!r.util.isArray(Ce))ee.push(Ce);else for(var oe=0;oe<Ce.length;++oe)ee.push(Ce[oe])}return ee},I.removeCertificate=function(ee){var se;if(typeof ee=="string"&&(ee=r.pki.certificateFromPem(ee)),j(ee.subject),!I.hasCertificate(ee))return null;var Ce=E(ee.subject);if(!r.util.isArray(Ce))return se=I.certs[ee.subject.hash],delete I.certs[ee.subject.hash],se;for(var oe=a.toDer(s.certificateToAsn1(ee)).getBytes(),he=0;he<Ce.length;++he){var ve=a.toDer(s.certificateToAsn1(Ce[he])).getBytes();oe===ve&&(se=Ce[he],Ce.splice(he,1))}return Ce.length===0&&delete I.certs[ee.subject.hash],se};function E(ee){return j(ee),I.certs[ee.hash]||null}function j(ee){if(!ee.hash){var se=r.md.sha1.create();ee.attributes=s.RDNAttributesAsArray(V(ee),se),ee.hash=se.digest().toHex()}}if(M)for(var ie=0;ie<M.length;++ie){var de=M[ie];I.addCertificate(de)}return I},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(M,I,E){typeof E=="function"&&(E={verify:E}),E=E||{},I=I.slice(0);var j=I.slice(0),ie=E.validityCheckDate;typeof ie>"u"&&(ie=new Date);var de=!0,ee=null,se=0;do{var Ce=I.shift(),oe=null,he=!1;if(ie&&(ie<Ce.validity.notBefore||ie>Ce.validity.notAfter)&&(ee={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:Ce.validity.notBefore,notAfter:Ce.validity.notAfter,now:ie}),ee===null){if(oe=I[0]||M.getIssuer(Ce),oe===null&&Ce.isIssuer(Ce)&&(he=!0,oe=Ce),oe){var ve=oe;r.util.isArray(ve)||(ve=[ve]);for(var ke=!1;!ke&&ve.length>0;){oe=ve.shift();try{ke=oe.verify(Ce)}catch{}}ke||(ee={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}ee===null&&(!oe||he)&&!M.hasCertificate(Ce)&&(ee={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(ee===null&&oe&&!Ce.isIssuer(oe)&&(ee={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),ee===null)for(var Ue={keyUsage:!0,basicConstraints:!0},Me=0;ee===null&&Me<Ce.extensions.length;++Me){var Ae=Ce.extensions[Me];Ae.critical&&!(Ae.name in Ue)&&(ee={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(ee===null&&(!de||I.length===0&&(!oe||he))){var Se=Ce.getExtension("basicConstraints"),ze=Ce.getExtension("keyUsage");if(ze!==null&&(!ze.keyCertSign||Se===null)&&(ee={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate}),ee===null&&Se!==null&&!Se.cA&&(ee={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),ee===null&&ze!==null&&"pathLenConstraint"in Se){var _e=se-1;_e>Se.pathLenConstraint&&(ee={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}}var Je=ee===null?!0:ee.error,Ne=E.verify?E.verify(Je,se,j):Je;if(Ne===!0)ee=null;else throw Je===!0&&(ee={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(Ne||Ne===0)&&(typeof Ne=="object"&&!r.util.isArray(Ne)?(Ne.message&&(ee.message=Ne.message),Ne.error&&(ee.error=Ne.error)):typeof Ne=="string"&&(ee.error=Ne)),ee;de=!1,++se}while(I.length>0);return!0},Xd.exports}var hm;function Z2(){if(hm)return qd.exports;hm=1;var r=Nn();Pi(),Oc(),ko(),Y2(),q2(),Ai(),pf(),kc(),Xn(),Yh();var a=r.asn1,s=r.pki,f=qd.exports=r.pkcs12=r.pkcs12||{},v={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},m={name:"PFX",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},v,{name:"PFX.macData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",optional:!0,tagClass:a.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},A={name:"SafeBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},p={name:"Attribute",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,capture:"values"}]},w={name:"CertBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:a.Class.UNIVERSAL,type:a.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function C(P,H,T,F){for(var U=[],K=0;K<P.length;K++)for(var X=0;X<P[K].safeBags.length;X++){var M=P[K].safeBags[X];if(!(F!==void 0&&M.type!==F)){if(H===null){U.push(M);continue}M.attributes[H]!==void 0&&M.attributes[H].indexOf(T)>=0&&U.push(M)}}return U}f.pkcs12FromAsn1=function(P,H,T){typeof H=="string"?(T=H,H=!0):H===void 0&&(H=!0);var F={},U=[];if(!a.validate(P,m,F,U)){var K=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw K.errors=K,K}var X={version:F.version.charCodeAt(0),safeContents:[],getBags:function(oe){var he={},ve;return"localKeyId"in oe?ve=oe.localKeyId:"localKeyIdHex"in oe&&(ve=r.util.hexToBytes(oe.localKeyIdHex)),ve===void 0&&!("friendlyName"in oe)&&"bagType"in oe&&(he[oe.bagType]=C(X.safeContents,null,null,oe.bagType)),ve!==void 0&&(he.localKeyId=C(X.safeContents,"localKeyId",ve,oe.bagType)),"friendlyName"in oe&&(he.friendlyName=C(X.safeContents,"friendlyName",oe.friendlyName,oe.bagType)),he},getBagsByFriendlyName:function(oe,he){return C(X.safeContents,"friendlyName",oe,he)},getBagsByLocalKeyId:function(oe,he){return C(X.safeContents,"localKeyId",oe,he)}};if(F.version.charCodeAt(0)!==3){var K=new Error("PKCS#12 PFX of version other than 3 not supported.");throw K.version=F.version.charCodeAt(0),K}if(a.derToOid(F.contentType)!==s.oids.data){var K=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw K.oid=a.derToOid(F.contentType),K}var M=F.content.value[0];if(M.tagClass!==a.Class.UNIVERSAL||M.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(M=D(M),F.mac){var I=null,E=0,j=a.derToOid(F.macAlgorithm);switch(j){case s.oids.sha1:I=r.md.sha1.create(),E=20;break;case s.oids.sha256:I=r.md.sha256.create(),E=32;break;case s.oids.sha384:I=r.md.sha384.create(),E=48;break;case s.oids.sha512:I=r.md.sha512.create(),E=64;break;case s.oids.md5:I=r.md.md5.create(),E=16;break}if(I===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+j);var ie=new r.util.ByteBuffer(F.macSalt),de="macIterations"in F?parseInt(r.util.bytesToHex(F.macIterations),16):1,ee=f.generateKey(T,ie,3,de,E,I),se=r.hmac.create();se.start(I,ee),se.update(M.value);var Ce=se.getMac();if(Ce.getBytes()!==F.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}else if(Array.isArray(P.value)&&P.value.length>2)throw new Error("Invalid PKCS#12. macData field present but MAC was not validated.");return R(X,M.value,H,T),X};function D(P){if(P.composed||P.constructed){for(var H=r.util.createBuffer(),T=0;T<P.value.length;++T)H.putBytes(P.value[T].value);P.composed=P.constructed=!1,P.value=H.getBytes()}return P}function R(P,H,T,F){if(H=a.fromDer(H,T),H.tagClass!==a.Class.UNIVERSAL||H.type!==a.Type.SEQUENCE||H.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var U=0;U<H.value.length;U++){var K=H.value[U],X={},M=[];if(!a.validate(K,v,X,M)){var I=new Error("Cannot read ContentInfo.");throw I.errors=M,I}var E={encrypted:!1},j=null,ie=X.content.value[0];switch(a.derToOid(X.contentType)){case s.oids.data:if(ie.tagClass!==a.Class.UNIVERSAL||ie.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");j=D(ie).value;break;case s.oids.encryptedData:j=L(ie,F),E.encrypted=!0;break;default:var I=new Error("Unsupported PKCS#12 contentType.");throw I.contentType=a.derToOid(X.contentType),I}E.safeBags=_(j,T,F),P.safeContents.push(E)}}function L(P,H){var T={},F=[];if(!a.validate(P,r.pkcs7.asn1.encryptedDataValidator,T,F)){var U=new Error("Cannot read EncryptedContentInfo.");throw U.errors=F,U}var K=a.derToOid(T.contentType);if(K!==s.oids.data){var U=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw U.oid=K,U}K=a.derToOid(T.encAlgorithm);var X=s.pbe.getCipher(K,T.encParameter,H),M=D(T.encryptedContentAsn1),I=r.util.createBuffer(M.value);if(X.update(I),!X.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return X.output.getBytes()}function _(P,H,T){if(!H&&P.length===0)return[];if(P=a.fromDer(P,H),P.tagClass!==a.Class.UNIVERSAL||P.type!==a.Type.SEQUENCE||P.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var F=[],U=0;U<P.value.length;U++){var K=P.value[U],X={},M=[];if(!a.validate(K,A,X,M)){var I=new Error("Cannot read SafeBag.");throw I.errors=M,I}var E={type:a.derToOid(X.bagId),attributes:V(X.bagAttributes)};F.push(E);var j,ie,de=X.bagValue.value[0];switch(E.type){case s.oids.pkcs8ShroudedKeyBag:if(de=s.decryptPrivateKeyInfo(de,T),de===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{E.key=s.privateKeyFromAsn1(de)}catch{E.key=null,E.asn1=de}continue;case s.oids.certBag:j=w,ie=function(){if(a.derToOid(X.certId)!==s.oids.x509Certificate){var se=new Error("Unsupported certificate type, only X.509 supported.");throw se.oid=a.derToOid(X.certId),se}var Ce=a.fromDer(X.cert,H);try{E.cert=s.certificateFromAsn1(Ce,!0)}catch{E.cert=null,E.asn1=Ce}};break;default:var I=new Error("Unsupported PKCS#12 SafeBag type.");throw I.oid=E.type,I}if(j!==void 0&&!a.validate(de,j,X,M)){var I=new Error("Cannot read PKCS#12 "+j.name);throw I.errors=M,I}ie()}return F}function V(P){var H={};if(P!==void 0)for(var T=0;T<P.length;++T){var F={},U=[];if(!a.validate(P[T],p,F,U)){var K=new Error("Cannot read PKCS#12 BagAttribute.");throw K.errors=U,K}var X=a.derToOid(F.oid);if(s.oids[X]!==void 0){H[s.oids[X]]=[];for(var M=0;M<F.values.length;++M)H[s.oids[X]].push(F.values[M].value)}}return H}return f.toPkcs12Asn1=function(P,H,T,F){F=F||{},F.saltSize=F.saltSize||8,F.count=F.count||2048,F.algorithm=F.algorithm||F.encAlgorithm||"aes128","useMac"in F||(F.useMac=!0),"localKeyId"in F||(F.localKeyId=null),"generateLocalKeyId"in F||(F.generateLocalKeyId=!0);var U=F.localKeyId,K;if(U!==null)U=r.util.hexToBytes(U);else if(F.generateLocalKeyId)if(H){var X=r.util.isArray(H)?H[0]:H;typeof X=="string"&&(X=s.certificateFromPem(X));var M=r.md.sha1.create();M.update(a.toDer(s.certificateToAsn1(X)).getBytes()),U=M.digest().getBytes()}else U=r.random.getBytes(20);var I=[];U!==null&&I.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.localKeyId).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,U)])])),"friendlyName"in F&&I.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.friendlyName).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.BMPSTRING,!1,F.friendlyName)])])),I.length>0&&(K=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,I));var E=[],j=[];H!==null&&(r.util.isArray(H)?j=H:j=[H]);for(var ie=[],de=0;de<j.length;++de){H=j[de],typeof H=="string"&&(H=s.certificateFromPem(H));var ee=de===0?K:void 0,se=s.certificateToAsn1(H),Ce=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.certBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.x509Certificate).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(se).getBytes())])])]),ee]);ie.push(Ce)}if(ie.length>0){var oe=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,ie),he=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(oe).getBytes())])]);E.push(he)}var ve=null;if(P!==null){var ke=s.wrapRsaPrivateKey(s.privateKeyToAsn1(P));T===null?ve=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.keyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[ke]),K]):ve=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(ke,T,F)]),K]);var Ue=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[ve]),Me=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(Ue).getBytes())])]);E.push(Me)}var Ae=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,E),Se;if(F.useMac){var M=r.md.sha1.create(),ze=new r.util.ByteBuffer(r.random.getBytes(F.saltSize)),_e=F.count,P=f.generateKey(T,ze,3,_e,20),Je=r.hmac.create();Je.start(M,P),Je.update(a.toDer(Ae).getBytes());var Ne=Je.getMac();Se=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.sha1).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,Ne.getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,ze.getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(_e).getBytes())])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(3).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(Ae).getBytes())])]),Se])},f.generateKey=r.pbe.generatePkcs12Key,qd.exports}var gm;function W2(){if(gm)return Ld.exports;gm=1;var r=Nn();Pi(),ko(),q2(),Tl(),zh(),Z2(),qh(),pf(),Xn(),Yh();var a=r.asn1,s=Ld.exports=r.pki=r.pki||{};return s.pemToDer=function(f){var v=r.pem.decode(f)[0];if(v.procType&&v.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(v.body)},s.privateKeyFromPem=function(f){var v=r.pem.decode(f)[0];if(v.type!=="PRIVATE KEY"&&v.type!=="RSA PRIVATE KEY"){var m=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw m.headerType=v.type,m}if(v.procType&&v.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var A=a.fromDer(v.body);return s.privateKeyFromAsn1(A)},s.privateKeyToPem=function(f,v){var m={type:"RSA PRIVATE KEY",body:a.toDer(s.privateKeyToAsn1(f)).getBytes()};return r.pem.encode(m,{maxline:v})},s.privateKeyInfoToPem=function(f,v){var m={type:"PRIVATE KEY",body:a.toDer(f).getBytes()};return r.pem.encode(m,{maxline:v})},Ld.exports}var $d,pm;function J2(){if(pm)return $d;pm=1;var r=Nn();Pi(),Oc(),jh(),Tl(),W2(),Ai(),kc(),Xn();var a=function(Q,W,re,O){var Z=r.util.createBuffer(),be=Q.length>>1,xe=be+(Q.length&1),Ze=Q.substr(0,xe),gt=Q.substr(be,xe),dt=r.util.createBuffer(),Ve=r.hmac.create();re=W+re;var pt=Math.ceil(O/16),Ye=Math.ceil(O/20);Ve.start("MD5",Ze);var Lt=r.util.createBuffer();dt.putBytes(re);for(var St=0;St<pt;++St)Ve.start(null,null),Ve.update(dt.getBytes()),dt.putBuffer(Ve.digest()),Ve.start(null,null),Ve.update(dt.bytes()+re),Lt.putBuffer(Ve.digest());Ve.start("SHA1",gt);var Kt=r.util.createBuffer();dt.clear(),dt.putBytes(re);for(var St=0;St<Ye;++St)Ve.start(null,null),Ve.update(dt.getBytes()),dt.putBuffer(Ve.digest()),Ve.start(null,null),Ve.update(dt.bytes()+re),Kt.putBuffer(Ve.digest());return Z.putBytes(r.util.xorBytes(Lt.getBytes(),Kt.getBytes(),O)),Z},s=function(Q,W,re){var O=r.hmac.create();O.start("SHA1",Q);var Z=r.util.createBuffer();return Z.putInt32(W[0]),Z.putInt32(W[1]),Z.putByte(re.type),Z.putByte(re.version.major),Z.putByte(re.version.minor),Z.putInt16(re.length),Z.putBytes(re.fragment.bytes()),O.update(Z.getBytes()),O.digest().getBytes()},f=function(Q,W,re){var O=!1;try{var Z=Q.deflate(W.fragment.getBytes());W.fragment=r.util.createBuffer(Z),W.length=Z.length,O=!0}catch{}return O},v=function(Q,W,re){var O=!1;try{var Z=Q.inflate(W.fragment.getBytes());W.fragment=r.util.createBuffer(Z),W.length=Z.length,O=!0}catch{}return O},m=function(Q,W){var re=0;switch(W){case 1:re=Q.getByte();break;case 2:re=Q.getInt16();break;case 3:re=Q.getInt24();break;case 4:re=Q.getInt32();break}return r.util.createBuffer(Q.getBytes(re))},A=function(Q,W,re){Q.putInt(re.length(),W<<3),Q.putBuffer(re)},p={};p.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},p.SupportedVersions=[p.Versions.TLS_1_1,p.Versions.TLS_1_0],p.Version=p.SupportedVersions[0],p.MaxFragment=15360,p.ConnectionEnd={server:0,client:1},p.PRFAlgorithm={tls_prf_sha256:0},p.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},p.CipherType={stream:0,block:1,aead:2},p.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},p.CompressionMethod={none:0,deflate:1},p.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},p.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},p.Alert={},p.Alert.Level={warning:1,fatal:2},p.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},p.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},p.CipherSuites={},p.getCipherSuite=function(Q){var W=null;for(var re in p.CipherSuites){var O=p.CipherSuites[re];if(O.id[0]===Q.charCodeAt(0)&&O.id[1]===Q.charCodeAt(1)){W=O;break}}return W},p.handleUnexpected=function(Q,W){var re=!Q.open&&Q.entity===p.ConnectionEnd.client;re||Q.error(Q,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unexpected_message}})},p.handleHelloRequest=function(Q,W,re){!Q.handshaking&&Q.handshakes>0&&(p.queue(Q,p.createAlert(Q,{level:p.Alert.Level.warning,description:p.Alert.Description.no_renegotiation})),p.flush(Q)),Q.process()},p.parseHelloMessage=function(Q,W,re){var O=null,Z=Q.entity===p.ConnectionEnd.client;if(re<38)Q.error(Q,{message:Z?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});else{var be=W.fragment,xe=be.length();if(O={version:{major:be.getByte(),minor:be.getByte()},random:r.util.createBuffer(be.getBytes(32)),session_id:m(be,1),extensions:[]},Z?(O.cipher_suite=be.getBytes(2),O.compression_method=be.getByte()):(O.cipher_suites=m(be,2),O.compression_methods=m(be,1)),xe=re-(xe-be.length()),xe>0){for(var Ze=m(be,2);Ze.length()>0;)O.extensions.push({type:[Ze.getByte(),Ze.getByte()],data:m(Ze,2)});if(!Z)for(var gt=0;gt<O.extensions.length;++gt){var dt=O.extensions[gt];if(dt.type[0]===0&&dt.type[1]===0)for(var Ve=m(dt.data,2);Ve.length()>0;){var pt=Ve.getByte();if(pt!==0)break;Q.session.extensions.server_name.serverNameList.push(m(Ve,2).getBytes())}}}if(Q.session.version&&(O.version.major!==Q.session.version.major||O.version.minor!==Q.session.version.minor))return Q.error(Q,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}});if(Z)Q.session.cipherSuite=p.getCipherSuite(O.cipher_suite);else for(var Ye=r.util.createBuffer(O.cipher_suites.bytes());Ye.length()>0&&(Q.session.cipherSuite=p.getCipherSuite(Ye.getBytes(2)),Q.session.cipherSuite===null););if(Q.session.cipherSuite===null)return Q.error(Q,{message:"No cipher suites in common.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.handshake_failure},cipherSuite:r.util.bytesToHex(O.cipher_suite)});Z?Q.session.compressionMethod=O.compression_method:Q.session.compressionMethod=p.CompressionMethod.none}return O},p.createSecurityParameters=function(Q,W){var re=Q.entity===p.ConnectionEnd.client,O=W.random.bytes(),Z=re?Q.session.sp.client_random:O,be=re?O:p.createRandom().getBytes();Q.session.sp={entity:Q.entity,prf_algorithm:p.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:Q.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Z,server_random:be}},p.handleServerHello=function(Q,W,re){var O=p.parseHelloMessage(Q,W,re);if(!Q.fail){if(O.version.minor<=Q.version.minor)Q.version.minor=O.version.minor;else return Q.error(Q,{message:"Incompatible TLS version.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}});Q.session.version=Q.version;var Z=O.session_id.bytes();Z.length>0&&Z===Q.session.id?(Q.expect=_,Q.session.resuming=!0,Q.session.sp.server_random=O.random.bytes()):(Q.expect=C,Q.session.resuming=!1,p.createSecurityParameters(Q,O)),Q.session.id=Z,Q.process()}},p.handleClientHello=function(Q,W,re){var O=p.parseHelloMessage(Q,W,re);if(!Q.fail){var Z=O.session_id.bytes(),be=null;if(Q.sessionCache&&(be=Q.sessionCache.getSession(Z),be===null?Z="":(be.version.major!==O.version.major||be.version.minor>O.version.minor)&&(be=null,Z="")),Z.length===0&&(Z=r.random.getBytes(32)),Q.session.id=Z,Q.session.clientHelloVersion=O.version,Q.session.sp={},be)Q.version=Q.session.version=be.version,Q.session.sp=be.sp;else{for(var xe,Ze=1;Ze<p.SupportedVersions.length&&(xe=p.SupportedVersions[Ze],!(xe.minor<=O.version.minor));++Ze);Q.version={major:xe.major,minor:xe.minor},Q.session.version=Q.version}be!==null?(Q.expect=X,Q.session.resuming=!0,Q.session.sp.client_random=O.random.bytes()):(Q.expect=Q.verifyClient!==!1?F:U,Q.session.resuming=!1,p.createSecurityParameters(Q,O)),Q.open=!0,p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createServerHello(Q)})),Q.session.resuming?(p.queue(Q,p.createRecord(Q,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),Q.state.pending=p.createConnectionState(Q),Q.state.current.write=Q.state.pending.write,p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createFinished(Q)}))):(p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createCertificate(Q)})),Q.fail||(p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createServerKeyExchange(Q)})),Q.verifyClient!==!1&&p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createCertificateRequest(Q)})),p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createServerHelloDone(Q)})))),p.flush(Q),Q.process()}},p.handleCertificate=function(Q,W,re){if(re<3)return Q.error(Q,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var O=W.fragment,Z={certificate_list:m(O,3)},be,xe,Ze=[];try{for(;Z.certificate_list.length()>0;)be=m(Z.certificate_list,3),xe=r.asn1.fromDer(be),be=r.pki.certificateFromAsn1(xe,!0),Ze.push(be)}catch(dt){return Q.error(Q,{message:"Could not parse certificate list.",cause:dt,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate}})}var gt=Q.entity===p.ConnectionEnd.client;(gt||Q.verifyClient===!0)&&Ze.length===0?Q.error(Q,{message:gt?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}}):Ze.length===0?Q.expect=gt?D:U:(gt?Q.session.serverCertificate=Ze[0]:Q.session.clientCertificate=Ze[0],p.verifyCertificateChain(Q,Ze)&&(Q.expect=gt?D:U)),Q.process()},p.handleServerKeyExchange=function(Q,W,re){if(re>0)return Q.error(Q,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unsupported_certificate}});Q.expect=R,Q.process()},p.handleClientKeyExchange=function(Q,W,re){if(re<48)return Q.error(Q,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unsupported_certificate}});var O=W.fragment,Z={enc_pre_master_secret:m(O,2).getBytes()},be=null;if(Q.getPrivateKey)try{be=Q.getPrivateKey(Q,Q.session.serverCertificate),be=r.pki.privateKeyFromPem(be)}catch(gt){Q.error(Q,{message:"Could not get private key.",cause:gt,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}})}if(be===null)return Q.error(Q,{message:"No private key set.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}});try{var xe=Q.session.sp;xe.pre_master_secret=be.decrypt(Z.enc_pre_master_secret);var Ze=Q.session.clientHelloVersion;if(Ze.major!==xe.pre_master_secret.charCodeAt(0)||Ze.minor!==xe.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{xe.pre_master_secret=r.random.getBytes(48)}Q.expect=X,Q.session.clientCertificate!==null&&(Q.expect=K),Q.process()},p.handleCertificateRequest=function(Q,W,re){if(re<3)return Q.error(Q,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var O=W.fragment,Z={certificate_types:m(O,1),certificate_authorities:m(O,2)};Q.session.certificateRequest=Z,Q.expect=L,Q.process()},p.handleCertificateVerify=function(Q,W,re){if(re<2)return Q.error(Q,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var O=W.fragment;O.read-=4;var Z=O.bytes();O.read+=4;var be={signature:m(O,2).getBytes()},xe=r.util.createBuffer();xe.putBuffer(Q.session.md5.digest()),xe.putBuffer(Q.session.sha1.digest()),xe=xe.getBytes();try{var Ze=Q.session.clientCertificate;if(!Ze.publicKey.verify(xe,be.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");Q.session.md5.update(Z),Q.session.sha1.update(Z)}catch{return Q.error(Q,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.handshake_failure}})}Q.expect=X,Q.process()},p.handleServerHelloDone=function(Q,W,re){if(re>0)return Q.error(Q,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.record_overflow}});if(Q.serverCertificate===null){var O={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.insufficient_security}},Z=0,be=Q.verify(Q,O.alert.description,Z,[]);if(be!==!0)return(be||be===0)&&(typeof be=="object"&&!r.util.isArray(be)?(be.message&&(O.message=be.message),be.alert&&(O.alert.description=be.alert)):typeof be=="number"&&(O.alert.description=be)),Q.error(Q,O)}Q.session.certificateRequest!==null&&(W=p.createRecord(Q,{type:p.ContentType.handshake,data:p.createCertificate(Q)}),p.queue(Q,W)),W=p.createRecord(Q,{type:p.ContentType.handshake,data:p.createClientKeyExchange(Q)}),p.queue(Q,W),Q.expect=H;var xe=function(Ze,gt){Ze.session.certificateRequest!==null&&Ze.session.clientCertificate!==null&&p.queue(Ze,p.createRecord(Ze,{type:p.ContentType.handshake,data:p.createCertificateVerify(Ze,gt)})),p.queue(Ze,p.createRecord(Ze,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),Ze.state.pending=p.createConnectionState(Ze),Ze.state.current.write=Ze.state.pending.write,p.queue(Ze,p.createRecord(Ze,{type:p.ContentType.handshake,data:p.createFinished(Ze)})),Ze.expect=_,p.flush(Ze),Ze.process()};if(Q.session.certificateRequest===null||Q.session.clientCertificate===null)return xe(Q,null);p.getClientSignature(Q,xe)},p.handleChangeCipherSpec=function(Q,W){if(W.fragment.getByte()!==1)return Q.error(Q,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var re=Q.entity===p.ConnectionEnd.client;(Q.session.resuming&&re||!Q.session.resuming&&!re)&&(Q.state.pending=p.createConnectionState(Q)),Q.state.current.read=Q.state.pending.read,(!Q.session.resuming&&re||Q.session.resuming&&!re)&&(Q.state.pending=null),Q.expect=re?V:M,Q.process()},p.handleFinished=function(Q,W,re){var O=W.fragment;O.read-=4;var Z=O.bytes();O.read+=4;var be=W.fragment.getBytes();O=r.util.createBuffer(),O.putBuffer(Q.session.md5.digest()),O.putBuffer(Q.session.sha1.digest());var xe=Q.entity===p.ConnectionEnd.client,Ze=xe?"server finished":"client finished",gt=Q.session.sp,dt=12,Ve=a;if(O=Ve(gt.master_secret,Ze,O.getBytes(),dt),O.getBytes()!==be)return Q.error(Q,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.decrypt_error}});Q.session.md5.update(Z),Q.session.sha1.update(Z),(Q.session.resuming&&xe||!Q.session.resuming&&!xe)&&(p.queue(Q,p.createRecord(Q,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),Q.state.current.write=Q.state.pending.write,Q.state.pending=null,p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createFinished(Q)}))),Q.expect=xe?P:I,Q.handshaking=!1,++Q.handshakes,Q.peerCertificate=xe?Q.session.serverCertificate:Q.session.clientCertificate,p.flush(Q),Q.isConnected=!0,Q.connected(Q),Q.process()},p.handleAlert=function(Q,W){var re=W.fragment,O={level:re.getByte(),description:re.getByte()},Z;switch(O.description){case p.Alert.Description.close_notify:Z="Connection closed.";break;case p.Alert.Description.unexpected_message:Z="Unexpected message.";break;case p.Alert.Description.bad_record_mac:Z="Bad record MAC.";break;case p.Alert.Description.decryption_failed:Z="Decryption failed.";break;case p.Alert.Description.record_overflow:Z="Record overflow.";break;case p.Alert.Description.decompression_failure:Z="Decompression failed.";break;case p.Alert.Description.handshake_failure:Z="Handshake failure.";break;case p.Alert.Description.bad_certificate:Z="Bad certificate.";break;case p.Alert.Description.unsupported_certificate:Z="Unsupported certificate.";break;case p.Alert.Description.certificate_revoked:Z="Certificate revoked.";break;case p.Alert.Description.certificate_expired:Z="Certificate expired.";break;case p.Alert.Description.certificate_unknown:Z="Certificate unknown.";break;case p.Alert.Description.illegal_parameter:Z="Illegal parameter.";break;case p.Alert.Description.unknown_ca:Z="Unknown certificate authority.";break;case p.Alert.Description.access_denied:Z="Access denied.";break;case p.Alert.Description.decode_error:Z="Decode error.";break;case p.Alert.Description.decrypt_error:Z="Decrypt error.";break;case p.Alert.Description.export_restriction:Z="Export restriction.";break;case p.Alert.Description.protocol_version:Z="Unsupported protocol version.";break;case p.Alert.Description.insufficient_security:Z="Insufficient security.";break;case p.Alert.Description.internal_error:Z="Internal error.";break;case p.Alert.Description.user_canceled:Z="User canceled.";break;case p.Alert.Description.no_renegotiation:Z="Renegotiation not supported.";break;default:Z="Unknown error.";break}if(O.description===p.Alert.Description.close_notify)return Q.close();Q.error(Q,{message:Z,send:!1,origin:Q.entity===p.ConnectionEnd.client?"server":"client",alert:O}),Q.process()},p.handleHandshake=function(Q,W){var re=W.fragment,O=re.getByte(),Z=re.getInt24();if(Z>re.length())return Q.fragmented=W,W.fragment=r.util.createBuffer(),re.read-=4,Q.process();Q.fragmented=null,re.read-=4;var be=re.bytes(Z+4);re.read+=4,O in Se[Q.entity][Q.expect]?(Q.entity===p.ConnectionEnd.server&&!Q.open&&!Q.fail&&(Q.handshaking=!0,Q.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:r.md.md5.create(),sha1:r.md.sha1.create()}),O!==p.HandshakeType.hello_request&&O!==p.HandshakeType.certificate_verify&&O!==p.HandshakeType.finished&&(Q.session.md5.update(be),Q.session.sha1.update(be)),Se[Q.entity][Q.expect][O](Q,W,Z)):p.handleUnexpected(Q,W)},p.handleApplicationData=function(Q,W){Q.data.putBuffer(W.fragment),Q.dataReady(Q),Q.process()},p.handleHeartbeat=function(Q,W){var re=W.fragment,O=re.getByte(),Z=re.getInt16(),be=re.getBytes(Z);if(O===p.HeartbeatMessageType.heartbeat_request){if(Q.handshaking||Z>be.length)return Q.process();p.queue(Q,p.createRecord(Q,{type:p.ContentType.heartbeat,data:p.createHeartbeat(p.HeartbeatMessageType.heartbeat_response,be)})),p.flush(Q)}else if(O===p.HeartbeatMessageType.heartbeat_response){if(be!==Q.expectedHeartbeatPayload)return Q.process();Q.heartbeatReceived&&Q.heartbeatReceived(Q,r.util.createBuffer(be))}Q.process()};var w=0,C=1,D=2,R=3,L=4,_=5,V=6,P=7,H=8,T=0,F=1,U=2,K=3,X=4,M=5,I=6,E=p.handleUnexpected,j=p.handleChangeCipherSpec,ie=p.handleAlert,de=p.handleHandshake,ee=p.handleApplicationData,se=p.handleHeartbeat,Ce=[];Ce[p.ConnectionEnd.client]=[[E,ie,de,E,se],[E,ie,de,E,se],[E,ie,de,E,se],[E,ie,de,E,se],[E,ie,de,E,se],[j,ie,E,E,se],[E,ie,de,E,se],[E,ie,de,ee,se],[E,ie,de,E,se]],Ce[p.ConnectionEnd.server]=[[E,ie,de,E,se],[E,ie,de,E,se],[E,ie,de,E,se],[E,ie,de,E,se],[j,ie,E,E,se],[E,ie,de,E,se],[E,ie,de,ee,se],[E,ie,de,E,se]];var oe=p.handleHelloRequest,he=p.handleServerHello,ve=p.handleCertificate,ke=p.handleServerKeyExchange,Ue=p.handleCertificateRequest,Me=p.handleServerHelloDone,Ae=p.handleFinished,Se=[];Se[p.ConnectionEnd.client]=[[E,E,he,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[oe,E,E,E,E,E,E,E,E,E,E,ve,ke,Ue,Me,E,E,E,E,E,E],[oe,E,E,E,E,E,E,E,E,E,E,E,ke,Ue,Me,E,E,E,E,E,E],[oe,E,E,E,E,E,E,E,E,E,E,E,E,Ue,Me,E,E,E,E,E,E],[oe,E,E,E,E,E,E,E,E,E,E,E,E,E,Me,E,E,E,E,E,E],[oe,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[oe,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,Ae],[oe,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[oe,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]];var ze=p.handleClientHello,_e=p.handleClientKeyExchange,Je=p.handleCertificateVerify;Se[p.ConnectionEnd.server]=[[E,ze,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,ve,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,_e,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,Je,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,Ae],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]],p.generateKeys=function(Q,W){var re=a,O=W.client_random+W.server_random;Q.session.resuming||(W.master_secret=re(W.pre_master_secret,"master secret",O,48).bytes(),W.pre_master_secret=null),O=W.server_random+W.client_random;var Z=2*W.mac_key_length+2*W.enc_key_length,be=Q.version.major===p.Versions.TLS_1_0.major&&Q.version.minor===p.Versions.TLS_1_0.minor;be&&(Z+=2*W.fixed_iv_length);var xe=re(W.master_secret,"key expansion",O,Z),Ze={client_write_MAC_key:xe.getBytes(W.mac_key_length),server_write_MAC_key:xe.getBytes(W.mac_key_length),client_write_key:xe.getBytes(W.enc_key_length),server_write_key:xe.getBytes(W.enc_key_length)};return be&&(Ze.client_write_IV=xe.getBytes(W.fixed_iv_length),Ze.server_write_IV=xe.getBytes(W.fixed_iv_length)),Ze},p.createConnectionState=function(Q){var W=Q.entity===p.ConnectionEnd.client,re=function(){var be={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(xe){return!0},compressionState:null,compressFunction:function(xe){return!0},updateSequenceNumber:function(){be.sequenceNumber[1]===4294967295?(be.sequenceNumber[1]=0,++be.sequenceNumber[0]):++be.sequenceNumber[1]}};return be},O={read:re(),write:re()};if(O.read.update=function(be,xe){return O.read.cipherFunction(xe,O.read)?O.read.compressFunction(be,xe,O.read)||be.error(be,{message:"Could not decompress record.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.decompression_failure}}):be.error(be,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_record_mac}}),!be.fail},O.write.update=function(be,xe){return O.write.compressFunction(be,xe,O.write)?O.write.cipherFunction(xe,O.write)||be.error(be,{message:"Could not encrypt record.",send:!1,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}):be.error(be,{message:"Could not compress record.",send:!1,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}),!be.fail},Q.session){var Z=Q.session.sp;switch(Q.session.cipherSuite.initSecurityParameters(Z),Z.keys=p.generateKeys(Q,Z),O.read.macKey=W?Z.keys.server_write_MAC_key:Z.keys.client_write_MAC_key,O.write.macKey=W?Z.keys.client_write_MAC_key:Z.keys.server_write_MAC_key,Q.session.cipherSuite.initConnectionState(O,Q,Z),Z.compression_algorithm){case p.CompressionMethod.none:break;case p.CompressionMethod.deflate:O.read.compressFunction=v,O.write.compressFunction=f;break;default:throw new Error("Unsupported compression algorithm.")}}return O},p.createRandom=function(){var Q=new Date,W=+Q+Q.getTimezoneOffset()*6e4,re=r.util.createBuffer();return re.putInt32(W),re.putBytes(r.random.getBytes(28)),re},p.createRecord=function(Q,W){if(!W.data)return null;var re={type:W.type,version:{major:Q.version.major,minor:Q.version.minor},length:W.data.length(),fragment:W.data};return re},p.createAlert=function(Q,W){var re=r.util.createBuffer();return re.putByte(W.level),re.putByte(W.description),p.createRecord(Q,{type:p.ContentType.alert,data:re})},p.createClientHello=function(Q){Q.session.clientHelloVersion={major:Q.version.major,minor:Q.version.minor};for(var W=r.util.createBuffer(),re=0;re<Q.cipherSuites.length;++re){var O=Q.cipherSuites[re];W.putByte(O.id[0]),W.putByte(O.id[1])}var Z=W.length(),be=r.util.createBuffer();be.putByte(p.CompressionMethod.none);var xe=be.length(),Ze=r.util.createBuffer();if(Q.virtualHost){var gt=r.util.createBuffer();gt.putByte(0),gt.putByte(0);var dt=r.util.createBuffer();dt.putByte(0),A(dt,2,r.util.createBuffer(Q.virtualHost));var Ve=r.util.createBuffer();A(Ve,2,dt),A(gt,2,Ve),Ze.putBuffer(gt)}var pt=Ze.length();pt>0&&(pt+=2);var Ye=Q.session.id,Lt=Ye.length+1+2+4+28+2+Z+1+xe+pt,St=r.util.createBuffer();return St.putByte(p.HandshakeType.client_hello),St.putInt24(Lt),St.putByte(Q.version.major),St.putByte(Q.version.minor),St.putBytes(Q.session.sp.client_random),A(St,1,r.util.createBuffer(Ye)),A(St,2,W),A(St,1,be),pt>0&&A(St,2,Ze),St},p.createServerHello=function(Q){var W=Q.session.id,re=W.length+1+2+4+28+2+1,O=r.util.createBuffer();return O.putByte(p.HandshakeType.server_hello),O.putInt24(re),O.putByte(Q.version.major),O.putByte(Q.version.minor),O.putBytes(Q.session.sp.server_random),A(O,1,r.util.createBuffer(W)),O.putByte(Q.session.cipherSuite.id[0]),O.putByte(Q.session.cipherSuite.id[1]),O.putByte(Q.session.compressionMethod),O},p.createCertificate=function(Q){var W=Q.entity===p.ConnectionEnd.client,re=null;if(Q.getCertificate){var O;W?O=Q.session.certificateRequest:O=Q.session.extensions.server_name.serverNameList,re=Q.getCertificate(Q,O)}var Z=r.util.createBuffer();if(re!==null)try{r.util.isArray(re)||(re=[re]);for(var be=null,xe=0;xe<re.length;++xe){var Ze=r.pem.decode(re[xe])[0];if(Ze.type!=="CERTIFICATE"&&Ze.type!=="X509 CERTIFICATE"&&Ze.type!=="TRUSTED CERTIFICATE"){var gt=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw gt.headerType=Ze.type,gt}if(Ze.procType&&Ze.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var dt=r.util.createBuffer(Ze.body);be===null&&(be=r.asn1.fromDer(dt.bytes(),!1));var Ve=r.util.createBuffer();A(Ve,3,dt),Z.putBuffer(Ve)}re=r.pki.certificateFromAsn1(be),W?Q.session.clientCertificate=re:Q.session.serverCertificate=re}catch(Lt){return Q.error(Q,{message:"Could not send certificate list.",cause:Lt,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate}})}var pt=3+Z.length(),Ye=r.util.createBuffer();return Ye.putByte(p.HandshakeType.certificate),Ye.putInt24(pt),A(Ye,3,Z),Ye},p.createClientKeyExchange=function(Q){var W=r.util.createBuffer();W.putByte(Q.session.clientHelloVersion.major),W.putByte(Q.session.clientHelloVersion.minor),W.putBytes(r.random.getBytes(46));var re=Q.session.sp;re.pre_master_secret=W.getBytes();var O=Q.session.serverCertificate.publicKey;W=O.encrypt(re.pre_master_secret);var Z=W.length+2,be=r.util.createBuffer();return be.putByte(p.HandshakeType.client_key_exchange),be.putInt24(Z),be.putInt16(W.length),be.putBytes(W),be},p.createServerKeyExchange=function(Q){var W=r.util.createBuffer();return W},p.getClientSignature=function(Q,W){var re=r.util.createBuffer();re.putBuffer(Q.session.md5.digest()),re.putBuffer(Q.session.sha1.digest()),re=re.getBytes(),Q.getSignature=Q.getSignature||function(O,Z,be){var xe=null;if(O.getPrivateKey)try{xe=O.getPrivateKey(O,O.session.clientCertificate),xe=r.pki.privateKeyFromPem(xe)}catch(Ze){O.error(O,{message:"Could not get private key.",cause:Ze,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}})}xe===null?O.error(O,{message:"No private key set.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}):Z=xe.sign(Z,null),be(O,Z)},Q.getSignature(Q,re,W)},p.createCertificateVerify=function(Q,W){var re=W.length+2,O=r.util.createBuffer();return O.putByte(p.HandshakeType.certificate_verify),O.putInt24(re),O.putInt16(W.length),O.putBytes(W),O},p.createCertificateRequest=function(Q){var W=r.util.createBuffer();W.putByte(1);var re=r.util.createBuffer();for(var O in Q.caStore.certs){var Z=Q.caStore.certs[O],be=r.pki.distinguishedNameToAsn1(Z.subject),xe=r.asn1.toDer(be);re.putInt16(xe.length()),re.putBuffer(xe)}var Ze=1+W.length()+2+re.length(),gt=r.util.createBuffer();return gt.putByte(p.HandshakeType.certificate_request),gt.putInt24(Ze),A(gt,1,W),A(gt,2,re),gt},p.createServerHelloDone=function(Q){var W=r.util.createBuffer();return W.putByte(p.HandshakeType.server_hello_done),W.putInt24(0),W},p.createChangeCipherSpec=function(){var Q=r.util.createBuffer();return Q.putByte(1),Q},p.createFinished=function(Q){var W=r.util.createBuffer();W.putBuffer(Q.session.md5.digest()),W.putBuffer(Q.session.sha1.digest());var re=Q.entity===p.ConnectionEnd.client,O=Q.session.sp,Z=12,be=a,xe=re?"client finished":"server finished";W=be(O.master_secret,xe,W.getBytes(),Z);var Ze=r.util.createBuffer();return Ze.putByte(p.HandshakeType.finished),Ze.putInt24(W.length()),Ze.putBuffer(W),Ze},p.createHeartbeat=function(Q,W,re){typeof re>"u"&&(re=W.length);var O=r.util.createBuffer();O.putByte(Q),O.putInt16(re),O.putBytes(W);var Z=O.length(),be=Math.max(16,Z-re-3);return O.putBytes(r.random.getBytes(be)),O},p.queue=function(Q,W){if(W&&!(W.fragment.length()===0&&(W.type===p.ContentType.handshake||W.type===p.ContentType.alert||W.type===p.ContentType.change_cipher_spec))){if(W.type===p.ContentType.handshake){var re=W.fragment.bytes();Q.session.md5.update(re),Q.session.sha1.update(re),re=null}var O;if(W.fragment.length()<=p.MaxFragment)O=[W];else{O=[];for(var Z=W.fragment.bytes();Z.length>p.MaxFragment;)O.push(p.createRecord(Q,{type:W.type,data:r.util.createBuffer(Z.slice(0,p.MaxFragment))})),Z=Z.slice(p.MaxFragment);Z.length>0&&O.push(p.createRecord(Q,{type:W.type,data:r.util.createBuffer(Z)}))}for(var be=0;be<O.length&&!Q.fail;++be){var xe=O[be],Ze=Q.state.current.write;Ze.update(Q,xe)&&Q.records.push(xe)}}},p.flush=function(Q){for(var W=0;W<Q.records.length;++W){var re=Q.records[W];Q.tlsData.putByte(re.type),Q.tlsData.putByte(re.version.major),Q.tlsData.putByte(re.version.minor),Q.tlsData.putInt16(re.fragment.length()),Q.tlsData.putBuffer(Q.records[W].fragment)}return Q.records=[],Q.tlsDataReady(Q)};var Ne=function(Q){switch(Q){case!0:return!0;case r.pki.certificateError.bad_certificate:return p.Alert.Description.bad_certificate;case r.pki.certificateError.unsupported_certificate:return p.Alert.Description.unsupported_certificate;case r.pki.certificateError.certificate_revoked:return p.Alert.Description.certificate_revoked;case r.pki.certificateError.certificate_expired:return p.Alert.Description.certificate_expired;case r.pki.certificateError.certificate_unknown:return p.Alert.Description.certificate_unknown;case r.pki.certificateError.unknown_ca:return p.Alert.Description.unknown_ca;default:return p.Alert.Description.bad_certificate}},wt=function(Q){switch(Q){case!0:return!0;case p.Alert.Description.bad_certificate:return r.pki.certificateError.bad_certificate;case p.Alert.Description.unsupported_certificate:return r.pki.certificateError.unsupported_certificate;case p.Alert.Description.certificate_revoked:return r.pki.certificateError.certificate_revoked;case p.Alert.Description.certificate_expired:return r.pki.certificateError.certificate_expired;case p.Alert.Description.certificate_unknown:return r.pki.certificateError.certificate_unknown;case p.Alert.Description.unknown_ca:return r.pki.certificateError.unknown_ca;default:return r.pki.certificateError.bad_certificate}};p.verifyCertificateChain=function(Q,W){try{var re={};for(var O in Q.verifyOptions)re[O]=Q.verifyOptions[O];re.verify=function(be,xe,Ze){var gt=Ne(be),dt=Q.verify(Q,be,xe,Ze);if(dt!==!0){if(typeof dt=="object"&&!r.util.isArray(dt)){var Ve=new Error("The application rejected the certificate.");throw Ve.send=!0,Ve.alert={level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate},dt.message&&(Ve.message=dt.message),dt.alert&&(Ve.alert.description=dt.alert),Ve}dt!==be&&(dt=wt(dt))}return dt},r.pki.verifyCertificateChain(Q.caStore,W,re)}catch(be){var Z=be;(typeof Z!="object"||r.util.isArray(Z))&&(Z={send:!0,alert:{level:p.Alert.Level.fatal,description:Ne(be)}}),"send"in Z||(Z.send=!0),"alert"in Z||(Z.alert={level:p.Alert.Level.fatal,description:Ne(Z.error)}),Q.error(Q,Z)}return!Q.fail},p.createSessionCache=function(Q,W){var re=null;if(Q&&Q.getSession&&Q.setSession&&Q.order)re=Q;else{re={},re.cache=Q||{},re.capacity=Math.max(W||100,1),re.order=[];for(var O in Q)re.order.length<=W?re.order.push(O):delete Q[O];re.getSession=function(Z){var be=null,xe=null;if(Z?xe=r.util.bytesToHex(Z):re.order.length>0&&(xe=re.order[0]),xe!==null&&xe in re.cache){be=re.cache[xe],delete re.cache[xe];for(var Ze in re.order)if(re.order[Ze]===xe){re.order.splice(Ze,1);break}}return be},re.setSession=function(Z,be){if(re.order.length===re.capacity){var xe=re.order.shift();delete re.cache[xe]}var xe=r.util.bytesToHex(Z);re.order.push(xe),re.cache[xe]=be}}return re},p.createConnection=function(Q){var W=null;Q.caStore?r.util.isArray(Q.caStore)?W=r.pki.createCaStore(Q.caStore):W=Q.caStore:W=r.pki.createCaStore();var re=Q.cipherSuites||null;if(re===null){re=[];for(var O in p.CipherSuites)re.push(p.CipherSuites[O])}var Z=Q.server?p.ConnectionEnd.server:p.ConnectionEnd.client,be=Q.sessionCache?p.createSessionCache(Q.sessionCache):null,xe={version:{major:p.Version.major,minor:p.Version.minor},entity:Z,sessionId:Q.sessionId,caStore:W,sessionCache:be,cipherSuites:re,connected:Q.connected,virtualHost:Q.virtualHost||null,verifyClient:Q.verifyClient||!1,verify:Q.verify||function(Ve,pt,Ye,Lt){return pt},verifyOptions:Q.verifyOptions||{},getCertificate:Q.getCertificate||null,getPrivateKey:Q.getPrivateKey||null,getSignature:Q.getSignature||null,input:r.util.createBuffer(),tlsData:r.util.createBuffer(),data:r.util.createBuffer(),tlsDataReady:Q.tlsDataReady,dataReady:Q.dataReady,heartbeatReceived:Q.heartbeatReceived,closed:Q.closed,error:function(Ve,pt){pt.origin=pt.origin||(Ve.entity===p.ConnectionEnd.client?"client":"server"),pt.send&&(p.queue(Ve,p.createAlert(Ve,pt.alert)),p.flush(Ve));var Ye=pt.fatal!==!1;Ye&&(Ve.fail=!0),Q.error(Ve,pt),Ye&&Ve.close(!1)},deflate:Q.deflate||null,inflate:Q.inflate||null};xe.reset=function(Ve){xe.version={major:p.Version.major,minor:p.Version.minor},xe.record=null,xe.session=null,xe.peerCertificate=null,xe.state={pending:null,current:null},xe.expect=xe.entity===p.ConnectionEnd.client?w:T,xe.fragmented=null,xe.records=[],xe.open=!1,xe.handshakes=0,xe.handshaking=!1,xe.isConnected=!1,xe.fail=!(Ve||typeof Ve>"u"),xe.input.clear(),xe.tlsData.clear(),xe.data.clear(),xe.state.current=p.createConnectionState(xe)},xe.reset();var Ze=function(Ve,pt){var Ye=pt.type-p.ContentType.change_cipher_spec,Lt=Ce[Ve.entity][Ve.expect];Ye in Lt?Lt[Ye](Ve,pt):p.handleUnexpected(Ve,pt)},gt=function(Ve){var pt=0,Ye=Ve.input,Lt=Ye.length();if(Lt<5)pt=5-Lt;else{Ve.record={type:Ye.getByte(),version:{major:Ye.getByte(),minor:Ye.getByte()},length:Ye.getInt16(),fragment:r.util.createBuffer(),ready:!1};var St=Ve.record.version.major===Ve.version.major;St&&Ve.session&&Ve.session.version&&(St=Ve.record.version.minor===Ve.version.minor),St||Ve.error(Ve,{message:"Incompatible TLS version.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}})}return pt},dt=function(Ve){var pt=0,Ye=Ve.input,Lt=Ye.length();if(Lt<Ve.record.length)pt=Ve.record.length-Lt;else{Ve.record.fragment.putBytes(Ye.getBytes(Ve.record.length)),Ye.compact();var St=Ve.state.current.read;St.update(Ve,Ve.record)&&(Ve.fragmented!==null&&(Ve.fragmented.type===Ve.record.type?(Ve.fragmented.fragment.putBuffer(Ve.record.fragment),Ve.record=Ve.fragmented):Ve.error(Ve,{message:"Invalid fragmented record.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unexpected_message}})),Ve.record.ready=!0)}return pt};return xe.handshake=function(Ve){if(xe.entity!==p.ConnectionEnd.client)xe.error(xe,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(xe.handshaking)xe.error(xe,{message:"Handshake already in progress.",fatal:!1});else{xe.fail&&!xe.open&&xe.handshakes===0&&(xe.fail=!1),xe.handshaking=!0,Ve=Ve||"";var pt=null;Ve.length>0&&(xe.sessionCache&&(pt=xe.sessionCache.getSession(Ve)),pt===null&&(Ve="")),Ve.length===0&&xe.sessionCache&&(pt=xe.sessionCache.getSession(),pt!==null&&(Ve=pt.id)),xe.session={id:Ve,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:r.md.md5.create(),sha1:r.md.sha1.create()},pt&&(xe.version=pt.version,xe.session.sp=pt.sp),xe.session.sp.client_random=p.createRandom().getBytes(),xe.open=!0,p.queue(xe,p.createRecord(xe,{type:p.ContentType.handshake,data:p.createClientHello(xe)})),p.flush(xe)}},xe.process=function(Ve){var pt=0;return Ve&&xe.input.putBytes(Ve),xe.fail||(xe.record!==null&&xe.record.ready&&xe.record.fragment.isEmpty()&&(xe.record=null),xe.record===null&&(pt=gt(xe)),!xe.fail&&xe.record!==null&&!xe.record.ready&&(pt=dt(xe)),!xe.fail&&xe.record!==null&&xe.record.ready&&Ze(xe,xe.record)),pt},xe.prepare=function(Ve){return p.queue(xe,p.createRecord(xe,{type:p.ContentType.application_data,data:r.util.createBuffer(Ve)})),p.flush(xe)},xe.prepareHeartbeatRequest=function(Ve,pt){return Ve instanceof r.util.ByteBuffer&&(Ve=Ve.bytes()),typeof pt>"u"&&(pt=Ve.length),xe.expectedHeartbeatPayload=Ve,p.queue(xe,p.createRecord(xe,{type:p.ContentType.heartbeat,data:p.createHeartbeat(p.HeartbeatMessageType.heartbeat_request,Ve,pt)})),p.flush(xe)},xe.close=function(Ve){if(!xe.fail&&xe.sessionCache&&xe.session){var pt={id:xe.session.id,version:xe.session.version,sp:xe.session.sp};pt.sp.keys=null,xe.sessionCache.setSession(pt.id,pt)}xe.open&&(xe.open=!1,xe.input.clear(),(xe.isConnected||xe.handshaking)&&(xe.isConnected=xe.handshaking=!1,p.queue(xe,p.createAlert(xe,{level:p.Alert.Level.warning,description:p.Alert.Description.close_notify})),p.flush(xe)),xe.closed(xe)),xe.reset(Ve)},xe},$d=r.tls=r.tls||{};for(var yt in p)typeof p[yt]!="function"&&(r.tls[yt]=p[yt]);return r.tls.prf_tls1=a,r.tls.hmac_sha1=s,r.tls.createSessionCache=p.createSessionCache,r.tls.createConnection=p.createConnection,$d}var ym;function Wb(){if(ym)return Nd.exports;ym=1;var r=Nn();Oo(),J2();var a=Nd.exports=r.tls;a.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(w){w.bulk_cipher_algorithm=a.BulkCipherAlgorithm.aes,w.cipher_type=a.CipherType.block,w.enc_key_length=16,w.block_length=16,w.fixed_iv_length=16,w.record_iv_length=16,w.mac_algorithm=a.MACAlgorithm.hmac_sha1,w.mac_length=20,w.mac_key_length=20},initConnectionState:s},a.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(w){w.bulk_cipher_algorithm=a.BulkCipherAlgorithm.aes,w.cipher_type=a.CipherType.block,w.enc_key_length=32,w.block_length=16,w.fixed_iv_length=16,w.record_iv_length=16,w.mac_algorithm=a.MACAlgorithm.hmac_sha1,w.mac_length=20,w.mac_key_length=20},initConnectionState:s};function s(w,C,D){var R=C.entity===r.tls.ConnectionEnd.client;w.read.cipherState={init:!1,cipher:r.cipher.createDecipher("AES-CBC",R?D.keys.server_write_key:D.keys.client_write_key),iv:R?D.keys.server_write_IV:D.keys.client_write_IV},w.write.cipherState={init:!1,cipher:r.cipher.createCipher("AES-CBC",R?D.keys.client_write_key:D.keys.server_write_key),iv:R?D.keys.client_write_IV:D.keys.server_write_IV},w.read.cipherFunction=A,w.write.cipherFunction=f,w.read.macLength=w.write.macLength=D.mac_length,w.read.macFunction=w.write.macFunction=a.hmac_sha1}function f(w,C){var D=!1,R=C.macFunction(C.macKey,C.sequenceNumber,w);w.fragment.putBytes(R),C.updateSequenceNumber();var L;w.version.minor===a.Versions.TLS_1_0.minor?L=C.cipherState.init?null:C.cipherState.iv:L=r.random.getBytesSync(16),C.cipherState.init=!0;var _=C.cipherState.cipher;return _.start({iv:L}),w.version.minor>=a.Versions.TLS_1_1.minor&&_.output.putBytes(L),_.update(w.fragment),_.finish(v)&&(w.fragment=_.output,w.length=w.fragment.length(),D=!0),D}function v(w,C,D){if(!D){var R=w-C.length()%w;C.fillWithByte(R-1,R)}return!0}function m(w,C,D){var R=!0;if(D){for(var L=C.length(),_=C.last(),V=L-1-_;V<L-1;++V)R=R&&C.at(V)==_;R&&C.truncate(_+1)}return R}function A(w,C){var D=!1,R;w.version.minor===a.Versions.TLS_1_0.minor?R=C.cipherState.init?null:C.cipherState.iv:R=w.fragment.getBytes(16),C.cipherState.init=!0;var L=C.cipherState.cipher;L.start({iv:R}),L.update(w.fragment),D=L.finish(m);var _=C.macLength,V=r.random.getBytesSync(_),P=L.output.length();P>=_?(w.fragment=L.output.getBytes(P-_),V=L.output.getBytes(_)):w.fragment=L.output.getBytes(),w.fragment=r.util.createBuffer(w.fragment),w.length=w.fragment.length();var H=C.macFunction(C.macKey,C.sequenceNumber,w);return C.updateSequenceNumber(),D=p(C.macKey,V,H)&&D,D}function p(w,C,D){var R=r.hmac.create();return R.start("SHA1",w),R.update(C),C=R.digest().getBytes(),R.start(null,null),R.update(D),D=R.digest().getBytes(),C===D}return Nd.exports}var eh={exports:{}},mm;function $2(){if(mm)return eh.exports;mm=1;var r=Nn();ys(),Xn();var a=eh.exports=r.sha512=r.sha512||{};r.md.sha512=r.md.algorithms.sha512=a;var s=r.sha384=r.sha512.sha384=r.sha512.sha384||{};s.create=function(){return a.create("SHA-384")},r.md.sha384=r.md.algorithms.sha384=s,r.sha512.sha256=r.sha512.sha256||{create:function(){return a.create("SHA-512/256")}},r.md["sha512/256"]=r.md.algorithms["sha512/256"]=r.sha512.sha256,r.sha512.sha224=r.sha512.sha224||{create:function(){return a.create("SHA-512/224")}},r.md["sha512/224"]=r.md.algorithms["sha512/224"]=r.sha512.sha224,a.create=function(C){if(v||p(),typeof C>"u"&&(C="SHA-512"),!(C in A))throw new Error("Invalid SHA-512 algorithm: "+C);for(var D=A[C],R=null,L=r.util.createBuffer(),_=new Array(80),V=0;V<80;++V)_[V]=new Array(2);var P=64;switch(C){case"SHA-384":P=48;break;case"SHA-512/256":P=32;break;case"SHA-512/224":P=28;break}var H={algorithm:C.replace("-","").toLowerCase(),blockLength:128,digestLength:P,messageLength:0,fullMessageLength:null,messageLengthSize:16};return H.start=function(){H.messageLength=0,H.fullMessageLength=H.messageLength128=[];for(var T=H.messageLengthSize/4,F=0;F<T;++F)H.fullMessageLength.push(0);L=r.util.createBuffer(),R=new Array(D.length);for(var F=0;F<D.length;++F)R[F]=D[F].slice(0);return H},H.start(),H.update=function(T,F){F==="utf8"&&(T=r.util.encodeUtf8(T));var U=T.length;H.messageLength+=U,U=[U/4294967296>>>0,U>>>0];for(var K=H.fullMessageLength.length-1;K>=0;--K)H.fullMessageLength[K]+=U[1],U[1]=U[0]+(H.fullMessageLength[K]/4294967296>>>0),H.fullMessageLength[K]=H.fullMessageLength[K]>>>0,U[0]=U[1]/4294967296>>>0;return L.putBytes(T),w(R,_,L),(L.read>2048||L.length()===0)&&L.compact(),H},H.digest=function(){var T=r.util.createBuffer();T.putBytes(L.bytes());var F=H.fullMessageLength[H.fullMessageLength.length-1]+H.messageLengthSize,U=F&H.blockLength-1;T.putBytes(f.substr(0,H.blockLength-U));for(var K,X,M=H.fullMessageLength[0]*8,I=0;I<H.fullMessageLength.length-1;++I)K=H.fullMessageLength[I+1]*8,X=K/4294967296>>>0,M+=X,T.putInt32(M>>>0),M=K>>>0;T.putInt32(M);for(var E=new Array(R.length),I=0;I<R.length;++I)E[I]=R[I].slice(0);w(E,_,T);var j=r.util.createBuffer(),ie;C==="SHA-512"?ie=E.length:C==="SHA-384"?ie=E.length-2:ie=E.length-4;for(var I=0;I<ie;++I)j.putInt32(E[I][0]),(I!==ie-1||C!=="SHA-512/224")&&j.putInt32(E[I][1]);return j},H};var f=null,v=!1,m=null,A=null;function p(){f="",f+=r.util.fillString("\0",128),m=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],A={},A["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],A["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],A["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],A["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],v=!0}function w(C,D,R){for(var L,_,V,P,H,T,F,U,K,X,M,I,E,j,ie,de,ee,se,Ce,oe,he,ve,ke,Ue,Me,Ae,Se,ze,_e,Je,Ne,wt,yt,Q,W,re=R.length();re>=128;){for(_e=0;_e<16;++_e)D[_e][0]=R.getInt32()>>>0,D[_e][1]=R.getInt32()>>>0;for(;_e<80;++_e)wt=D[_e-2],Je=wt[0],Ne=wt[1],L=((Je>>>19|Ne<<13)^(Ne>>>29|Je<<3)^Je>>>6)>>>0,_=((Je<<13|Ne>>>19)^(Ne<<3|Je>>>29)^(Je<<26|Ne>>>6))>>>0,Q=D[_e-15],Je=Q[0],Ne=Q[1],V=((Je>>>1|Ne<<31)^(Je>>>8|Ne<<24)^Je>>>7)>>>0,P=((Je<<31|Ne>>>1)^(Je<<24|Ne>>>8)^(Je<<25|Ne>>>7))>>>0,yt=D[_e-7],W=D[_e-16],Ne=_+yt[1]+P+W[1],D[_e][0]=L+yt[0]+V+W[0]+(Ne/4294967296>>>0)>>>0,D[_e][1]=Ne>>>0;for(E=C[0][0],j=C[0][1],ie=C[1][0],de=C[1][1],ee=C[2][0],se=C[2][1],Ce=C[3][0],oe=C[3][1],he=C[4][0],ve=C[4][1],ke=C[5][0],Ue=C[5][1],Me=C[6][0],Ae=C[6][1],Se=C[7][0],ze=C[7][1],_e=0;_e<80;++_e)F=((he>>>14|ve<<18)^(he>>>18|ve<<14)^(ve>>>9|he<<23))>>>0,U=((he<<18|ve>>>14)^(he<<14|ve>>>18)^(ve<<23|he>>>9))>>>0,K=(Me^he&(ke^Me))>>>0,X=(Ae^ve&(Ue^Ae))>>>0,H=((E>>>28|j<<4)^(j>>>2|E<<30)^(j>>>7|E<<25))>>>0,T=((E<<4|j>>>28)^(j<<30|E>>>2)^(j<<25|E>>>7))>>>0,M=(E&ie|ee&(E^ie))>>>0,I=(j&de|se&(j^de))>>>0,Ne=ze+U+X+m[_e][1]+D[_e][1],L=Se+F+K+m[_e][0]+D[_e][0]+(Ne/4294967296>>>0)>>>0,_=Ne>>>0,Ne=T+I,V=H+M+(Ne/4294967296>>>0)>>>0,P=Ne>>>0,Se=Me,ze=Ae,Me=ke,Ae=Ue,ke=he,Ue=ve,Ne=oe+_,he=Ce+L+(Ne/4294967296>>>0)>>>0,ve=Ne>>>0,Ce=ee,oe=se,ee=ie,se=de,ie=E,de=j,Ne=_+P,E=L+V+(Ne/4294967296>>>0)>>>0,j=Ne>>>0;Ne=C[0][1]+j,C[0][0]=C[0][0]+E+(Ne/4294967296>>>0)>>>0,C[0][1]=Ne>>>0,Ne=C[1][1]+de,C[1][0]=C[1][0]+ie+(Ne/4294967296>>>0)>>>0,C[1][1]=Ne>>>0,Ne=C[2][1]+se,C[2][0]=C[2][0]+ee+(Ne/4294967296>>>0)>>>0,C[2][1]=Ne>>>0,Ne=C[3][1]+oe,C[3][0]=C[3][0]+Ce+(Ne/4294967296>>>0)>>>0,C[3][1]=Ne>>>0,Ne=C[4][1]+ve,C[4][0]=C[4][0]+he+(Ne/4294967296>>>0)>>>0,C[4][1]=Ne>>>0,Ne=C[5][1]+Ue,C[5][0]=C[5][0]+ke+(Ne/4294967296>>>0)>>>0,C[5][1]=Ne>>>0,Ne=C[6][1]+Ae,C[6][0]=C[6][0]+Me+(Ne/4294967296>>>0)>>>0,C[6][1]=Ne>>>0,Ne=C[7][1]+ze,C[7][0]=C[7][0]+Se+(Ne/4294967296>>>0)>>>0,C[7][1]=Ne>>>0,re-=128}}return eh.exports}var Vu={},xm;function Jb(){if(xm)return Vu;xm=1;var r=Nn();Pi();var a=r.asn1;return Vu.privateKeyValidator={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Vu.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},Vu}var th,vm;function $b(){if(vm)return th;vm=1;var r=Nn();gf(),Ai(),$2(),Xn();var a=Jb(),s=a.publicKeyValidator,f=a.privateKeyValidator;if(typeof v>"u")var v=r.jsbn.BigInteger;var m=r.util.ByteBuffer,A=typeof Buffer>"u"?Uint8Array:Buffer;r.pki=r.pki||{},th=r.pki.ed25519=r.ed25519=r.ed25519||{};var p=r.ed25519;p.constants={},p.constants.PUBLIC_KEY_BYTE_LENGTH=32,p.constants.PRIVATE_KEY_BYTE_LENGTH=64,p.constants.SEED_BYTE_LENGTH=32,p.constants.SIGN_BYTE_LENGTH=64,p.constants.HASH_BYTE_LENGTH=64,p.generateKeyPair=function(Q){Q=Q||{};var W=Q.seed;if(W===void 0)W=r.random.getBytesSync(p.constants.SEED_BYTE_LENGTH);else if(typeof W=="string"){if(W.length!==p.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+p.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(W instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');W=w({message:W,encoding:"binary"});for(var re=new A(p.constants.PUBLIC_KEY_BYTE_LENGTH),O=new A(p.constants.PRIVATE_KEY_BYTE_LENGTH),Z=0;Z<32;++Z)O[Z]=W[Z];return F(re,O),{publicKey:re,privateKey:O}},p.privateKeyFromAsn1=function(Q){var W={},re=[],O=r.asn1.validate(Q,f,W,re);if(!O){var Z=new Error("Invalid Key.");throw Z.errors=re,Z}var be=r.asn1.derToOid(W.privateKeyOid),xe=r.oids.EdDSA25519;if(be!==xe)throw new Error('Invalid OID "'+be+'"; OID must be "'+xe+'".');var Ze=W.privateKey,gt=w({message:r.asn1.fromDer(Ze).value,encoding:"binary"});return{privateKeyBytes:gt}},p.publicKeyFromAsn1=function(Q){var W={},re=[],O=r.asn1.validate(Q,s,W,re);if(!O){var Z=new Error("Invalid Key.");throw Z.errors=re,Z}var be=r.asn1.derToOid(W.publicKeyOid),xe=r.oids.EdDSA25519;if(be!==xe)throw new Error('Invalid OID "'+be+'"; OID must be "'+xe+'".');var Ze=W.ed25519PublicKey;if(Ze.length!==p.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return w({message:Ze,encoding:"binary"})},p.publicKeyFromPrivateKey=function(Q){Q=Q||{};var W=w({message:Q.privateKey,encoding:"binary"});if(W.length!==p.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+p.constants.PRIVATE_KEY_BYTE_LENGTH);for(var re=new A(p.constants.PUBLIC_KEY_BYTE_LENGTH),O=0;O<re.length;++O)re[O]=W[32+O];return re},p.sign=function(Q){Q=Q||{};var W=w(Q),re=w({message:Q.privateKey,encoding:"binary"});if(re.length===p.constants.SEED_BYTE_LENGTH){var O=p.generateKeyPair({seed:re});re=O.privateKey}else if(re.length!==p.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+p.constants.SEED_BYTE_LENGTH+" or "+p.constants.PRIVATE_KEY_BYTE_LENGTH);var Z=new A(p.constants.SIGN_BYTE_LENGTH+W.length);U(Z,W,W.length,re);for(var be=new A(p.constants.SIGN_BYTE_LENGTH),xe=0;xe<be.length;++xe)be[xe]=Z[xe];return be},p.verify=function(Q){Q=Q||{};var W=w(Q);if(Q.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var re=w({message:Q.signature,encoding:"binary"});if(re.length!==p.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+p.constants.SIGN_BYTE_LENGTH);var O=w({message:Q.publicKey,encoding:"binary"});if(O.length!==p.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+p.constants.PUBLIC_KEY_BYTE_LENGTH);var Z=new A(p.constants.SIGN_BYTE_LENGTH+W.length),be=new A(p.constants.SIGN_BYTE_LENGTH+W.length),xe;for(xe=0;xe<p.constants.SIGN_BYTE_LENGTH;++xe)Z[xe]=re[xe];for(xe=0;xe<W.length;++xe)Z[xe+p.constants.SIGN_BYTE_LENGTH]=W[xe];return K(be,Z,Z.length,O)>=0};function w(Q){var W=Q.message;if(W instanceof Uint8Array||W instanceof A)return W;var re=Q.encoding;if(W===void 0)if(Q.md)W=Q.md.digest().getBytes(),re="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof W=="string"&&!re)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof W=="string"){if(typeof Buffer<"u")return Buffer.from(W,re);W=new m(W,re)}else if(!(W instanceof m))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var O=new A(W.length()),Z=0;Z<O.length;++Z)O[Z]=W.at(Z);return O}var C=_e(),D=_e([1]),R=_e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),L=_e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=_e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),V=_e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),P=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),H=_e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(Q,W){var re=r.md.sha512.create(),O=new m(Q);re.update(O.getBytes(W),"binary");var Z=re.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(Z,"binary");for(var be=new A(p.constants.HASH_BYTE_LENGTH),xe=0;xe<64;++xe)be[xe]=Z.charCodeAt(xe);return be}function F(Q,W){var re=[_e(),_e(),_e(),_e()],O,Z=T(W,32);for(Z[0]&=248,Z[31]&=127,Z[31]|=64,Ue(re,Z),j(Q,re),O=0;O<32;++O)W[O+32]=Q[O];return 0}function U(Q,W,re,O){var Z,be,xe=new Float64Array(64),Ze=[_e(),_e(),_e(),_e()],gt=T(O,32);gt[0]&=248,gt[31]&=127,gt[31]|=64;var dt=re+64;for(Z=0;Z<re;++Z)Q[64+Z]=W[Z];for(Z=0;Z<32;++Z)Q[32+Z]=gt[32+Z];var Ve=T(Q.subarray(32),re+32);for(M(Ve),Ue(Ze,Ve),j(Q,Ze),Z=32;Z<64;++Z)Q[Z]=O[Z];var pt=T(Q,re+64);for(M(pt),Z=32;Z<64;++Z)xe[Z]=0;for(Z=0;Z<32;++Z)xe[Z]=Ve[Z];for(Z=0;Z<32;++Z)for(be=0;be<32;be++)xe[Z+be]+=pt[Z]*gt[be];return X(Q.subarray(32),xe),dt}function K(Q,W,re,O){var Z,be,xe=new A(32),Ze=[_e(),_e(),_e(),_e()],gt=[_e(),_e(),_e(),_e()];if(be=-1,re<64||de(gt,O))return-1;for(Z=0;Z<re;++Z)Q[Z]=W[Z];for(Z=0;Z<32;++Z)Q[Z+32]=O[Z];var dt=T(Q,re);if(M(dt),ke(Ze,gt,dt),Ue(gt,W.subarray(32)),I(Ze,gt),j(xe,Ze),re-=64,oe(W,0,xe,0)){for(Z=0;Z<re;++Z)Q[Z]=0;return-1}for(Z=0;Z<re;++Z)Q[Z]=W[Z+64];return be=re,be}function X(Q,W){var re,O,Z,be;for(O=63;O>=32;--O){for(re=0,Z=O-32,be=O-12;Z<be;++Z)W[Z]+=re-16*W[O]*P[Z-(O-32)],re=W[Z]+128>>8,W[Z]-=re*256;W[Z]+=re,W[O]=0}for(re=0,Z=0;Z<32;++Z)W[Z]+=re-(W[31]>>4)*P[Z],re=W[Z]>>8,W[Z]&=255;for(Z=0;Z<32;++Z)W[Z]-=re*P[Z];for(O=0;O<32;++O)W[O+1]+=W[O]>>8,Q[O]=W[O]&255}function M(Q){for(var W=new Float64Array(64),re=0;re<64;++re)W[re]=Q[re],Q[re]=0;X(Q,W)}function I(Q,W){var re=_e(),O=_e(),Z=_e(),be=_e(),xe=_e(),Ze=_e(),gt=_e(),dt=_e(),Ve=_e();Ne(re,Q[1],Q[0]),Ne(Ve,W[1],W[0]),yt(re,re,Ve),Je(O,Q[0],Q[1]),Je(Ve,W[0],W[1]),yt(O,O,Ve),yt(Z,Q[3],W[3]),yt(Z,Z,L),yt(be,Q[2],W[2]),Je(be,be,be),Ne(xe,O,re),Ne(Ze,be,Z),Je(gt,be,Z),Je(dt,O,re),yt(Q[0],xe,Ze),yt(Q[1],dt,gt),yt(Q[2],gt,Ze),yt(Q[3],xe,dt)}function E(Q,W,re){for(var O=0;O<4;++O)ze(Q[O],W[O],re)}function j(Q,W){var re=_e(),O=_e(),Z=_e();Ae(Z,W[2]),yt(re,W[0],Z),yt(O,W[1],Z),ie(Q,O),Q[31]^=ve(re)<<7}function ie(Q,W){var re,O,Z,be=_e(),xe=_e();for(re=0;re<16;++re)xe[re]=W[re];for(Se(xe),Se(xe),Se(xe),O=0;O<2;++O){for(be[0]=xe[0]-65517,re=1;re<15;++re)be[re]=xe[re]-65535-(be[re-1]>>16&1),be[re-1]&=65535;be[15]=xe[15]-32767-(be[14]>>16&1),Z=be[15]>>16&1,be[14]&=65535,ze(xe,be,1-Z)}for(re=0;re<16;re++)Q[2*re]=xe[re]&255,Q[2*re+1]=xe[re]>>8}function de(Q,W){var re=_e(),O=_e(),Z=_e(),be=_e(),xe=_e(),Ze=_e(),gt=_e();return Me(Q[2],D),ee(Q[1],W),wt(Z,Q[1]),yt(be,Z,R),Ne(Z,Z,Q[2]),Je(be,Q[2],be),wt(xe,be),wt(Ze,xe),yt(gt,Ze,xe),yt(re,gt,Z),yt(re,re,be),se(re,re),yt(re,re,Z),yt(re,re,be),yt(re,re,be),yt(Q[0],re,be),wt(O,Q[0]),yt(O,O,be),Ce(O,Z)&&yt(Q[0],Q[0],H),wt(O,Q[0]),yt(O,O,be),Ce(O,Z)?-1:(ve(Q[0])===W[31]>>7&&Ne(Q[0],C,Q[0]),yt(Q[3],Q[0],Q[1]),0)}function ee(Q,W){var re;for(re=0;re<16;++re)Q[re]=W[2*re]+(W[2*re+1]<<8);Q[15]&=32767}function se(Q,W){var re=_e(),O;for(O=0;O<16;++O)re[O]=W[O];for(O=250;O>=0;--O)wt(re,re),O!==1&&yt(re,re,W);for(O=0;O<16;++O)Q[O]=re[O]}function Ce(Q,W){var re=new A(32),O=new A(32);return ie(re,Q),ie(O,W),oe(re,0,O,0)}function oe(Q,W,re,O){return he(Q,W,re,O,32)}function he(Q,W,re,O,Z){var be,xe=0;for(be=0;be<Z;++be)xe|=Q[W+be]^re[O+be];return(1&xe-1>>>8)-1}function ve(Q){var W=new A(32);return ie(W,Q),W[0]&1}function ke(Q,W,re){var O,Z;for(Me(Q[0],C),Me(Q[1],D),Me(Q[2],D),Me(Q[3],C),Z=255;Z>=0;--Z)O=re[Z/8|0]>>(Z&7)&1,E(Q,W,O),I(W,Q),I(Q,Q),E(Q,W,O)}function Ue(Q,W){var re=[_e(),_e(),_e(),_e()];Me(re[0],_),Me(re[1],V),Me(re[2],D),yt(re[3],_,V),ke(Q,re,W)}function Me(Q,W){var re;for(re=0;re<16;re++)Q[re]=W[re]|0}function Ae(Q,W){var re=_e(),O;for(O=0;O<16;++O)re[O]=W[O];for(O=253;O>=0;--O)wt(re,re),O!==2&&O!==4&&yt(re,re,W);for(O=0;O<16;++O)Q[O]=re[O]}function Se(Q){var W,re,O=1;for(W=0;W<16;++W)re=Q[W]+O+65535,O=Math.floor(re/65536),Q[W]=re-O*65536;Q[0]+=O-1+37*(O-1)}function ze(Q,W,re){for(var O,Z=~(re-1),be=0;be<16;++be)O=Z&(Q[be]^W[be]),Q[be]^=O,W[be]^=O}function _e(Q){var W,re=new Float64Array(16);if(Q)for(W=0;W<Q.length;++W)re[W]=Q[W];return re}function Je(Q,W,re){for(var O=0;O<16;++O)Q[O]=W[O]+re[O]}function Ne(Q,W,re){for(var O=0;O<16;++O)Q[O]=W[O]-re[O]}function wt(Q,W){yt(Q,W,W)}function yt(Q,W,re){var O,Z,be=0,xe=0,Ze=0,gt=0,dt=0,Ve=0,pt=0,Ye=0,Lt=0,St=0,Kt=0,An=0,Ht=0,rn=0,nn=0,Vt=0,wn=0,yn=0,Sn=0,Gt=0,at=0,Qt=0,we=0,Te=0,$e=0,ot=0,et=0,Rt=0,dn=0,On=0,Zn=0,an=re[0],tt=re[1],It=re[2],_t=re[3],kt=re[4],Tt=re[5],zt=re[6],Ct=re[7],Ut=re[8],sn=re[9],on=re[10],cn=re[11],ht=re[12],En=re[13],fn=re[14],Jt=re[15];O=W[0],be+=O*an,xe+=O*tt,Ze+=O*It,gt+=O*_t,dt+=O*kt,Ve+=O*Tt,pt+=O*zt,Ye+=O*Ct,Lt+=O*Ut,St+=O*sn,Kt+=O*on,An+=O*cn,Ht+=O*ht,rn+=O*En,nn+=O*fn,Vt+=O*Jt,O=W[1],xe+=O*an,Ze+=O*tt,gt+=O*It,dt+=O*_t,Ve+=O*kt,pt+=O*Tt,Ye+=O*zt,Lt+=O*Ct,St+=O*Ut,Kt+=O*sn,An+=O*on,Ht+=O*cn,rn+=O*ht,nn+=O*En,Vt+=O*fn,wn+=O*Jt,O=W[2],Ze+=O*an,gt+=O*tt,dt+=O*It,Ve+=O*_t,pt+=O*kt,Ye+=O*Tt,Lt+=O*zt,St+=O*Ct,Kt+=O*Ut,An+=O*sn,Ht+=O*on,rn+=O*cn,nn+=O*ht,Vt+=O*En,wn+=O*fn,yn+=O*Jt,O=W[3],gt+=O*an,dt+=O*tt,Ve+=O*It,pt+=O*_t,Ye+=O*kt,Lt+=O*Tt,St+=O*zt,Kt+=O*Ct,An+=O*Ut,Ht+=O*sn,rn+=O*on,nn+=O*cn,Vt+=O*ht,wn+=O*En,yn+=O*fn,Sn+=O*Jt,O=W[4],dt+=O*an,Ve+=O*tt,pt+=O*It,Ye+=O*_t,Lt+=O*kt,St+=O*Tt,Kt+=O*zt,An+=O*Ct,Ht+=O*Ut,rn+=O*sn,nn+=O*on,Vt+=O*cn,wn+=O*ht,yn+=O*En,Sn+=O*fn,Gt+=O*Jt,O=W[5],Ve+=O*an,pt+=O*tt,Ye+=O*It,Lt+=O*_t,St+=O*kt,Kt+=O*Tt,An+=O*zt,Ht+=O*Ct,rn+=O*Ut,nn+=O*sn,Vt+=O*on,wn+=O*cn,yn+=O*ht,Sn+=O*En,Gt+=O*fn,at+=O*Jt,O=W[6],pt+=O*an,Ye+=O*tt,Lt+=O*It,St+=O*_t,Kt+=O*kt,An+=O*Tt,Ht+=O*zt,rn+=O*Ct,nn+=O*Ut,Vt+=O*sn,wn+=O*on,yn+=O*cn,Sn+=O*ht,Gt+=O*En,at+=O*fn,Qt+=O*Jt,O=W[7],Ye+=O*an,Lt+=O*tt,St+=O*It,Kt+=O*_t,An+=O*kt,Ht+=O*Tt,rn+=O*zt,nn+=O*Ct,Vt+=O*Ut,wn+=O*sn,yn+=O*on,Sn+=O*cn,Gt+=O*ht,at+=O*En,Qt+=O*fn,we+=O*Jt,O=W[8],Lt+=O*an,St+=O*tt,Kt+=O*It,An+=O*_t,Ht+=O*kt,rn+=O*Tt,nn+=O*zt,Vt+=O*Ct,wn+=O*Ut,yn+=O*sn,Sn+=O*on,Gt+=O*cn,at+=O*ht,Qt+=O*En,we+=O*fn,Te+=O*Jt,O=W[9],St+=O*an,Kt+=O*tt,An+=O*It,Ht+=O*_t,rn+=O*kt,nn+=O*Tt,Vt+=O*zt,wn+=O*Ct,yn+=O*Ut,Sn+=O*sn,Gt+=O*on,at+=O*cn,Qt+=O*ht,we+=O*En,Te+=O*fn,$e+=O*Jt,O=W[10],Kt+=O*an,An+=O*tt,Ht+=O*It,rn+=O*_t,nn+=O*kt,Vt+=O*Tt,wn+=O*zt,yn+=O*Ct,Sn+=O*Ut,Gt+=O*sn,at+=O*on,Qt+=O*cn,we+=O*ht,Te+=O*En,$e+=O*fn,ot+=O*Jt,O=W[11],An+=O*an,Ht+=O*tt,rn+=O*It,nn+=O*_t,Vt+=O*kt,wn+=O*Tt,yn+=O*zt,Sn+=O*Ct,Gt+=O*Ut,at+=O*sn,Qt+=O*on,we+=O*cn,Te+=O*ht,$e+=O*En,ot+=O*fn,et+=O*Jt,O=W[12],Ht+=O*an,rn+=O*tt,nn+=O*It,Vt+=O*_t,wn+=O*kt,yn+=O*Tt,Sn+=O*zt,Gt+=O*Ct,at+=O*Ut,Qt+=O*sn,we+=O*on,Te+=O*cn,$e+=O*ht,ot+=O*En,et+=O*fn,Rt+=O*Jt,O=W[13],rn+=O*an,nn+=O*tt,Vt+=O*It,wn+=O*_t,yn+=O*kt,Sn+=O*Tt,Gt+=O*zt,at+=O*Ct,Qt+=O*Ut,we+=O*sn,Te+=O*on,$e+=O*cn,ot+=O*ht,et+=O*En,Rt+=O*fn,dn+=O*Jt,O=W[14],nn+=O*an,Vt+=O*tt,wn+=O*It,yn+=O*_t,Sn+=O*kt,Gt+=O*Tt,at+=O*zt,Qt+=O*Ct,we+=O*Ut,Te+=O*sn,$e+=O*on,ot+=O*cn,et+=O*ht,Rt+=O*En,dn+=O*fn,On+=O*Jt,O=W[15],Vt+=O*an,wn+=O*tt,yn+=O*It,Sn+=O*_t,Gt+=O*kt,at+=O*Tt,Qt+=O*zt,we+=O*Ct,Te+=O*Ut,$e+=O*sn,ot+=O*on,et+=O*cn,Rt+=O*ht,dn+=O*En,On+=O*fn,Zn+=O*Jt,be+=38*wn,xe+=38*yn,Ze+=38*Sn,gt+=38*Gt,dt+=38*at,Ve+=38*Qt,pt+=38*we,Ye+=38*Te,Lt+=38*$e,St+=38*ot,Kt+=38*et,An+=38*Rt,Ht+=38*dn,rn+=38*On,nn+=38*Zn,Z=1,O=be+Z+65535,Z=Math.floor(O/65536),be=O-Z*65536,O=xe+Z+65535,Z=Math.floor(O/65536),xe=O-Z*65536,O=Ze+Z+65535,Z=Math.floor(O/65536),Ze=O-Z*65536,O=gt+Z+65535,Z=Math.floor(O/65536),gt=O-Z*65536,O=dt+Z+65535,Z=Math.floor(O/65536),dt=O-Z*65536,O=Ve+Z+65535,Z=Math.floor(O/65536),Ve=O-Z*65536,O=pt+Z+65535,Z=Math.floor(O/65536),pt=O-Z*65536,O=Ye+Z+65535,Z=Math.floor(O/65536),Ye=O-Z*65536,O=Lt+Z+65535,Z=Math.floor(O/65536),Lt=O-Z*65536,O=St+Z+65535,Z=Math.floor(O/65536),St=O-Z*65536,O=Kt+Z+65535,Z=Math.floor(O/65536),Kt=O-Z*65536,O=An+Z+65535,Z=Math.floor(O/65536),An=O-Z*65536,O=Ht+Z+65535,Z=Math.floor(O/65536),Ht=O-Z*65536,O=rn+Z+65535,Z=Math.floor(O/65536),rn=O-Z*65536,O=nn+Z+65535,Z=Math.floor(O/65536),nn=O-Z*65536,O=Vt+Z+65535,Z=Math.floor(O/65536),Vt=O-Z*65536,be+=Z-1+37*(Z-1),Z=1,O=be+Z+65535,Z=Math.floor(O/65536),be=O-Z*65536,O=xe+Z+65535,Z=Math.floor(O/65536),xe=O-Z*65536,O=Ze+Z+65535,Z=Math.floor(O/65536),Ze=O-Z*65536,O=gt+Z+65535,Z=Math.floor(O/65536),gt=O-Z*65536,O=dt+Z+65535,Z=Math.floor(O/65536),dt=O-Z*65536,O=Ve+Z+65535,Z=Math.floor(O/65536),Ve=O-Z*65536,O=pt+Z+65535,Z=Math.floor(O/65536),pt=O-Z*65536,O=Ye+Z+65535,Z=Math.floor(O/65536),Ye=O-Z*65536,O=Lt+Z+65535,Z=Math.floor(O/65536),Lt=O-Z*65536,O=St+Z+65535,Z=Math.floor(O/65536),St=O-Z*65536,O=Kt+Z+65535,Z=Math.floor(O/65536),Kt=O-Z*65536,O=An+Z+65535,Z=Math.floor(O/65536),An=O-Z*65536,O=Ht+Z+65535,Z=Math.floor(O/65536),Ht=O-Z*65536,O=rn+Z+65535,Z=Math.floor(O/65536),rn=O-Z*65536,O=nn+Z+65535,Z=Math.floor(O/65536),nn=O-Z*65536,O=Vt+Z+65535,Z=Math.floor(O/65536),Vt=O-Z*65536,be+=Z-1+37*(Z-1),Q[0]=be,Q[1]=xe,Q[2]=Ze,Q[3]=gt,Q[4]=dt,Q[5]=Ve,Q[6]=pt,Q[7]=Ye,Q[8]=Lt,Q[9]=St,Q[10]=Kt,Q[11]=An,Q[12]=Ht,Q[13]=rn,Q[14]=nn,Q[15]=Vt}return th}var nh,Am;function ew(){if(Am)return nh;Am=1;var r=Nn();Xn(),Ai(),gf(),nh=r.kem=r.kem||{};var a=r.jsbn.BigInteger;r.kem.rsa={},r.kem.rsa.create=function(f,v){v=v||{};var m=v.prng||r.random,A={};return A.encrypt=function(p,w){var C=Math.ceil(p.n.bitLength()/8),D;do D=new a(r.util.bytesToHex(m.getBytesSync(C)),16).mod(p.n);while(D.compareTo(a.ONE)<=0);D=r.util.hexToBytes(D.toString(16));var R=C-D.length;R>0&&(D=r.util.fillString("\0",R)+D);var L=p.encrypt(D,"NONE"),_=f.generate(D,w);return{encapsulation:L,key:_}},A.decrypt=function(p,w,C){var D=p.decrypt(w,"NONE");return f.generate(D,C)},A},r.kem.kdf1=function(f,v){s(this,f,0,v||f.digestLength)},r.kem.kdf2=function(f,v){s(this,f,1,v||f.digestLength)};function s(f,v,m,A){f.generate=function(p,w){for(var C=new r.util.ByteBuffer,D=Math.ceil(w/A)+m,R=new r.util.ByteBuffer,L=m;L<D;++L){R.putInt32(L),v.start(),v.update(p+R.getBytes());var _=v.digest();C.putBytes(_.getBytes(A))}return C.truncate(C.length()-w),C.getBytes()}}return nh}var rh,Cm;function tw(){if(Cm)return rh;Cm=1;var r=Nn();Xn(),rh=r.log=r.log||{},r.log.levels=["none","error","warning","info","debug","verbose","max"];var a={},s=[],f=null;r.log.LEVEL_LOCKED=2,r.log.NO_LEVEL_CHECK=4,r.log.INTERPOLATE=8;for(var v=0;v<r.log.levels.length;++v){var m=r.log.levels[v];a[m]={index:v,name:m.toUpperCase()}}r.log.logMessage=function(L){for(var _=a[L.level].index,V=0;V<s.length;++V){var P=s[V];if(P.flags&r.log.NO_LEVEL_CHECK)P.f(L);else{var H=a[P.level].index;_<=H&&P.f(P,L)}}},r.log.prepareStandard=function(L){"standard"in L||(L.standard=a[L.level].name+" ["+L.category+"] "+L.message)},r.log.prepareFull=function(L){if(!("full"in L)){var _=[L.message];_=_.concat([]),L.full=r.util.format.apply(this,_)}},r.log.prepareStandardFull=function(L){"standardFull"in L||(r.log.prepareStandard(L),L.standardFull=L.standard)};for(var A=["error","warning","info","debug","verbose"],v=0;v<A.length;++v)(function(_){r.log[_]=function(V,P){var H=Array.prototype.slice.call(arguments).slice(2),T={timestamp:new Date,level:_,category:V,message:P,arguments:H};r.log.logMessage(T)}})(A[v]);if(r.log.makeLogger=function(L){var _={flags:0,f:L};return r.log.setLevel(_,"none"),_},r.log.setLevel=function(L,_){var V=!1;if(L&&!(L.flags&r.log.LEVEL_LOCKED))for(var P=0;P<r.log.levels.length;++P){var H=r.log.levels[P];if(_==H){L.level=_,V=!0;break}}return V},r.log.lock=function(L,_){typeof _>"u"||_?L.flags|=r.log.LEVEL_LOCKED:L.flags&=~r.log.LEVEL_LOCKED},r.log.addLogger=function(L){s.push(L)},typeof console<"u"&&"log"in console){var p;if(console.error&&console.warn&&console.info&&console.debug){var w={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},C=function(L,_){r.log.prepareStandard(_);var V=w[_.level],P=[_.standard];P=P.concat(_.arguments.slice()),V.apply(console,P)};p=r.log.makeLogger(C)}else{var C=function(_,V){r.log.prepareStandardFull(V),console.log(V.standardFull)};p=r.log.makeLogger(C)}r.log.setLevel(p,"debug"),r.log.addLogger(p),f=p}else console={log:function(){}};if(f!==null&&typeof window<"u"&&window.location){var D=new URL(window.location.href).searchParams;if(D.has("console.level")&&r.log.setLevel(f,D.get("console.level").slice(-1)[0]),D.has("console.lock")){var R=D.get("console.lock").slice(-1)[0];R=="true"&&r.log.lock(f)}}return r.log.consoleLogger=f,rh}var ah,bm;function nw(){return bm||(bm=1,ah=ys(),jh(),kc(),H2(),$2()),ah}var ih={exports:{}},wm;function rw(){if(wm)return ih.exports;wm=1;var r=Nn();Oo(),Pi(),hf(),ko(),Tl(),Y2(),Ai(),Xn(),Yh();var a=r.asn1,s=ih.exports=r.pkcs7=r.pkcs7||{};s.messageFromPem=function(_){var V=r.pem.decode(_)[0];if(V.type!=="PKCS7"){var P=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw P.headerType=V.type,P}if(V.procType&&V.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var H=a.fromDer(V.body);return s.messageFromAsn1(H)},s.messageToPem=function(_,V){var P={type:"PKCS7",body:a.toDer(_.toAsn1()).getBytes()};return r.pem.encode(P,{maxline:V})},s.messageFromAsn1=function(_){var V={},P=[];if(!a.validate(_,s.asn1.contentInfoValidator,V,P)){var H=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw H.errors=P,H}var T=a.derToOid(V.contentType),F;switch(T){case r.pki.oids.envelopedData:F=s.createEnvelopedData();break;case r.pki.oids.encryptedData:F=s.createEncryptedData();break;case r.pki.oids.signedData:F=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+T+" is not (yet) supported.")}return F.fromAsn1(V.content.value[0]),F},s.createSignedData=function(){var _=null;return _={type:r.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(H){if(R(_,H,s.asn1.signedDataValidator),_.certificates=[],_.crls=[],_.digestAlgorithmIdentifiers=[],_.contentInfo=null,_.signerInfos=[],_.rawCapture.certificates)for(var T=_.rawCapture.certificates.value,F=0;F<T.length;++F)_.certificates.push(r.pki.certificateFromAsn1(T[F]))},toAsn1:function(){_.contentInfo||_.sign();for(var H=[],T=0;T<_.certificates.length;++T)H.push(r.pki.certificateToAsn1(_.certificates[T]));var F=[],U=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(_.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,_.digestAlgorithmIdentifiers),_.contentInfo])]);return H.length>0&&U.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,H)),F.length>0&&U.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,F)),U.value[0].value.push(a.create(a.Class.UNIVERSAL,a.Type.SET,!0,_.signerInfos)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(_.type).getBytes()),U])},addSigner:function(H){var T=H.issuer,F=H.serialNumber;if(H.certificate){var U=H.certificate;typeof U=="string"&&(U=r.pki.certificateFromPem(U)),T=U.issuer.attributes,F=U.serialNumber}var K=H.key;if(!K)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof K=="string"&&(K=r.pki.privateKeyFromPem(K));var X=H.digestAlgorithm||r.pki.oids.sha1;switch(X){case r.pki.oids.sha1:case r.pki.oids.sha256:case r.pki.oids.sha384:case r.pki.oids.sha512:case r.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+X)}var M=H.authenticatedAttributes||[];if(M.length>0){for(var I=!1,E=!1,j=0;j<M.length;++j){var ie=M[j];if(!I&&ie.type===r.pki.oids.contentType){if(I=!0,E)break;continue}if(!E&&ie.type===r.pki.oids.messageDigest){if(E=!0,I)break;continue}}if(!I||!E)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}_.signers.push({key:K,version:1,issuer:T,serialNumber:F,digestAlgorithm:X,signatureAlgorithm:r.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:M,unauthenticatedAttributes:[]})},sign:function(H){if(H=H||{},(typeof _.content!="object"||_.contentInfo===null)&&(_.contentInfo=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(r.pki.oids.data).getBytes())]),"content"in _)){var T;_.content instanceof r.util.ByteBuffer?T=_.content.bytes():typeof _.content=="string"&&(T=r.util.encodeUtf8(_.content)),H.detached?_.detachedContent=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,T):_.contentInfo.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,T)]))}if(_.signers.length!==0){var F=V();P(F)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(H){typeof H=="string"&&(H=r.pki.certificateFromPem(H)),_.certificates.push(H)},addCertificateRevokationList:function(H){throw new Error("PKCS#7 CRL support not yet implemented.")}},_;function V(){for(var H={},T=0;T<_.signers.length;++T){var F=_.signers[T],U=F.digestAlgorithm;U in H||(H[U]=r.md[r.pki.oids[U]].create()),F.authenticatedAttributes.length===0?F.md=H[U]:F.md=r.md[r.pki.oids[U]].create()}_.digestAlgorithmIdentifiers=[];for(var U in H)_.digestAlgorithmIdentifiers.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(U).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]));return H}function P(H){var T;if(_.detachedContent?T=_.detachedContent:(T=_.contentInfo.value[1],T=T.value[0]),!T)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var F=a.derToOid(_.contentInfo.value[0].value),U=a.toDer(T);U.getByte(),a.getBerValueLength(U),U=U.getBytes();for(var K in H)H[K].start().update(U);for(var X=new Date,M=0;M<_.signers.length;++M){var I=_.signers[M];if(I.authenticatedAttributes.length===0){if(F!==r.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{I.authenticatedAttributesAsn1=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var E=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[]),j=0;j<I.authenticatedAttributes.length;++j){var ie=I.authenticatedAttributes[j];ie.type===r.pki.oids.messageDigest?ie.value=H[I.digestAlgorithm].digest():ie.type===r.pki.oids.signingTime&&(ie.value||(ie.value=X)),E.value.push(C(ie)),I.authenticatedAttributesAsn1.value.push(C(ie))}U=a.toDer(E).getBytes(),I.md.start().update(U)}I.signature=I.key.sign(I.md,"RSASSA-PKCS1-V1_5")}_.signerInfos=w(_.signers)}},s.createEncryptedData=function(){var _=null;return _={type:r.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(V){R(_,V,s.asn1.encryptedDataValidator)},decrypt:function(V){V!==void 0&&(_.encryptedContent.key=V),L(_)}},_},s.createEnvelopedData=function(){var _=null;return _={type:r.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(V){var P=R(_,V,s.asn1.envelopedDataValidator);_.recipients=m(P.recipientInfos.value)},toAsn1:function(){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(_.type).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(_.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,A(_.recipients)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,D(_.encryptedContent))])])])},findRecipient:function(V){for(var P=V.issuer.attributes,H=0;H<_.recipients.length;++H){var T=_.recipients[H],F=T.issuer;if(T.serialNumber===V.serialNumber&&F.length===P.length){for(var U=!0,K=0;K<P.length;++K)if(F[K].type!==P[K].type||F[K].value!==P[K].value){U=!1;break}if(U)return T}}return null},decrypt:function(V,P){if(_.encryptedContent.key===void 0&&V!==void 0&&P!==void 0)switch(V.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:case r.pki.oids.desCBC:var H=P.decrypt(V.encryptedContent.content);_.encryptedContent.key=r.util.createBuffer(H);break;default:throw new Error("Unsupported asymmetric cipher, OID "+V.encryptedContent.algorithm)}L(_)},addRecipient:function(V){_.recipients.push({version:0,issuer:V.issuer.attributes,serialNumber:V.serialNumber,encryptedContent:{algorithm:r.pki.oids.rsaEncryption,key:V.publicKey}})},encrypt:function(V,P){if(_.encryptedContent.content===void 0){P=P||_.encryptedContent.algorithm,V=V||_.encryptedContent.key;var H,T,F;switch(P){case r.pki.oids["aes128-CBC"]:H=16,T=16,F=r.aes.createEncryptionCipher;break;case r.pki.oids["aes192-CBC"]:H=24,T=16,F=r.aes.createEncryptionCipher;break;case r.pki.oids["aes256-CBC"]:H=32,T=16,F=r.aes.createEncryptionCipher;break;case r.pki.oids["des-EDE3-CBC"]:H=24,T=8,F=r.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+P)}if(V===void 0)V=r.util.createBuffer(r.random.getBytes(H));else if(V.length()!=H)throw new Error("Symmetric key has wrong length; got "+V.length()+" bytes, expected "+H+".");_.encryptedContent.algorithm=P,_.encryptedContent.key=V,_.encryptedContent.parameter=r.util.createBuffer(r.random.getBytes(T));var U=F(V);if(U.start(_.encryptedContent.parameter.copy()),U.update(_.content),!U.finish())throw new Error("Symmetric encryption failed.");_.encryptedContent.content=U.output}for(var K=0;K<_.recipients.length;++K){var X=_.recipients[K];if(X.encryptedContent.content===void 0)switch(X.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:X.encryptedContent.content=X.encryptedContent.key.encrypt(_.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+X.encryptedContent.algorithm)}}}},_};function f(_){var V={},P=[];if(!a.validate(_,s.asn1.recipientInfoValidator,V,P)){var H=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw H.errors=P,H}return{version:V.version.charCodeAt(0),issuer:r.pki.RDNAttributesAsArray(V.issuer),serialNumber:r.util.createBuffer(V.serial).toHex(),encryptedContent:{algorithm:a.derToOid(V.encAlgorithm),parameter:V.encParameter?V.encParameter.value:void 0,content:V.encKey}}}function v(_){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(_.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:_.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r.util.hexToBytes(_.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(_.encryptedContent.algorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,_.encryptedContent.content)])}function m(_){for(var V=[],P=0;P<_.length;++P)V.push(f(_[P]));return V}function A(_){for(var V=[],P=0;P<_.length;++P)V.push(v(_[P]));return V}function p(_){var V=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(_.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:_.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r.util.hexToBytes(_.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(_.digestAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])]);if(_.authenticatedAttributesAsn1&&V.value.push(_.authenticatedAttributesAsn1),V.value.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(_.signatureAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),V.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,_.signature)),_.unauthenticatedAttributes.length>0){for(var P=a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[]),H=0;H<_.unauthenticatedAttributes.length;++H){var T=_.unauthenticatedAttributes[H];P.values.push(C(T))}V.value.push(P)}return V}function w(_){for(var V=[],P=0;P<_.length;++P)V.push(p(_[P]));return V}function C(_){var V;if(_.type===r.pki.oids.contentType)V=a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(_.value).getBytes());else if(_.type===r.pki.oids.messageDigest)V=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,_.value.bytes());else if(_.type===r.pki.oids.signingTime){var P=new Date("1950-01-01T00:00:00Z"),H=new Date("2050-01-01T00:00:00Z"),T=_.value;if(typeof T=="string"){var F=Date.parse(T);isNaN(F)?T.length===13?T=a.utcTimeToDate(T):T=a.generalizedTimeToDate(T):T=new Date(F)}T>=P&&T<H?V=a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(T)):V=a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(T))}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(_.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[V])])}function D(_){return[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(r.pki.oids.data).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(_.algorithm).getBytes()),_.parameter?a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,_.parameter.getBytes()):void 0]),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,_.content.getBytes())])]}function R(_,V,P){var H={},T=[];if(!a.validate(V,P,H,T)){var F=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw F.errors=F,F}var U=a.derToOid(H.contentType);if(U!==r.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(H.encryptedContent){var K="";if(r.util.isArray(H.encryptedContent))for(var X=0;X<H.encryptedContent.length;++X){if(H.encryptedContent[X].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");K+=H.encryptedContent[X].value}else K=H.encryptedContent;_.encryptedContent={algorithm:a.derToOid(H.encAlgorithm),parameter:r.util.createBuffer(H.encParameter.value),content:r.util.createBuffer(K)}}if(H.content){var K="";if(r.util.isArray(H.content))for(var X=0;X<H.content.length;++X){if(H.content[X].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");K+=H.content[X].value}else K=H.content;_.content=r.util.createBuffer(K)}return _.version=H.version.charCodeAt(0),_.rawCapture=H,H}function L(_){if(_.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(_.content===void 0){var V;switch(_.encryptedContent.algorithm){case r.pki.oids["aes128-CBC"]:case r.pki.oids["aes192-CBC"]:case r.pki.oids["aes256-CBC"]:V=r.aes.createDecryptionCipher(_.encryptedContent.key);break;case r.pki.oids.desCBC:case r.pki.oids["des-EDE3-CBC"]:V=r.des.createDecryptionCipher(_.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+_.encryptedContent.algorithm)}if(V.start(_.encryptedContent.parameter),V.update(_.encryptedContent.content),!V.finish())throw new Error("Symmetric decryption failed.");_.content=V.output}}return ih.exports}var sh={exports:{}},Em;function aw(){if(Em)return sh.exports;Em=1;var r=Nn();Oo(),Oc(),jh(),kc(),Xn();var a=sh.exports=r.ssh=r.ssh||{};a.privateKeyToPutty=function(m,A,p){p=p||"",A=A||"";var w="ssh-rsa",C=A===""?"none":"aes256-cbc",D="PuTTY-User-Key-File-2: "+w+`\r
`;D+="Encryption: "+C+`\r
`,D+="Comment: "+p+`\r
`;var R=r.util.createBuffer();f(R,w),s(R,m.e),s(R,m.n);var L=r.util.encode64(R.bytes(),64),_=Math.floor(L.length/66)+1;D+="Public-Lines: "+_+`\r
`,D+=L;var V=r.util.createBuffer();s(V,m.d),s(V,m.p),s(V,m.q),s(V,m.qInv);var P;if(!A)P=r.util.encode64(V.bytes(),64);else{var H=V.length()+16-1;H-=H%16;var T=v(V.bytes());T.truncate(T.length()-H+V.length()),V.putBuffer(T);var F=r.util.createBuffer();F.putBuffer(v("\0\0\0\0",A)),F.putBuffer(v("\0\0\0",A));var U=r.aes.createEncryptionCipher(F.truncate(8),"CBC");U.start(r.util.createBuffer().fillWithByte(0,16)),U.update(V.copy()),U.finish();var K=U.output;K.truncate(16),P=r.util.encode64(K.bytes(),64)}_=Math.floor(P.length/66)+1,D+=`\r
Private-Lines: `+_+`\r
`,D+=P;var X=v("putty-private-key-file-mac-key",A),M=r.util.createBuffer();f(M,w),f(M,C),f(M,p),M.putInt32(R.length()),M.putBuffer(R),M.putInt32(V.length()),M.putBuffer(V);var I=r.hmac.create();return I.start("sha1",X),I.update(M.bytes()),D+=`\r
Private-MAC: `+I.digest().toHex()+`\r
`,D},a.publicKeyToOpenSSH=function(m,A){var p="ssh-rsa";A=A||"";var w=r.util.createBuffer();return f(w,p),s(w,m.e),s(w,m.n),p+" "+r.util.encode64(w.bytes())+" "+A},a.privateKeyToOpenSSH=function(m,A){return A?r.pki.encryptRsaPrivateKey(m,A,{legacy:!0,algorithm:"aes128"}):r.pki.privateKeyToPem(m)},a.getPublicKeyFingerprint=function(m,A){A=A||{};var p=A.md||r.md.md5.create(),w="ssh-rsa",C=r.util.createBuffer();f(C,w),s(C,m.e),s(C,m.n),p.start(),p.update(C.getBytes());var D=p.digest();if(A.encoding==="hex"){var R=D.toHex();return A.delimiter?R.match(/.{2}/g).join(A.delimiter):R}else{if(A.encoding==="binary")return D.getBytes();if(A.encoding)throw new Error('Unknown encoding "'+A.encoding+'".')}return D};function s(m,A){var p=A.toString(16);p[0]>="8"&&(p="00"+p);var w=r.util.hexToBytes(p);m.putInt32(w.length),m.putBytes(w)}function f(m,A){m.putInt32(A.length),m.putString(A)}function v(){for(var m=r.md.sha1.create(),A=arguments.length,p=0;p<A;++p)m.update(arguments[p]);return m.digest()}return sh.exports}var oh,Im;function iw(){return Im||(Im=1,oh=Nn(),Oo(),Wb(),Pi(),Gh(),hf(),$b(),Oc(),ew(),tw(),nw(),X2(),zh(),Tl(),K2(),Z2(),rw(),W2(),z2(),G2(),qh(),Ai(),j2(),aw(),J2(),Xn()),oh}var sw=iw();const ta=Mh(sw);function Xh(r){let a="";for(let s=0;s<r.length;s++)a+=String.fromCharCode(r[s]);return a}function yf(r){const a=new Uint8Array(r.length);for(let s=0;s<r.length;s++)a[s]=r.charCodeAt(s);return a}async function Ic(r=16){const a=ta.random.getBytesSync(r);return yf(a)}async function ds(r,a){return await zb({password:r,salt:a,parallelism:1,iterations:3,memorySize:65536,hashLength:32,outputType:"binary"})}async function wa(r){return Xh(r)}async function li(r,a){const s=ta.random.getBytesSync(12),f=ta.cipher.createCipher("AES-GCM",r);f.start({iv:s});const v=typeof a=="string"?ta.util.encodeUtf8(a):Xh(a);f.update(ta.util.createBuffer(v)),f.finish();const m=f.output.getBytes(),A=f.mode.tag.getBytes(),p=s+m+A;return ta.util.encode64(p)}async function ki(r,a){const s=ta.util.decode64(a),f=s.slice(0,12),v=s.slice(s.length-16),m=s.slice(12,s.length-16),A=ta.cipher.createDecipher("AES-GCM",r);if(A.start({iv:f,tag:ta.util.createBuffer(v)}),A.update(ta.util.createBuffer(m)),!A.finish())throw new Error("Decryption failed");return ta.util.decodeUtf8(A.output.getBytes())}async function pl(r,a){const s=ta.util.decode64(a),f=s.slice(0,12),v=s.slice(s.length-16),m=s.slice(12,s.length-16),A=ta.cipher.createDecipher("AES-GCM",r);if(A.start({iv:f,tag:ta.util.createBuffer(v)}),A.update(ta.util.createBuffer(m)),!A.finish())throw new Error("Decryption failed");return yf(A.output.getBytes())}function ow(){const r=ta.random.getBytesSync(32);return yf(r)}function Sc(r){return ta.util.encode64(Xh(r))}function yl(r){return yf(ta.util.decode64(r))}const Ch=()=>!(!window.crypto||!window.crypto.subtle||!window.PublicKeyCredential||document.featurePolicy&&document.featurePolicy.allowsFeature&&(!document.featurePolicy.allowsFeature("publickey-credentials-create")||!document.featurePolicy.allowsFeature("publickey-credentials-get")));function lw(r){return btoa(String.fromCharCode(...new Uint8Array(r)))}function cw(r){const a=atob(r),s=new Uint8Array(a.length);for(let f=0;f<a.length;f++)s[f]=a.charCodeAt(f);return s.buffer}async function uw(r){var v;const a=new Uint8Array(32);window.crypto.getRandomValues(a);const s=new Uint8Array(16);window.crypto.getRandomValues(s);const f={challenge:a,rp:{name:"CipherVault",id:window.location.hostname},user:{id:s,name:r,displayName:r},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4,attestation:"none"};try{const m=await navigator.credentials.create({publicKey:f});if(!m)throw new Error("Failed to create credential");return lw(m.rawId)}catch(m){throw m.name==="NotAllowedError"||(v=m.message)!=null&&v.includes("not enabled")?new Error("Biometric authentication is not enabled in this environment (Permissions Policy)."):m}}async function fw(r){var f;const a=new Uint8Array(32);window.crypto.getRandomValues(a);const s={challenge:a,allowCredentials:[{id:cw(r),type:"public-key",transports:["internal"]}],userVerification:"required",timeout:6e4};try{return!!await navigator.credentials.get({publicKey:s})}catch(v){throw v.name==="NotAllowedError"||(f=v.message)!=null&&f.includes("not enabled")?new Error("Biometric authentication is not enabled in this environment (Permissions Policy)."):v}}const ex=ae.createContext(void 0),dw=({children:r})=>{const[a,s]=ae.useState(null),[f,v]=ae.useState(!0),[m,A]=ae.useState(null),[p,w]=ae.useState(null),[C,D]=ae.useState(!1),[R,L]=ae.useState(()=>{const se=localStorage.getItem("cipher_vault_error_count");return se?parseInt(se,10):0}),[_,V]=ae.useState(()=>{const se=localStorage.getItem("cipher_vault_lockout_until");return se?parseInt(se,10):0}),[P,H]=ae.useState(()=>{const se=localStorage.getItem("cipher_vault_autolock");return se?parseInt(se,10):5}),T=se=>{L(se),localStorage.setItem("cipher_vault_error_count",se.toString())},F=se=>{V(se),localStorage.setItem("cipher_vault_lockout_until",se.toString())},U=se=>{H(se),localStorage.setItem("cipher_vault_autolock",se.toString())},K=ae.useCallback(()=>{A(null),w(null),v(!0)},[]);ae.useEffect(()=>{X(),M();const se=()=>{document.hidden&&K()};return document.addEventListener("visibilitychange",se),()=>document.removeEventListener("visibilitychange",se)},[K]),ae.useEffect(()=>{if(f||P===0)return;let se;const Ce=()=>{clearTimeout(se),se=setTimeout(()=>{K()},P*60*1e3)};Ce();const oe=["mousedown","mousemove","keydown","scroll","touchstart"];return oe.forEach(he=>document.addEventListener(he,Ce,{passive:!0})),()=>{clearTimeout(se),oe.forEach(he=>document.removeEventListener(he,Ce))}},[f,P,K]);const X=async()=>{const se=await ct.baseData.get(1);s(!!se)},M=async()=>{const se=await ct.biometricData.get(1),Ce=localStorage.getItem("cipher_vault_bio_key");D(!!se&&!!Ce)},I=()=>{K()},E=()=>{const se=R+1;if(T(se),se>=3){const Ce=Math.pow(10,se-2);F(Date.now()+Ce*1e3)}},j=async se=>{const Ce=await Ic(),oe=await ds(se,Ce),he=await wa(oe),ve=await li(he,"success"),ke=ow(),Ue=await wa(ke),Me=await li(he,ke);await ct.baseData.put({id:1,salt:Sc(Ce),checkKey:ve,dataKey:Me,time:Date.now()}),A(he),w(Ue),s(!0),v(!1),T(0),F(0)},ie=async se=>{if(Date.now()<_)return!1;try{const Ce=await ct.baseData.get(1);if(!Ce)return!1;const oe=yl(Ce.salt),he=await ds(se,oe),ve=await wa(he);if(await ki(ve,Ce.checkKey)==="success"){const Ue=await pl(ve,Ce.dataKey),Me=await wa(Ue);return A(ve),w(Me),v(!1),T(0),F(0),!0}else return E(),!1}catch{return E(),!1}},de=async se=>{if(!Ch())return{success:!1,error:"Not supported"};const Ce=await ct.baseData.get(1);if(!Ce)return{success:!1,error:"Database error"};try{const oe=yl(Ce.salt),he=await ds(se,oe),ve=await wa(he);if(await ki(ve,Ce.checkKey)!=="success")return{success:!1,error:"Password incorrect"};const Ue=await pl(ve,Ce.dataKey),Me=await wa(Ue),Ae=await uw("User"),Se=await Ic(32),ze=await wa(Se),_e=Sc(Se),Je=await li(ze,Ue);return await ct.biometricData.put({id:1,credentialId:Ae,dek:Je,time:Date.now()}),localStorage.setItem("cipher_vault_bio_key",_e),D(!0),A(ve),w(Me),v(!1),{success:!0}}catch(oe){return console.error(oe),{success:!1,error:oe.message||"Unknown error"}}},ee=async()=>{if(!C)return{success:!1,error:"Not configured"};try{const se=await ct.biometricData.get(1),Ce=localStorage.getItem("cipher_vault_bio_key");if(!se||!Ce)return D(!1),{success:!1,error:"Biometric data missing"};if(await fw(se.credentialId)){const he=yl(Ce),ve=await wa(he),ke=await pl(ve,se.dek),Ue=await wa(ke);return w(Ue),v(!1),{success:!0}}return{success:!1,error:"Verification failed"}}catch(se){return console.error(se),{success:!1,error:se.message||"Unknown error"}}};return z.jsx(ex.Provider,{value:{isInitialized:a,isLocked:f,masterKey:m,dek:p,init:j,login:ie,logout:I,lock:K,errorCount:R,lockoutUntil:_,autoLockTime:P,setAutoLockTime:U,enableBiometric:de,biometricLogin:ee,isBiometricConfigured:C},children:r})},Mo=()=>{const r=ae.useContext(ex);if(!r)throw new Error("useAuth must be used within AuthProvider");return r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gw=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,f)=>f?f.toUpperCase():s.toLowerCase()),Sm=r=>{const a=gw(r);return a.charAt(0).toUpperCase()+a.slice(1)},tx=(...r)=>r.filter((a,s,f)=>!!a&&a.trim()!==""&&f.indexOf(a)===s).join(" ").trim(),pw=r=>{for(const a in r)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ae.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:f,className:v="",children:m,iconNode:A,...p},w)=>ae.createElement("svg",{ref:w,...yw,width:a,height:a,stroke:r,strokeWidth:f?Number(s)*24/Number(a):s,className:tx("lucide",v),...!m&&!pw(p)&&{"aria-hidden":"true"},...p},[...A.map(([C,D])=>ae.createElement(C,D)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=(r,a)=>{const s=ae.forwardRef(({className:f,...v},m)=>ae.createElement(mw,{ref:m,iconNode:a,className:tx(`lucide-${hw(Sm(r))}`,`lucide-${r}`,f),...v}));return s.displayName=Sm(r),s};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],vw=Hn("arrow-down",xw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nx=Hn("arrow-left",Aw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],bw=Hn("arrow-up",Cw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M18 6V4a2 2 0 1 0-4 0v2",key:"1aquzs"}],["path",{d:"M20 15v6a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"1rkj32"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H10",key:"18wgow"}],["rect",{x:"12",y:"6",width:"8",height:"5",rx:"1",key:"73l30o"}]],Ew=Hn("book-lock",ww);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sw=Hn("clock",Iw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],Bw=Hn("cloud-download",Tw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],_w=Hn("cloud",Nw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rx=Hn("copy",Dw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],Ow=Hn("delete",Rw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ax=Hn("download",kw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Lw=Hn("ellipsis-vertical",Mw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fw=Hn("eye-off",Uw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vw=Hn("eye",Pw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],Hw=Hn("fingerprint",Qw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ix=Hn("grip-vertical",Gw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Kw=Hn("image",jw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Zh=Hn("key-round",zw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Tm=Hn("keyboard",qw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xw=Hn("loader-circle",Yw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ww=Hn("log-out",Zw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sx=Hn("pen",Jw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bh=Hn("plus",$w);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],tE=Hn("qr-code",eE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wh=Hn("search",nE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bm=Hn("shield-check",rE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iE=Hn("shield-question-mark",aE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oE=Hn("shield",sE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ox=Hn("star",lE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],uE=Hn("tag",cE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mf=Hn("trash-2",fE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hE=Hn("triangle-alert",dE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pE=Hn("upload",gE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mE=Hn("user",yE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tc=Hn("x",xE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AE=Hn("zap",vE);function lx(r){var a,s,f="";if(typeof r=="string"||typeof r=="number")f+=r;else if(typeof r=="object")if(Array.isArray(r)){var v=r.length;for(a=0;a<v;a++)r[a]&&(s=lx(r[a]))&&(f&&(f+=" "),f+=s)}else for(s in r)r[s]&&(f&&(f+=" "),f+=s);return f}function CE(){for(var r,a,s=0,f="",v=arguments.length;s<v;s++)(r=arguments[s])&&(a=lx(r))&&(f&&(f+=" "),f+=a);return f}const bE=(r,a)=>{const s=new Array(r.length+a.length);for(let f=0;f<r.length;f++)s[f]=r[f];for(let f=0;f<a.length;f++)s[r.length+f]=a[f];return s},wE=(r,a)=>({classGroupId:r,validator:a}),cx=(r=new Map,a=null,s)=>({nextPart:r,validators:a,classGroupId:s}),ef="-",Nm=[],EE="arbitrary..",IE=r=>{const a=TE(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:f}=r;return{getClassGroupId:A=>{if(A.startsWith("[")&&A.endsWith("]"))return SE(A);const p=A.split(ef),w=p[0]===""&&p.length>1?1:0;return ux(p,w,a)},getConflictingClassGroupIds:(A,p)=>{if(p){const w=f[A],C=s[A];return w?C?bE(C,w):w:C||Nm}return s[A]||Nm}}},ux=(r,a,s)=>{if(r.length-a===0)return s.classGroupId;const v=r[a],m=s.nextPart.get(v);if(m){const C=ux(r,a+1,m);if(C)return C}const A=s.validators;if(A===null)return;const p=a===0?r.join(ef):r.slice(a).join(ef),w=A.length;for(let C=0;C<w;C++){const D=A[C];if(D.validator(p))return D.classGroupId}},SE=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=r.slice(1,-1),s=a.indexOf(":"),f=a.slice(0,s);return f?EE+f:void 0})(),TE=r=>{const{theme:a,classGroups:s}=r;return BE(s,a)},BE=(r,a)=>{const s=cx();for(const f in r){const v=r[f];Wh(v,s,f,a)}return s},Wh=(r,a,s,f)=>{const v=r.length;for(let m=0;m<v;m++){const A=r[m];NE(A,a,s,f)}},NE=(r,a,s,f)=>{if(typeof r=="string"){_E(r,a,s);return}if(typeof r=="function"){DE(r,a,s,f);return}RE(r,a,s,f)},_E=(r,a,s)=>{const f=r===""?a:fx(a,r);f.classGroupId=s},DE=(r,a,s,f)=>{if(OE(r)){Wh(r(f),a,s,f);return}a.validators===null&&(a.validators=[]),a.validators.push(wE(s,r))},RE=(r,a,s,f)=>{const v=Object.entries(r),m=v.length;for(let A=0;A<m;A++){const[p,w]=v[A];Wh(w,fx(a,p),s,f)}},fx=(r,a)=>{let s=r;const f=a.split(ef),v=f.length;for(let m=0;m<v;m++){const A=f[m];let p=s.nextPart.get(A);p||(p=cx(),s.nextPart.set(A,p)),s=p}return s},OE=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,kE=r=>{if(r<1)return{get:()=>{},set:()=>{}};let a=0,s=Object.create(null),f=Object.create(null);const v=(m,A)=>{s[m]=A,a++,a>r&&(a=0,f=s,s=Object.create(null))};return{get(m){let A=s[m];if(A!==void 0)return A;if((A=f[m])!==void 0)return v(m,A),A},set(m,A){m in s?s[m]=A:v(m,A)}}},Eh="!",_m=":",ME=[],Dm=(r,a,s,f,v)=>({modifiers:r,hasImportantModifier:a,baseClassName:s,maybePostfixModifierPosition:f,isExternal:v}),LE=r=>{const{prefix:a,experimentalParseClassName:s}=r;let f=v=>{const m=[];let A=0,p=0,w=0,C;const D=v.length;for(let P=0;P<D;P++){const H=v[P];if(A===0&&p===0){if(H===_m){m.push(v.slice(w,P)),w=P+1;continue}if(H==="/"){C=P;continue}}H==="["?A++:H==="]"?A--:H==="("?p++:H===")"&&p--}const R=m.length===0?v:v.slice(w);let L=R,_=!1;R.endsWith(Eh)?(L=R.slice(0,-1),_=!0):R.startsWith(Eh)&&(L=R.slice(1),_=!0);const V=C&&C>w?C-w:void 0;return Dm(m,_,L,V)};if(a){const v=a+_m,m=f;f=A=>A.startsWith(v)?m(A.slice(v.length)):Dm(ME,!1,A,void 0,!0)}if(s){const v=f;f=m=>s({className:m,parseClassName:v})}return f},UE=r=>{const a=new Map;return r.orderSensitiveModifiers.forEach((s,f)=>{a.set(s,1e6+f)}),s=>{const f=[];let v=[];for(let m=0;m<s.length;m++){const A=s[m],p=A[0]==="[",w=a.has(A);p||w?(v.length>0&&(v.sort(),f.push(...v),v=[]),f.push(A)):v.push(A)}return v.length>0&&(v.sort(),f.push(...v)),f}},FE=r=>({cache:kE(r.cacheSize),parseClassName:LE(r),sortModifiers:UE(r),...IE(r)}),PE=/\s+/,VE=(r,a)=>{const{parseClassName:s,getClassGroupId:f,getConflictingClassGroupIds:v,sortModifiers:m}=a,A=[],p=r.trim().split(PE);let w="";for(let C=p.length-1;C>=0;C-=1){const D=p[C],{isExternal:R,modifiers:L,hasImportantModifier:_,baseClassName:V,maybePostfixModifierPosition:P}=s(D);if(R){w=D+(w.length>0?" "+w:w);continue}let H=!!P,T=f(H?V.substring(0,P):V);if(!T){if(!H){w=D+(w.length>0?" "+w:w);continue}if(T=f(V),!T){w=D+(w.length>0?" "+w:w);continue}H=!1}const F=L.length===0?"":L.length===1?L[0]:m(L).join(":"),U=_?F+Eh:F,K=U+T;if(A.indexOf(K)>-1)continue;A.push(K);const X=v(T,H);for(let M=0;M<X.length;++M){const I=X[M];A.push(U+I)}w=D+(w.length>0?" "+w:w)}return w},QE=(...r)=>{let a=0,s,f,v="";for(;a<r.length;)(s=r[a++])&&(f=dx(s))&&(v&&(v+=" "),v+=f);return v},dx=r=>{if(typeof r=="string")return r;let a,s="";for(let f=0;f<r.length;f++)r[f]&&(a=dx(r[f]))&&(s&&(s+=" "),s+=a);return s},HE=(r,...a)=>{let s,f,v,m;const A=w=>{const C=a.reduce((D,R)=>R(D),r());return s=FE(C),f=s.cache.get,v=s.cache.set,m=p,p(w)},p=w=>{const C=f(w);if(C)return C;const D=VE(w,s);return v(w,D),D};return m=A,(...w)=>m(QE(...w))},GE=[],qr=r=>{const a=s=>s[r]||GE;return a.isThemeGetter=!0,a},hx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jE=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,KE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,YE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zs=r=>jE.test(r),Bn=r=>!!r&&!Number.isNaN(Number(r)),Ws=r=>!!r&&Number.isInteger(Number(r)),lh=r=>r.endsWith("%")&&Bn(r.slice(0,-1)),ls=r=>KE.test(r),px=()=>!0,ZE=r=>zE.test(r)&&!qE.test(r),Jh=()=>!1,WE=r=>YE.test(r),JE=r=>XE.test(r),$E=r=>!Ft(r)&&!Pt(r),e3=r=>oo(r,xx,Jh),Ft=r=>hx.test(r),_o=r=>oo(r,vx,ZE),Rm=r=>oo(r,l3,Bn),t3=r=>oo(r,Cx,px),n3=r=>oo(r,Ax,Jh),Om=r=>oo(r,yx,Jh),r3=r=>oo(r,mx,JE),Qu=r=>oo(r,bx,WE),Pt=r=>gx.test(r),pc=r=>Lo(r,vx),a3=r=>Lo(r,Ax),km=r=>Lo(r,yx),i3=r=>Lo(r,xx),s3=r=>Lo(r,mx),Hu=r=>Lo(r,bx,!0),o3=r=>Lo(r,Cx,!0),oo=(r,a,s)=>{const f=hx.exec(r);return f?f[1]?a(f[1]):s(f[2]):!1},Lo=(r,a,s=!1)=>{const f=gx.exec(r);return f?f[1]?a(f[1]):s:!1},yx=r=>r==="position"||r==="percentage",mx=r=>r==="image"||r==="url",xx=r=>r==="length"||r==="size"||r==="bg-size",vx=r=>r==="length",l3=r=>r==="number",Ax=r=>r==="family-name",Cx=r=>r==="number"||r==="weight",bx=r=>r==="shadow",c3=()=>{const r=qr("color"),a=qr("font"),s=qr("text"),f=qr("font-weight"),v=qr("tracking"),m=qr("leading"),A=qr("breakpoint"),p=qr("container"),w=qr("spacing"),C=qr("radius"),D=qr("shadow"),R=qr("inset-shadow"),L=qr("text-shadow"),_=qr("drop-shadow"),V=qr("blur"),P=qr("perspective"),H=qr("aspect"),T=qr("ease"),F=qr("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...K(),Pt,Ft],M=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],E=()=>[Pt,Ft,w],j=()=>[Zs,"full","auto",...E()],ie=()=>[Ws,"none","subgrid",Pt,Ft],de=()=>["auto",{span:["full",Ws,Pt,Ft]},Ws,Pt,Ft],ee=()=>[Ws,"auto",Pt,Ft],se=()=>["auto","min","max","fr",Pt,Ft],Ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...E()],ve=()=>[Zs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],ke=()=>[Zs,"screen","full","dvw","lvw","svw","min","max","fit",...E()],Ue=()=>[Zs,"screen","full","lh","dvh","lvh","svh","min","max","fit",...E()],Me=()=>[r,Pt,Ft],Ae=()=>[...K(),km,Om,{position:[Pt,Ft]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ze=()=>["auto","cover","contain",i3,e3,{size:[Pt,Ft]}],_e=()=>[lh,pc,_o],Je=()=>["","none","full",C,Pt,Ft],Ne=()=>["",Bn,pc,_o],wt=()=>["solid","dashed","dotted","double"],yt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Bn,lh,km,Om],W=()=>["","none",V,Pt,Ft],re=()=>["none",Bn,Pt,Ft],O=()=>["none",Bn,Pt,Ft],Z=()=>[Bn,Pt,Ft],be=()=>[Zs,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ls],breakpoint:[ls],color:[px],container:[ls],"drop-shadow":[ls],ease:["in","out","in-out"],font:[$E],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ls],shadow:[ls],spacing:["px",Bn],text:[ls],"text-shadow":[ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zs,Ft,Pt,H]}],container:["container"],columns:[{columns:[Bn,Ft,Pt,p]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{"inset-s":j(),start:j()}],end:[{"inset-e":j(),end:j()}],"inset-bs":[{"inset-bs":j()}],"inset-be":[{"inset-be":j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Ws,"auto",Pt,Ft]}],basis:[{basis:[Zs,"full","auto",p,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Bn,Zs,"auto","initial","none",Ft]}],grow:[{grow:["",Bn,Pt,Ft]}],shrink:[{shrink:["",Bn,Pt,Ft]}],order:[{order:[Ws,"first","last","none",Pt,Ft]}],"grid-cols":[{"grid-cols":ie()}],"col-start-end":[{col:de()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":ie()}],"row-start-end":[{row:de()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...Ce(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...Ce()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ce()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pbs:[{pbs:E()}],pbe:[{pbe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mbs:[{mbs:he()}],mbe:[{mbe:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],"inline-size":[{inline:["auto",...ke()]}],"min-inline-size":[{"min-inline":["auto",...ke()]}],"max-inline-size":[{"max-inline":["none",...ke()]}],"block-size":[{block:["auto",...Ue()]}],"min-block-size":[{"min-block":["auto",...Ue()]}],"max-block-size":[{"max-block":["none",...Ue()]}],w:[{w:[p,"screen",...ve()]}],"min-w":[{"min-w":[p,"screen","none",...ve()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[A]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",s,pc,_o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[f,o3,t3]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lh,Ft]}],"font-family":[{font:[a3,n3,a]}],"font-features":[{"font-features":[Ft]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[v,Pt,Ft]}],"line-clamp":[{"line-clamp":[Bn,"none",Pt,Rm]}],leading:[{leading:[m,...E()]}],"list-image":[{"list-image":["none",Pt,Ft]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pt,Ft]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Me()}],"text-color":[{text:Me()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...wt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Bn,"from-font","auto",Pt,_o]}],"text-decoration-color":[{decoration:Me()}],"underline-offset":[{"underline-offset":[Bn,"auto",Pt,Ft]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt,Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt,Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:ze()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ws,Pt,Ft],radial:["",Pt,Ft],conic:[Ws,Pt,Ft]},s3,r3]}],"bg-color":[{bg:Me()}],"gradient-from-pos":[{from:_e()}],"gradient-via-pos":[{via:_e()}],"gradient-to-pos":[{to:_e()}],"gradient-from":[{from:Me()}],"gradient-via":[{via:Me()}],"gradient-to":[{to:Me()}],rounded:[{rounded:Je()}],"rounded-s":[{"rounded-s":Je()}],"rounded-e":[{"rounded-e":Je()}],"rounded-t":[{"rounded-t":Je()}],"rounded-r":[{"rounded-r":Je()}],"rounded-b":[{"rounded-b":Je()}],"rounded-l":[{"rounded-l":Je()}],"rounded-ss":[{"rounded-ss":Je()}],"rounded-se":[{"rounded-se":Je()}],"rounded-ee":[{"rounded-ee":Je()}],"rounded-es":[{"rounded-es":Je()}],"rounded-tl":[{"rounded-tl":Je()}],"rounded-tr":[{"rounded-tr":Je()}],"rounded-br":[{"rounded-br":Je()}],"rounded-bl":[{"rounded-bl":Je()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-bs":[{"border-bs":Ne()}],"border-w-be":[{"border-be":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...wt(),"hidden","none"]}],"divide-style":[{divide:[...wt(),"hidden","none"]}],"border-color":[{border:Me()}],"border-color-x":[{"border-x":Me()}],"border-color-y":[{"border-y":Me()}],"border-color-s":[{"border-s":Me()}],"border-color-e":[{"border-e":Me()}],"border-color-bs":[{"border-bs":Me()}],"border-color-be":[{"border-be":Me()}],"border-color-t":[{"border-t":Me()}],"border-color-r":[{"border-r":Me()}],"border-color-b":[{"border-b":Me()}],"border-color-l":[{"border-l":Me()}],"divide-color":[{divide:Me()}],"outline-style":[{outline:[...wt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Bn,Pt,Ft]}],"outline-w":[{outline:["",Bn,pc,_o]}],"outline-color":[{outline:Me()}],shadow:[{shadow:["","none",D,Hu,Qu]}],"shadow-color":[{shadow:Me()}],"inset-shadow":[{"inset-shadow":["none",R,Hu,Qu]}],"inset-shadow-color":[{"inset-shadow":Me()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Me()}],"ring-offset-w":[{"ring-offset":[Bn,_o]}],"ring-offset-color":[{"ring-offset":Me()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":Me()}],"text-shadow":[{"text-shadow":["none",L,Hu,Qu]}],"text-shadow-color":[{"text-shadow":Me()}],opacity:[{opacity:[Bn,Pt,Ft]}],"mix-blend":[{"mix-blend":[...yt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":yt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Bn]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":Me()}],"mask-image-linear-to-color":[{"mask-linear-to":Me()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":Me()}],"mask-image-t-to-color":[{"mask-t-to":Me()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":Me()}],"mask-image-r-to-color":[{"mask-r-to":Me()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":Me()}],"mask-image-b-to-color":[{"mask-b-to":Me()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":Me()}],"mask-image-l-to-color":[{"mask-l-to":Me()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":Me()}],"mask-image-x-to-color":[{"mask-x-to":Me()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":Me()}],"mask-image-y-to-color":[{"mask-y-to":Me()}],"mask-image-radial":[{"mask-radial":[Pt,Ft]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":Me()}],"mask-image-radial-to-color":[{"mask-radial-to":Me()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Bn]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":Me()}],"mask-image-conic-to-color":[{"mask-conic-to":Me()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:ze()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pt,Ft]}],filter:[{filter:["","none",Pt,Ft]}],blur:[{blur:W()}],brightness:[{brightness:[Bn,Pt,Ft]}],contrast:[{contrast:[Bn,Pt,Ft]}],"drop-shadow":[{"drop-shadow":["","none",_,Hu,Qu]}],"drop-shadow-color":[{"drop-shadow":Me()}],grayscale:[{grayscale:["",Bn,Pt,Ft]}],"hue-rotate":[{"hue-rotate":[Bn,Pt,Ft]}],invert:[{invert:["",Bn,Pt,Ft]}],saturate:[{saturate:[Bn,Pt,Ft]}],sepia:[{sepia:["",Bn,Pt,Ft]}],"backdrop-filter":[{"backdrop-filter":["","none",Pt,Ft]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[Bn,Pt,Ft]}],"backdrop-contrast":[{"backdrop-contrast":[Bn,Pt,Ft]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Bn,Pt,Ft]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Bn,Pt,Ft]}],"backdrop-invert":[{"backdrop-invert":["",Bn,Pt,Ft]}],"backdrop-opacity":[{"backdrop-opacity":[Bn,Pt,Ft]}],"backdrop-saturate":[{"backdrop-saturate":[Bn,Pt,Ft]}],"backdrop-sepia":[{"backdrop-sepia":["",Bn,Pt,Ft]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pt,Ft]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Bn,"initial",Pt,Ft]}],ease:[{ease:["linear","initial",T,Pt,Ft]}],delay:[{delay:[Bn,Pt,Ft]}],animate:[{animate:["none",F,Pt,Ft]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Pt,Ft]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:O()}],"scale-x":[{"scale-x":O()}],"scale-y":[{"scale-y":O()}],"scale-z":[{"scale-z":O()}],"scale-3d":["scale-3d"],skew:[{skew:Z()}],"skew-x":[{"skew-x":Z()}],"skew-y":[{"skew-y":Z()}],transform:[{transform:[Pt,Ft,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:Me()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Me()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt,Ft]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mbs":[{"scroll-mbs":E()}],"scroll-mbe":[{"scroll-mbe":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pbs":[{"scroll-pbs":E()}],"scroll-pbe":[{"scroll-pbe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt,Ft]}],fill:[{fill:["none",...Me()]}],"stroke-w":[{stroke:[Bn,pc,_o,Rm]}],stroke:[{stroke:["none",...Me()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},u3=HE(c3);function ya(...r){return u3(CE(r))}function Do(){return typeof window<"u"&&window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const a=Math.random()*16|0;return(r==="x"?a:a&3|8).toString(16)})}function f3(){return z.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-[calc(4rem+env(safe-area-inset-bottom))] pb-[env(safe-area-inset-bottom)] bg-white border-t border-gray-200 flex items-center justify-around z-50",children:[z.jsxs(Zu,{to:"/mfa",className:({isActive:r})=>ya("flex flex-col items-center justify-center w-full h-full text-xs font-medium transition-colors",r?"text-indigo-600":"text-gray-500 hover:text-gray-900"),children:[z.jsx(Zh,{className:"w-6 h-6 mb-1"}),"MFA"]}),z.jsxs(Zu,{to:"/accounts",className:({isActive:r})=>ya("flex flex-col items-center justify-center w-full h-full text-xs font-medium transition-colors",r?"text-indigo-600":"text-gray-500 hover:text-gray-900"),children:[z.jsx(Ew,{className:"w-6 h-6 mb-1"}),""]}),z.jsxs(Zu,{to:"/my",className:({isActive:r})=>ya("flex flex-col items-center justify-center w-full h-full text-xs font-medium transition-colors",r?"text-indigo-600":"text-gray-500 hover:text-gray-900"),children:[z.jsx(mE,{className:"w-6 h-6 mb-1"}),""]})]})}function d3(r,a,s){var f,v;typeof r=="function"?(f=a||[],v=s):(f=[],v=a);var m=Xr.useRef({hasResult:!1,result:v,error:null}),A=Xr.useReducer(function(C){return C+1},0);A[0];var p=A[1],w=Xr.useMemo(function(){var C=typeof r=="function"?r():r;if(!C||typeof C.subscribe!="function")throw r===C?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!m.current.hasResult&&typeof window<"u"&&(typeof C.hasValue!="function"||C.hasValue()))if(typeof C.getValue=="function")m.current.result=C.getValue(),m.current.hasResult=!0;else{var D=C.subscribe(function(R){m.current.result=R,m.current.hasResult=!0});typeof D=="function"?D():D.unsubscribe()}return C},f);if(Xr.useDebugValue(m.current.result),Xr.useEffect(function(){var C=w.subscribe(function(D){var R=m.current;(R.error!==null||R.result!==D)&&(R.error=null,R.result=D,R.hasResult=!0,p())},function(D){var R=m.current;R.error!==D&&(R.error=D,p())});return typeof C=="function"?C:C.unsubscribe.bind(C)},f),m.current.error)throw m.current.error;return m.current.result}function h3(r,a,s){return d3(function(){return vl.liveQuery(r)},a||[],s)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(r){var a=vl.DexieYProvider;a&&a.release(r)});function wx(r){const s=r.replace(/\.git$/,"").split("/");if(s.length<2)return null;const f=s.pop();return{owner:s.pop(),repo:f}}async function Ih(r,a,s,f){const v={Authorization:`token ${s}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},m=await fetch(r,{method:a,headers:v,body:f?JSON.stringify(f):void 0});if(!m.ok){if(a==="GET"&&m.status===404)throw new Error("Not Found");const A=await m.text();throw new Error(`GitHub API Error: ${m.status} ${A}`)}return m.json()}async function Sh(r,a,s,f){const v={"Content-Type":"application/json;charset=UTF-8"};let m=r;if(a==="GET"){const w=new URL(r);w.searchParams.append("access_token",s),m=w.toString()}const A=f?{...f,access_token:s}:void 0,p=await fetch(m,{method:a,headers:v,body:A?JSON.stringify(A):void 0});if(!p.ok){if(a==="GET"&&p.status===404)throw new Error("Not Found");const w=await p.text();throw new Error(`Gitee API Error: ${p.status} ${w}`)}return p.json()}function g3(r){return btoa(unescape(encodeURIComponent(r)))}function Mm(r){return decodeURIComponent(escape(atob(r)))}async function p3(r,a){const{platform:s,repoUrl:f,branch:v,token:m,path:A}=r,p=wx(f);if(!p||!p.owner||!p.repo)throw new Error("Invalid repository URL");const{owner:w,repo:C}=p,D=JSON.stringify(a,null,2),R=g3(D);if(s==="github"){const L=`https://api.github.com/repos/${w}/${C}/contents/${A}`;let _;try{_=(await Ih(L+`?ref=${v}`,"GET",m)).sha}catch{}await Ih(L,"PUT",m,{message:`Backup from CipherVault at ${new Date().toISOString()}`,content:R,branch:v,sha:_})}else if(s==="gitee"){const L=`https://gitee.com/api/v5/repos/${w}/${C}/contents/${A}`;let _;try{_=(await Sh(L+`?ref=${v}`,"GET",m)).sha}catch{}await Sh(L,_?"PUT":"POST",m,{message:`Backup from CipherVault at ${new Date().toISOString()}`,content:R,branch:v,sha:_})}else throw new Error(`Platform ${s} not supported yet`)}async function $h(r){const{platform:a,repoUrl:s,branch:f,token:v,path:m}=r,A=wx(s);if(!A||!A.owner||!A.repo)throw new Error("Invalid repository URL");const{owner:p,repo:w}=A;if(a==="github"){const C=`https://api.github.com/repos/${p}/${w}/contents/${m}?ref=${f}`,D=await Ih(C,"GET",v);if(D.content){const R=D.content.replace(/\n/g,""),L=Mm(R);return JSON.parse(L)}else{if(D.download_url)return await(await fetch(D.download_url)).json();throw new Error("Unable to read file content")}}else if(a==="gitee"){const C=`https://gitee.com/api/v5/repos/${p}/${w}/contents/${m}?ref=${f}`,D=await Sh(C,"GET",v);if(D.content){const R=D.content.replace(/\n/g,""),L=Mm(R);return JSON.parse(L)}else{if(D.download_url)return await(await fetch(D.download_url)).json();throw new Error("Unable to read file content")}}else throw new Error(`Platform ${a} not supported yet`)}async function e1(r){const a=await ct.syncData.get(1);if(!a||a.type!=="git")return null;try{const s=await ki(r,a.config),f=JSON.parse(s);return{config:{platform:f.platform||"github",repoUrl:f.repoUrl||"",branch:f.branch||"main",token:f.token||"",path:f.path||"backup.json"},autoBackup:f.autoBackup||!1}}catch(s){return console.error("Failed to decrypt sync config",s),null}}async function y3(){const r=await ct.baseData.toArray(),a=await ct.securityData.toArray(),s=await ct.tags.toArray(),f=await ct.totps.toArray(),v=await ct.accounts.toArray(),m=await ct.syncData.toArray();return{version:Date.now(),baseData:r,securityData:a,tags:s,totps:f,accounts:v,syncData:m}}async function t1(r){const a=await ct.syncData.get(1),s=(a==null?void 0:a.latestVersion)||0;return console.log(`Merging data. Remote version: ${r.version}, Local version: ${s}`),r.version&&r.version<=s?(console.log("Remote version is older or equal. Skipping merge."),!1):(await ct.transaction("rw",[ct.baseData,ct.securityData,ct.tags,ct.totps,ct.accounts,ct.syncData],async()=>{if(r.baseData&&r.baseData.length>0&&(await ct.baseData.clear(),await ct.baseData.bulkAdd(r.baseData)),r.securityData&&r.securityData.length>0&&(await ct.securityData.clear(),await ct.securityData.bulkAdd(r.securityData)),r.tags&&r.tags.length>0&&(await ct.tags.clear(),await ct.tags.bulkAdd(r.tags)),r.totps)for(const f of r.totps){const v=await ct.totps.get(f.id);(!v||f.time>v.time)&&await ct.totps.put(f)}if(r.accounts)for(const f of r.accounts){const v=await ct.accounts.get(f.id);(!v||f.time>v.time)&&await ct.accounts.put(f)}await ct.syncData.update(1,{latestVersion:r.version,lastPull:Date.now()})}),!0)}async function m3(r){const a=await e1(r);if(!a||!a.config.repoUrl||!a.config.token)throw new Error("Git configuration missing");const s=await $h(a.config);return await t1(s)}async function Ex(r){const a=await e1(r);if(!a||!a.config.repoUrl||!a.config.token)throw new Error("Git configuration missing");try{const f=await $h(a.config);await t1(f)}catch(f){console.warn("Failed to pull remote data before backup. Proceeding with push anyway.",f)}const s=await y3();await p3(a.config,s),await ct.syncData.update(1,{lastPush:Date.now(),latestVersion:s.version})}function x3(){const{dek:r}=Mo(),a=ae.useRef(0),s=ae.useRef(!1),f=h3(async()=>(await ct.baseData.count(),await ct.accounts.count(),await ct.tags.count(),await ct.totps.count(),await ct.securityData.count(),Date.now()),[]);return ae.useEffect(()=>{if(!r||!f)return;const m=setTimeout(async()=>{if(!s.current&&!(Date.now()-a.current<1e4))try{const A=await e1(r);A&&A.autoBackup&&(s.current=!0,console.log("Auto backup triggered..."),await Ex(r),a.current=Date.now(),console.log("Auto backup completed"))}catch(A){console.error("Auto backup failed",A)}finally{s.current=!1}},3e4);return()=>clearTimeout(m)},[f,r]),z.jsxs("div",{className:"min-h-full bg-gray-50 pb-[calc(4rem+env(safe-area-inset-bottom))]",children:[z.jsx("main",{className:"p-4 max-w-md mx-auto",children:z.jsx(HC,{})}),z.jsx(f3,{})]})}function Ix({onComplete:r,error:a,showBiometrics:s,onBiometrics:f,onForgot:v,isLoading:m,disabled:A}){const[p,w]=ae.useState(""),C=L=>{if(!(m||A)&&p.length<8){const _=p+L;w(_),_.length===8&&(r(_),w(""))}},D=()=>{m||A||w(p.slice(0,-1))},R=()=>{m||A||w("")};return z.jsxs("div",{className:"flex flex-col items-center w-full max-w-sm mx-auto",children:[z.jsx("div",{className:"flex gap-3 mb-8 h-4 items-center justify-center",children:m?z.jsx(Xw,{className:"w-6 h-6 text-indigo-600 animate-spin"}):Array.from({length:8}).map((L,_)=>z.jsx("div",{className:ya("w-4 h-4 rounded-full border-2 transition-all",_<p.length?"bg-indigo-600 border-indigo-600":"border-gray-300")},_))}),a&&!m&&z.jsx("p",{className:"text-red-500 text-sm mb-4 animate-pulse",children:a}),z.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full px-6",children:[[1,2,3,4,5,6,7,8,9].map(L=>z.jsx("button",{onClick:()=>C(L.toString()),disabled:m||A,className:"h-16 rounded-full bg-white shadow-sm border border-gray-100 text-2xl font-medium text-gray-800 hover:bg-gray-50 active:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:L},L)),z.jsx("button",{onClick:R,disabled:m||A,className:"h-16 rounded-full text-sm font-medium text-gray-500 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""}),z.jsx("button",{onClick:()=>C("0"),disabled:m||A,className:"h-16 rounded-full bg-white shadow-sm border border-gray-100 text-2xl font-medium text-gray-800 hover:bg-gray-50 active:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"0"}),z.jsx("button",{onClick:D,disabled:m||A,className:"h-16 rounded-full flex items-center justify-center text-gray-500 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:z.jsx(Ow,{className:"w-6 h-6"})})]}),z.jsxs("div",{className:"mt-8 flex justify-between w-full px-8",children:[v?z.jsx("button",{onClick:v,disabled:m||A,className:"text-sm text-indigo-600 font-medium disabled:opacity-50",children:"?"}):z.jsx("div",{}),s&&f&&z.jsx("button",{onClick:f,disabled:m||A,className:"text-indigo-600 disabled:opacity-50",children:z.jsx(Hw,{className:"w-8 h-8"})})]})]})}function so({message:r,visible:a,onClose:s}){const f=ae.useRef(s);return ae.useEffect(()=>{f.current=s},[s]),ae.useEffect(()=>{if(a){const v=r.length>15?5e3:3e3,m=setTimeout(()=>{f.current()},v);return()=>clearTimeout(m)}},[a,r]),a?z.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-gray-800/90 text-white px-6 py-3 rounded-2xl text-sm shadow-lg z-[100] animate-in fade-in slide-in-from-bottom-4 max-w-[80vw] text-center",children:r}):null}function $r({isOpen:r,onClose:a,title:s,children:f}){return r?z.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 scrollable",children:z.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[z.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[z.jsx("h3",{className:"font-semibold text-gray-900",children:s}),z.jsx("button",{onClick:a,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:z.jsx(Tc,{className:"w-5 h-5"})})]}),z.jsx("div",{className:"p-4 overflow-y-auto scrollable",children:f})]})}):null}function v3(){const{init:r}=Mo(),[a,s]=ae.useState("options"),[f,v]=ae.useState(""),[m,A]=ae.useState(""),[p,w]=ae.useState(""),C=ae.useRef(null),[D,R]=ae.useState(""),[L,_]=ae.useState(!1),[V,P]=ae.useState(!1),[H,T]=ae.useState("github"),[F,U]=ae.useState(""),[K,X]=ae.useState("main"),[M,I]=ae.useState(""),[E,j]=ae.useState("backup.json"),[ie,de]=ae.useState(!1),ee=Ue=>{R(Ue),_(!0)},se=Ue=>{v(Ue),s("create2")},Ce=async Ue=>{if(Ue!==f){A(""),s("create1"),v("");return}w(Ue),s("success"),ee("")},oe=async()=>{try{await r(p)}catch(Ue){A(Ue.message||""),s("create1"),v("")}},he=()=>{var Ue;(Ue=C.current)==null||Ue.click()},ve=async Ue=>{var Ae;const Me=(Ae=Ue.target.files)==null?void 0:Ae[0];if(Me){try{const Se=await Me.text();if(!Se||Se==="undefined"){ee("");return}const ze=JSON.parse(Se);if(!ze.baseData||ze.baseData.length===0){ee("");return}await ct.transaction("rw",[ct.baseData,ct.securityData,ct.tags,ct.totps,ct.accounts,ct.syncData],async()=>{if(await ct.baseData.clear(),await ct.baseData.bulkAdd(ze.baseData),ze.securityData&&(await ct.securityData.clear(),await ct.securityData.bulkAdd(ze.securityData)),ze.tags&&(await ct.tags.clear(),await ct.tags.bulkAdd(ze.tags)),ze.totps)for(const _e of ze.totps){const Je=await ct.totps.get(_e.id);(!Je||Je.time<_e.time)&&await ct.totps.put(_e)}if(ze.accounts)for(const _e of ze.accounts){const Je=await ct.accounts.get(_e.id);(!Je||Je.time<_e.time)&&await ct.accounts.put(_e)}ze.syncData&&(await ct.syncData.clear(),await ct.syncData.bulkAdd(ze.syncData))}),ee(""),setTimeout(()=>{window.location.reload()},1500)}catch{ee("")}C.current&&(C.current.value="")}},ke=async()=>{if(!F||!M){ee("");return}de(!0);try{const Me=await $h({platform:H,repoUrl:F,branch:K,token:M,path:E});await t1(Me),ee(""),setTimeout(()=>{window.location.reload()},1500)}catch(Ue){console.error("Restore Error:",Ue),ee(`: ${Ue.message}`)}finally{de(!1)}};return a==="options"?z.jsxs("div",{className:"min-h-full bg-gray-50 flex flex-col items-center justify-center p-6",children:[z.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-3xl flex items-center justify-center shadow-lg mb-8",children:z.jsx(Bm,{className:"w-10 h-10 text-white"})}),z.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cipher Vault"}),z.jsxs("p",{className:"text-gray-500 mb-12 text-center",children:["",z.jsx("br",{}),""]}),z.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[z.jsx("button",{onClick:()=>s("create1"),className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-medium shadow-md hover:bg-indigo-700 transition-colors",children:""}),z.jsx("input",{type:"file",accept:".json",className:"hidden",ref:C,onChange:ve}),z.jsxs("button",{onClick:he,className:"w-full py-4 bg-white text-gray-700 rounded-2xl font-medium shadow-sm border border-gray-200 flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",children:[z.jsx(ax,{className:"w-5 h-5"}),""]}),z.jsxs("button",{onClick:()=>P(!0),className:"w-full py-4 bg-white text-gray-700 rounded-2xl font-medium shadow-sm border border-gray-200 flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",children:[z.jsx(Bw,{className:"w-5 h-5"}),""]})]}),z.jsx($r,{isOpen:V,onClose:()=>P(!1),title:" (Git)",children:z.jsxs("div",{className:"space-y-4 py-2",children:[z.jsx("div",{className:"bg-indigo-50 p-3 rounded-lg text-sm text-indigo-700 mb-2",children:" Git "}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Git "}),z.jsxs("select",{value:H,onChange:Ue=>T(Ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[z.jsx("option",{value:"github",children:"GitHub"}),z.jsx("option",{value:"gitee",children:"Gitee ()"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Repository URL)"}),z.jsx("input",{type:"text",value:F,onChange:Ue=>U(Ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"https://github.com/username/repo"})]}),z.jsxs("div",{className:"flex gap-3",children:[z.jsxs("div",{className:"flex-1",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Branch)"}),z.jsx("input",{type:"text",value:K,onChange:Ue=>X(Ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"main"})]}),z.jsxs("div",{className:"flex-1",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"text",value:E,onChange:Ue=>j(Ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"backup.json"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Access Token)"}),z.jsx("input",{type:"password",value:M,onChange:Ue=>I(Ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"ghp_..."})]}),z.jsx("button",{onClick:ke,disabled:ie,className:"w-full mt-4 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:ie?"...":""})]})}),z.jsx(so,{message:D,visible:L,onClose:()=>_(!1)})]}):a==="success"?z.jsxs("div",{className:"min-h-full bg-gray-50 flex flex-col items-center justify-center p-6 text-center",children:[z.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-8",children:z.jsx(Bm,{className:"w-10 h-10 text-green-600"})}),z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),z.jsx("p",{className:"text-gray-500 mb-12 max-w-xs",children:""}),z.jsx("button",{onClick:oe,className:"w-full max-w-sm py-4 bg-indigo-600 text-white rounded-2xl font-medium shadow-md hover:bg-indigo-700 transition-colors",children:""}),z.jsx(so,{message:D,visible:L,onClose:()=>_(!1)})]}):z.jsxs("div",{className:"min-h-full bg-gray-50 flex flex-col items-center pt-20 p-6",children:[z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:a==="create1"?"":""}),z.jsxs("p",{className:"text-gray-500 mb-12 text-sm text-center",children:["8",z.jsx("br",{}),""]}),z.jsx(Ix,{onComplete:a==="create1"?se:Ce,error:m}),z.jsx(so,{message:D,visible:L,onClose:()=>_(!1)})]})}function A3(){const{login:r,errorCount:a,lockoutUntil:s,biometricLogin:f,enableBiometric:v,isBiometricConfigured:m}=Mo(),[A,p]=ae.useState(""),[w,C]=ae.useState(0),[D,R]=ae.useState(!1),[L,_]=ae.useState(""),[V,P]=ae.useState(!1),[H,T]=ae.useState(!1),[F,U]=ae.useState(""),K=Se=>{_(Se),P(!0)},[X,M]=ae.useState(!1),[I,E]=ae.useState(""),[j,ie]=ae.useState(""),[de,ee]=ae.useState(""),[se,Ce]=ae.useState(""),[oe,he]=ae.useState(1);ae.useEffect(()=>{const Se=setInterval(()=>{const ze=Math.max(0,Math.ceil((s-Date.now())/1e3));C(ze)},1e3);return()=>clearInterval(Se)},[s]);const ve=async Se=>{w>0||(R(!0),p(""),setTimeout(async()=>{await r(Se)||p(""),R(!1)},50))},ke=async()=>{if(!Ch()){K("");return}if(m){R(!0);try{const Se=await f();Se.success||K(Se.error||"")}catch{K("")}finally{R(!1)}}else T(!0)},Ue=async()=>{if(F.length!==8){K("8");return}R(!0);try{const Se=await v(F);Se.success?(K(""),T(!1),U("")):K(Se.error||"")}catch{K("")}finally{R(!1)}},Me=async()=>{try{const Se=await ct.securityData.get(1);if(!Se){K("");return}E(Se.question),M(!0),he(1),ie(""),ee(""),Ce(""),p("")}catch{alert("")}},Ae=async()=>{if(!j){p("");return}if(de.length!==8||se.length!==8){p("8");return}if(de!==se){p("");return}R(!0),p(""),setTimeout(async()=>{try{const Se=await ct.securityData.get(1),ze=await ct.baseData.get(1);if(!Se||!ze)throw new Error("");const _e=yl(Se.answerSalt),Je=await ds(j,_e),Ne=await wa(Je);let wt;try{wt=await pl(Ne,Se.resetKey)}catch{throw new Error("")}const yt=await Ic(),Q=await ds(de,yt),W=await wa(Q),re=await li(W,"success"),O=await li(W,wt);await ct.baseData.put({id:1,salt:Sc(yt),checkKey:re,dataKey:O,time:Date.now()}),await r(de)}catch(Se){p(Se.message||"")}finally{R(!1)}},50)};return X?z.jsx("div",{className:"min-h-full bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex flex-col items-center pt-20 p-6",children:z.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[z.jsxs("button",{onClick:()=>M(!1),className:"flex items-center text-gray-500 hover:text-gray-700 mb-6 transition-colors",children:[z.jsx(nx,{className:"w-5 h-5 mr-1"}),""]}),z.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[z.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:""}),A&&z.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-xl text-sm mb-4",children:A}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("div",{className:"p-3 bg-gray-50 rounded-xl text-gray-800",children:I})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"text",value:j,onChange:Se=>ie(Se.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all text-base",placeholder:"",disabled:D})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (8)"}),z.jsx("input",{type:"password",value:de,onChange:Se=>ee(Se.target.value.replace(/\D/g,"").slice(0,8)),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all tracking-widest text-base",placeholder:"8",maxLength:8,disabled:D})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"password",value:se,onChange:Se=>Ce(Se.target.value.replace(/\D/g,"").slice(0,8)),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all tracking-widest text-base",placeholder:"",maxLength:8,disabled:D})]}),z.jsx("button",{onClick:Ae,disabled:D||!j||de.length!==8||se.length!==8,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center mt-6",children:D?"...":""})]})]})]})}):z.jsxs("div",{className:"min-h-full bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex flex-col items-center pt-20 p-6",children:[z.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-gray-100 mb-6",children:z.jsx(oE,{className:"w-8 h-8 text-indigo-600"})}),z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),z.jsx("p",{className:"text-gray-500 mb-12 text-sm",children:w>0?` ${w} `:"8"}),z.jsx(Ix,{onComplete:ve,error:A,showBiometrics:Ch(),onBiometrics:ke,onForgot:Me,isLoading:D,disabled:w>0}),z.jsx($r,{isOpen:H,onClose:()=>T(!1),title:"",children:z.jsxs("div",{className:"space-y-4",children:[z.jsx("p",{className:"text-sm text-gray-600",children:""}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"password",value:F,onChange:Se=>U(Se.target.value.replace(/\D/g,"").slice(0,8)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 tracking-widest",placeholder:"8",maxLength:8})]}),z.jsx("button",{onClick:Ue,disabled:F.length!==8||D,className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:D?"...":""})]})}),z.jsx(so,{message:L,visible:V,onClose:()=>P(!1)})]})}//! otpauth 9.5.0 | (c) Hctor Molinero Fernndez | MIT | https://github.com/hectorm/otpauth
//! noble-hashes 2.0.1 | (c) Paul Miller | MIT | https://github.com/paulmillr/noble-hashes
const C3=r=>{const a=new ArrayBuffer(8),s=new Uint8Array(a);let f=r;for(let v=7;v>=0&&f!==0;v--)s[v]=f&255,f-=s[v],f/=256;return s};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function b3(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function tf(r,a=""){if(!Number.isSafeInteger(r)||r<0){const s=a&&`"${a}" `;throw new Error(`${s}expected integer >= 0, got ${r}`)}}function Al(r,a,s=""){const f=b3(r),v=r==null?void 0:r.length,m=a!==void 0;if(!f||m&&v!==a){const A=s&&`"${s}" `,p=m?` of length ${a}`:"",w=f?`length=${v}`:`type=${typeof r}`;throw new Error(A+"expected Uint8Array"+p+", got "+w)}return r}function w3(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash must wrapped by utils.createHasher");tf(r.outputLen),tf(r.blockLen)}function Cl(r,a=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(a&&r.finished)throw new Error("Hash#digest() has already been called")}function Sx(r,a){Al(r,void 0,"digestInto() output");const s=a.outputLen;if(r.length<s)throw new Error('"digestInto() output" expected to be of length >='+s)}function E3(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function Ui(...r){for(let a=0;a<r.length;a++)r[a].fill(0)}function ch(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Oi(r,a){return r<<32-a|r>>>a}function uh(r,a){return r<<a|r>>>32-a>>>0}const I3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function S3(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function T3(r){for(let a=0;a<r.length;a++)r[a]=S3(r[a]);return r}const Lm=I3?r=>r:T3;function Bl(r,a={}){const s=(v,m)=>r(m).update(v).digest(),f=r(void 0);return s.outputLen=f.outputLen,s.blockLen=f.blockLen,s.create=v=>r(v),Object.assign(s,a),Object.freeze(s)}const lo=r=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,r])});class Tx{update(a){return Cl(this),this.iHash.update(a),this}digestInto(a){Cl(this),Al(a,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){const a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:f,finished:v,destroyed:m,blockLen:A,outputLen:p}=this;return a=a,a.finished=v,a.destroyed=m,a.blockLen=A,a.outputLen=p,a.oHash=s._cloneInto(a.oHash),a.iHash=f._cloneInto(a.iHash),a}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(a,s){if(this.finished=!1,this.destroyed=!1,w3(a),Al(s,void 0,"key"),this.iHash=a.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const f=this.blockLen,v=new Uint8Array(f);v.set(s.length>f?a.create().update(s).digest():s);for(let m=0;m<v.length;m++)v[m]^=54;this.iHash.update(v),this.oHash=a.create();for(let m=0;m<v.length;m++)v[m]^=106;this.oHash.update(v),Ui(v)}}const Th=(r,a,s)=>new Tx(r,a).update(s).digest();Th.create=(r,a)=>new Tx(r,a);function Bx(r,a,s){return r&a^~r&s}function Nx(r,a,s){return r&a^r&s^a&s}class n1{update(a){Cl(this),Al(a);const{view:s,buffer:f,blockLen:v}=this,m=a.length;for(let A=0;A<m;){const p=Math.min(v-this.pos,m-A);if(p===v){const w=ch(a);for(;v<=m-A;A+=v)this.process(w,A);continue}f.set(a.subarray(A,A+p),this.pos),this.pos+=p,A+=p,this.pos===v&&(this.process(s,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){Cl(this),Sx(a,this),this.finished=!0;const{buffer:s,view:f,blockLen:v,isLE:m}=this;let{pos:A}=this;s[A++]=128,Ui(this.buffer.subarray(A)),this.padOffset>v-A&&(this.process(f,0),A=0);for(let R=A;R<v;R++)s[R]=0;f.setBigUint64(v-8,BigInt(this.length*8),m),this.process(f,0);const p=ch(a),w=this.outputLen;if(w%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const C=w/4,D=this.get();if(C>D.length)throw new Error("_sha2: outputLen bigger than state");for(let R=0;R<C;R++)p.setUint32(4*R,D[R],m)}digest(){const{buffer:a,outputLen:s}=this;this.digestInto(a);const f=a.slice(0,s);return this.destroy(),f}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());const{blockLen:s,buffer:f,length:v,finished:m,destroyed:A,pos:p}=this;return a.destroyed=A,a.finished=m,a.length=v,a.pos=p,v%s&&a.buffer.set(f),a}clone(){return this._cloneInto()}constructor(a,s,f,v){this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=a,this.outputLen=s,this.padOffset=f,this.isLE=v,this.buffer=new Uint8Array(a),this.view=ch(this.buffer)}}const Js=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$s=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),ga=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),pa=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),yc=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),eo=new Uint32Array(80);class B3 extends n1{get(){const{A:a,B:s,C:f,D:v,E:m}=this;return[a,s,f,v,m]}set(a,s,f,v,m){this.A=a|0,this.B=s|0,this.C=f|0,this.D=v|0,this.E=m|0}process(a,s){for(let w=0;w<16;w++,s+=4)eo[w]=a.getUint32(s,!1);for(let w=16;w<80;w++)eo[w]=uh(eo[w-3]^eo[w-8]^eo[w-14]^eo[w-16],1);let{A:f,B:v,C:m,D:A,E:p}=this;for(let w=0;w<80;w++){let C,D;w<20?(C=Bx(v,m,A),D=1518500249):w<40?(C=v^m^A,D=1859775393):w<60?(C=Nx(v,m,A),D=2400959708):(C=v^m^A,D=3395469782);const R=uh(f,5)+C+p+D+eo[w]|0;p=A,A=m,m=uh(v,30),v=f,f=R}f=f+this.A|0,v=v+this.B|0,m=m+this.C|0,A=A+this.D|0,p=p+this.E|0,this.set(f,v,m,A,p)}roundClean(){Ui(eo)}destroy(){this.set(0,0,0,0,0),Ui(this.buffer)}constructor(){super(64,20,8,!1),this.A=yc[0]|0,this.B=yc[1]|0,this.C=yc[2]|0,this.D=yc[3]|0,this.E=yc[4]|0}}const N3=Bl(()=>new B3),Gu=BigInt(2**32-1),Um=BigInt(32);function _3(r,a=!1){return a?{h:Number(r&Gu),l:Number(r>>Um&Gu)}:{h:Number(r>>Um&Gu)|0,l:Number(r&Gu)|0}}function _x(r,a=!1){const s=r.length;let f=new Uint32Array(s),v=new Uint32Array(s);for(let m=0;m<s;m++){const{h:A,l:p}=_3(r[m],a);[f[m],v[m]]=[A,p]}return[f,v]}const Fm=(r,a,s)=>r>>>s,Pm=(r,a,s)=>r<<32-s|a>>>s,fl=(r,a,s)=>r>>>s|a<<32-s,dl=(r,a,s)=>r<<32-s|a>>>s,ju=(r,a,s)=>r<<64-s|a>>>s-32,Ku=(r,a,s)=>r>>>s-32|a<<64-s,D3=(r,a,s)=>r<<s|a>>>32-s,R3=(r,a,s)=>a<<s|r>>>32-s,O3=(r,a,s)=>a<<s-32|r>>>64-s,k3=(r,a,s)=>r<<s-32|a>>>64-s;function cs(r,a,s,f){const v=(a>>>0)+(f>>>0);return{h:r+s+(v/2**32|0)|0,l:v|0}}const M3=(r,a,s)=>(r>>>0)+(a>>>0)+(s>>>0),L3=(r,a,s,f)=>a+s+f+(r/2**32|0)|0,U3=(r,a,s,f)=>(r>>>0)+(a>>>0)+(s>>>0)+(f>>>0),F3=(r,a,s,f,v)=>a+s+f+v+(r/2**32|0)|0,P3=(r,a,s,f,v)=>(r>>>0)+(a>>>0)+(s>>>0)+(f>>>0)+(v>>>0),V3=(r,a,s,f,v,m)=>a+s+f+v+m+(r/2**32|0)|0,Q3=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),to=new Uint32Array(64);class Dx extends n1{get(){const{A:a,B:s,C:f,D:v,E:m,F:A,G:p,H:w}=this;return[a,s,f,v,m,A,p,w]}set(a,s,f,v,m,A,p,w){this.A=a|0,this.B=s|0,this.C=f|0,this.D=v|0,this.E=m|0,this.F=A|0,this.G=p|0,this.H=w|0}process(a,s){for(let R=0;R<16;R++,s+=4)to[R]=a.getUint32(s,!1);for(let R=16;R<64;R++){const L=to[R-15],_=to[R-2],V=Oi(L,7)^Oi(L,18)^L>>>3,P=Oi(_,17)^Oi(_,19)^_>>>10;to[R]=P+to[R-7]+V+to[R-16]|0}let{A:f,B:v,C:m,D:A,E:p,F:w,G:C,H:D}=this;for(let R=0;R<64;R++){const L=Oi(p,6)^Oi(p,11)^Oi(p,25),_=D+L+Bx(p,w,C)+Q3[R]+to[R]|0,P=(Oi(f,2)^Oi(f,13)^Oi(f,22))+Nx(f,v,m)|0;D=C,C=w,w=p,p=A+_|0,A=m,m=v,v=f,f=_+P|0}f=f+this.A|0,v=v+this.B|0,m=m+this.C|0,A=A+this.D|0,p=p+this.E|0,w=w+this.F|0,C=C+this.G|0,D=D+this.H|0,this.set(f,v,m,A,p,w,C,D)}roundClean(){Ui(to)}destroy(){this.set(0,0,0,0,0,0,0,0),Ui(this.buffer)}constructor(a){super(64,a,8,!1)}}class H3 extends Dx{constructor(){super(32),this.A=Js[0]|0,this.B=Js[1]|0,this.C=Js[2]|0,this.D=Js[3]|0,this.E=Js[4]|0,this.F=Js[5]|0,this.G=Js[6]|0,this.H=Js[7]|0}}class G3 extends Dx{constructor(){super(28),this.A=$s[0]|0,this.B=$s[1]|0,this.C=$s[2]|0,this.D=$s[3]|0,this.E=$s[4]|0,this.F=$s[5]|0,this.G=$s[6]|0,this.H=$s[7]|0}}const Rx=_x(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),j3=Rx[0],K3=Rx[1],no=new Uint32Array(80),ro=new Uint32Array(80);class Ox extends n1{get(){const{Ah:a,Al:s,Bh:f,Bl:v,Ch:m,Cl:A,Dh:p,Dl:w,Eh:C,El:D,Fh:R,Fl:L,Gh:_,Gl:V,Hh:P,Hl:H}=this;return[a,s,f,v,m,A,p,w,C,D,R,L,_,V,P,H]}set(a,s,f,v,m,A,p,w,C,D,R,L,_,V,P,H){this.Ah=a|0,this.Al=s|0,this.Bh=f|0,this.Bl=v|0,this.Ch=m|0,this.Cl=A|0,this.Dh=p|0,this.Dl=w|0,this.Eh=C|0,this.El=D|0,this.Fh=R|0,this.Fl=L|0,this.Gh=_|0,this.Gl=V|0,this.Hh=P|0,this.Hl=H|0}process(a,s){for(let U=0;U<16;U++,s+=4)no[U]=a.getUint32(s),ro[U]=a.getUint32(s+=4);for(let U=16;U<80;U++){const K=no[U-15]|0,X=ro[U-15]|0,M=fl(K,X,1)^fl(K,X,8)^Fm(K,X,7),I=dl(K,X,1)^dl(K,X,8)^Pm(K,X,7),E=no[U-2]|0,j=ro[U-2]|0,ie=fl(E,j,19)^ju(E,j,61)^Fm(E,j,6),de=dl(E,j,19)^Ku(E,j,61)^Pm(E,j,6),ee=U3(I,de,ro[U-7],ro[U-16]),se=F3(ee,M,ie,no[U-7],no[U-16]);no[U]=se|0,ro[U]=ee|0}let{Ah:f,Al:v,Bh:m,Bl:A,Ch:p,Cl:w,Dh:C,Dl:D,Eh:R,El:L,Fh:_,Fl:V,Gh:P,Gl:H,Hh:T,Hl:F}=this;for(let U=0;U<80;U++){const K=fl(R,L,14)^fl(R,L,18)^ju(R,L,41),X=dl(R,L,14)^dl(R,L,18)^Ku(R,L,41),M=R&_^~R&P,I=L&V^~L&H,E=P3(F,X,I,K3[U],ro[U]),j=V3(E,T,K,M,j3[U],no[U]),ie=E|0,de=fl(f,v,28)^ju(f,v,34)^ju(f,v,39),ee=dl(f,v,28)^Ku(f,v,34)^Ku(f,v,39),se=f&m^f&p^m&p,Ce=v&A^v&w^A&w;T=P|0,F=H|0,P=_|0,H=V|0,_=R|0,V=L|0,{h:R,l:L}=cs(C|0,D|0,j|0,ie|0),C=p|0,D=w|0,p=m|0,w=A|0,m=f|0,A=v|0;const oe=M3(ie,ee,Ce);f=L3(oe,j,de,se),v=oe|0}({h:f,l:v}=cs(this.Ah|0,this.Al|0,f|0,v|0)),{h:m,l:A}=cs(this.Bh|0,this.Bl|0,m|0,A|0),{h:p,l:w}=cs(this.Ch|0,this.Cl|0,p|0,w|0),{h:C,l:D}=cs(this.Dh|0,this.Dl|0,C|0,D|0),{h:R,l:L}=cs(this.Eh|0,this.El|0,R|0,L|0),{h:_,l:V}=cs(this.Fh|0,this.Fl|0,_|0,V|0),{h:P,l:H}=cs(this.Gh|0,this.Gl|0,P|0,H|0),{h:T,l:F}=cs(this.Hh|0,this.Hl|0,T|0,F|0),this.set(f,v,m,A,p,w,C,D,R,L,_,V,P,H,T,F)}roundClean(){Ui(no,ro)}destroy(){Ui(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(a){super(128,a,16,!1)}}class z3 extends Ox{constructor(){super(64),this.Ah=pa[0]|0,this.Al=pa[1]|0,this.Bh=pa[2]|0,this.Bl=pa[3]|0,this.Ch=pa[4]|0,this.Cl=pa[5]|0,this.Dh=pa[6]|0,this.Dl=pa[7]|0,this.Eh=pa[8]|0,this.El=pa[9]|0,this.Fh=pa[10]|0,this.Fl=pa[11]|0,this.Gh=pa[12]|0,this.Gl=pa[13]|0,this.Hh=pa[14]|0,this.Hl=pa[15]|0}}class q3 extends Ox{constructor(){super(48),this.Ah=ga[0]|0,this.Al=ga[1]|0,this.Bh=ga[2]|0,this.Bl=ga[3]|0,this.Ch=ga[4]|0,this.Cl=ga[5]|0,this.Dh=ga[6]|0,this.Dl=ga[7]|0,this.Eh=ga[8]|0,this.El=ga[9]|0,this.Fh=ga[10]|0,this.Fl=ga[11]|0,this.Gh=ga[12]|0,this.Gl=ga[13]|0,this.Hh=ga[14]|0,this.Hl=ga[15]|0}}const Y3=Bl(()=>new H3,lo(1)),X3=Bl(()=>new G3,lo(4)),Z3=Bl(()=>new z3,lo(3)),W3=Bl(()=>new q3,lo(2)),J3=BigInt(0),mc=BigInt(1),$3=BigInt(2),eI=BigInt(7),tI=BigInt(256),nI=BigInt(113),kx=[],Mx=[],Lx=[];for(let r=0,a=mc,s=1,f=0;r<24;r++){[s,f]=[f,(2*s+3*f)%5],kx.push(2*(5*f+s)),Mx.push((r+1)*(r+2)/2%64);let v=J3;for(let m=0;m<7;m++)a=(a<<mc^(a>>eI)*nI)%tI,a&$3&&(v^=mc<<(mc<<BigInt(m))-mc);Lx.push(v)}const Ux=_x(Lx,!0),rI=Ux[0],aI=Ux[1],Vm=(r,a,s)=>s>32?O3(r,a,s):D3(r,a,s),Qm=(r,a,s)=>s>32?k3(r,a,s):R3(r,a,s);function iI(r,a=24){const s=new Uint32Array(10);for(let f=24-a;f<24;f++){for(let A=0;A<10;A++)s[A]=r[A]^r[A+10]^r[A+20]^r[A+30]^r[A+40];for(let A=0;A<10;A+=2){const p=(A+8)%10,w=(A+2)%10,C=s[w],D=s[w+1],R=Vm(C,D,1)^s[p],L=Qm(C,D,1)^s[p+1];for(let _=0;_<50;_+=10)r[A+_]^=R,r[A+_+1]^=L}let v=r[2],m=r[3];for(let A=0;A<24;A++){const p=Mx[A],w=Vm(v,m,p),C=Qm(v,m,p),D=kx[A];v=r[D],m=r[D+1],r[D]=w,r[D+1]=C}for(let A=0;A<50;A+=10){for(let p=0;p<10;p++)s[p]=r[A+p];for(let p=0;p<10;p++)r[A+p]^=~s[(p+2)%10]&s[(p+4)%10]}r[0]^=rI[f],r[1]^=aI[f]}Ui(s)}class r1{clone(){return this._cloneInto()}keccak(){Lm(this.state32),iI(this.state32,this.rounds),Lm(this.state32),this.posOut=0,this.pos=0}update(a){Cl(this),Al(a);const{blockLen:s,state:f}=this,v=a.length;for(let m=0;m<v;){const A=Math.min(s-this.pos,v-m);for(let p=0;p<A;p++)f[this.pos++]^=a[m++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:a,suffix:s,pos:f,blockLen:v}=this;a[f]^=s,(s&128)!==0&&f===v-1&&this.keccak(),a[v-1]^=128,this.keccak()}writeInto(a){Cl(this,!1),Al(a),this.finish();const s=this.state,{blockLen:f}=this;for(let v=0,m=a.length;v<m;){this.posOut>=f&&this.keccak();const A=Math.min(f-this.posOut,m-v);a.set(s.subarray(this.posOut,this.posOut+A),v),this.posOut+=A,v+=A}return a}xofInto(a){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return tf(a),this.xofInto(new Uint8Array(a))}digestInto(a){if(Sx(a,this),this.finished)throw new Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ui(this.state)}_cloneInto(a){const{blockLen:s,suffix:f,outputLen:v,rounds:m,enableXOF:A}=this;return a||(a=new r1(s,f,v,A,m)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=m,a.suffix=f,a.outputLen=v,a.enableXOF=A,a.destroyed=this.destroyed,a}constructor(a,s,f,v=!1,m=24){if(this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=a,this.suffix=s,this.outputLen=f,this.enableXOF=v,this.rounds=m,tf(f,"outputLen"),!(0<a&&a<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=E3(this.state)}}const xf=(r,a,s,f={})=>Bl(()=>new r1(a,r,s),f),sI=xf(6,144,28,lo(7)),oI=xf(6,136,32,lo(8)),lI=xf(6,104,48,lo(9)),cI=xf(6,72,64,lo(10)),bl=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),Hm={SHA1:N3,SHA224:X3,SHA256:Y3,SHA384:W3,SHA512:Z3,"SHA3-224":sI,"SHA3-256":oI,"SHA3-384":lI,"SHA3-512":cI},a1=r=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(r):return"SHA1";case/^SHA(?:2?-)?224$/i.test(r):return"SHA224";case/^SHA(?:2?-)?256$/i.test(r):return"SHA256";case/^SHA(?:2?-)?384$/i.test(r):return"SHA384";case/^SHA(?:2?-)?512$/i.test(r):return"SHA512";case/^SHA3-224$/i.test(r):return"SHA3-224";case/^SHA3-256$/i.test(r):return"SHA3-256";case/^SHA3-384$/i.test(r):return"SHA3-384";case/^SHA3-512$/i.test(r):return"SHA3-512";default:throw new TypeError(`Unknown hash algorithm: ${r}`)}},Gm=(r,a,s)=>{if(Th){const f=Hm[r]??Hm[a1(r)];return Th(f,a,s)}else throw new Error("Missing HMAC function")},Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",uI=r=>{r=r.replace(/ /g,"");let a=r.length;for(;r[a-1]==="=";)--a;r=(a<r.length?r.substring(0,a):r).toUpperCase();const s=new ArrayBuffer(r.length*5/8|0),f=new Uint8Array(s);let v=0,m=0,A=0;for(let p=0;p<r.length;p++){const w=Bh.indexOf(r[p]);if(w===-1)throw new TypeError(`Invalid character found: ${r[p]}`);m=m<<5|w,v+=5,v>=8&&(v-=8,f[A++]=m>>>v)}return f},fI=r=>{let a=0,s=0,f="";for(let v=0;v<r.length;v++)for(s=s<<8|r[v],a+=8;a>=5;)f+=Bh[s>>>a-5&31],a-=5;return a>0&&(f+=Bh[s<<5-a&31]),f},dI=r=>{r=r.replace(/ /g,"");const a=new ArrayBuffer(r.length/2),s=new Uint8Array(a);for(let f=0;f<r.length;f+=2)s[f/2]=parseInt(r.substring(f,f+2),16);return s},hI=r=>{let a="";for(let s=0;s<r.length;s++){const f=r[s].toString(16);f.length===1&&(a+="0"),a+=f}return a.toUpperCase()},gI=r=>{const a=new ArrayBuffer(r.length),s=new Uint8Array(a);for(let f=0;f<r.length;f++)s[f]=r.charCodeAt(f)&255;return s},pI=r=>{let a="";for(let s=0;s<r.length;s++)a+=String.fromCharCode(r[s]);return a},jm=bl.TextEncoder?new bl.TextEncoder:null,Km=bl.TextDecoder?new bl.TextDecoder:null,yI=r=>{if(!jm)throw new Error("Encoding API not available");return jm.encode(r)},mI=r=>{if(!Km)throw new Error("Encoding API not available");return Km.decode(r)},xI=r=>{var a;if((a=bl.crypto)!=null&&a.getRandomValues)return bl.crypto.getRandomValues(new Uint8Array(r));throw new Error("Cryptography API not available")};class Mi{static fromLatin1(a){return new Mi({buffer:gI(a).buffer})}static fromUTF8(a){return new Mi({buffer:yI(a).buffer})}static fromBase32(a){return new Mi({buffer:uI(a).buffer})}static fromHex(a){return new Mi({buffer:dI(a).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:pI(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:mI(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:fI(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:hI(this.bytes)}),this.hex}constructor({buffer:a,size:s=20}={}){this.bytes=typeof a>"u"?xI(s):new Uint8Array(a),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}const vI=(r,a)=>{{if(r.length!==a.length)throw new TypeError("Input strings must have the same length");let s=-1,f=0;for(;++s<r.length;)f|=r.charCodeAt(s)^a.charCodeAt(s);return f===0}};class Hr{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:a,algorithm:s=Hr.defaults.algorithm,digits:f=Hr.defaults.digits,counter:v=Hr.defaults.counter,hmac:m=Gm}){const A=C3(v),p=m(s,a.bytes,A);if(!(p!=null&&p.byteLength)||p.byteLength<19)throw new TypeError("Return value must be at least 19 bytes");const w=p[p.byteLength-1]&15;return(((p[w]&127)<<24|(p[w+1]&255)<<16|(p[w+2]&255)<<8|p[w+3]&255)%10**f).toString().padStart(f,"0")}generate({counter:a=this.counter++}={}){return Hr.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:a,hmac:this.hmac})}static validate({token:a,secret:s,algorithm:f,digits:v=Hr.defaults.digits,counter:m=Hr.defaults.counter,window:A=Hr.defaults.window,hmac:p=Gm}){if(a.length!==v)return null;let w=null;const C=D=>{const R=Hr.generate({secret:s,algorithm:f,digits:v,counter:D,hmac:p});vI(a,R)&&(w=D-m)};C(m);for(let D=1;D<=A&&w===null&&(C(m-D),!(w!==null||(C(m+D),w!==null)));++D);return w}validate({token:a,counter:s=this.counter,window:f}){return Hr.validate({token:a,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:s,window:f,hmac:this.hmac})}toString(){const a=encodeURIComponent;return`otpauth://hotp/${this.issuer.length>0?this.issuerInLabel?`${a(this.issuer)}:${a(this.label)}?issuer=${a(this.issuer)}&`:`${a(this.label)}?issuer=${a(this.issuer)}&`:`${a(this.label)}?`}secret=${a(this.secret.base32)}&algorithm=${a(this.algorithm)}&digits=${a(this.digits)}&counter=${a(this.counter)}`}constructor({issuer:a=Hr.defaults.issuer,label:s=Hr.defaults.label,issuerInLabel:f=Hr.defaults.issuerInLabel,secret:v=new Mi,algorithm:m=Hr.defaults.algorithm,digits:A=Hr.defaults.digits,counter:p=Hr.defaults.counter,hmac:w}={}){this.issuer=a,this.label=s,this.issuerInLabel=f,this.secret=typeof v=="string"?Mi.fromBase32(v):v,this.algorithm=w?m:a1(m),this.digits=A,this.counter=p,this.hmac=w}}class Lr{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:a=Lr.defaults.period,timestamp:s=Date.now()}={}){return Math.floor(s/1e3/a)}counter({timestamp:a=Date.now()}={}){return Lr.counter({period:this.period,timestamp:a})}static remaining({period:a=Lr.defaults.period,timestamp:s=Date.now()}={}){return a*1e3-s%(a*1e3)}remaining({timestamp:a=Date.now()}={}){return Lr.remaining({period:this.period,timestamp:a})}static generate({secret:a,algorithm:s,digits:f,period:v=Lr.defaults.period,timestamp:m=Date.now(),hmac:A}){return Hr.generate({secret:a,algorithm:s,digits:f,counter:Lr.counter({period:v,timestamp:m}),hmac:A})}generate({timestamp:a=Date.now()}={}){return Lr.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:a,hmac:this.hmac})}static validate({token:a,secret:s,algorithm:f,digits:v,period:m=Lr.defaults.period,timestamp:A=Date.now(),window:p,hmac:w}){return Hr.validate({token:a,secret:s,algorithm:f,digits:v,counter:Lr.counter({period:m,timestamp:A}),window:p,hmac:w})}validate({token:a,timestamp:s,window:f}){return Lr.validate({token:a,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:s,window:f,hmac:this.hmac})}toString(){const a=encodeURIComponent;return`otpauth://totp/${this.issuer.length>0?this.issuerInLabel?`${a(this.issuer)}:${a(this.label)}?issuer=${a(this.issuer)}&`:`${a(this.label)}?issuer=${a(this.issuer)}&`:`${a(this.label)}?`}secret=${a(this.secret.base32)}&algorithm=${a(this.algorithm)}&digits=${a(this.digits)}&period=${a(this.period)}`}constructor({issuer:a=Lr.defaults.issuer,label:s=Lr.defaults.label,issuerInLabel:f=Lr.defaults.issuerInLabel,secret:v=new Mi,algorithm:m=Lr.defaults.algorithm,digits:A=Lr.defaults.digits,period:p=Lr.defaults.period,hmac:w}={}){this.issuer=a,this.label=s,this.issuerInLabel=f,this.secret=typeof v=="string"?Mi.fromBase32(v):v,this.algorithm=w?m:a1(m),this.digits=A,this.period=p,this.hmac=w}}const AI=/^otpauth:\/\/([ht]otp)\/(.+)\?([A-Z0-9.~_-]+=[^?&]*(?:&[A-Z0-9.~_-]+=[^?&]*)*)$/i,CI=/^[2-7A-Z]+=*$/i,bI=/^SHA(?:1|224|256|384|512|3-224|3-256|3-384|3-512)$/i,wI=/^[A-Z0-9]+(?:[_-][A-Z0-9]+)*$/i,EI=/^[+-]?\d+$/,zm=/^\+?[1-9]\d*$/;class II{static parse(a,{hmac:s}={}){let f;try{f=a.match(AI)}catch{}if(!Array.isArray(f))throw new URIError("Invalid URI format");const v=f[1].toLowerCase(),m=f[2].split(/(?::|%3A) *(.+)/i,2).map(decodeURIComponent),A=f[3].split("&").reduce((C,D)=>{const R=D.split(/=(.*)/,2).map(decodeURIComponent),L=R[0].toLowerCase(),_=R[1],V=C;return V[L]=_,V},{});let p;const w={};if(v==="hotp")if(p=Hr,typeof A.counter<"u"&&EI.test(A.counter))w.counter=parseInt(A.counter,10);else throw new TypeError("Missing or invalid 'counter' parameter");else if(v==="totp"){if(p=Lr,typeof A.period<"u")if(zm.test(A.period))w.period=parseInt(A.period,10);else throw new TypeError("Invalid 'period' parameter")}else throw new TypeError("Unknown OTP type");if(typeof A.issuer<"u"&&(w.issuer=A.issuer),m.length===2?(w.label=m[1],typeof w.issuer>"u"||w.issuer===""?w.issuer=m[0]:m[0]===""&&(w.issuerInLabel=!1)):(w.label=m[0],typeof w.issuer<"u"&&w.issuer!==""&&(w.issuerInLabel=!1)),typeof A.secret<"u"&&CI.test(A.secret))w.secret=A.secret;else throw new TypeError("Missing or invalid 'secret' parameter");if(typeof A.algorithm<"u")if((s?wI:bI).test(A.algorithm))w.algorithm=A.algorithm;else throw new TypeError("Invalid 'algorithm' parameter");if(typeof A.digits<"u")if(zm.test(A.digits))w.digits=parseInt(A.digits,10);else throw new TypeError("Invalid 'digits' parameter");return typeof s<"u"&&(w.hmac=s),new p(w)}static stringify(a){if(a instanceof Hr||a instanceof Lr)return a.toString();throw new TypeError("Invalid 'HOTP/TOTP' object")}}var Ot;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ot||(Ot={}));var qm=new Map([[Ot.QR_CODE,"QR_CODE"],[Ot.AZTEC,"AZTEC"],[Ot.CODABAR,"CODABAR"],[Ot.CODE_39,"CODE_39"],[Ot.CODE_93,"CODE_93"],[Ot.CODE_128,"CODE_128"],[Ot.DATA_MATRIX,"DATA_MATRIX"],[Ot.MAXICODE,"MAXICODE"],[Ot.ITF,"ITF"],[Ot.EAN_13,"EAN_13"],[Ot.EAN_8,"EAN_8"],[Ot.PDF_417,"PDF_417"],[Ot.RSS_14,"RSS_14"],[Ot.RSS_EXPANDED,"RSS_EXPANDED"],[Ot.UPC_A,"UPC_A"],[Ot.UPC_E,"UPC_E"],[Ot.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ym;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(Ym||(Ym={}));function SI(r){return Object.values(Ot).includes(r)}var nf;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(nf||(nf={}));var TI=(function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[nf.SCAN_TYPE_CAMERA,nf.SCAN_TYPE_FILE],r})(),Fx=(function(){function r(a,s){this.format=a,this.formatName=s}return r.prototype.toString=function(){return this.formatName},r.create=function(a){if(!qm.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new r(a,qm.get(a))},r})(),Xm=(function(){function r(){}return r.createFromText=function(a){var s={text:a};return{decodedText:a,result:s}},r.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},r})(),Nh;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Nh||(Nh={}));var BI=(function(){function r(){}return r.createFrom=function(a){return{errorMessage:a,type:Nh.UNKWOWN_ERROR}},r})(),NI=(function(){function r(a){this.verbose=a}return r.prototype.log=function(a){this.verbose&&console.log(a)},r.prototype.warn=function(a){this.verbose&&console.warn(a)},r.prototype.logError=function(a,s){(this.verbose||s===!0)&&console.error(a)},r.prototype.logErrors=function(a){if(a.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},r})();function us(r){return typeof r>"u"||r===null}var gl=(function(){function r(){}return r.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},r.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r})(),Px=(function(){function r(){}return r.isMediaStreamConstraintsValid=function(a,s){if(typeof a!="object"){var f=typeof a;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var v=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],m=new Set(v),A=Object.keys(a),p=0,w=A;p<w.length;p++){var C=w[p];if(m.has(C))return s.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},r})(),Ac={exports:{}},_I=Ac.exports,Zm;function DI(){return Zm||(Zm=1,(function(r,a){(function(s,f){f(a)})(_I,(function(s){function f($){return $==null}var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,t){$.__proto__=t}||function($,t){for(var i in t)t.hasOwnProperty(i)&&($[i]=t[i])};function m($,t){v($,t);function i(){this.constructor=$}$.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function A($,t){var i=Object.setPrototypeOf;i?i($,t):$.__proto__=t}function p($,t){t===void 0&&(t=$.constructor);var i=Error.captureStackTrace;i&&i($,t)}var w=(function($){m(t,$);function t(i){var l=this.constructor,u=$.call(this,i)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),A(u,l.prototype),p(u),u}return t})(Error);class C extends w{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}C.kind="Exception";class D extends C{}D.kind="ArgumentException";class R extends C{}R.kind="IllegalArgumentException";class L{constructor(t){if(this.binarizer=t,t===null)throw new R("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,l,u){const h=this.binarizer.getLuminanceSource().crop(t,i,l,u);return new L(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new L(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new L(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends C{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class V{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(t,i,l,u,h){for(;h--;)l[u++]=t[i++]}static currentTimeMillis(){return Date.now()}}class H extends C{}H.kind="IndexOutOfBoundsException";class T extends H{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}T.kind="ArrayIndexOutOfBoundsException";class F{static fill(t,i){for(let l=0,u=t.length;l<u;l++)t[l]=i}static fillWithin(t,i,l,u){F.rangeCheck(t.length,i,l);for(let h=i;h<l;h++)t[h]=u}static rangeCheck(t,i,l){if(i>l)throw new R("fromIndex("+i+") > toIndex("+l+")");if(i<0)throw new T(i);if(l>t)throw new T(l)}static asList(...t){return t}static create(t,i,l){return Array.from({length:t}).map(h=>Array.from({length:i}).fill(l))}static createInt32Array(t,i,l){return Array.from({length:t}).map(h=>Int32Array.from({length:i}).fill(l))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let l=0,u=t.length;l<u;l++)if(t[l]!==i[l])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const l of t)i=31*i+l;return i}static fillUint8Array(t,i){for(let l=0;l!==t.length;l++)t[l]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const l=new Uint8Array(i);return l.set(t),l}return t.slice(0,i)}static copyOfRange(t,i,l){const u=l-i,h=new Int32Array(u);return P.arraycopy(t,i,h,0,u),h}static binarySearch(t,i,l){l===void 0&&(l=F.numberComparator);let u=0,h=t.length-1;for(;u<=h;){const y=h+u>>1,o=l(i,t[y]);if(o>0)u=y+1;else if(o<0)h=y-1;else return y}return-u-1}static numberComparator(t,i){return t-i}}class U{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let l=31;return i=t<<16,i!==0&&(l-=16,t=i),i=t<<8,i!==0&&(l-=8,t=i),i=t<<4,i!==0&&(l-=4,t=i),i=t<<2,i!==0&&(l-=2,t=i),l-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=K.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=K.makeArray(t);P.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const l=this.bits;let u=Math.floor(t/32),h=l[u];h&=~((1<<(t&31))-1);const y=l.length;for(;h===0;){if(++u===y)return i;h=l[u]}const o=u*32+U.numberOfTrailingZeros(h);return o>i?i:o}getNextUnset(t){const i=this.size;if(t>=i)return i;const l=this.bits;let u=Math.floor(t/32),h=~l[u];h&=~((1<<(t&31))-1);const y=l.length;for(;h===0;){if(++u===y)return i;h=~l[u]}const o=u*32+U.numberOfTrailingZeros(h);return o>i?i:o}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new R;if(i===t)return;i--;const l=Math.floor(t/32),u=Math.floor(i/32),h=this.bits;for(let y=l;y<=u;y++){const o=y>l?0:t&31,x=(2<<(y<u?31:i&31))-(1<<o);h[y]|=x}}clear(){const t=this.bits.length,i=this.bits;for(let l=0;l<t;l++)i[l]=0}isRange(t,i,l){if(i<t||t<0||i>this.size)throw new R;if(i===t)return!0;i--;const u=Math.floor(t/32),h=Math.floor(i/32),y=this.bits;for(let o=u;o<=h;o++){const d=o>u?0:t&31,b=(2<<(o<h?31:i&31))-(1<<d)&4294967295;if((y[o]&b)!==(l?b:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new R("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let l=i;l>0;l--)this.appendBit((t>>l-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let l=0;l<i;l++)this.appendBit(t.get(l))}xor(t){if(this.size!==t.size)throw new R("Sizes don't match");const i=this.bits;for(let l=0,u=i.length;l<u;l++)i[l]^=t.bits[l]}toBytes(t,i,l,u){for(let h=0;h<u;h++){let y=0;for(let o=0;o<8;o++)this.get(t)&&(y|=1<<7-o),t++;i[l+h]=y}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),l=i+1,u=this.bits;for(let h=0;h<l;h++){let y=u[h];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,t[i-h]=y}if(this.size!==l*32){const h=l*32-this.size;let y=t[0]>>>h;for(let o=1;o<l;o++){const d=t[o];y|=d<<32-h,t[o-1]=y,y=d>>>h}t[l-1]=y}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof K))return!1;const i=t;return this.size===i.size&&F.equals(this.bits,i.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let t="";for(let i=0,l=this.size;i<l;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new K(this.size,this.bits.slice())}}var X;(function($){$[$.OTHER=0]="OTHER",$[$.PURE_BARCODE=1]="PURE_BARCODE",$[$.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",$[$.TRY_HARDER=3]="TRY_HARDER",$[$.CHARACTER_SET=4]="CHARACTER_SET",$[$.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",$[$.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",$[$.ASSUME_GS1=7]="ASSUME_GS1",$[$.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",$[$.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",$[$.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var M=X;class I extends C{static getFormatInstance(){return new I}}I.kind="FormatException";var E;(function($){$[$.Cp437=0]="Cp437",$[$.ISO8859_1=1]="ISO8859_1",$[$.ISO8859_2=2]="ISO8859_2",$[$.ISO8859_3=3]="ISO8859_3",$[$.ISO8859_4=4]="ISO8859_4",$[$.ISO8859_5=5]="ISO8859_5",$[$.ISO8859_6=6]="ISO8859_6",$[$.ISO8859_7=7]="ISO8859_7",$[$.ISO8859_8=8]="ISO8859_8",$[$.ISO8859_9=9]="ISO8859_9",$[$.ISO8859_10=10]="ISO8859_10",$[$.ISO8859_11=11]="ISO8859_11",$[$.ISO8859_13=12]="ISO8859_13",$[$.ISO8859_14=13]="ISO8859_14",$[$.ISO8859_15=14]="ISO8859_15",$[$.ISO8859_16=15]="ISO8859_16",$[$.SJIS=16]="SJIS",$[$.Cp1250=17]="Cp1250",$[$.Cp1251=18]="Cp1251",$[$.Cp1252=19]="Cp1252",$[$.Cp1256=20]="Cp1256",$[$.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",$[$.UTF8=22]="UTF8",$[$.ASCII=23]="ASCII",$[$.Big5=24]="Big5",$[$.GB18030=25]="GB18030",$[$.EUC_KR=26]="EUC_KR"})(E||(E={}));class j{constructor(t,i,l,...u){this.valueIdentifier=t,this.name=l,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=u,j.VALUE_IDENTIFIER_TO_ECI.set(t,this),j.NAME_TO_ECI.set(l,this);const h=this.values;for(let y=0,o=h.length;y!==o;y++){const d=h[y];j.VALUES_TO_ECI.set(d,this)}for(const y of u)j.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new I("incorect value");const i=j.VALUES_TO_ECI.get(t);if(i===void 0)throw new I("incorect value");return i}static getCharacterSetECIByName(t){const i=j.NAME_TO_ECI.get(t);if(i===void 0)throw new I("incorect value");return i}equals(t){if(!(t instanceof j))return!1;const i=t;return this.getName()===i.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(E.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(E.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(E.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(E.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(E.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(E.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(E.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(E.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(E.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(E.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(E.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(E.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(E.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(E.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(E.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(E.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(E.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(E.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(E.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(E.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(E.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(E.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(E.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(E.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(E.Big5,28,"Big5"),j.GB18030=new j(E.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(E.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends C{}ie.kind="UnsupportedOperationException";class de{static decode(t,i){const l=this.encodingName(i);return this.customDecoder?this.customDecoder(t,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(t,l):new TextDecoder(l).decode(t)}static shouldDecodeOnFallback(t){return!de.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const l=this.encodingName(i);return this.customEncoder?this.customEncoder(t,l):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof j?t:j.getCharacterSetECIByName(t)}static decodeFallback(t,i){const l=this.encodingCharacterSet(i);if(de.isDecodeFallbackSupported(l)){let u="";for(let h=0,y=t.length;h<y;h++){let o=t[h].toString(16);o.length<2&&(o="0"+o),u+="%"+o}return decodeURIComponent(u)}if(l.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ie(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(j.UTF8)||t.equals(j.ISO8859_1)||t.equals(j.ASCII)}static encodeFallback(t){const l=btoa(unescape(encodeURIComponent(t))).split(""),u=[];for(let h=0;h<l.length;h++)u.push(l[h].charCodeAt(0));return new Uint8Array(u)}}class ee{static castAsNonUtf8Char(t,i=null){const l=i?i.getName():this.ISO88591;return de.decode(new Uint8Array([t]),l)}static guessEncoding(t,i){if(i!=null&&i.get(M.CHARACTER_SET)!==void 0)return i.get(M.CHARACTER_SET).toString();const l=t.length;let u=!0,h=!0,y=!0,o=0,d=0,x=0,b=0,B=0,k=0,G=0,Y=0,ne=0,fe=0,ce=0;const pe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let me=0;me<l&&(u||h||y);me++){const ye=t[me]&255;y&&(o>0?(ye&128)===0?y=!1:o--:(ye&128)!==0&&((ye&64)===0?y=!1:(o++,(ye&32)===0?d++:(o++,(ye&16)===0?x++:(o++,(ye&8)===0?b++:y=!1))))),u&&(ye>127&&ye<160?u=!1:ye>159&&(ye<192||ye===215||ye===247)&&ce++),h&&(B>0?ye<64||ye===127||ye>252?h=!1:B--:ye===128||ye===160||ye>239?h=!1:ye>160&&ye<224?(k++,Y=0,G++,G>ne&&(ne=G)):ye>127?(B++,G=0,Y++,Y>fe&&(fe=Y)):(G=0,Y=0))}return y&&o>0&&(y=!1),h&&B>0&&(h=!1),y&&(pe||d+x+b>0)?ee.UTF8:h&&(ee.ASSUME_SHIFT_JIS||ne>=3||fe>=3)?ee.SHIFT_JIS:u&&h?ne===2&&k===2||ce*10>=l?ee.SHIFT_JIS:ee.ISO88591:u?ee.ISO88591:h?ee.SHIFT_JIS:y?ee.UTF8:ee.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let l=-1;function u(y,o,d,x,b,B){if(y==="%%")return"%";if(i[++l]===void 0)return;y=x?parseInt(x.substr(1)):void 0;let k=b?parseInt(b.substr(1)):void 0,G;switch(B){case"s":G=i[l];break;case"c":G=i[l][0];break;case"f":G=parseFloat(i[l]).toFixed(y);break;case"p":G=parseFloat(i[l]).toPrecision(y);break;case"e":G=parseFloat(i[l]).toExponential(y);break;case"x":G=parseInt(i[l]).toString(k||16);break;case"d":G=parseFloat(parseInt(i[l],k||10).toPrecision(y)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(k);let Y=parseInt(d),ne=d&&d[0]+""=="0"?"0":" ";for(;G.length<Y;)G=o!==void 0?G+ne:ne+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,u)}static getBytes(t,i){return de.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}ee.SHIFT_JIS=j.SJIS.getName(),ee.GB2312="GB2312",ee.ISO88591=j.ISO8859_1.getName(),ee.EUC_JP="EUC_JP",ee.UTF8=j.UTF8.getName(),ee.PLATFORM_DEFAULT_ENCODING=ee.UTF8,ee.ASSUME_SHIFT_JIS=!1;class se{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ee.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,l){for(let u=i;i<i+l;u++)this.append(t[u]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class Ce{constructor(t,i,l,u){if(this.width=t,this.height=i,this.rowSize=l,this.bits=u,i==null&&(i=t),this.height=i,t<1||i<1)throw new R("Both dimensions must be greater than 0");l==null&&(l=Math.floor((t+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,l=t[0].length,u=new Ce(l,i);for(let h=0;h<i;h++){const y=t[h];for(let o=0;o<l;o++)y[o]&&u.set(o,h)}return u}static parseFromString(t,i,l){if(t===null)throw new R("stringRepresentation cannot be null");const u=new Array(t.length);let h=0,y=0,o=-1,d=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(h>y){if(o===-1)o=h-y;else if(h-y!==o)throw new R("row lengths do not match");y=h,d++}x++}else if(t.substring(x,x+i.length)===i)x+=i.length,u[h]=!0,h++;else if(t.substring(x,x+l.length)===l)x+=l.length,u[h]=!1,h++;else throw new R("illegal character encountered: "+t.substring(x));if(h>y){if(o===-1)o=h-y;else if(h-y!==o)throw new R("row lengths do not match");d++}const b=new Ce(o,d);for(let B=0;B<h;B++)u[B]&&b.set(Math.floor(B%o),Math.floor(B/o));return b}get(t,i){const l=i*this.rowSize+Math.floor(t/32);return(this.bits[l]>>>(t&31)&1)!==0}set(t,i){const l=i*this.rowSize+Math.floor(t/32);this.bits[l]|=1<<(t&31)&4294967295}unset(t,i){const l=i*this.rowSize+Math.floor(t/32);this.bits[l]&=~(1<<(t&31)&4294967295)}flip(t,i){const l=i*this.rowSize+Math.floor(t/32);this.bits[l]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new R("input matrix dimensions do not match");const i=new K(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let h=0,y=this.height;h<y;h++){const o=h*l,d=t.getRow(h,i).getBitArray();for(let x=0;x<l;x++)u[o+x]^=d[x]}}clear(){const t=this.bits,i=t.length;for(let l=0;l<i;l++)t[l]=0}setRegion(t,i,l,u){if(i<0||t<0)throw new R("Left and top must be nonnegative");if(u<1||l<1)throw new R("Height and width must be at least 1");const h=t+l,y=i+u;if(y>this.height||h>this.width)throw new R("The region must fit inside the matrix");const o=this.rowSize,d=this.bits;for(let x=i;x<y;x++){const b=x*o;for(let B=t;B<h;B++)d[b+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new K(this.width):i.clear();const l=this.rowSize,u=this.bits,h=t*l;for(let y=0;y<l;y++)i.setBulk(y*32,u[h+y]);return i}setRow(t,i){P.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let l=new K(t),u=new K(t);for(let h=0,y=Math.floor((i+1)/2);h<y;h++)l=this.getRow(h,l),u=this.getRow(i-1-h,u),l.reverse(),u.reverse(),this.setRow(h,u),this.setRow(i-1-h,l)}getEnclosingRectangle(){const t=this.width,i=this.height,l=this.rowSize,u=this.bits;let h=t,y=i,o=-1,d=-1;for(let x=0;x<i;x++)for(let b=0;b<l;b++){const B=u[x*l+b];if(B!==0){if(x<y&&(y=x),x>d&&(d=x),b*32<h){let k=0;for(;(B<<31-k&4294967295)===0;)k++;b*32+k<h&&(h=b*32+k)}if(b*32+31>o){let k=31;for(;!(B>>>k);)k--;b*32+k>o&&(o=b*32+k)}}}return o<h||d<y?null:Int32Array.from([h,y,o-h+1,d-y+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let l=0;for(;l<i.length&&i[l]===0;)l++;if(l===i.length)return null;const u=l/t;let h=l%t*32;const y=i[l];let o=0;for(;(y<<31-o&4294967295)===0;)o++;return h+=o,Int32Array.from([h,u])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let l=i.length-1;for(;l>=0&&i[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/t);let h=Math.floor(l%t)*32;const y=i[l];let o=31;for(;!(y>>>o);)o--;return h+=o,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ce))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&F.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+F.hashCode(this.bits),t}toString(t="X ",i="  ",l=`
`){return this.buildToString(t,i,l)}buildToString(t,i,l){let u=new se;for(let h=0,y=this.height;h<y;h++){for(let o=0,d=this.width;o<d;o++)u.append(this.get(o,h)?t:i);u.append(l)}return u.toString()}clone(){return new Ce(this.width,this.height,this.rowSize,this.bits.slice())}}class oe extends C{static getNotFoundInstance(){return new oe}}oe.kind="NotFoundException";class he extends V{constructor(t){super(t),this.luminances=he.EMPTY,this.buckets=new Int32Array(he.LUMINANCE_BUCKETS)}getBlackRow(t,i){const l=this.getLuminanceSource(),u=l.getWidth();i==null||i.getSize()<u?i=new K(u):i.clear(),this.initArrays(u);const h=l.getRow(t,this.luminances),y=this.buckets;for(let d=0;d<u;d++)y[(h[d]&255)>>he.LUMINANCE_SHIFT]++;const o=he.estimateBlackPoint(y);if(u<3)for(let d=0;d<u;d++)(h[d]&255)<o&&i.set(d);else{let d=h[0]&255,x=h[1]&255;for(let b=1;b<u-1;b++){const B=h[b+1]&255;(x*4-d-B)/2<o&&i.set(b),d=x,x=B}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),l=t.getHeight(),u=new Ce(i,l);this.initArrays(i);const h=this.buckets;for(let d=1;d<5;d++){const x=Math.floor(l*d/5),b=t.getRow(x,this.luminances),B=Math.floor(i*4/5);for(let k=Math.floor(i/5);k<B;k++){const G=b[k]&255;h[G>>he.LUMINANCE_SHIFT]++}}const y=he.estimateBlackPoint(h),o=t.getMatrix();for(let d=0;d<l;d++){const x=d*i;for(let b=0;b<i;b++)(o[x+b]&255)<y&&u.set(b,d)}return u}createBinarizer(t){return new he(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let l=0;l<he.LUMINANCE_BUCKETS;l++)i[l]=0}static estimateBlackPoint(t){const i=t.length;let l=0,u=0,h=0;for(let b=0;b<i;b++)t[b]>h&&(u=b,h=t[b]),t[b]>l&&(l=t[b]);let y=0,o=0;for(let b=0;b<i;b++){const B=b-u,k=t[b]*B*B;k>o&&(y=b,o=k)}if(u>y){const b=u;u=y,y=b}if(y-u<=i/16)throw new oe;let d=y-1,x=-1;for(let b=y-1;b>u;b--){const B=b-u,k=B*B*(y-b)*(l-t[b]);k>x&&(d=b,x=k)}return d<<he.LUMINANCE_SHIFT}}he.LUMINANCE_BITS=5,he.LUMINANCE_SHIFT=8-he.LUMINANCE_BITS,he.LUMINANCE_BUCKETS=1<<he.LUMINANCE_BITS,he.EMPTY=Uint8ClampedArray.from([0]);class ve extends he{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),l=t.getHeight();if(i>=ve.MINIMUM_DIMENSION&&l>=ve.MINIMUM_DIMENSION){const u=t.getMatrix();let h=i>>ve.BLOCK_SIZE_POWER;(i&ve.BLOCK_SIZE_MASK)!==0&&h++;let y=l>>ve.BLOCK_SIZE_POWER;(l&ve.BLOCK_SIZE_MASK)!==0&&y++;const o=ve.calculateBlackPoints(u,h,y,i,l),d=new Ce(i,l);ve.calculateThresholdForBlock(u,h,y,i,l,o,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ve(t)}static calculateThresholdForBlock(t,i,l,u,h,y,o){const d=h-ve.BLOCK_SIZE,x=u-ve.BLOCK_SIZE;for(let b=0;b<l;b++){let B=b<<ve.BLOCK_SIZE_POWER;B>d&&(B=d);const k=ve.cap(b,2,l-3);for(let G=0;G<i;G++){let Y=G<<ve.BLOCK_SIZE_POWER;Y>x&&(Y=x);const ne=ve.cap(G,2,i-3);let fe=0;for(let pe=-2;pe<=2;pe++){const me=y[k+pe];fe+=me[ne-2]+me[ne-1]+me[ne]+me[ne+1]+me[ne+2]}const ce=fe/25;ve.thresholdBlock(t,Y,B,ce,u,o)}}}static cap(t,i,l){return t<i?i:t>l?l:t}static thresholdBlock(t,i,l,u,h,y){for(let o=0,d=l*h+i;o<ve.BLOCK_SIZE;o++,d+=h)for(let x=0;x<ve.BLOCK_SIZE;x++)(t[d+x]&255)<=u&&y.set(i+x,l+o)}static calculateBlackPoints(t,i,l,u,h){const y=h-ve.BLOCK_SIZE,o=u-ve.BLOCK_SIZE,d=new Array(l);for(let x=0;x<l;x++){d[x]=new Int32Array(i);let b=x<<ve.BLOCK_SIZE_POWER;b>y&&(b=y);for(let B=0;B<i;B++){let k=B<<ve.BLOCK_SIZE_POWER;k>o&&(k=o);let G=0,Y=255,ne=0;for(let ce=0,pe=b*u+k;ce<ve.BLOCK_SIZE;ce++,pe+=u){for(let me=0;me<ve.BLOCK_SIZE;me++){const ye=t[pe+me]&255;G+=ye,ye<Y&&(Y=ye),ye>ne&&(ne=ye)}if(ne-Y>ve.MIN_DYNAMIC_RANGE)for(ce++,pe+=u;ce<ve.BLOCK_SIZE;ce++,pe+=u)for(let me=0;me<ve.BLOCK_SIZE;me++)G+=t[pe+me]&255}let fe=G>>ve.BLOCK_SIZE_POWER*2;if(ne-Y<=ve.MIN_DYNAMIC_RANGE&&(fe=Y/2,x>0&&B>0)){const ce=(d[x-1][B]+2*d[x][B-1]+d[x-1][B-1])/4;Y<ce&&(fe=ce)}d[x][B]=fe}}return d}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class ke{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,l,u){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new se;for(let l=0;l<this.height;l++){const u=this.getRow(l,t);for(let h=0;h<this.width;h++){const y=u[h]&255;let o;y<64?o="#":y<128?o="+":y<192?o=".":o=" ",i.append(o)}i.append(`
`)}return i.toString()}}class Ue extends ke{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const l=this.delegate.getRow(t,i),u=this.getWidth();for(let h=0;h<u;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(i);for(let u=0;u<i;u++)l[u]=255-(t[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,l,u){return new Ue(this.delegate.crop(t,i,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ue(this.delegate.rotateCounterClockwise45())}}class Me extends ke{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Me.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return Me.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,l){const u=new Uint8ClampedArray(i*l);for(let h=0,y=0,o=t.length;h<o;h+=4,y++){let d;if(t[h+3]===0)d=255;else{const b=t[h],B=t[h+1],k=t[h+2];d=306*b+601*B+117*k+512>>10}u[y]=d}return u}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const l=this.getWidth(),u=t*l;return i===null?i=this.buffer.slice(u,u+l):(i.length<l&&(i=new Uint8ClampedArray(l)),i.set(this.buffer.slice(u,u+l))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,l,u){return super.crop(t,i,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),l=i.getContext("2d"),u=t*Me.DEGREE_TO_RADIANS,h=this.canvas.width,y=this.canvas.height,o=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*y),d=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*y);return i.width=o,i.height=d,l.translate(o/2,d/2),l.rotate(u),l.drawImage(this.canvas,h/-2,y/-2),this.buffer=Me.makeBufferFromCanvasImageData(i),this}invert(){return new Ue(this)}}Me.DEGREE_TO_RADIANS=Math.PI/180;class Ae{constructor(t,i,l){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Se=(globalThis||hl||self||window||void 0)&&(globalThis||hl||self||window||void 0).__awaiter||function($,t,i,l){function u(h){return h instanceof i?h:new i(function(y){y(h)})}return new(i||(i=Promise))(function(h,y){function o(b){try{x(l.next(b))}catch(B){y(B)}}function d(b){try{x(l.throw(b))}catch(B){y(B)}}function x(b){b.done?h(b.value):u(b.value).then(o,d)}x((l=l.apply($,t||[])).next())})};class ze{constructor(t,i=500,l){this.reader=t,this.timeBetweenScansMillis=i,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const l of t){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const h=l.deviceId||l.id,y=l.label||`Video device ${i.length+1}`,o=l.groupId,d={deviceId:h,label:y,kind:u,groupId:o};i.push(d)}return i})}getVideoInputDevices(){return Se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Ae(i.deviceId,i.label))})}findDeviceById(t){return Se(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(l=>l.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return Se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return Se(this,void 0,void 0,function*(){this.reset();let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,i)})}decodeOnceFromConstraints(t,i){return Se(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(l,i)})}decodeOnceFromStream(t,i){return Se(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(t,i,l){return Se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,l)})}decodeFromVideoDevice(t,i,l){return Se(this,void 0,void 0,function*(){let u;t?u={deviceId:{exact:t}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,i,l)})}decodeFromConstraints(t,i,l){return Se(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(u,i,l)})}decodeFromStream(t,i,l){return Se(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return Se(this,void 0,void 0,function*(){const l=this.prepareVideoElement(i);return this.addVideoSource(l,t),this.videoElement=l,this.stream=t,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(t){return new Promise((i,l)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Se(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const l=document.getElementById(t);if(!l)throw new D(`element with id '${t}' not found`);if(l.nodeName.toLowerCase()!==i.toLowerCase())throw new D(`element with id '${t}' must be an ${i} element`);return l}decodeFromImage(t,i){if(!t&&!i)throw new D("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,l){if(t===void 0&&i===void 0)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,l):this.decodeFromVideoElementContinuously(t,l)}decodeFromImageElement(t){if(!t)throw new D("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let l;return this.isImageLoaded(i)?l=this.decodeOnce(i,!1,!0):l=this._decodeOnLoadImage(i),l}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const l=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(l,i)}_decodeFromVideoElementSetup(t){if(!t)throw new D("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const l=this._decodeOnLoadImage(i);return i.src=t,l}decodeFromVideoUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElement(i);return i.src=t,l}decodeFromVideoUrlContinuously(t,i){if(!t)throw new D("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,i);return l.src=t,u}_decodeOnLoadImage(t){return new Promise((i,l)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,l),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return Se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,l=!0){this._stopAsyncDecode=!1;const u=(h,y)=>{if(this._stopAsyncDecode){y(new oe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const o=this.decode(t);h(o)}catch(o){const d=i&&o instanceof oe,b=(o instanceof _||o instanceof I)&&l;if(d||b)return setTimeout(u,this._timeBetweenDecodingAttempts,h,y);y(o)}};return new Promise((h,y)=>u(h,y))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(t);i(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){i(null,u);const h=u instanceof _||u instanceof I,y=u instanceof oe;(h||y)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,l){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,l=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),l=new Me(i),u=new ve(l);return new L(u)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let l,u;return typeof t<"u"&&(t instanceof HTMLVideoElement?(l=t.videoWidth,u=t.videoHeight):t instanceof HTMLImageElement&&(l=t.naturalWidth||t.width,u=t.naturalHeight||t.height)),i.style.width=l+"px",i.style.height=u+"px",i.width=l,i.height=u,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(t,i,l=i==null?0:8*i.length,u,h,y=P.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=l,this.resultPoints=u,this.format=h,this.timestamp=y,this.text=t,this.rawBytes=i,l==null?this.numBits=i==null?0:8*i.length:this.numBits=l,this.resultPoints=u,this.format=h,this.resultMetadata=null,y==null?this.timestamp=P.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const l=new Array(i.length+t.length);P.arraycopy(i,0,l,0,i.length),P.arraycopy(t,0,l,i.length,t.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Je;(function($){$[$.AZTEC=0]="AZTEC",$[$.CODABAR=1]="CODABAR",$[$.CODE_39=2]="CODE_39",$[$.CODE_93=3]="CODE_93",$[$.CODE_128=4]="CODE_128",$[$.DATA_MATRIX=5]="DATA_MATRIX",$[$.EAN_8=6]="EAN_8",$[$.EAN_13=7]="EAN_13",$[$.ITF=8]="ITF",$[$.MAXICODE=9]="MAXICODE",$[$.PDF_417=10]="PDF_417",$[$.QR_CODE=11]="QR_CODE",$[$.RSS_14=12]="RSS_14",$[$.RSS_EXPANDED=13]="RSS_EXPANDED",$[$.UPC_A=14]="UPC_A",$[$.UPC_E=15]="UPC_E",$[$.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Je||(Je={}));var Ne=Je,wt;(function($){$[$.OTHER=0]="OTHER",$[$.ORIENTATION=1]="ORIENTATION",$[$.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",$[$.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",$[$.ISSUE_NUMBER=4]="ISSUE_NUMBER",$[$.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",$[$.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",$[$.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",$[$.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",$[$.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",$[$.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(wt||(wt={}));var yt=wt;class Q{constructor(t,i,l,u,h=-1,y=-1){this.rawBytes=t,this.text=i,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=y,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class W{exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class re{constructor(t,i){if(i.length===0)throw new R;this.field=t;const l=i.length;if(l>1&&i[0]===0){let u=1;for(;u<l&&i[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),P.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let l;if(t===1){l=0;for(let y=0,o=i.length;y!==o;y++){const d=i[y];l=W.addOrSubtract(l,d)}return l}l=i[0];const u=i.length,h=this.field;for(let y=1;y<u;y++)l=W.addOrSubtract(h.multiply(t,l),i[y]);return l}addOrSubtract(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,l=t.coefficients;if(i.length>l.length){const y=i;i=l,l=y}let u=new Int32Array(l.length);const h=l.length-i.length;P.arraycopy(l,0,u,0,h);for(let y=h;y<l.length;y++)u[y]=W.addOrSubtract(i[y-h],l[y]);return new re(this.field,u)}multiply(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,l=i.length,u=t.coefficients,h=u.length,y=new Int32Array(l+h-1),o=this.field;for(let d=0;d<l;d++){const x=i[d];for(let b=0;b<h;b++)y[d+b]=W.addOrSubtract(y[d+b],o.multiply(x,u[b]))}return new re(o,y)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,l=this.field,u=new Int32Array(i),h=this.coefficients;for(let y=0;y<i;y++)u[y]=l.multiply(h[y],t);return new re(l,u)}multiplyByMonomial(t,i){if(t<0)throw new R;if(i===0)return this.field.getZero();const l=this.coefficients,u=l.length,h=new Int32Array(u+t),y=this.field;for(let o=0;o<u;o++)h[o]=y.multiply(l[o],i);return new re(y,h)}divide(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new R("Divide by 0");const i=this.field;let l=i.getZero(),u=this;const h=t.getCoefficient(t.getDegree()),y=i.inverse(h);for(;u.getDegree()>=t.getDegree()&&!u.isZero();){const o=u.getDegree()-t.getDegree(),d=i.multiply(u.getCoefficient(u.getDegree()),y),x=t.multiplyByMonomial(o,d),b=i.buildMonomial(o,d);l=l.addOrSubtract(b),u=u.addOrSubtract(x)}return[l,u]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let l=this.getCoefficient(i);if(l!==0){if(l<0?(t+=" - ",l=-l):t.length>0&&(t+=" + "),i===0||l!==1){const u=this.field.log(l);u===0?t+="1":u===1?t+="a":(t+="a^",t+=u)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class O extends C{}O.kind="ArithmeticException";class Z extends W{constructor(t,i,l){super(),this.primitive=t,this.size=i,this.generatorBase=l;const u=new Int32Array(i);let h=1;for(let o=0;o<i;o++)u[o]=h,h*=2,h>=i&&(h^=t,h&=i-1);this.expTable=u;const y=new Int32Array(i);for(let o=0;o<i-1;o++)y[u[o]]=o;this.logTable=y,this.zero=new re(this,Int32Array.from([0])),this.one=new re(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new R;if(i===0)return this.zero;const l=new Int32Array(t+1);return l[0]=i,new re(this,l)}inverse(t){if(t===0)throw new O;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Z.AZTEC_DATA_12=new Z(4201,4096,1),Z.AZTEC_DATA_10=new Z(1033,1024,1),Z.AZTEC_DATA_6=new Z(67,64,1),Z.AZTEC_PARAM=new Z(19,16,1),Z.QR_CODE_FIELD_256=new Z(285,256,0),Z.DATA_MATRIX_FIELD_256=new Z(301,256,1),Z.AZTEC_DATA_8=Z.DATA_MATRIX_FIELD_256,Z.MAXICODE_FIELD_64=Z.AZTEC_DATA_6;class be extends C{}be.kind="ReedSolomonException";class xe extends C{}xe.kind="IllegalStateException";class Ze{constructor(t){this.field=t}decode(t,i){const l=this.field,u=new re(l,t),h=new Int32Array(i);let y=!0;for(let G=0;G<i;G++){const Y=u.evaluateAt(l.exp(G+l.getGeneratorBase()));h[h.length-1-G]=Y,Y!==0&&(y=!1)}if(y)return;const o=new re(l,h),d=this.runEuclideanAlgorithm(l.buildMonomial(i,1),o,i),x=d[0],b=d[1],B=this.findErrorLocations(x),k=this.findErrorMagnitudes(b,B);for(let G=0;G<B.length;G++){const Y=t.length-1-l.log(B[G]);if(Y<0)throw new be("Bad error location");t[Y]=Z.addOrSubtract(t[Y],k[G])}}runEuclideanAlgorithm(t,i,l){if(t.getDegree()<i.getDegree()){const G=t;t=i,i=G}const u=this.field;let h=t,y=i,o=u.getZero(),d=u.getOne();for(;y.getDegree()>=(l/2|0);){let G=h,Y=o;if(h=y,o=d,h.isZero())throw new be("r_{i-1} was zero");y=G;let ne=u.getZero();const fe=h.getCoefficient(h.getDegree()),ce=u.inverse(fe);for(;y.getDegree()>=h.getDegree()&&!y.isZero();){const pe=y.getDegree()-h.getDegree(),me=u.multiply(y.getCoefficient(y.getDegree()),ce);ne=ne.addOrSubtract(u.buildMonomial(pe,me)),y=y.addOrSubtract(h.multiplyByMonomial(pe,me))}if(d=ne.multiply(o).addOrSubtract(Y),y.getDegree()>=h.getDegree())throw new xe("Division algorithm failed to reduce polynomial?")}const x=d.getCoefficient(0);if(x===0)throw new be("sigmaTilde(0) was zero");const b=u.inverse(x),B=d.multiplyScalar(b),k=y.multiplyScalar(b);return[B,k]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const l=new Int32Array(i);let u=0;const h=this.field;for(let y=1;y<h.getSize()&&u<i;y++)t.evaluateAt(y)===0&&(l[u]=h.inverse(y),u++);if(u!==i)throw new be("Error locator degree does not match number of roots");return l}findErrorMagnitudes(t,i){const l=i.length,u=new Int32Array(l),h=this.field;for(let y=0;y<l;y++){const o=h.inverse(i[y]);let d=1;for(let x=0;x<l;x++)if(y!==x){const b=h.multiply(i[x],o),B=(b&1)===0?b|1:b&-2;d=h.multiply(d,B)}u[y]=h.multiply(t.evaluateAt(o),h.inverse(d)),h.getGeneratorBase()!==0&&(u[y]=h.multiply(u[y],o))}return u}}var gt;(function($){$[$.UPPER=0]="UPPER",$[$.LOWER=1]="LOWER",$[$.MIXED=2]="MIXED",$[$.DIGIT=3]="DIGIT",$[$.PUNCT=4]="PUNCT",$[$.BINARY=5]="BINARY"})(gt||(gt={}));class dt{decode(t){this.ddata=t;let i=t.getBits(),l=this.extractBits(i),u=this.correctBits(l),h=dt.convertBoolArrayToByteArray(u),y=dt.getEncodedData(u),o=new Q(h,y,null,null);return o.setNumBits(u.length),o}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,l=gt.UPPER,u=gt.UPPER,h="",y=0;for(;y<i;)if(u===gt.BINARY){if(i-y<5)break;let o=dt.readCode(t,y,5);if(y+=5,o===0){if(i-y<11)break;o=dt.readCode(t,y,11)+31,y+=11}for(let d=0;d<o;d++){if(i-y<8){y=i;break}const x=dt.readCode(t,y,8);h+=ee.castAsNonUtf8Char(x),y+=8}u=l}else{let o=u===gt.DIGIT?4:5;if(i-y<o)break;let d=dt.readCode(t,y,o);y+=o;let x=dt.getCharacter(u,d);x.startsWith("CTRL_")?(l=u,u=dt.getTable(x.charAt(5)),x.charAt(6)==="L"&&(l=u)):(h+=x,u=l)}return h}static getTable(t){switch(t){case"L":return gt.LOWER;case"P":return gt.PUNCT;case"M":return gt.MIXED;case"D":return gt.DIGIT;case"B":return gt.BINARY;case"U":default:return gt.UPPER}}static getCharacter(t,i){switch(t){case gt.UPPER:return dt.UPPER_TABLE[i];case gt.LOWER:return dt.LOWER_TABLE[i];case gt.MIXED:return dt.MIXED_TABLE[i];case gt.PUNCT:return dt.PUNCT_TABLE[i];case gt.DIGIT:return dt.DIGIT_TABLE[i];default:throw new xe("Bad table")}}correctBits(t){let i,l;this.ddata.getNbLayers()<=2?(l=6,i=Z.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,i=Z.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,i=Z.AZTEC_DATA_10):(l=12,i=Z.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=t.length/l;if(h<u)throw new I;let y=t.length%l,o=new Int32Array(h);for(let k=0;k<h;k++,y+=l)o[k]=dt.readCode(t,y,l);try{new Ze(i).decode(o,h-u)}catch(k){throw new I(k)}let d=(1<<l)-1,x=0;for(let k=0;k<u;k++){let G=o[k];if(G===0||G===d)throw new I;(G===1||G===d-1)&&x++}let b=new Array(u*l-x),B=0;for(let k=0;k<u;k++){let G=o[k];if(G===1||G===d-1)b.fill(G>1,B,B+l-1),B+=l-1;else for(let Y=l-1;Y>=0;--Y)b[B++]=(G&1<<Y)!==0}return b}extractBits(t){let i=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(i?11:14)+l*4,h=new Int32Array(u),y=new Array(this.totalBitsInLayer(l,i));if(i)for(let o=0;o<h.length;o++)h[o]=o;else{let o=u+1+2*U.truncDivision(U.truncDivision(u,2)-1,15),d=u/2,x=U.truncDivision(o,2);for(let b=0;b<d;b++){let B=b+U.truncDivision(b,15);h[d-b-1]=x-B-1,h[d+b]=x+B+1}}for(let o=0,d=0;o<l;o++){let x=(l-o)*4+(i?9:12),b=o*2,B=u-1-b;for(let k=0;k<x;k++){let G=k*2;for(let Y=0;Y<2;Y++)y[d+G+Y]=t.get(h[b+Y],h[b+k]),y[d+2*x+G+Y]=t.get(h[b+k],h[B-Y]),y[d+4*x+G+Y]=t.get(h[B-Y],h[B-k]),y[d+6*x+G+Y]=t.get(h[B-k],h[b+Y])}d+=x*8}return y}static readCode(t,i,l){let u=0;for(let h=i;h<i+l;h++)u<<=1,t[h]&&(u|=1);return u}static readByte(t,i){let l=t.length-i;return l>=8?dt.readCode(t,i,8):dt.readCode(t,i,l)<<8-l}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let l=0;l<i.length;l++)i[l]=dt.readByte(t,8*l);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}dt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],dt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],dt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],dt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],dt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ve{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,l,u){const h=t-l,y=i-u;return Math.sqrt(h*h+y*y)}static sum(t){let i=0;for(let l=0,u=t.length;l!==u;l++){const h=t[l];i+=h}return i}}class pt{static floatToIntBits(t){return t}}pt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ye{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ye){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*pt.floatToIntBits(this.x)+pt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),l=this.distance(t[1],t[2]),u=this.distance(t[0],t[2]);let h,y,o;if(l>=i&&l>=u?(y=t[0],h=t[1],o=t[2]):u>=l&&u>=i?(y=t[1],h=t[0],o=t[2]):(y=t[2],h=t[0],o=t[1]),this.crossProductZ(h,y,o)<0){const d=h;h=o,o=d}t[0]=h,t[1]=y,t[2]=o}static distance(t,i){return Ve.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,l){const u=i.x,h=i.y;return(l.x-u)*(t.y-h)-(l.y-h)*(t.x-u)}}class Lt{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class St extends Lt{constructor(t,i,l,u,h){super(t,i),this.compact=l,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kt{constructor(t,i,l,u){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Kt.INIT_SIZE),l==null&&(l=t.getWidth()/2|0),u==null&&(u=t.getHeight()/2|0);const h=i/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}detect(){let t=this.leftInit,i=this.rightInit,l=this.upInit,u=this.downInit,h=!1,y=!0,o=!1,d=!1,x=!1,b=!1,B=!1;const k=this.width,G=this.height;for(;y;){y=!1;let Y=!0;for(;(Y||!d)&&i<k;)Y=this.containsBlackPoint(l,u,i,!1),Y?(i++,y=!0,d=!0):d||i++;if(i>=k){h=!0;break}let ne=!0;for(;(ne||!x)&&u<G;)ne=this.containsBlackPoint(t,i,u,!0),ne?(u++,y=!0,x=!0):x||u++;if(u>=G){h=!0;break}let fe=!0;for(;(fe||!b)&&t>=0;)fe=this.containsBlackPoint(l,u,t,!1),fe?(t--,y=!0,b=!0):b||t--;if(t<0){h=!0;break}let ce=!0;for(;(ce||!B)&&l>=0;)ce=this.containsBlackPoint(t,i,l,!0),ce?(l--,y=!0,B=!0):B||l--;if(l<0){h=!0;break}y&&(o=!0)}if(!h&&o){const Y=i-t;let ne=null;for(let me=1;ne===null&&me<Y;me++)ne=this.getBlackPointOnSegment(t,u-me,t+me,u);if(ne==null)throw new oe;let fe=null;for(let me=1;fe===null&&me<Y;me++)fe=this.getBlackPointOnSegment(t,l+me,t+me,l);if(fe==null)throw new oe;let ce=null;for(let me=1;ce===null&&me<Y;me++)ce=this.getBlackPointOnSegment(i,l+me,i-me,l);if(ce==null)throw new oe;let pe=null;for(let me=1;pe===null&&me<Y;me++)pe=this.getBlackPointOnSegment(i,u-me,i-me,u);if(pe==null)throw new oe;return this.centerEdges(pe,ne,ce,fe)}else throw new oe}getBlackPointOnSegment(t,i,l,u){const h=Ve.round(Ve.distance(t,i,l,u)),y=(l-t)/h,o=(u-i)/h,d=this.image;for(let x=0;x<h;x++){const b=Ve.round(t+x*y),B=Ve.round(i+x*o);if(d.get(b,B))return new Ye(b,B)}return null}centerEdges(t,i,l,u){const h=t.getX(),y=t.getY(),o=i.getX(),d=i.getY(),x=l.getX(),b=l.getY(),B=u.getX(),k=u.getY(),G=Kt.CORR;return h<this.width/2?[new Ye(B-G,k+G),new Ye(o+G,d+G),new Ye(x-G,b-G),new Ye(h+G,y-G)]:[new Ye(B+G,k+G),new Ye(o+G,d-G),new Ye(x-G,b+G),new Ye(h-G,y-G)]}containsBlackPoint(t,i,l,u){const h=this.image;if(u){for(let y=t;y<=i;y++)if(h.get(y,l))return!0}else for(let y=t;y<=i;y++)if(h.get(l,y))return!0;return!1}}Kt.INIT_SIZE=10,Kt.CORR=1;class An{static checkAndNudgePoints(t,i){const l=t.getWidth(),u=t.getHeight();let h=!0;for(let y=0;y<i.length&&h;y+=2){const o=Math.floor(i[y]),d=Math.floor(i[y+1]);if(o<-1||o>l||d<-1||d>u)throw new oe;h=!1,o===-1?(i[y]=0,h=!0):o===l&&(i[y]=l-1,h=!0),d===-1?(i[y+1]=0,h=!0):d===u&&(i[y+1]=u-1,h=!0)}h=!0;for(let y=i.length-2;y>=0&&h;y-=2){const o=Math.floor(i[y]),d=Math.floor(i[y+1]);if(o<-1||o>l||d<-1||d>u)throw new oe;h=!1,o===-1?(i[y]=0,h=!0):o===l&&(i[y]=l-1,h=!0),d===-1?(i[y+1]=0,h=!0):d===u&&(i[y+1]=u-1,h=!0)}}}class Ht{constructor(t,i,l,u,h,y,o,d,x){this.a11=t,this.a21=i,this.a31=l,this.a12=u,this.a22=h,this.a32=y,this.a13=o,this.a23=d,this.a33=x}static quadrilateralToQuadrilateral(t,i,l,u,h,y,o,d,x,b,B,k,G,Y,ne,fe){const ce=Ht.quadrilateralToSquare(t,i,l,u,h,y,o,d);return Ht.squareToQuadrilateral(x,b,B,k,G,Y,ne,fe).times(ce)}transformPoints(t){const i=t.length,l=this.a11,u=this.a12,h=this.a13,y=this.a21,o=this.a22,d=this.a23,x=this.a31,b=this.a32,B=this.a33;for(let k=0;k<i;k+=2){const G=t[k],Y=t[k+1],ne=h*G+d*Y+B;t[k]=(l*G+y*Y+x)/ne,t[k+1]=(u*G+o*Y+b)/ne}}transformPointsWithValues(t,i){const l=this.a11,u=this.a12,h=this.a13,y=this.a21,o=this.a22,d=this.a23,x=this.a31,b=this.a32,B=this.a33,k=t.length;for(let G=0;G<k;G++){const Y=t[G],ne=i[G],fe=h*Y+d*ne+B;t[G]=(l*Y+y*ne+x)/fe,i[G]=(u*Y+o*ne+b)/fe}}static squareToQuadrilateral(t,i,l,u,h,y,o,d){const x=t-l+h-o,b=i-u+y-d;if(x===0&&b===0)return new Ht(l-t,h-l,t,u-i,y-u,i,0,0,1);{const B=l-h,k=o-h,G=u-y,Y=d-y,ne=B*Y-k*G,fe=(x*Y-k*b)/ne,ce=(B*b-x*G)/ne;return new Ht(l-t+fe*l,o-t+ce*o,t,u-i+fe*u,d-i+ce*d,i,fe,ce,1)}}static quadrilateralToSquare(t,i,l,u,h,y,o,d){return Ht.squareToQuadrilateral(t,i,l,u,h,y,o,d).buildAdjoint()}buildAdjoint(){return new Ht(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Ht(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class rn extends An{sampleGrid(t,i,l,u,h,y,o,d,x,b,B,k,G,Y,ne,fe,ce,pe,me){const ye=Ht.quadrilateralToQuadrilateral(u,h,y,o,d,x,b,B,k,G,Y,ne,fe,ce,pe,me);return this.sampleGridWithTransform(t,i,l,ye)}sampleGridWithTransform(t,i,l,u){if(i<=0||l<=0)throw new oe;const h=new Ce(i,l),y=new Float32Array(2*i);for(let o=0;o<l;o++){const d=y.length,x=o+.5;for(let b=0;b<d;b+=2)y[b]=b/2+.5,y[b+1]=x;u.transformPoints(y),An.checkAndNudgePoints(t,y);try{for(let b=0;b<d;b+=2)t.get(Math.floor(y[b]),Math.floor(y[b+1]))&&h.set(b/2,o)}catch{throw new oe}}return h}}class nn{static setGridSampler(t){nn.gridSampler=t}static getInstance(){return nn.gridSampler}}nn.gridSampler=new rn;class Vt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class wn{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),l=this.getBullsEyeCorners(i);if(t){let y=l[0];l[0]=l[2],l[2]=y}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new St(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new oe;let i=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(l,i);let u=0;for(let y=0;y<4;y++){let o=l[(this.shift+y)%4];this.compact?(u<<=7,u+=o>>1&127):(u<<=10,u+=(o>>2&992)+(o>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(t,i){let l=0;t.forEach((u,h,y)=>{let o=(u>>i-2<<1)+(u&1);l=(l<<3)+o}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(U.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new oe}getCorrectedParameterData(t,i){let l,u;i?(l=7,u=2):(l=10,u=4);let h=l-u,y=new Int32Array(l);for(let d=l-1;d>=0;--d)y[d]=t&15,t>>=4;try{new Ze(Z.AZTEC_PARAM).decode(y,h)}catch{throw new oe}let o=0;for(let d=0;d<u;d++)o=(o<<4)+y[d];return o}getBullsEyeCorners(t){let i=t,l=t,u=t,h=t,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(i,y,1,-1),k=this.getFirstDifferent(l,y,1,1),G=this.getFirstDifferent(u,y,-1,1),Y=this.getFirstDifferent(h,y,-1,-1);if(this.nbCenterLayers>2){let ne=this.distancePoint(Y,B)*this.nbCenterLayers/(this.distancePoint(h,i)*(this.nbCenterLayers+2));if(ne<.75||ne>1.25||!this.isWhiteOrBlackRectangle(B,k,G,Y))break}i=B,l=k,u=G,h=Y,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;let o=new Ye(i.getX()+.5,i.getY()-.5),d=new Ye(l.getX()+.5,l.getY()+.5),x=new Ye(u.getX()-.5,u.getY()+.5),b=new Ye(h.getX()-.5,h.getY()-.5);return this.expandSquare([o,d,x,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,l,u;try{let o=new Kt(this.image).detect();t=o[0],i=o[1],l=o[2],u=o[3]}catch{let d=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new Vt(d+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Vt(d+7,x+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Vt(d-7,x+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Vt(d-7,x-7),!1,-1,-1).toResultPoint()}let h=Ve.round((t.getX()+u.getX()+i.getX()+l.getX())/4),y=Ve.round((t.getY()+u.getY()+i.getY()+l.getY())/4);try{let o=new Kt(this.image,15,h,y).detect();t=o[0],i=o[1],l=o[2],u=o[3]}catch{t=this.getFirstDifferent(new Vt(h+7,y-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Vt(h+7,y+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Vt(h-7,y+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Vt(h-7,y-7),!1,-1,-1).toResultPoint()}return h=Ve.round((t.getX()+u.getX()+i.getX()+l.getX())/4),y=Ve.round((t.getY()+u.getY()+i.getY()+l.getY())/4),new Vt(h,y)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,l,u,h){let y=nn.getInstance(),o=this.getDimension(),d=o/2-this.nbCenterLayers,x=o/2+this.nbCenterLayers;return y.sampleGrid(t,o,o,d,d,x,d,x,x,d,x,i.getX(),i.getY(),l.getX(),l.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(t,i,l){let u=0,h=this.distanceResultPoint(t,i),y=h/l,o=t.getX(),d=t.getY(),x=y*(i.getX()-t.getX())/h,b=y*(i.getY()-t.getY())/h;for(let B=0;B<l;B++)this.image.get(Ve.round(o+B*x),Ve.round(d+B*b))&&(u|=1<<l-B-1);return u}isWhiteOrBlackRectangle(t,i,l,u){let h=3;t=new Vt(t.getX()-h,t.getY()+h),i=new Vt(i.getX()-h,i.getY()-h),l=new Vt(l.getX()+h,l.getY()-h),u=new Vt(u.getX()+h,u.getY()+h);let y=this.getColor(u,t);if(y===0)return!1;let o=this.getColor(t,i);return o!==y||(o=this.getColor(i,l),o!==y)?!1:(o=this.getColor(l,u),o===y)}getColor(t,i){let l=this.distancePoint(t,i),u=(i.getX()-t.getX())/l,h=(i.getY()-t.getY())/l,y=0,o=t.getX(),d=t.getY(),x=this.image.get(t.getX(),t.getY()),b=Math.ceil(l);for(let k=0;k<b;k++)o+=u,d+=h,this.image.get(Ve.round(o),Ve.round(d))!==x&&y++;let B=y/l;return B>.1&&B<.9?0:B<=.1===x?1:-1}getFirstDifferent(t,i,l,u){let h=t.getX()+l,y=t.getY()+u;for(;this.isValid(h,y)&&this.image.get(h,y)===i;)h+=l,y+=u;for(h-=l,y-=u;this.isValid(h,y)&&this.image.get(h,y)===i;)h+=l;for(h-=l;this.isValid(h,y)&&this.image.get(h,y)===i;)y+=u;return y-=u,new Vt(h,y)}expandSquare(t,i,l){let u=l/(2*i),h=t[0].getX()-t[2].getX(),y=t[0].getY()-t[2].getY(),o=(t[0].getX()+t[2].getX())/2,d=(t[0].getY()+t[2].getY())/2,x=new Ye(o+u*h,d+u*y),b=new Ye(o-u*h,d-u*y);h=t[1].getX()-t[3].getX(),y=t[1].getY()-t[3].getY(),o=(t[1].getX()+t[3].getX())/2,d=(t[1].getY()+t[3].getY())/2;let B=new Ye(o+u*h,d+u*y),k=new Ye(o-u*h,d-u*y);return[x,B,b,k]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=Ve.round(t.getX()),l=Ve.round(t.getY());return this.isValid(i,l)}distancePoint(t,i){return Ve.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return Ve.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class yn{decode(t,i=null){let l=null,u=new wn(t.getBlackMatrix()),h=null,y=null;try{let b=u.detectMirror(!1);h=b.getPoints(),this.reportFoundResultPoints(i,h),y=new dt().decode(b)}catch(b){l=b}if(y==null)try{let b=u.detectMirror(!0);h=b.getPoints(),this.reportFoundResultPoints(i,h),y=new dt().decode(b)}catch(b){throw l??b}let o=new _e(y.getText(),y.getRawBytes(),y.getNumBits(),h,Ne.AZTEC,P.currentTimeMillis()),d=y.getByteSegments();d!=null&&o.putMetadata(yt.BYTE_SEGMENTS,d);let x=y.getECLevel();return x!=null&&o.putMetadata(yt.ERROR_CORRECTION_LEVEL,x),o}reportFoundResultPoints(t,i){if(t!=null){let l=t.get(M.NEED_RESULT_POINT_CALLBACK);l!=null&&i.forEach((u,h,y)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Sn extends ze{constructor(t=500){super(new yn,t)}}class Gt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(M.TRY_HARDER)===!0&&t.isRotateSupported()){const h=t.rotateCounterClockwise(),y=this.doDecode(h,i),o=y.getResultMetadata();let d=270;o!==null&&o.get(yt.ORIENTATION)===!0&&(d=d+o.get(yt.ORIENTATION)%360),y.putMetadata(yt.ORIENTATION,d);const x=y.getResultPoints();if(x!==null){const b=h.getHeight();for(let B=0;B<x.length;B++)x[B]=new Ye(b-x[B].getY()-1,x[B].getX())}return y}else throw new oe}}reset(){}doDecode(t,i){const l=t.getWidth(),u=t.getHeight();let h=new K(l);const y=i&&i.get(M.TRY_HARDER)===!0,o=Math.max(1,u>>(y?8:5));let d;y?d=u:d=15;const x=Math.trunc(u/2);for(let b=0;b<d;b++){const B=Math.trunc((b+1)/2),k=(b&1)===0,G=x+o*(k?B:-B);if(G<0||G>=u)break;try{h=t.getBlackRow(G,h)}catch{continue}for(let Y=0;Y<2;Y++){if(Y===1&&(h.reverse(),i&&i.get(M.NEED_RESULT_POINT_CALLBACK)===!0)){const ne=new Map;i.forEach((fe,ce)=>ne.set(ce,fe)),ne.delete(M.NEED_RESULT_POINT_CALLBACK),i=ne}try{const ne=this.decodeRow(G,h,i);if(Y===1){ne.putMetadata(yt.ORIENTATION,180);const fe=ne.getResultPoints();fe!==null&&(fe[0]=new Ye(l-fe[0].getX()-1,fe[0].getY()),fe[1]=new Ye(l-fe[1].getX()-1,fe[1].getY()))}return ne}catch{}}}throw new oe}static recordPattern(t,i,l){const u=l.length;for(let x=0;x<u;x++)l[x]=0;const h=t.getSize();if(i>=h)throw new oe;let y=!t.get(i),o=0,d=i;for(;d<h;){if(t.get(d)!==y)l[o]++;else{if(++o===u)break;l[o]=1,y=!y}d++}if(!(o===u||o===u-1&&d===h))throw new oe}static recordPatternInReverse(t,i,l){let u=l.length,h=t.get(i);for(;i>0&&u>=0;)t.get(--i)!==h&&(u--,h=!h);if(u>=0)throw new oe;Gt.recordPattern(t,i+1,l)}static patternMatchVariance(t,i,l){const u=t.length;let h=0,y=0;for(let x=0;x<u;x++)h+=t[x],y+=i[x];if(h<y)return Number.POSITIVE_INFINITY;const o=h/y;l*=o;let d=0;for(let x=0;x<u;x++){const b=t[x],B=i[x]*o,k=b>B?b-B:B-b;if(k>l)return Number.POSITIVE_INFINITY;d+=k}return d/h}}class at extends Gt{static findStartPattern(t){const i=t.getSize(),l=t.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),y=l,o=!1;const d=6;for(let x=l;x<i;x++)if(t.get(x)!==o)h[u]++;else{if(u===d-1){let b=at.MAX_AVG_VARIANCE,B=-1;for(let k=at.CODE_START_A;k<=at.CODE_START_C;k++){const G=Gt.patternMatchVariance(h,at.CODE_PATTERNS[k],at.MAX_INDIVIDUAL_VARIANCE);G<b&&(b=G,B=k)}if(B>=0&&t.isRange(Math.max(0,y-(x-y)/2),y,!1))return Int32Array.from([y,x,B]);y+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,o=!o}throw new oe}static decodeCode(t,i,l){Gt.recordPattern(t,l,i);let u=at.MAX_AVG_VARIANCE,h=-1;for(let y=0;y<at.CODE_PATTERNS.length;y++){const o=at.CODE_PATTERNS[y],d=this.patternMatchVariance(i,o,at.MAX_INDIVIDUAL_VARIANCE);d<u&&(u=d,h=y)}if(h>=0)return h;throw new oe}decodeRow(t,i,l){const u=l&&l.get(M.ASSUME_GS1)===!0,h=at.findStartPattern(i),y=h[2];let o=0;const d=new Uint8Array(20);d[o++]=y;let x;switch(y){case at.CODE_START_A:x=at.CODE_CODE_A;break;case at.CODE_START_B:x=at.CODE_CODE_B;break;case at.CODE_START_C:x=at.CODE_CODE_C;break;default:throw new I}let b=!1,B=!1,k="",G=h[0],Y=h[1];const ne=Int32Array.from([0,0,0,0,0,0]);let fe=0,ce=0,pe=y,me=0,ye=!0,Ie=!1,Ee=!1;for(;!b;){const ft=B;switch(B=!1,fe=ce,ce=at.decodeCode(i,ne,Y),d[o++]=ce,ce!==at.CODE_STOP&&(ye=!0),ce!==at.CODE_STOP&&(me++,pe+=me*ce),G=Y,Y+=ne.reduce((Nt,Et)=>Nt+Et,0),ce){case at.CODE_START_A:case at.CODE_START_B:case at.CODE_START_C:throw new I}switch(x){case at.CODE_CODE_A:if(ce<64)Ee===Ie?k+=String.fromCharCode(32+ce):k+=String.fromCharCode(32+ce+128),Ee=!1;else if(ce<96)Ee===Ie?k+=String.fromCharCode(ce-64):k+=String.fromCharCode(ce+64),Ee=!1;else switch(ce!==at.CODE_STOP&&(ye=!1),ce){case at.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case at.CODE_FNC_2:case at.CODE_FNC_3:break;case at.CODE_FNC_4_A:!Ie&&Ee?(Ie=!0,Ee=!1):Ie&&Ee?(Ie=!1,Ee=!1):Ee=!0;break;case at.CODE_SHIFT:B=!0,x=at.CODE_CODE_B;break;case at.CODE_CODE_B:x=at.CODE_CODE_B;break;case at.CODE_CODE_C:x=at.CODE_CODE_C;break;case at.CODE_STOP:b=!0;break}break;case at.CODE_CODE_B:if(ce<96)Ee===Ie?k+=String.fromCharCode(32+ce):k+=String.fromCharCode(32+ce+128),Ee=!1;else switch(ce!==at.CODE_STOP&&(ye=!1),ce){case at.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case at.CODE_FNC_2:case at.CODE_FNC_3:break;case at.CODE_FNC_4_B:!Ie&&Ee?(Ie=!0,Ee=!1):Ie&&Ee?(Ie=!1,Ee=!1):Ee=!0;break;case at.CODE_SHIFT:B=!0,x=at.CODE_CODE_A;break;case at.CODE_CODE_A:x=at.CODE_CODE_A;break;case at.CODE_CODE_C:x=at.CODE_CODE_C;break;case at.CODE_STOP:b=!0;break}break;case at.CODE_CODE_C:if(ce<100)ce<10&&(k+="0"),k+=ce;else switch(ce!==at.CODE_STOP&&(ye=!1),ce){case at.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case at.CODE_CODE_A:x=at.CODE_CODE_A;break;case at.CODE_CODE_B:x=at.CODE_CODE_B;break;case at.CODE_STOP:b=!0;break}break}ft&&(x=x===at.CODE_CODE_A?at.CODE_CODE_B:at.CODE_CODE_A)}const Le=Y-G;if(Y=i.getNextUnset(Y),!i.isRange(Y,Math.min(i.getSize(),Y+(Y-G)/2),!1))throw new oe;if(pe-=me*fe,pe%103!==fe)throw new _;const Qe=k.length;if(Qe===0)throw new oe;Qe>0&&ye&&(x===at.CODE_CODE_C?k=k.substring(0,Qe-2):k=k.substring(0,Qe-1));const Oe=(h[1]+h[0])/2,je=G+Le/2,it=d.length,xt=new Uint8Array(it);for(let ft=0;ft<it;ft++)xt[ft]=d[ft];const vt=[new Ye(Oe,t),new Ye(je,t)];return new _e(k,xt,0,vt,Ne.CODE_128,new Date().getTime())}}at.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],at.MAX_AVG_VARIANCE=.25,at.MAX_INDIVIDUAL_VARIANCE=.7,at.CODE_SHIFT=98,at.CODE_CODE_C=99,at.CODE_CODE_B=100,at.CODE_CODE_A=101,at.CODE_FNC_1=102,at.CODE_FNC_2=97,at.CODE_FNC_3=96,at.CODE_FNC_4_A=101,at.CODE_FNC_4_B=100,at.CODE_START_A=103,at.CODE_START_B=104,at.CODE_START_C=105,at.CODE_STOP=106;class Qt extends Gt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=Qt.findAsteriskPattern(i,u),y=i.getNextSet(h[1]),o=i.getSize(),d,x;do{Qt.recordPattern(i,y,u);let ne=Qt.toNarrowWidePattern(u);if(ne<0)throw new oe;d=Qt.patternToChar(ne),this.decodeRowResult+=d,x=y;for(let fe of u)y+=fe;y=i.getNextSet(y)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let ne of u)b+=ne;let B=y-x-b;if(y!==o&&B*2<b)throw new oe;if(this.usingCheckDigit){let ne=this.decodeRowResult.length-1,fe=0;for(let ce=0;ce<ne;ce++)fe+=Qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ce));if(this.decodeRowResult.charAt(ne)!==Qt.ALPHABET_STRING.charAt(fe%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ne)}if(this.decodeRowResult.length===0)throw new oe;let k;this.extendedMode?k=Qt.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;let G=(h[1]+h[0])/2,Y=x+b/2;return new _e(k,null,0,[new Ye(G,t),new Ye(Y,t)],Ne.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let l=t.getSize(),u=t.getNextSet(0),h=0,y=u,o=!1,d=i.length;for(let x=u;x<l;x++)if(t.get(x)!==o)i[h]++;else{if(h===d-1){if(this.toNarrowWidePattern(i)===Qt.ASTERISK_ENCODING&&t.isRange(Math.max(0,y-Math.floor((x-y)/2)),y,!1))return[y,x];y+=i[0]+i[1],i.copyWithin(0,2,2+h-1),i[h-1]=0,i[h]=0,h--}else h++;i[h]=1,o=!o}throw new oe}static toNarrowWidePattern(t){let i=t.length,l=0,u;do{let h=2147483647;for(let d of t)d<h&&d>l&&(h=d);l=h,u=0;let y=0,o=0;for(let d=0;d<i;d++){let x=t[d];x>l&&(o|=1<<i-1-d,u++,y+=x)}if(u===3){for(let d=0;d<i&&u>0;d++){let x=t[d];if(x>l&&(u--,x*2>=y))return-1}return o}}while(u>3);return-1}static patternToChar(t){for(let i=0;i<Qt.CHARACTER_ENCODINGS.length;i++)if(Qt.CHARACTER_ENCODINGS[i]===t)return Qt.ALPHABET_STRING.charAt(i);if(t===Qt.ASTERISK_ENCODING)return"*";throw new oe}static decodeExtended(t){let i=t.length,l="";for(let u=0;u<i;u++){let h=t.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let y=t.charAt(u+1),o="\0";switch(h){case"+":if(y>="A"&&y<="Z")o=String.fromCharCode(y.charCodeAt(0)+32);else throw new I;break;case"$":if(y>="A"&&y<="Z")o=String.fromCharCode(y.charCodeAt(0)-64);else throw new I;break;case"%":if(y>="A"&&y<="E")o=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")o=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")o=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")o=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")o="\0";else if(y==="V")o="@";else if(y==="W")o="`";else if(y==="X"||y==="Y"||y==="Z")o="";else throw new I;break;case"/":if(y>="A"&&y<="O")o=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")o=":";else throw new I;break}l+=o,u++}else l+=h}return l}}Qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Qt.ASTERISK_ENCODING=148;class we extends Gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,l){let u=this.decodeStart(i),h=this.decodeEnd(i),y=new se;we.decodeMiddle(i,u[1],h[0],y);let o=y.toString(),d=null;l!=null&&(d=l.get(M.ALLOWED_LENGTHS)),d==null&&(d=we.DEFAULT_ALLOWED_LENGTHS);let x=o.length,b=!1,B=0;for(let Y of d){if(x===Y){b=!0;break}Y>B&&(B=Y)}if(!b&&x>B&&(b=!0),!b)throw new I;const k=[new Ye(u[1],t),new Ye(h[0],t)];return new _e(o,null,0,k,Ne.ITF,new Date().getTime())}static decodeMiddle(t,i,l,u){let h=new Int32Array(10),y=new Int32Array(5),o=new Int32Array(5);for(h.fill(0),y.fill(0),o.fill(0);i<l;){Gt.recordPattern(t,i,h);for(let x=0;x<5;x++){let b=2*x;y[x]=h[b],o[x]=h[b+1]}let d=we.decodeDigit(y);u.append(d.toString()),d=this.decodeDigit(o),u.append(d.toString()),h.forEach(function(x){i+=x})}}decodeStart(t){let i=we.skipWhiteSpace(t),l=we.findGuardPattern(t,i,we.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(t,l[0]),l}validateQuietZone(t,i){let l=this.narrowLineWidth*10;l=l<i?l:i;for(let u=i-1;l>0&&u>=0&&!t.get(u);u--)l--;if(l!==0)throw new oe}static skipWhiteSpace(t){const i=t.getSize(),l=t.getNextSet(0);if(l===i)throw new oe;return l}decodeEnd(t){t.reverse();try{let i=we.skipWhiteSpace(t),l;try{l=we.findGuardPattern(t,i,we.END_PATTERN_REVERSED[0])}catch(h){h instanceof oe&&(l=we.findGuardPattern(t,i,we.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,l[0]);let u=l[0];return l[0]=t.getSize()-l[1],l[1]=t.getSize()-u,l}finally{t.reverse()}}static findGuardPattern(t,i,l){let u=l.length,h=new Int32Array(u),y=t.getSize(),o=!1,d=0,x=i;h.fill(0);for(let b=i;b<y;b++)if(t.get(b)!==o)h[d]++;else{if(d===u-1){if(Gt.patternMatchVariance(h,l,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return[x,b];x+=h[0]+h[1],P.arraycopy(h,2,h,0,d-1),h[d-1]=0,h[d]=0,d--}else d++;h[d]=1,o=!o}throw new oe}static decodeDigit(t){let i=we.MAX_AVG_VARIANCE,l=-1,u=we.PATTERNS.length;for(let h=0;h<u;h++){let y=we.PATTERNS[h],o=Gt.patternMatchVariance(t,y,we.MAX_INDIVIDUAL_VARIANCE);o<i?(i=o,l=h):o===i&&(l=-1)}if(l>=0)return l%10;throw new oe}}we.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],we.MAX_AVG_VARIANCE=.38,we.MAX_INDIVIDUAL_VARIANCE=.5,we.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],we.START_PATTERN=Int32Array.from([1,1,1,1]),we.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Te extends Gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,l,u=0,h=Int32Array.from([0,0,0]);for(;!i;){h=Int32Array.from([0,0,0]),l=Te.findGuardPattern(t,u,!1,this.START_END_PATTERN,h);let y=l[0];u=l[1];let o=y-(u-y);o>=0&&(i=t.isRange(o,y,!1))}return l}static checkChecksum(t){return Te.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let l=parseInt(t.charAt(i-1),10);return Te.getStandardUPCEANChecksum(t.substring(0,i-1))===l}static getStandardUPCEANChecksum(t){let i=t.length,l=0;for(let u=i-1;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new I;l+=h}l*=3;for(let u=i-2;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new I;l+=h}return(1e3-l)%10}static decodeEnd(t,i){return Te.findGuardPattern(t,i,!1,Te.START_END_PATTERN,new Int32Array(Te.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,l,u){return this.findGuardPattern(t,i,l,u,new Int32Array(u.length))}static findGuardPattern(t,i,l,u,h){let y=t.getSize();i=l?t.getNextUnset(i):t.getNextSet(i);let o=0,d=i,x=u.length,b=l;for(let B=i;B<y;B++)if(t.get(B)!==b)h[o]++;else{if(o===x-1){if(Gt.patternMatchVariance(h,u,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE)return Int32Array.from([d,B]);d+=h[0]+h[1];let k=h.slice(2,h.length-1);for(let G=0;G<o-1;G++)h[G]=k[G];h[o-1]=0,h[o]=0,o--}else o++;h[o]=1,b=!b}throw new oe}static decodeDigit(t,i,l,u){this.recordPattern(t,l,i);let h=this.MAX_AVG_VARIANCE,y=-1,o=u.length;for(let d=0;d<o;d++){let x=u[d],b=Gt.patternMatchVariance(i,x,Te.MAX_INDIVIDUAL_VARIANCE);b<h&&(h=b,y=d)}if(y>=0)return y;throw new oe}}Te.MAX_AVG_VARIANCE=.48,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.START_END_PATTERN=Int32Array.from([1,1,1]),Te.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Te.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Te.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class $e{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,l){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(i,l,u),y=u.toString(),o=$e.parseExtensionString(y),d=[new Ye((l[0]+l[1])/2,t),new Ye(h,t)],x=new _e(y,null,0,d,Ne.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&x.putAllMetadata(o),x}decodeMiddle(t,i,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),y=i[1],o=0;for(let x=0;x<5&&y<h;x++){let b=Te.decodeDigit(t,u,y,Te.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let B of u)y+=B;b>=10&&(o|=1<<4-x),x!==4&&(y=t.getNextSet(y),y=t.getNextUnset(y))}if(l.length!==5)throw new oe;let d=this.determineCheckDigit(o);if($e.extensionChecksum(l.toString())!==d)throw new oe;return y}static extensionChecksum(t){let i=t.length,l=0;for(let u=i-2;u>=0;u-=2)l+=t.charAt(u).charCodeAt(0)-48;l*=3;for(let u=i-1;u>=0;u-=2)l+=t.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new oe}static parseExtensionString(t){if(t.length!==5)return null;let i=$e.parseExtension5String(t);return i==null?null:new Map([[yt.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let l=parseInt(t.substring(1)),u=(l/100).toString(),h=l%100,y=h<10?"0"+h:h.toString();return i+u+"."+y}}class ot{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,l){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(i,l,u),y=u.toString(),o=ot.parseExtensionString(y),d=[new Ye((l[0]+l[1])/2,t),new Ye(h,t)],x=new _e(y,null,0,d,Ne.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&x.putAllMetadata(o),x}decodeMiddle(t,i,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),y=i[1],o=0;for(let d=0;d<2&&y<h;d++){let x=Te.decodeDigit(t,u,y,Te.L_AND_G_PATTERNS);l+=String.fromCharCode(48+x%10);for(let b of u)y+=b;x>=10&&(o|=1<<1-d),d!==1&&(y=t.getNextSet(y),y=t.getNextUnset(y))}if(l.length!==2)throw new oe;if(parseInt(l.toString())%4!==o)throw new oe;return y}static parseExtensionString(t){return t.length!==2?null:new Map([[yt.ISSUE_NUMBER,parseInt(t)]])}}class et{static decodeRow(t,i,l){let u=Te.findGuardPattern(i,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new $e().decodeRow(t,i,u)}catch{return new ot().decodeRow(t,i,u)}}}et.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Rt extends Te{constructor(){super(),this.decodeRowStringBuffer="",Rt.L_AND_G_PATTERNS=Rt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=Rt.L_PATTERNS[t-10],l=new Int32Array(i.length);for(let u=0;u<i.length;u++)l[u]=i[i.length-u-1];Rt.L_AND_G_PATTERNS[t]=l}}decodeRow(t,i,l){let u=Rt.findStartGuardPattern(i),h=l==null?null:l.get(M.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ye=new Ye((u[0]+u[1])/2,t);h.foundPossibleResultPoint(ye)}let y=this.decodeMiddle(i,u,this.decodeRowStringBuffer),o=y.rowOffset,d=y.resultString;if(h!=null){const ye=new Ye(o,t);h.foundPossibleResultPoint(ye)}let x=this.decodeEnd(i,o);if(h!=null){const ye=new Ye((x[0]+x[1])/2,t);h.foundPossibleResultPoint(ye)}let b=x[1],B=b+(b-x[0]);if(B>=i.getSize()||!i.isRange(b,B,!1))throw new oe;let k=d.toString();if(k.length<8)throw new I;if(!Rt.checkChecksum(k))throw new _;let G=(u[1]+u[0])/2,Y=(x[1]+x[0])/2,ne=this.getBarcodeFormat(),fe=[new Ye(G,t),new Ye(Y,t)],ce=new _e(k,null,0,fe,ne,new Date().getTime()),pe=0;try{let ye=et.decodeRow(t,i,x[1]);ce.putMetadata(yt.UPC_EAN_EXTENSION,ye.getText()),ce.putAllMetadata(ye.getResultMetadata()),ce.addResultPoints(ye.getResultPoints()),pe=ye.getText().length}catch{}let me=l==null?null:l.get(M.ALLOWED_EAN_EXTENSIONS);if(me!=null){let ye=!1;for(let Ie in me)if(pe.toString()===Ie){ye=!0;break}if(!ye)throw new oe}return ce}decodeEnd(t,i){return Rt.findGuardPattern(t,i,!1,Rt.START_END_PATTERN,new Int32Array(Rt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Rt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let l=parseInt(t.charAt(i-1),10);return Rt.getStandardUPCEANChecksum(t.substring(0,i-1))===l}static getStandardUPCEANChecksum(t){let i=t.length,l=0;for(let u=i-1;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new I;l+=h}l*=3;for(let u=i-2;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new I;l+=h}return(1e3-l)%10}}class dn extends Rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),y=i[1],o=0;for(let x=0;x<6&&y<h;x++){let b=Rt.decodeDigit(t,u,y,Rt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let B of u)y+=B;b>=10&&(o|=1<<5-x)}l=dn.determineFirstDigit(l,o),y=Rt.findGuardPattern(t,y,!0,Rt.MIDDLE_PATTERN,new Int32Array(Rt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&y<h;x++){let b=Rt.decodeDigit(t,u,y,Rt.L_PATTERNS);l+=String.fromCharCode(48+b);for(let B of u)y+=B}return{rowOffset:y,resultString:l}}getBarcodeFormat(){return Ne.EAN_13}static determineFirstDigit(t,i){for(let l=0;l<10;l++)if(i===this.FIRST_DIGIT_ENCODINGS[l])return t=String.fromCharCode(48+l)+t,t;throw new oe}}dn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class On extends Rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),y=i[1];for(let d=0;d<4&&y<h;d++){let x=Rt.decodeDigit(t,u,y,Rt.L_PATTERNS);l+=String.fromCharCode(48+x);for(let b of u)y+=b}y=Rt.findGuardPattern(t,y,!0,Rt.MIDDLE_PATTERN,new Int32Array(Rt.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&y<h;d++){let x=Rt.decodeDigit(t,u,y,Rt.L_PATTERNS);l+=String.fromCharCode(48+x);for(let b of u)y+=b}return{rowOffset:y,resultString:l}}getBarcodeFormat(){return Ne.EAN_8}}class Zn extends Rt{constructor(){super(...arguments),this.ean13Reader=new dn}getBarcodeFormat(){return Ne.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,l))}decodeMiddle(t,i,l){return this.ean13Reader.decodeMiddle(t,i,l)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let l=new _e(i.substring(1),null,null,t.getResultPoints(),Ne.UPC_A);return t.getResultMetadata()!=null&&l.putAllMetadata(t.getResultMetadata()),l}else throw new oe}reset(){this.ean13Reader.reset()}}class an extends Rt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,l){const u=this.decodeMiddleCounters.map(x=>x);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=t.getSize();let y=i[1],o=0;for(let x=0;x<6&&y<h;x++){const b=an.decodeDigit(t,u,y,an.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let B of u)y+=B;b>=10&&(o|=1<<5-x)}let d=an.determineNumSysAndCheckDigit(l,o);return{rowOffset:y,resultString:d}}decodeEnd(t,i){return an.findGuardPatternWithoutCounters(t,i,!0,an.MIDDLE_END_PATTERN)}checkChecksum(t){return Rt.checkChecksum(an.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let h=String.fromCharCode(48+l),y=String.fromCharCode(48+u);return h+t+y}throw oe.getNotFoundInstance()}getBarcodeFormat(){return Ne.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new se;l.append(t.charAt(0));let u=i[5];switch(u){case 0:case 1:case 2:l.appendChars(i,0,2),l.append(u),l.append("0000"),l.appendChars(i,2,3);break;case 3:l.appendChars(i,0,3),l.append("00000"),l.appendChars(i,3,2);break;case 4:l.appendChars(i,0,4),l.append("00000"),l.append(i[4]);break;default:l.appendChars(i,0,5),l.append("0000"),l.append(u);break}return t.length>=8&&l.append(t.charAt(7)),l.toString()}}an.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),an.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tt extends Gt{constructor(t){super();let i=t==null?null:t.get(M.POSSIBLE_FORMATS),l=[];f(i)?(l.push(new dn),l.push(new Zn),l.push(new On),l.push(new an)):(i.indexOf(Ne.EAN_13)>-1&&l.push(new dn),i.indexOf(Ne.UPC_A)>-1&&l.push(new Zn),i.indexOf(Ne.EAN_8)>-1&&l.push(new On),i.indexOf(Ne.UPC_E)>-1&&l.push(new an)),this.readers=l}decodeRow(t,i,l){for(let u of this.readers)try{const h=u.decodeRow(t,i,l),y=h.getBarcodeFormat()===Ne.EAN_13&&h.getText().charAt(0)==="0",o=l==null?null:l.get(M.POSSIBLE_FORMATS),d=o==null||o.includes(Ne.UPC_A);if(y&&d){const x=h.getRawBytes(),b=new _e(h.getText().substring(1),x,x?x.length:null,h.getResultPoints(),Ne.UPC_A);return b.putAllMetadata(h.getResultMetadata()),b}return h}catch{}throw new oe}reset(){for(let t of this.readers)t.reset()}}class It extends Gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let l=0;l<i.length;l++)if(Gt.patternMatchVariance(t,i[l],It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return l;throw new oe}static count(t){return Ve.sum(new Int32Array(t))}static increment(t,i){let l=0,u=i[0];for(let h=1;h<t.length;h++)i[h]>u&&(u=i[h],l=h);t[l]++}static decrement(t,i){let l=0,u=i[0];for(let h=1;h<t.length;h++)i[h]<u&&(u=i[h],l=h);t[l]--}static isFinderPattern(t){let i=t[0]+t[1],l=i+t[2]+t[3],u=i/l;if(u>=It.MIN_FINDER_PATTERN_RATIO&&u<=It.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let o of t)o>y&&(y=o),o<h&&(h=o);return y<10*h}return!1}}It.MAX_AVG_VARIANCE=.2,It.MAX_INDIVIDUAL_VARIANCE=.45,It.MIN_FINDER_PATTERN_RATIO=9.5/12,It.MAX_FINDER_PATTERN_RATIO=12.5/14;class _t{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof _t))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class kt{constructor(t,i,l,u,h){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ye(l,h)),this.resultPoints.push(new Ye(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof kt))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class Tt{constructor(){}static getRSSvalue(t,i,l){let u=0;for(let d of t)u+=d;let h=0,y=0,o=t.length;for(let d=0;d<o-1;d++){let x;for(x=1,y|=1<<d;x<t[d];x++,y&=~(1<<d)){let b=Tt.combins(u-x-1,o-d-2);if(l&&y===0&&u-x-(o-d-1)>=o-d-1&&(b-=Tt.combins(u-x-(o-d),o-d-2)),o-d-1>1){let B=0;for(let k=u-x-(o-d-2);k>i;k--)B+=Tt.combins(u-x-k-1,o-d-3);b-=B*(o-1-d)}else u-x>i&&b--;h+=b}u-=x}return h}static combins(t,i){let l,u;t-i>i?(u=i,l=t-i):(u=t-i,l=i);let h=1,y=1;for(let o=t;o>l;o--)h*=o,y<=u&&(h/=y,y++);for(;y<=u;)h/=y,y++;return h}}class zt{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let l=12*i,u=new K(l),h=0,o=t[0].getRightChar().getValue();for(let d=11;d>=0;--d)(o&1<<d)!=0&&u.set(h),h++;for(let d=1;d<t.length;++d){let x=t[d],b=x.getLeftChar().getValue();for(let B=11;B>=0;--B)(b&1<<B)!=0&&u.set(h),h++;if(x.getRightChar()!=null){let B=x.getRightChar().getValue();for(let k=11;k>=0;--k)(B&1<<k)!=0&&u.set(h),h++}}return u}}class Ct{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ut{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class sn extends Ut{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===sn.FNC1}}sn.FNC1="$";class on extends Ut{constructor(t,i,l){super(t),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class cn extends Ut{constructor(t,i,l){if(super(t),i<0||i>10||l<0||l>10)throw new I;this.firstDigit=i,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===cn.FNC1}isSecondDigitFNC1(){return this.secondDigit===cn.FNC1}isAnyFNC1(){return this.firstDigit===cn.FNC1||this.secondDigit===cn.FNC1}}cn.FNC1=10;class ht{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new oe;let i=t.substring(0,2);for(let h of ht.TWO_DIGIT_DATA_LENGTH)if(h[0]===i)return h[1]===ht.VARIABLE_LENGTH?ht.processVariableAI(2,h[2],t):ht.processFixedAI(2,h[1],t);if(t.length<3)throw new oe;let l=t.substring(0,3);for(let h of ht.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===ht.VARIABLE_LENGTH?ht.processVariableAI(3,h[2],t):ht.processFixedAI(3,h[1],t);for(let h of ht.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===ht.VARIABLE_LENGTH?ht.processVariableAI(4,h[2],t):ht.processFixedAI(4,h[1],t);if(t.length<4)throw new oe;let u=t.substring(0,4);for(let h of ht.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===ht.VARIABLE_LENGTH?ht.processVariableAI(4,h[2],t):ht.processFixedAI(4,h[1],t);throw new oe}static processFixedAI(t,i,l){if(l.length<t)throw new oe;let u=l.substring(0,t);if(l.length<t+i)throw new oe;let h=l.substring(t,t+i),y=l.substring(t+i),o="("+u+")"+h,d=ht.parseFieldsInGeneralPurpose(y);return d==null?o:o+d}static processVariableAI(t,i,l){let u=l.substring(0,t),h;l.length<t+i?h=l.length:h=t+i;let y=l.substring(t,h),o=l.substring(h),d="("+u+")"+y,x=ht.parseFieldsInGeneralPurpose(o);return x==null?d:d+x}}ht.VARIABLE_LENGTH=[],ht.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ht.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ht.VARIABLE_LENGTH,20],["22",ht.VARIABLE_LENGTH,29],["30",ht.VARIABLE_LENGTH,8],["37",ht.VARIABLE_LENGTH,8],["90",ht.VARIABLE_LENGTH,30],["91",ht.VARIABLE_LENGTH,30],["92",ht.VARIABLE_LENGTH,30],["93",ht.VARIABLE_LENGTH,30],["94",ht.VARIABLE_LENGTH,30],["95",ht.VARIABLE_LENGTH,30],["96",ht.VARIABLE_LENGTH,30],["97",ht.VARIABLE_LENGTH,3],["98",ht.VARIABLE_LENGTH,30],["99",ht.VARIABLE_LENGTH,30]],ht.THREE_DIGIT_DATA_LENGTH=[["240",ht.VARIABLE_LENGTH,30],["241",ht.VARIABLE_LENGTH,30],["242",ht.VARIABLE_LENGTH,6],["250",ht.VARIABLE_LENGTH,30],["251",ht.VARIABLE_LENGTH,30],["253",ht.VARIABLE_LENGTH,17],["254",ht.VARIABLE_LENGTH,20],["400",ht.VARIABLE_LENGTH,30],["401",ht.VARIABLE_LENGTH,30],["402",17],["403",ht.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ht.VARIABLE_LENGTH,20],["421",ht.VARIABLE_LENGTH,15],["422",3],["423",ht.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ht.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ht.VARIABLE_LENGTH,15],["391",ht.VARIABLE_LENGTH,18],["392",ht.VARIABLE_LENGTH,15],["393",ht.VARIABLE_LENGTH,18],["703",ht.VARIABLE_LENGTH,30]],ht.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ht.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ht.VARIABLE_LENGTH,20],["8003",ht.VARIABLE_LENGTH,30],["8004",ht.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ht.VARIABLE_LENGTH,30],["8008",ht.VARIABLE_LENGTH,12],["8018",18],["8020",ht.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ht.VARIABLE_LENGTH,70],["8200",ht.VARIABLE_LENGTH,70]];class En{constructor(t){this.buffer=new se,this.information=t}decodeAllCodes(t,i){let l=i,u=null;do{let h=this.decodeGeneralPurposeField(l,u),y=ht.parseFieldsInGeneralPurpose(h.getNewString());if(y!=null&&t.append(y),h.isRemaining()?u=""+h.getRemainingValue():u=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(t,4);return h===0?new cn(this.information.getSize(),cn.FNC1,cn.FNC1):new cn(this.information.getSize(),h-1,cn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),l=(i-8)/11,u=(i-8)%11;return new cn(t+7,l,u)}extractNumericValueFromBitArray(t,i){return En.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,l){let u=0;for(let h=0;h<l;++h)t.get(i+h)&&(u|=1<<l-h-1);return u}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new on(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new on(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let l=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(l!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new on(this.current.getPosition(),this.buffer.toString()):i=new on(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ct(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new on(this.current.getPosition(),this.buffer.toString());return new Ct(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ct(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new on(this.current.getPosition(),this.buffer.toString());return new Ct(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ct(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new on(this.current.getPosition(),this.buffer.toString());return new Ct(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ct(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,7);if(l>=64&&l<116)return!0;if(t+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(t,8);return u>=232&&u<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new sn(t+5,sn.FNC1);if(i>=5&&i<15)return new sn(t+5,"0"+(i-5));let l=this.extractNumericValueFromBitArray(t,7);if(l>=64&&l<90)return new sn(t+7,""+(l+1));if(l>=90&&l<116)return new sn(t+7,""+(l+7));let u=this.extractNumericValueFromBitArray(t,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new I}return new sn(t+8,h)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,6);return l>=16&&l<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new sn(t+5,sn.FNC1);if(i>=5&&i<15)return new sn(t+5,"0"+(i-5));let l=this.extractNumericValueFromBitArray(t,6);if(l>=32&&l<58)return new sn(t+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new xe("Decoding invalid alphanumeric value: "+l)}return new sn(t+6,u)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class fn{constructor(t){this.information=t,this.generalDecoder=new En(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Jt extends fn{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let l=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,l)}encodeCompressedGtinWithoutAI(t,i,l){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*u,10);h/100===0&&t.append("0"),h/10===0&&t.append("0"),t.append(h)}Jt.appendCheckDigit(t,l)}static appendCheckDigit(t,i){let l=0;for(let u=0;u<13;u++){let h=t.charAt(u+i).charCodeAt(0)-48;l+=(u&1)===0?3*h:h}l=10-l%10,l===10&&(l=0),t.append(l)}}Jt.GTIN_SIZE=40;class Ar extends Jt{constructor(t){super(t)}parseInformation(){let t=new se;t.append("(01)");let i=t.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE,4);return t.append(l),this.encodeCompressedGtinWithoutAI(t,Ar.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,Ar.HEADER_SIZE+44)}}Ar.HEADER_SIZE=4;class ma extends fn{constructor(t){super(t)}parseInformation(){let t=new se;return this.getGeneralDecoder().decodeAllCodes(t,ma.HEADER_SIZE)}}ma.HEADER_SIZE=5;class Ci extends Jt{constructor(t){super(t)}encodeCompressedWeight(t,i,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i,l);this.addWeightCode(t,u);let h=this.checkWeight(u),y=1e5;for(let o=0;o<5;++o)h/y===0&&t.append("0"),y/=10;t.append(h)}}class ar extends Ci{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=ar.HEADER_SIZE+Ci.GTIN_SIZE+ar.WEIGHT_SIZE)throw new oe;let t=new se;return this.encodeCompressedGtin(t,ar.HEADER_SIZE),this.encodeCompressedWeight(t,ar.HEADER_SIZE+Ci.GTIN_SIZE,ar.WEIGHT_SIZE),t.toString()}}ar.HEADER_SIZE=5,ar.WEIGHT_SIZE=15;class Vi extends ar{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class na extends ar{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Gr extends Jt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Gr.HEADER_SIZE+Jt.GTIN_SIZE)throw new oe;let t=new se;this.encodeCompressedGtin(t,Gr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Gr.HEADER_SIZE+Jt.GTIN_SIZE,Gr.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Gr.HEADER_SIZE+Jt.GTIN_SIZE+Gr.LAST_DIGIT_SIZE,null);return t.append(l.getNewString()),t.toString()}}Gr.HEADER_SIZE=8,Gr.LAST_DIGIT_SIZE=2;class ir extends Jt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<ir.HEADER_SIZE+Jt.GTIN_SIZE)throw new oe;let t=new se;this.encodeCompressedGtin(t,ir.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(ir.HEADER_SIZE+Jt.GTIN_SIZE,ir.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ir.HEADER_SIZE+Jt.GTIN_SIZE+ir.LAST_DIGIT_SIZE,ir.FIRST_THREE_DIGITS_SIZE);l/100==0&&t.append("0"),l/10==0&&t.append("0"),t.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(ir.HEADER_SIZE+Jt.GTIN_SIZE+ir.LAST_DIGIT_SIZE+ir.FIRST_THREE_DIGITS_SIZE,null);return t.append(u.getNewString()),t.toString()}}ir.HEADER_SIZE=8,ir.LAST_DIGIT_SIZE=2,ir.FIRST_THREE_DIGITS_SIZE=10;class $t extends Ci{constructor(t,i,l){super(t),this.dateCode=l,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=$t.HEADER_SIZE+$t.GTIN_SIZE+$t.WEIGHT_SIZE+$t.DATE_SIZE)throw new oe;let t=new se;return this.encodeCompressedGtin(t,$t.HEADER_SIZE),this.encodeCompressedWeight(t,$t.HEADER_SIZE+$t.GTIN_SIZE,$t.WEIGHT_SIZE),this.encodeCompressedDate(t,$t.HEADER_SIZE+$t.GTIN_SIZE+$t.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,$t.DATE_SIZE);if(l==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let u=l%32;l/=32;let h=l%12+1;l/=12;let y=l;y/10==0&&t.append("0"),t.append(y),h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}$t.HEADER_SIZE=8,$t.WEIGHT_SIZE=20,$t.DATE_SIZE=16;function Zr($){try{if($.get(1))return new Ar($);if(!$.get(2))return new ma($);switch(En.extractNumericValueFromBitArray($,1,4)){case 4:return new Vi($);case 5:return new na($)}switch(En.extractNumericValueFromBitArray($,1,5)){case 12:return new Gr($);case 13:return new ir($)}switch(En.extractNumericValueFromBitArray($,1,7)){case 56:return new $t($,"310","11");case 57:return new $t($,"320","11");case 58:return new $t($,"310","13");case 59:return new $t($,"320","13");case 60:return new $t($,"310","15");case 61:return new $t($,"320","15");case 62:return new $t($,"310","17");case 63:return new $t($,"320","17")}}catch(t){throw console.log(t),new xe("unknown decoder: "+$)}}class dr{constructor(t,i,l,u){this.leftchar=t,this.rightchar=i,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof dr?dr.equalsOrNull(t.leftchar,i.leftchar)&&dr.equalsOrNull(t.rightchar,i.rightchar)&&dr.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:dr.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class hr{constructor(t,i,l){this.pairs=t,this.rowNumber=i,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof hr?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let l;return t.forEach((u,h)=>{i.forEach(y=>{u.getLeftChar().getValue()===y.getLeftChar().getValue()&&u.getRightChar().getValue()===y.getRightChar().getValue()&&u.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(l=!0)})}),l}}class lt extends It{constructor(t){super(...arguments),this.pairs=new Array(lt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,l){this.pairs.length=0,this.startFromEven=!1;try{return lt.constructResult(this.decodeRow2pairs(t,i))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,lt.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(h){if(h instanceof oe){if(!this.pairs.length)throw new oe;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(t,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new oe}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let l=i;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let y of t)this.pairs.push(y.getPairs());if(this.pairs.push(u.getPairs()),!lt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(t);h.push(u);try{return this.checkRows(h,l+1)}catch(y){this.verbose&&console.log(y)}}throw new oe}static isValidSequence(t){for(let i of lt.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let l=!0;for(let u=0;u<t.length;u++)if(t[u].getFinderPattern().getValue()!=i[u]){l=!1;break}if(l)return!0}return!1}storeRow(t,i){let l=0,u=!1,h=!1;for(;l<this.rows.length;){let y=this.rows[l];if(y.getRowNumber()>t){h=y.isEquivalent(this.pairs);break}u=y.isEquivalent(this.pairs),l++}h||u||lt.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new hr(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let l of i)if(l.getPairs().length!==t.length){for(let u of l.getPairs())for(let h of t)if(dr.equals(u,h))break}}static isPartialRow(t,i){for(let l of i){let u=!0;for(let h of t){let y=!1;for(let o of l.getPairs())if(h.equals(o)){y=!0;break}if(!y){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=zt.buildBitArray(t),u=Zr(i).parseInformation(),h=t[0].getFinderPattern().getResultPoints(),y=t[t.length-1].getFinderPattern().getResultPoints(),o=[h[0],h[1],y[0],y[1]];return new _e(u,null,null,o,Ne.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),l=t.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),h=2;for(let o=1;o<this.pairs.size();++o){let d=this.pairs.get(o);u+=d.getLeftChar().getChecksumPortion(),h++;let x=d.getRightChar();x!=null&&(u+=x.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==i.getValue()}static getNextSecondBar(t,i){let l;return t.get(i)?(l=t.getNextUnset(i),l=t.getNextSet(l)):(l=t.getNextSet(i),l=t.getNextUnset(l)),l}retrieveNextPair(t,i,l){let u=i.length%2==0;this.startFromEven&&(u=!u);let h,y=!0,o=-1;do this.findNextPair(t,i,o),h=this.parseFoundFinderPattern(t,l,u),h==null?o=lt.getNextSecondBar(t,this.startEnd[0]):y=!1;while(y);let d=this.decodeDataCharacter(t,h,u,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new oe;let x;try{x=this.decodeDataCharacter(t,h,u,!1)}catch(b){x=null,this.verbose&&console.log(b)}return new dr(d,x,h,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),y;l>=0?y=l:this.isEmptyPair(i)?y=0:y=i[i.length-1].getFinderPattern().getStartEnd()[1];let o=i.length%2!=0;this.startFromEven&&(o=!o);let d=!1;for(;y<h&&(d=!t.get(y),!!d);)y++;let x=0,b=y;for(let B=y;B<h;B++)if(t.get(B)!=d)u[x]++;else{if(x==3){if(o&&lt.reverseCounters(u),lt.isFinderPattern(u)){this.startEnd[0]=b,this.startEnd[1]=B;return}o&&lt.reverseCounters(u),b+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,x--}else x++;u[x]=1,d=!d}throw new oe}static reverseCounters(t){let i=t.length;for(let l=0;l<i/2;++l){let u=t[l];t[l]=t[i-l-1],t[i-l-1]=u}}parseFoundFinderPattern(t,i,l){let u,h,y;if(l){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,u=this.startEnd[0]-x,h=x,y=this.startEnd[1]}else h=this.startEnd[0],y=t.getNextUnset(this.startEnd[1]+1),u=y-this.startEnd[1];let o=this.getDecodeFinderCounters();P.arraycopy(o,0,o,1,o.length-1),o[0]=u;let d;try{d=this.parseFinderValue(o,lt.FINDER_PATTERNS)}catch{return null}return new kt(d,[h,y],h,y,i)}decodeDataCharacter(t,i,l,u){let h=this.getDataCharacterCounters();for(let je=0;je<h.length;je++)h[je]=0;if(u)lt.recordPatternInReverse(t,i.getStartEnd()[0],h);else{lt.recordPattern(t,i.getStartEnd()[1],h);for(let je=0,it=h.length-1;je<it;je++,it--){let xt=h[je];h[je]=h[it],h[it]=xt}}let y=17,o=Ve.sum(new Int32Array(h))/y,d=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(o-d)/d>.3)throw new oe;let x=this.getOddCounts(),b=this.getEvenCounts(),B=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let je=0;je<h.length;je++){let it=1*h[je]/o,xt=it+.5;if(xt<1){if(it<.3)throw new oe;xt=1}else if(xt>8){if(it>8.7)throw new oe;xt=8}let vt=je/2;(je&1)==0?(x[vt]=xt,B[vt]=it-xt):(b[vt]=xt,k[vt]=it-xt)}this.adjustOddEvenCounts(y);let G=4*i.getValue()+(l?0:2)+(u?0:1)-1,Y=0,ne=0;for(let je=x.length-1;je>=0;je--){if(lt.isNotA1left(i,l,u)){let it=lt.WEIGHTS[G][2*je];ne+=x[je]*it}Y+=x[je]}let fe=0;for(let je=b.length-1;je>=0;je--)if(lt.isNotA1left(i,l,u)){let it=lt.WEIGHTS[G][2*je+1];fe+=b[je]*it}let ce=ne+fe;if((Y&1)!=0||Y>13||Y<4)throw new oe;let pe=(13-Y)/2,me=lt.SYMBOL_WIDEST[pe],ye=9-me,Ie=Tt.getRSSvalue(x,me,!0),Ee=Tt.getRSSvalue(b,ye,!1),Le=lt.EVEN_TOTAL_SUBSET[pe],Qe=lt.GSUM[pe],Oe=Ie*Le+Ee+Qe;return new _t(Oe,ce)}static isNotA1left(t,i,l){return!(t.getValue()==0&&i&&l)}adjustOddEvenCounts(t){let i=Ve.sum(new Int32Array(this.getOddCounts())),l=Ve.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;i>13?h=!0:i<4&&(u=!0);let y=!1,o=!1;l>13?o=!0:l<4&&(y=!0);let d=i+l-t,x=(i&1)==1,b=(l&1)==0;if(d==1)if(x){if(b)throw new oe;h=!0}else{if(!b)throw new oe;o=!0}else if(d==-1)if(x){if(b)throw new oe;u=!0}else{if(!b)throw new oe;y=!0}else if(d==0){if(x){if(!b)throw new oe;i<l?(u=!0,o=!0):(h=!0,y=!0)}else if(b)throw new oe}else throw new oe;if(u){if(h)throw new oe;lt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&lt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(o)throw new oe;lt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&lt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}lt.SYMBOL_WIDEST=[7,5,4,3,1],lt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],lt.GSUM=[0,348,1388,2948,3988],lt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],lt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],lt.FINDER_PAT_A=0,lt.FINDER_PAT_B=1,lt.FINDER_PAT_C=2,lt.FINDER_PAT_D=3,lt.FINDER_PAT_E=4,lt.FINDER_PAT_F=5,lt.FINDER_PATTERN_SEQUENCES=[[lt.FINDER_PAT_A,lt.FINDER_PAT_A],[lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B],[lt.FINDER_PAT_A,lt.FINDER_PAT_C,lt.FINDER_PAT_B,lt.FINDER_PAT_D],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_C],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_D,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_E,lt.FINDER_PAT_B,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_D],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_E],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F],[lt.FINDER_PAT_A,lt.FINDER_PAT_A,lt.FINDER_PAT_B,lt.FINDER_PAT_B,lt.FINDER_PAT_C,lt.FINDER_PAT_D,lt.FINDER_PAT_D,lt.FINDER_PAT_E,lt.FINDER_PAT_E,lt.FINDER_PAT_F,lt.FINDER_PAT_F]],lt.MAX_PAIRS=11;class Dr extends _t{constructor(t,i,l){super(t,i),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class kn extends It{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,l){const u=this.decodePair(i,!1,t,l);kn.addOrTally(this.possibleLeftPairs,u),i.reverse();let h=this.decodePair(i,!0,t,l);kn.addOrTally(this.possibleRightPairs,h),i.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let o of this.possibleRightPairs)if(o.getCount()>1&&kn.checkChecksum(y,o))return kn.constructResult(y,o)}throw new oe}static addOrTally(t,i){if(i==null)return;let l=!1;for(let u of t)if(u.getValue()===i.getValue()){u.incrementCount(),l=!0;break}l||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let l=4537077*t.getValue()+i.getValue(),u=new String(l).toString(),h=new se;for(let x=13-u.length;x>0;x--)h.append("0");h.append(u);let y=0;for(let x=0;x<13;x++){let b=h.charAt(x).charCodeAt(0)-48;y+=(x&1)===0?3*b:b}y=10-y%10,y===10&&(y=0),h.append(y.toString());let o=t.getFinderPattern().getResultPoints(),d=i.getFinderPattern().getResultPoints();return new _e(h.toString(),null,0,[o[0],o[1],d[0],d[1]],Ne.RSS_14,new Date().getTime())}static checkChecksum(t,i){let l=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,u=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(t,i,l,u){try{let h=this.findFinderPattern(t,i),y=this.parseFoundFinderPattern(t,l,i,h),o=u==null?null:u.get(M.NEED_RESULT_POINT_CALLBACK);if(o!=null){let b=(h[0]+h[1])/2;i&&(b=t.getSize()-1-b),o.foundPossibleResultPoint(new Ye(b,l))}let d=this.decodeDataCharacter(t,y,!0),x=this.decodeDataCharacter(t,y,!1);return new Dr(1597*d.getValue()+x.getValue(),d.getChecksumPortion()+4*x.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(t,i,l){let u=this.getDataCharacterCounters();for(let fe=0;fe<u.length;fe++)u[fe]=0;if(l)Gt.recordPatternInReverse(t,i.getStartEnd()[0],u);else{Gt.recordPattern(t,i.getStartEnd()[1]+1,u);for(let fe=0,ce=u.length-1;fe<ce;fe++,ce--){let pe=u[fe];u[fe]=u[ce],u[ce]=pe}}let h=l?16:15,y=Ve.sum(new Int32Array(u))/h,o=this.getOddCounts(),d=this.getEvenCounts(),x=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let fe=0;fe<u.length;fe++){let ce=u[fe]/y,pe=Math.floor(ce+.5);pe<1?pe=1:pe>8&&(pe=8);let me=Math.floor(fe/2);(fe&1)===0?(o[me]=pe,x[me]=ce-pe):(d[me]=pe,b[me]=ce-pe)}this.adjustOddEvenCounts(l,h);let B=0,k=0;for(let fe=o.length-1;fe>=0;fe--)k*=9,k+=o[fe],B+=o[fe];let G=0,Y=0;for(let fe=d.length-1;fe>=0;fe--)G*=9,G+=d[fe],Y+=d[fe];let ne=k+3*G;if(l){if((B&1)!==0||B>12||B<4)throw new oe;let fe=(12-B)/2,ce=kn.OUTSIDE_ODD_WIDEST[fe],pe=9-ce,me=Tt.getRSSvalue(o,ce,!1),ye=Tt.getRSSvalue(d,pe,!0),Ie=kn.OUTSIDE_EVEN_TOTAL_SUBSET[fe],Ee=kn.OUTSIDE_GSUM[fe];return new _t(me*Ie+ye+Ee,ne)}else{if((Y&1)!==0||Y>10||Y<4)throw new oe;let fe=(10-Y)/2,ce=kn.INSIDE_ODD_WIDEST[fe],pe=9-ce,me=Tt.getRSSvalue(o,ce,!0),ye=Tt.getRSSvalue(d,pe,!1),Ie=kn.INSIDE_ODD_TOTAL_SUBSET[fe],Ee=kn.INSIDE_GSUM[fe];return new _t(ye*Ie+me+Ee,ne)}}findFinderPattern(t,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),h=!1,y=0;for(;y<u&&(h=!t.get(y),i!==h);)y++;let o=0,d=y;for(let x=y;x<u;x++)if(t.get(x)!==h)l[o]++;else{if(o===3){if(It.isFinderPattern(l))return[d,x];d+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,o--}else o++;l[o]=1,h=!h}throw new oe}parseFoundFinderPattern(t,i,l,u){let h=t.get(u[0]),y=u[0]-1;for(;y>=0&&h!==t.get(y);)y--;y++;const o=u[0]-y,d=this.getDecodeFinderCounters(),x=new Int32Array(d.length);P.arraycopy(d,0,x,1,d.length-1),x[0]=o;const b=this.parseFinderValue(x,kn.FINDER_PATTERNS);let B=y,k=u[1];return l&&(B=t.getSize()-1-B,k=t.getSize()-1-k),new kt(b,[y,u[1]],B,k,i)}adjustOddEvenCounts(t,i){let l=Ve.sum(new Int32Array(this.getOddCounts())),u=Ve.sum(new Int32Array(this.getEvenCounts())),h=!1,y=!1,o=!1,d=!1;t?(l>12?y=!0:l<4&&(h=!0),u>12?d=!0:u<4&&(o=!0)):(l>11?y=!0:l<5&&(h=!0),u>10?d=!0:u<4&&(o=!0));let x=l+u-i,b=(l&1)===(t?1:0),B=(u&1)===1;if(x===1)if(b){if(B)throw new oe;y=!0}else{if(!B)throw new oe;d=!0}else if(x===-1)if(b){if(B)throw new oe;h=!0}else{if(!B)throw new oe;o=!0}else if(x===0){if(b){if(!B)throw new oe;l<u?(h=!0,d=!0):(y=!0,o=!0)}else if(B)throw new oe}else throw new oe;if(h){if(y)throw new oe;It.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&It.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(d)throw new oe;It.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&It.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}kn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],kn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],kn.OUTSIDE_GSUM=[0,161,961,2015,2715],kn.INSIDE_GSUM=[0,336,1036,1516],kn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],kn.INSIDE_ODD_WIDEST=[2,4,6,8],kn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class jr extends Gt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const l=t?t.get(M.POSSIBLE_FORMATS):null,u=t&&t.get(M.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Ne.EAN_13)||l.includes(Ne.UPC_A)||l.includes(Ne.EAN_8)||l.includes(Ne.UPC_E))&&this.readers.push(new tt(t)),l.includes(Ne.CODE_39)&&this.readers.push(new Qt(u)),l.includes(Ne.CODE_128)&&this.readers.push(new at),l.includes(Ne.ITF)&&this.readers.push(new we),l.includes(Ne.RSS_14)&&this.readers.push(new kn),l.includes(Ne.RSS_EXPANDED)&&this.readers.push(new lt(this.verbose))):(this.readers.push(new tt(t)),this.readers.push(new Qt),this.readers.push(new tt(t)),this.readers.push(new at),this.readers.push(new we),this.readers.push(new kn),this.readers.push(new lt(this.verbose)))}decodeRow(t,i,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(t,i,l)}catch{}throw new oe}reset(){this.readers.forEach(t=>t.reset())}}class Ma extends ze{constructor(t=500,i){super(new jr(i),t,i)}}class _n{constructor(t,i,l){this.ecCodewords=t,this.ecBlocks=[i],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class J{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class te{constructor(t,i,l,u,h,y){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=y;let o=0;const d=y.getECCodewords(),x=y.getECBlocks();for(let b of x)o+=b.getCount()*(b.getDataCodewords()+d);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new I;for(let l of te.VERSIONS)if(l.symbolSizeRows===t&&l.symbolSizeColumns===i)return l;throw new I}toString(){return""+this.versionNumber}static buildVersions(){return[new te(1,10,10,8,8,new _n(5,new J(1,3))),new te(2,12,12,10,10,new _n(7,new J(1,5))),new te(3,14,14,12,12,new _n(10,new J(1,8))),new te(4,16,16,14,14,new _n(12,new J(1,12))),new te(5,18,18,16,16,new _n(14,new J(1,18))),new te(6,20,20,18,18,new _n(18,new J(1,22))),new te(7,22,22,20,20,new _n(20,new J(1,30))),new te(8,24,24,22,22,new _n(24,new J(1,36))),new te(9,26,26,24,24,new _n(28,new J(1,44))),new te(10,32,32,14,14,new _n(36,new J(1,62))),new te(11,36,36,16,16,new _n(42,new J(1,86))),new te(12,40,40,18,18,new _n(48,new J(1,114))),new te(13,44,44,20,20,new _n(56,new J(1,144))),new te(14,48,48,22,22,new _n(68,new J(1,174))),new te(15,52,52,24,24,new _n(42,new J(2,102))),new te(16,64,64,14,14,new _n(56,new J(2,140))),new te(17,72,72,16,16,new _n(36,new J(4,92))),new te(18,80,80,18,18,new _n(48,new J(4,114))),new te(19,88,88,20,20,new _n(56,new J(4,144))),new te(20,96,96,22,22,new _n(68,new J(4,174))),new te(21,104,104,24,24,new _n(56,new J(6,136))),new te(22,120,120,18,18,new _n(68,new J(6,175))),new te(23,132,132,20,20,new _n(62,new J(8,163))),new te(24,144,144,22,22,new _n(62,new J(8,156),new J(2,155))),new te(25,8,18,6,16,new _n(7,new J(1,5))),new te(26,8,32,6,14,new _n(11,new J(1,10))),new te(27,12,26,10,24,new _n(14,new J(1,16))),new te(28,12,36,10,16,new _n(18,new J(1,22))),new te(29,16,36,14,16,new _n(24,new J(1,32))),new te(30,16,48,14,22,new _n(28,new J(1,49)))]}}te.VERSIONS=te.buildVersions();class ue{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new I;this.version=ue.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),l=t.getWidth();return te.getVersionForDimensions(i,l)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,l=4,u=0;const h=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let o=!1,d=!1,x=!1,b=!1;do if(l===h&&u===0&&!o)t[i++]=this.readCorner1(h,y)&255,l-=2,u+=2,o=!0;else if(l===h-2&&u===0&&(y&3)!==0&&!d)t[i++]=this.readCorner2(h,y)&255,l-=2,u+=2,d=!0;else if(l===h+4&&u===2&&(y&7)===0&&!x)t[i++]=this.readCorner3(h,y)&255,l-=2,u+=2,x=!0;else if(l===h-2&&u===0&&(y&7)===4&&!b)t[i++]=this.readCorner4(h,y)&255,l-=2,u+=2,b=!0;else{do l<h&&u>=0&&!this.readMappingMatrix.get(u,l)&&(t[i++]=this.readUtah(l,u,h,y)&255),l-=2,u+=2;while(l>=0&&u<y);l+=1,u+=3;do l>=0&&u<y&&!this.readMappingMatrix.get(u,l)&&(t[i++]=this.readUtah(l,u,h,y)&255),l+=2,u-=2;while(l<h&&u>=0);l+=3,u+=1}while(l<h||u<y);if(i!==this.version.getTotalCodewords())throw new I;return t}readModule(t,i,l,u){return t<0&&(t+=l,i+=4-(l+4&7)),i<0&&(i+=u,t+=4-(u+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,l,u){let h=0;return this.readModule(t-2,i-2,l,u)&&(h|=1),h<<=1,this.readModule(t-2,i-1,l,u)&&(h|=1),h<<=1,this.readModule(t-1,i-2,l,u)&&(h|=1),h<<=1,this.readModule(t-1,i-1,l,u)&&(h|=1),h<<=1,this.readModule(t-1,i,l,u)&&(h|=1),h<<=1,this.readModule(t,i-2,l,u)&&(h|=1),h<<=1,this.readModule(t,i-1,l,u)&&(h|=1),h<<=1,this.readModule(t,i,l,u)&&(h|=1),h}readCorner1(t,i){let l=0;return this.readModule(t-1,0,t,i)&&(l|=1),l<<=1,this.readModule(t-1,1,t,i)&&(l|=1),l<<=1,this.readModule(t-1,2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-1,t,i)&&(l|=1),l<<=1,this.readModule(1,i-1,t,i)&&(l|=1),l<<=1,this.readModule(2,i-1,t,i)&&(l|=1),l<<=1,this.readModule(3,i-1,t,i)&&(l|=1),l}readCorner2(t,i){let l=0;return this.readModule(t-3,0,t,i)&&(l|=1),l<<=1,this.readModule(t-2,0,t,i)&&(l|=1),l<<=1,this.readModule(t-1,0,t,i)&&(l|=1),l<<=1,this.readModule(0,i-4,t,i)&&(l|=1),l<<=1,this.readModule(0,i-3,t,i)&&(l|=1),l<<=1,this.readModule(0,i-2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-1,t,i)&&(l|=1),l<<=1,this.readModule(1,i-1,t,i)&&(l|=1),l}readCorner3(t,i){let l=0;return this.readModule(t-1,0,t,i)&&(l|=1),l<<=1,this.readModule(t-1,i-1,t,i)&&(l|=1),l<<=1,this.readModule(0,i-3,t,i)&&(l|=1),l<<=1,this.readModule(0,i-2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-1,t,i)&&(l|=1),l<<=1,this.readModule(1,i-3,t,i)&&(l|=1),l<<=1,this.readModule(1,i-2,t,i)&&(l|=1),l<<=1,this.readModule(1,i-1,t,i)&&(l|=1),l}readCorner4(t,i){let l=0;return this.readModule(t-3,0,t,i)&&(l|=1),l<<=1,this.readModule(t-2,0,t,i)&&(l|=1),l<<=1,this.readModule(t-1,0,t,i)&&(l|=1),l<<=1,this.readModule(0,i-2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-1,t,i)&&(l|=1),l<<=1,this.readModule(1,i-1,t,i)&&(l|=1),l<<=1,this.readModule(2,i-1,t,i)&&(l|=1),l<<=1,this.readModule(3,i-1,t,i)&&(l|=1),l}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new R("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),y=i/u|0,o=l/h|0,d=y*u,x=o*h,b=new Ce(x,d);for(let B=0;B<y;++B){const k=B*u;for(let G=0;G<o;++G){const Y=G*h;for(let ne=0;ne<u;++ne){const fe=B*(u+2)+1+ne,ce=k+ne;for(let pe=0;pe<h;++pe){const me=G*(h+2)+1+pe;if(t.get(me,fe)){const ye=Y+pe;b.set(ye,ce)}}}}}return b}}class Re{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const l=i.getECBlocks();let u=0;const h=l.getECBlocks();for(let ne of h)u+=ne.getCount();const y=new Array(u);let o=0;for(let ne of h)for(let fe=0;fe<ne.getCount();fe++){const ce=ne.getDataCodewords(),pe=l.getECCodewords()+ce;y[o++]=new Re(ce,new Uint8Array(pe))}const x=y[0].codewords.length-l.getECCodewords(),b=x-1;let B=0;for(let ne=0;ne<b;ne++)for(let fe=0;fe<o;fe++)y[fe].codewords[ne]=t[B++];const k=i.getVersionNumber()===24,G=k?8:o;for(let ne=0;ne<G;ne++)y[ne].codewords[x-1]=t[B++];const Y=y[0].codewords.length;for(let ne=x;ne<Y;ne++)for(let fe=0;fe<o;fe++){const ce=k?(fe+8)%o:fe,pe=k&&ce>7?ne-1:ne;y[ce].codewords[pe]=t[B++]}if(B!==t.length)throw new R;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class nt{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new R(""+t);let i=0,l=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(l>0){const y=8-l,o=t<y?t:y,d=y-o,x=255>>8-o<<d;i=(h[u]&x)>>d,t-=o,l+=o,l===8&&(l=0,u++)}if(t>0){for(;t>=8;)i=i<<8|h[u]&255,u++,t-=8;if(t>0){const y=8-t,o=255>>y<<y;i=i<<t|(h[u]&o)>>y,l+=t}}return this.bitOffset=l,this.byteOffset=u,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var We;(function($){$[$.PAD_ENCODE=0]="PAD_ENCODE",$[$.ASCII_ENCODE=1]="ASCII_ENCODE",$[$.C40_ENCODE=2]="C40_ENCODE",$[$.TEXT_ENCODE=3]="TEXT_ENCODE",$[$.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",$[$.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",$[$.BASE256_ENCODE=6]="BASE256_ENCODE"})(We||(We={}));class At{static decode(t){const i=new nt(t),l=new se,u=new se,h=new Array;let y=We.ASCII_ENCODE;do if(y===We.ASCII_ENCODE)y=this.decodeAsciiSegment(i,l,u);else{switch(y){case We.C40_ENCODE:this.decodeC40Segment(i,l);break;case We.TEXT_ENCODE:this.decodeTextSegment(i,l);break;case We.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,l);break;case We.EDIFACT_ENCODE:this.decodeEdifactSegment(i,l);break;case We.BASE256_ENCODE:this.decodeBase256Segment(i,l,h);break;default:throw new I}y=We.ASCII_ENCODE}while(y!==We.PAD_ENCODE&&i.available()>0);return u.length()>0&&l.append(u.toString()),new Q(t,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(t,i,l){let u=!1;do{let h=t.readBits(8);if(h===0)throw new I;if(h<=128)return u&&(h+=128),i.append(String.fromCharCode(h-1)),We.ASCII_ENCODE;if(h===129)return We.PAD_ENCODE;if(h<=229){const y=h-130;y<10&&i.append("0"),i.append(""+y)}else switch(h){case 230:return We.C40_ENCODE;case 231:return We.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:i.append("[)>05"),l.insert(0,"");break;case 237:i.append("[)>06"),l.insert(0,"");break;case 238:return We.ANSIX12_ENCODE;case 239:return We.TEXT_ENCODE;case 240:return We.EDIFACT_ENCODE;case 241:break;default:if(h!==254||t.available()!==0)throw new I;break}}while(t.available()>0);return We.ASCII_ENCODE}static decodeC40Segment(t,i){let l=!1;const u=[];let h=0;do{if(t.available()===8)return;const y=t.readBits(8);if(y===254)return;this.parseTwoBytes(y,t.readBits(8),u);for(let o=0;o<3;o++){const d=u[o];switch(h){case 0:if(d<3)h=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[d];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x)}else throw new I;break;case 1:l?(i.append(String.fromCharCode(d+128)),l=!1):i.append(String.fromCharCode(d)),h=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[d];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x)}else switch(d){case 27:i.append("");break;case 30:l=!0;break;default:throw new I}h=0;break;case 3:l?(i.append(String.fromCharCode(d+224)),l=!1):i.append(String.fromCharCode(d+96)),h=0;break;default:throw new I}}}while(t.available()>0)}static decodeTextSegment(t,i){let l=!1,u=[],h=0;do{if(t.available()===8)return;const y=t.readBits(8);if(y===254)return;this.parseTwoBytes(y,t.readBits(8),u);for(let o=0;o<3;o++){const d=u[o];switch(h){case 0:if(d<3)h=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[d];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x)}else throw new I;break;case 1:l?(i.append(String.fromCharCode(d+128)),l=!1):i.append(String.fromCharCode(d)),h=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[d];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x)}else switch(d){case 27:i.append("");break;case 30:l=!0;break;default:throw new I}h=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[d];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x),h=0}else throw new I;break;default:throw new I}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const l=[];do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let h=0;h<3;h++){const y=l[h];switch(y){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(y<14)i.append(String.fromCharCode(y+44));else if(y<40)i.append(String.fromCharCode(y+51));else throw new I;break}}}while(t.available()>0)}static parseTwoBytes(t,i,l){let u=(t<<8)+i-1,h=Math.floor(u/1600);l[0]=h,u-=h*1600,h=Math.floor(u/40),l[1]=h,l[2]=u-h*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let l=0;l<4;l++){let u=t.readBits(6);if(u===31){const h=8-t.getBitOffset();h!==8&&t.readBits(h);return}(u&32)===0&&(u|=64),i.append(String.fromCharCode(u))}}while(t.available()>0)}static decodeBase256Segment(t,i,l){let u=1+t.getByteOffset();const h=this.unrandomize255State(t.readBits(8),u++);let y;if(h===0?y=t.available()/8|0:h<250?y=h:y=250*(h-249)+this.unrandomize255State(t.readBits(8),u++),y<0)throw new I;const o=new Uint8Array(y);for(let d=0;d<y;d++){if(t.available()<8)throw new I;o[d]=this.unrandomize255State(t.readBits(8),u++)}l.push(o);try{i.append(de.decode(o,ee.ISO88591))}catch(d){throw new xe("Platform does not support required encoding: "+d.message)}}static unrandomize255State(t,i){const l=149*i%255+1,u=t-l;return u>=0?u:u+256}}At.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],At.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],At.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],At.TEXT_SHIFT2_SET_CHARS=At.C40_SHIFT2_SET_CHARS,At.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class bt{constructor(){this.rsDecoder=new Ze(Z.DATA_MATRIX_FIELD_256)}decode(t){const i=new ue(t),l=i.getVersion(),u=i.readCodewords(),h=Re.getDataBlocks(u,l);let y=0;for(let x of h)y+=x.getNumDataCodewords();const o=new Uint8Array(y),d=h.length;for(let x=0;x<d;x++){const b=h[x],B=b.getCodewords(),k=b.getNumDataCodewords();this.correctErrors(B,k);for(let G=0;G<k;G++)o[G*d+x]=B[G]}return At.decode(o)}correctErrors(t,i){const l=new Int32Array(t);try{this.rsDecoder.decode(l,t.length-i)}catch{throw new _}for(let u=0;u<i;u++)t[u]=l[u]}}class Zt{constructor(t){this.image=t,this.rectangleDetector=new Kt(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new oe;i=this.shiftToModuleCenter(i);const l=i[0],u=i[1],h=i[2],y=i[3];let o=this.transitionsBetween(l,y)+1,d=this.transitionsBetween(h,y)+1;(o&1)===1&&(o+=1),(d&1)===1&&(d+=1),4*o<7*d&&4*d<7*o&&(o=d=Math.max(o,d));let x=Zt.sampleGrid(this.image,l,u,h,y,o,d);return new Lt(x,[l,u,h,y])}static shiftPoint(t,i,l){let u=(i.getX()-t.getX())/(l+1),h=(i.getY()-t.getY())/(l+1);return new Ye(t.getX()+u,t.getY()+h)}static moveAway(t,i,l){let u=t.getX(),h=t.getY();return u<i?u-=1:u+=1,h<l?h-=1:h+=1,new Ye(u,h)}detectSolid1(t){let i=t[0],l=t[1],u=t[3],h=t[2],y=this.transitionsBetween(i,l),o=this.transitionsBetween(l,u),d=this.transitionsBetween(u,h),x=this.transitionsBetween(h,i),b=y,B=[h,i,l,u];return b>o&&(b=o,B[0]=i,B[1]=l,B[2]=u,B[3]=h),b>d&&(b=d,B[0]=l,B[1]=u,B[2]=h,B[3]=i),b>x&&(B[0]=u,B[1]=h,B[2]=i,B[3]=l),B}detectSolid2(t){let i=t[0],l=t[1],u=t[2],h=t[3],y=this.transitionsBetween(i,h),o=Zt.shiftPoint(l,u,(y+1)*4),d=Zt.shiftPoint(u,l,(y+1)*4),x=this.transitionsBetween(o,i),b=this.transitionsBetween(d,h);return x<b?(t[0]=i,t[1]=l,t[2]=u,t[3]=h):(t[0]=l,t[1]=u,t[2]=h,t[3]=i),t}correctTopRight(t){let i=t[0],l=t[1],u=t[2],h=t[3],y=this.transitionsBetween(i,h),o=this.transitionsBetween(l,h),d=Zt.shiftPoint(i,l,(o+1)*4),x=Zt.shiftPoint(u,l,(y+1)*4);y=this.transitionsBetween(d,h),o=this.transitionsBetween(x,h);let b=new Ye(h.getX()+(u.getX()-l.getX())/(y+1),h.getY()+(u.getY()-l.getY())/(y+1)),B=new Ye(h.getX()+(i.getX()-l.getX())/(o+1),h.getY()+(i.getY()-l.getY())/(o+1));if(!this.isValid(b))return this.isValid(B)?B:null;if(!this.isValid(B))return b;let k=this.transitionsBetween(d,b)+this.transitionsBetween(x,b),G=this.transitionsBetween(d,B)+this.transitionsBetween(x,B);return k>G?b:B}shiftToModuleCenter(t){let i=t[0],l=t[1],u=t[2],h=t[3],y=this.transitionsBetween(i,h)+1,o=this.transitionsBetween(u,h)+1,d=Zt.shiftPoint(i,l,o*4),x=Zt.shiftPoint(u,l,y*4);y=this.transitionsBetween(d,h)+1,o=this.transitionsBetween(x,h)+1,(y&1)===1&&(y+=1),(o&1)===1&&(o+=1);let b=(i.getX()+l.getX()+u.getX()+h.getX())/4,B=(i.getY()+l.getY()+u.getY()+h.getY())/4;i=Zt.moveAway(i,b,B),l=Zt.moveAway(l,b,B),u=Zt.moveAway(u,b,B),h=Zt.moveAway(h,b,B);let k,G;return d=Zt.shiftPoint(i,l,o*4),d=Zt.shiftPoint(d,h,y*4),k=Zt.shiftPoint(l,i,o*4),k=Zt.shiftPoint(k,u,y*4),x=Zt.shiftPoint(u,h,o*4),x=Zt.shiftPoint(x,l,y*4),G=Zt.shiftPoint(h,u,o*4),G=Zt.shiftPoint(G,i,y*4),[d,k,x,G]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,l,u,h,y,o){return nn.getInstance().sampleGrid(t,y,o,.5,.5,y-.5,.5,y-.5,o-.5,.5,o-.5,i.getX(),i.getY(),h.getX(),h.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(t,i){let l=Math.trunc(t.getX()),u=Math.trunc(t.getY()),h=Math.trunc(i.getX()),y=Math.trunc(i.getY()),o=Math.abs(y-u)>Math.abs(h-l);if(o){let ne=l;l=u,u=ne,ne=h,h=y,y=ne}let d=Math.abs(h-l),x=Math.abs(y-u),b=-d/2,B=u<y?1:-1,k=l<h?1:-1,G=0,Y=this.image.get(o?u:l,o?l:u);for(let ne=l,fe=u;ne!==h;ne+=k){let ce=this.image.get(o?fe:ne,o?ne:fe);if(ce!==Y&&(G++,Y=ce),b+=x,b>0){if(fe===y)break;fe+=B,b-=d}}return G}}class Gn{constructor(){this.decoder=new bt}decode(t,i=null){let l,u;if(i!=null&&i.has(M.PURE_BARCODE)){const x=Gn.extractPureBits(t.getBlackMatrix());l=this.decoder.decode(x),u=Gn.NO_POINTS}else{const x=new Zt(t.getBlackMatrix()).detect();l=this.decoder.decode(x.getBits()),u=x.getPoints()}const h=l.getRawBytes(),y=new _e(l.getText(),h,8*h.length,u,Ne.DATA_MATRIX,P.currentTimeMillis()),o=l.getByteSegments();o!=null&&y.putMetadata(yt.BYTE_SEGMENTS,o);const d=l.getECLevel();return d!=null&&y.putMetadata(yt.ERROR_CORRECTION_LEVEL,d),y}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),l=t.getBottomRightOnBit();if(i==null||l==null)throw new oe;const u=this.moduleSize(i,t);let h=i[1];const y=l[1];let o=i[0];const x=(l[0]-o+1)/u,b=(y-h+1)/u;if(x<=0||b<=0)throw new oe;const B=u/2;h+=B,o+=B;const k=new Ce(x,b);for(let G=0;G<b;G++){const Y=h+G*u;for(let ne=0;ne<x;ne++)t.get(o+ne*u,Y)&&k.set(ne,G)}return k}static moduleSize(t,i){const l=i.getWidth();let u=t[0];const h=t[1];for(;u<l&&i.get(u,h);)u++;if(u===l)throw new oe;const y=u-t[0];if(y===0)throw new oe;return y}}Gn.NO_POINTS=[];class pn extends ze{constructor(t=500){super(new Gn,t)}}var sr;(function($){$[$.L=0]="L",$[$.M=1]="M",$[$.Q=2]="Q",$[$.H=3]="H"})(sr||(sr={}));class en{constructor(t,i,l){this.value=t,this.stringValue=i,this.bits=l,en.FOR_BITS.set(l,this),en.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return en.L;case"M":return en.M;case"Q":return en.Q;case"H":return en.H;default:throw new D(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof en))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=en.FOR_BITS.size)throw new R;return en.FOR_BITS.get(t)}}en.FOR_BITS=new Map,en.FOR_VALUE=new Map,en.L=new en(sr.L,"L",1),en.M=new en(sr.M,"M",0),en.Q=new en(sr.Q,"Q",3),en.H=new en(sr.H,"H",2);class zn{constructor(t){this.errorCorrectionLevel=en.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return U.bitCount(t^i)}static decodeFormatInformation(t,i){const l=zn.doDecodeFormatInformation(t,i);return l!==null?l:zn.doDecodeFormatInformation(t^zn.FORMAT_INFO_MASK_QR,i^zn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let l=Number.MAX_SAFE_INTEGER,u=0;for(const h of zn.FORMAT_INFO_DECODE_LOOKUP){const y=h[0];if(y===t||y===i)return new zn(h[1]);let o=zn.numBitsDiffering(t,y);o<l&&(u=h[1],l=o),t!==i&&(o=zn.numBitsDiffering(i,y),o<l&&(u=h[1],l=o))}return l<=3?new zn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof zn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}zn.FORMAT_INFO_MASK_QR=21522,zn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Fe{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const l of i)t+=l.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ge{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Bt{constructor(t,i,...l){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=l;let u=0;const h=l[0].getECCodewordsPerBlock(),y=l[0].getECBlocks();for(const o of y)u+=o.getCount()*(o.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new I;try{return this.getVersionForNumber((t-17)/4)}catch{throw new I}}static getVersionForNumber(t){if(t<1||t>40)throw new R;return Bt.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<Bt.VERSION_DECODE_INFO.length;u++){const h=Bt.VERSION_DECODE_INFO[u];if(h===t)return Bt.getVersionForNumber(u+7);const y=zn.numBitsDiffering(t,h);y<i&&(l=u+7,i=y)}return i<=3?Bt.getVersionForNumber(l):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new Ce(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const h=this.alignmentPatternCenters[u]-2;for(let y=0;y<l;y++)u===0&&(y===0||y===l-1)||u===l-1&&y===0||i.setRegion(this.alignmentPatternCenters[y]-2,h,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Bt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Bt.VERSIONS=[new Bt(1,new Int32Array(0),new Fe(7,new ge(1,19)),new Fe(10,new ge(1,16)),new Fe(13,new ge(1,13)),new Fe(17,new ge(1,9))),new Bt(2,Int32Array.from([6,18]),new Fe(10,new ge(1,34)),new Fe(16,new ge(1,28)),new Fe(22,new ge(1,22)),new Fe(28,new ge(1,16))),new Bt(3,Int32Array.from([6,22]),new Fe(15,new ge(1,55)),new Fe(26,new ge(1,44)),new Fe(18,new ge(2,17)),new Fe(22,new ge(2,13))),new Bt(4,Int32Array.from([6,26]),new Fe(20,new ge(1,80)),new Fe(18,new ge(2,32)),new Fe(26,new ge(2,24)),new Fe(16,new ge(4,9))),new Bt(5,Int32Array.from([6,30]),new Fe(26,new ge(1,108)),new Fe(24,new ge(2,43)),new Fe(18,new ge(2,15),new ge(2,16)),new Fe(22,new ge(2,11),new ge(2,12))),new Bt(6,Int32Array.from([6,34]),new Fe(18,new ge(2,68)),new Fe(16,new ge(4,27)),new Fe(24,new ge(4,19)),new Fe(28,new ge(4,15))),new Bt(7,Int32Array.from([6,22,38]),new Fe(20,new ge(2,78)),new Fe(18,new ge(4,31)),new Fe(18,new ge(2,14),new ge(4,15)),new Fe(26,new ge(4,13),new ge(1,14))),new Bt(8,Int32Array.from([6,24,42]),new Fe(24,new ge(2,97)),new Fe(22,new ge(2,38),new ge(2,39)),new Fe(22,new ge(4,18),new ge(2,19)),new Fe(26,new ge(4,14),new ge(2,15))),new Bt(9,Int32Array.from([6,26,46]),new Fe(30,new ge(2,116)),new Fe(22,new ge(3,36),new ge(2,37)),new Fe(20,new ge(4,16),new ge(4,17)),new Fe(24,new ge(4,12),new ge(4,13))),new Bt(10,Int32Array.from([6,28,50]),new Fe(18,new ge(2,68),new ge(2,69)),new Fe(26,new ge(4,43),new ge(1,44)),new Fe(24,new ge(6,19),new ge(2,20)),new Fe(28,new ge(6,15),new ge(2,16))),new Bt(11,Int32Array.from([6,30,54]),new Fe(20,new ge(4,81)),new Fe(30,new ge(1,50),new ge(4,51)),new Fe(28,new ge(4,22),new ge(4,23)),new Fe(24,new ge(3,12),new ge(8,13))),new Bt(12,Int32Array.from([6,32,58]),new Fe(24,new ge(2,92),new ge(2,93)),new Fe(22,new ge(6,36),new ge(2,37)),new Fe(26,new ge(4,20),new ge(6,21)),new Fe(28,new ge(7,14),new ge(4,15))),new Bt(13,Int32Array.from([6,34,62]),new Fe(26,new ge(4,107)),new Fe(22,new ge(8,37),new ge(1,38)),new Fe(24,new ge(8,20),new ge(4,21)),new Fe(22,new ge(12,11),new ge(4,12))),new Bt(14,Int32Array.from([6,26,46,66]),new Fe(30,new ge(3,115),new ge(1,116)),new Fe(24,new ge(4,40),new ge(5,41)),new Fe(20,new ge(11,16),new ge(5,17)),new Fe(24,new ge(11,12),new ge(5,13))),new Bt(15,Int32Array.from([6,26,48,70]),new Fe(22,new ge(5,87),new ge(1,88)),new Fe(24,new ge(5,41),new ge(5,42)),new Fe(30,new ge(5,24),new ge(7,25)),new Fe(24,new ge(11,12),new ge(7,13))),new Bt(16,Int32Array.from([6,26,50,74]),new Fe(24,new ge(5,98),new ge(1,99)),new Fe(28,new ge(7,45),new ge(3,46)),new Fe(24,new ge(15,19),new ge(2,20)),new Fe(30,new ge(3,15),new ge(13,16))),new Bt(17,Int32Array.from([6,30,54,78]),new Fe(28,new ge(1,107),new ge(5,108)),new Fe(28,new ge(10,46),new ge(1,47)),new Fe(28,new ge(1,22),new ge(15,23)),new Fe(28,new ge(2,14),new ge(17,15))),new Bt(18,Int32Array.from([6,30,56,82]),new Fe(30,new ge(5,120),new ge(1,121)),new Fe(26,new ge(9,43),new ge(4,44)),new Fe(28,new ge(17,22),new ge(1,23)),new Fe(28,new ge(2,14),new ge(19,15))),new Bt(19,Int32Array.from([6,30,58,86]),new Fe(28,new ge(3,113),new ge(4,114)),new Fe(26,new ge(3,44),new ge(11,45)),new Fe(26,new ge(17,21),new ge(4,22)),new Fe(26,new ge(9,13),new ge(16,14))),new Bt(20,Int32Array.from([6,34,62,90]),new Fe(28,new ge(3,107),new ge(5,108)),new Fe(26,new ge(3,41),new ge(13,42)),new Fe(30,new ge(15,24),new ge(5,25)),new Fe(28,new ge(15,15),new ge(10,16))),new Bt(21,Int32Array.from([6,28,50,72,94]),new Fe(28,new ge(4,116),new ge(4,117)),new Fe(26,new ge(17,42)),new Fe(28,new ge(17,22),new ge(6,23)),new Fe(30,new ge(19,16),new ge(6,17))),new Bt(22,Int32Array.from([6,26,50,74,98]),new Fe(28,new ge(2,111),new ge(7,112)),new Fe(28,new ge(17,46)),new Fe(30,new ge(7,24),new ge(16,25)),new Fe(24,new ge(34,13))),new Bt(23,Int32Array.from([6,30,54,78,102]),new Fe(30,new ge(4,121),new ge(5,122)),new Fe(28,new ge(4,47),new ge(14,48)),new Fe(30,new ge(11,24),new ge(14,25)),new Fe(30,new ge(16,15),new ge(14,16))),new Bt(24,Int32Array.from([6,28,54,80,106]),new Fe(30,new ge(6,117),new ge(4,118)),new Fe(28,new ge(6,45),new ge(14,46)),new Fe(30,new ge(11,24),new ge(16,25)),new Fe(30,new ge(30,16),new ge(2,17))),new Bt(25,Int32Array.from([6,32,58,84,110]),new Fe(26,new ge(8,106),new ge(4,107)),new Fe(28,new ge(8,47),new ge(13,48)),new Fe(30,new ge(7,24),new ge(22,25)),new Fe(30,new ge(22,15),new ge(13,16))),new Bt(26,Int32Array.from([6,30,58,86,114]),new Fe(28,new ge(10,114),new ge(2,115)),new Fe(28,new ge(19,46),new ge(4,47)),new Fe(28,new ge(28,22),new ge(6,23)),new Fe(30,new ge(33,16),new ge(4,17))),new Bt(27,Int32Array.from([6,34,62,90,118]),new Fe(30,new ge(8,122),new ge(4,123)),new Fe(28,new ge(22,45),new ge(3,46)),new Fe(30,new ge(8,23),new ge(26,24)),new Fe(30,new ge(12,15),new ge(28,16))),new Bt(28,Int32Array.from([6,26,50,74,98,122]),new Fe(30,new ge(3,117),new ge(10,118)),new Fe(28,new ge(3,45),new ge(23,46)),new Fe(30,new ge(4,24),new ge(31,25)),new Fe(30,new ge(11,15),new ge(31,16))),new Bt(29,Int32Array.from([6,30,54,78,102,126]),new Fe(30,new ge(7,116),new ge(7,117)),new Fe(28,new ge(21,45),new ge(7,46)),new Fe(30,new ge(1,23),new ge(37,24)),new Fe(30,new ge(19,15),new ge(26,16))),new Bt(30,Int32Array.from([6,26,52,78,104,130]),new Fe(30,new ge(5,115),new ge(10,116)),new Fe(28,new ge(19,47),new ge(10,48)),new Fe(30,new ge(15,24),new ge(25,25)),new Fe(30,new ge(23,15),new ge(25,16))),new Bt(31,Int32Array.from([6,30,56,82,108,134]),new Fe(30,new ge(13,115),new ge(3,116)),new Fe(28,new ge(2,46),new ge(29,47)),new Fe(30,new ge(42,24),new ge(1,25)),new Fe(30,new ge(23,15),new ge(28,16))),new Bt(32,Int32Array.from([6,34,60,86,112,138]),new Fe(30,new ge(17,115)),new Fe(28,new ge(10,46),new ge(23,47)),new Fe(30,new ge(10,24),new ge(35,25)),new Fe(30,new ge(19,15),new ge(35,16))),new Bt(33,Int32Array.from([6,30,58,86,114,142]),new Fe(30,new ge(17,115),new ge(1,116)),new Fe(28,new ge(14,46),new ge(21,47)),new Fe(30,new ge(29,24),new ge(19,25)),new Fe(30,new ge(11,15),new ge(46,16))),new Bt(34,Int32Array.from([6,34,62,90,118,146]),new Fe(30,new ge(13,115),new ge(6,116)),new Fe(28,new ge(14,46),new ge(23,47)),new Fe(30,new ge(44,24),new ge(7,25)),new Fe(30,new ge(59,16),new ge(1,17))),new Bt(35,Int32Array.from([6,30,54,78,102,126,150]),new Fe(30,new ge(12,121),new ge(7,122)),new Fe(28,new ge(12,47),new ge(26,48)),new Fe(30,new ge(39,24),new ge(14,25)),new Fe(30,new ge(22,15),new ge(41,16))),new Bt(36,Int32Array.from([6,24,50,76,102,128,154]),new Fe(30,new ge(6,121),new ge(14,122)),new Fe(28,new ge(6,47),new ge(34,48)),new Fe(30,new ge(46,24),new ge(10,25)),new Fe(30,new ge(2,15),new ge(64,16))),new Bt(37,Int32Array.from([6,28,54,80,106,132,158]),new Fe(30,new ge(17,122),new ge(4,123)),new Fe(28,new ge(29,46),new ge(14,47)),new Fe(30,new ge(49,24),new ge(10,25)),new Fe(30,new ge(24,15),new ge(46,16))),new Bt(38,Int32Array.from([6,32,58,84,110,136,162]),new Fe(30,new ge(4,122),new ge(18,123)),new Fe(28,new ge(13,46),new ge(32,47)),new Fe(30,new ge(48,24),new ge(14,25)),new Fe(30,new ge(42,15),new ge(32,16))),new Bt(39,Int32Array.from([6,26,54,82,110,138,166]),new Fe(30,new ge(20,117),new ge(4,118)),new Fe(28,new ge(40,47),new ge(7,48)),new Fe(30,new ge(43,24),new ge(22,25)),new Fe(30,new ge(10,15),new ge(67,16))),new Bt(40,Int32Array.from([6,30,58,86,114,142,170]),new Fe(30,new ge(19,118),new ge(6,119)),new Fe(28,new ge(18,47),new ge(31,48)),new Fe(30,new ge(34,24),new ge(34,25)),new Fe(30,new ge(20,15),new ge(61,16)))];var jn;(function($){$[$.DATA_MASK_000=0]="DATA_MASK_000",$[$.DATA_MASK_001=1]="DATA_MASK_001",$[$.DATA_MASK_010=2]="DATA_MASK_010",$[$.DATA_MASK_011=3]="DATA_MASK_011",$[$.DATA_MASK_100=4]="DATA_MASK_100",$[$.DATA_MASK_101=5]="DATA_MASK_101",$[$.DATA_MASK_110=6]="DATA_MASK_110",$[$.DATA_MASK_111=7]="DATA_MASK_111"})(jn||(jn={}));class Cr{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let l=0;l<i;l++)for(let u=0;u<i;u++)this.isMasked(l,u)&&t.flip(u,l)}}Cr.values=new Map([[jn.DATA_MASK_000,new Cr(jn.DATA_MASK_000,($,t)=>($+t&1)===0)],[jn.DATA_MASK_001,new Cr(jn.DATA_MASK_001,($,t)=>($&1)===0)],[jn.DATA_MASK_010,new Cr(jn.DATA_MASK_010,($,t)=>t%3===0)],[jn.DATA_MASK_011,new Cr(jn.DATA_MASK_011,($,t)=>($+t)%3===0)],[jn.DATA_MASK_100,new Cr(jn.DATA_MASK_100,($,t)=>(Math.floor($/2)+Math.floor(t/3)&1)===0)],[jn.DATA_MASK_101,new Cr(jn.DATA_MASK_101,($,t)=>$*t%6===0)],[jn.DATA_MASK_110,new Cr(jn.DATA_MASK_110,($,t)=>$*t%6<3)],[jn.DATA_MASK_111,new Cr(jn.DATA_MASK_111,($,t)=>($+t+$*t%3&1)===0)]]);class ci{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new I;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let h=0;h<6;h++)t=this.copyBit(h,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let h=5;h>=0;h--)t=this.copyBit(8,h,t);const i=this.bitMatrix.getHeight();let l=0;const u=i-7;for(let h=i-1;h>=u;h--)l=this.copyBit(8,h,l);for(let h=i-8;h<i;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=zn.decodeFormatInformation(t,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new I}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Bt.getVersionForNumber(i);let l=0;const u=t-11;for(let y=5;y>=0;y--)for(let o=t-9;o>=u;o--)l=this.copyBit(o,y,l);let h=Bt.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;l=0;for(let y=5;y>=0;y--)for(let o=t-9;o>=u;o--)l=this.copyBit(y,o,l);if(h=Bt.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;throw new I}copyBit(t,i,l){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?l<<1|1:l<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),l=Cr.values.get(t.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const h=i.buildFunctionPattern();let y=!0;const o=new Uint8Array(i.getTotalCodewords());let d=0,x=0,b=0;for(let B=u-1;B>0;B-=2){B===6&&B--;for(let k=0;k<u;k++){const G=y?u-1-k:k;for(let Y=0;Y<2;Y++)h.get(B-Y,G)||(b++,x<<=1,this.bitMatrix.get(B-Y,G)&&(x|=1),b===8&&(o[d++]=x,b=0,x=0))}y=!y}if(d!==i.getTotalCodewords())throw new I;return o}remask(){if(this.parsedFormatInfo===null)return;const t=Cr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,l=t.getWidth();i<l;i++)for(let u=i+1,h=t.getHeight();u<h;u++)t.get(i,u)!==t.get(u,i)&&(t.flip(u,i),t.flip(i,u))}}class co{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,l){if(t.length!==i.getTotalCodewords())throw new R;const u=i.getECBlocksForLevel(l);let h=0;const y=u.getECBlocks();for(const Y of y)h+=Y.getCount();const o=new Array(h);let d=0;for(const Y of y)for(let ne=0;ne<Y.getCount();ne++){const fe=Y.getDataCodewords(),ce=u.getECCodewordsPerBlock()+fe;o[d++]=new co(fe,new Uint8Array(ce))}const x=o[0].codewords.length;let b=o.length-1;for(;b>=0&&o[b].codewords.length!==x;)b--;b++;const B=x-u.getECCodewordsPerBlock();let k=0;for(let Y=0;Y<B;Y++)for(let ne=0;ne<d;ne++)o[ne].codewords[Y]=t[k++];for(let Y=b;Y<d;Y++)o[Y].codewords[B]=t[k++];const G=o[0].codewords.length;for(let Y=B;Y<G;Y++)for(let ne=0;ne<d;ne++){const fe=ne<b?Y:Y+1;o[ne].codewords[fe]=t[k++]}return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var hn;(function($){$[$.TERMINATOR=0]="TERMINATOR",$[$.NUMERIC=1]="NUMERIC",$[$.ALPHANUMERIC=2]="ALPHANUMERIC",$[$.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",$[$.BYTE=4]="BYTE",$[$.ECI=5]="ECI",$[$.KANJI=6]="KANJI",$[$.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",$[$.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",$[$.HANZI=9]="HANZI"})(hn||(hn={}));class qt{constructor(t,i,l,u){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=l,this.bits=u,qt.FOR_BITS.set(u,this),qt.FOR_VALUE.set(t,this)}static forBits(t){const i=qt.FOR_BITS.get(t);if(i===void 0)throw new R;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let l;return i<=9?l=0:i<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof qt))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}qt.FOR_BITS=new Map,qt.FOR_VALUE=new Map,qt.TERMINATOR=new qt(hn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),qt.NUMERIC=new qt(hn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),qt.ALPHANUMERIC=new qt(hn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),qt.STRUCTURED_APPEND=new qt(hn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),qt.BYTE=new qt(hn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),qt.ECI=new qt(hn.ECI,"ECI",Int32Array.from([0,0,0]),7),qt.KANJI=new qt(hn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),qt.FNC1_FIRST_POSITION=new qt(hn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),qt.FNC1_SECOND_POSITION=new qt(hn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),qt.HANZI=new qt(hn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class er{static decode(t,i,l,u){const h=new nt(t);let y=new se;const o=new Array;let d=-1,x=-1;try{let b=null,B=!1,k;do{if(h.available()<4)k=qt.TERMINATOR;else{const G=h.readBits(4);k=qt.forBits(G)}switch(k){case qt.TERMINATOR:break;case qt.FNC1_FIRST_POSITION:case qt.FNC1_SECOND_POSITION:B=!0;break;case qt.STRUCTURED_APPEND:if(h.available()<16)throw new I;d=h.readBits(8),x=h.readBits(8);break;case qt.ECI:const G=er.parseECIValue(h);if(b=j.getCharacterSetECIByValue(G),b===null)throw new I;break;case qt.HANZI:const Y=h.readBits(4),ne=h.readBits(k.getCharacterCountBits(i));Y===er.GB2312_SUBSET&&er.decodeHanziSegment(h,y,ne);break;default:const fe=h.readBits(k.getCharacterCountBits(i));switch(k){case qt.NUMERIC:er.decodeNumericSegment(h,y,fe);break;case qt.ALPHANUMERIC:er.decodeAlphanumericSegment(h,y,fe,B);break;case qt.BYTE:er.decodeByteSegment(h,y,fe,b,o,u);break;case qt.KANJI:er.decodeKanjiSegment(h,y,fe);break;default:throw new I}break}}while(k!==qt.TERMINATOR)}catch{throw new I}return new Q(t,y.toString(),o.length===0?null:o,l===null?null:l.toString(),d,x)}static decodeHanziSegment(t,i,l){if(l*13>t.available())throw new I;const u=new Uint8Array(2*l);let h=0;for(;l>0;){const y=t.readBits(13);let o=y/96<<8&4294967295|y%96;o<959?o+=41377:o+=42657,u[h]=o>>8&255,u[h+1]=o&255,h+=2,l--}try{i.append(de.decode(u,ee.GB2312))}catch(y){throw new I(y)}}static decodeKanjiSegment(t,i,l){if(l*13>t.available())throw new I;const u=new Uint8Array(2*l);let h=0;for(;l>0;){const y=t.readBits(13);let o=y/192<<8&4294967295|y%192;o<7936?o+=33088:o+=49472,u[h]=o>>8,u[h+1]=o,h+=2,l--}try{i.append(de.decode(u,ee.SHIFT_JIS))}catch(y){throw new I(y)}}static decodeByteSegment(t,i,l,u,h,y){if(8*l>t.available())throw new I;const o=new Uint8Array(l);for(let x=0;x<l;x++)o[x]=t.readBits(8);let d;u===null?d=ee.guessEncoding(o,y):d=u.getName();try{i.append(de.decode(o,d))}catch(x){throw new I(x)}h.push(o)}static toAlphaNumericChar(t){if(t>=er.ALPHANUMERIC_CHARS.length)throw new I;return er.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,l,u){const h=i.length();for(;l>1;){if(t.available()<11)throw new I;const y=t.readBits(11);i.append(er.toAlphaNumericChar(Math.floor(y/45))),i.append(er.toAlphaNumericChar(y%45)),l-=2}if(l===1){if(t.available()<6)throw new I;i.append(er.toAlphaNumericChar(t.readBits(6)))}if(u)for(let y=h;y<i.length();y++)i.charAt(y)==="%"&&(y<i.length()-1&&i.charAt(y+1)==="%"?i.deleteCharAt(y+1):i.setCharAt(y,""))}static decodeNumericSegment(t,i,l){for(;l>=3;){if(t.available()<10)throw new I;const u=t.readBits(10);if(u>=1e3)throw new I;i.append(er.toAlphaNumericChar(Math.floor(u/100))),i.append(er.toAlphaNumericChar(Math.floor(u/10)%10)),i.append(er.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(t.available()<7)throw new I;const u=t.readBits(7);if(u>=100)throw new I;i.append(er.toAlphaNumericChar(Math.floor(u/10))),i.append(er.toAlphaNumericChar(u%10))}else if(l===1){if(t.available()<4)throw new I;const u=t.readBits(4);if(u>=10)throw new I;i.append(er.toAlphaNumericChar(u))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const l=t.readBits(8);return(i&63)<<8&4294967295|l}if((i&224)===192){const l=t.readBits(16);return(i&31)<<16&4294967295|l}throw new I}}er.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",er.GB2312_SUBSET=1;class Uo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class ra{constructor(){this.rsDecoder=new Ze(Z.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(Ce.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const l=new ci(t);let u=null;try{return this.decodeBitMatrixParser(l,i)}catch(h){u=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,i);return h.setOther(new Uo(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(t,i){const l=t.readVersion(),u=t.readFormatInformation().getErrorCorrectionLevel(),h=t.readCodewords(),y=co.getDataBlocks(h,l,u);let o=0;for(const b of y)o+=b.getNumDataCodewords();const d=new Uint8Array(o);let x=0;for(const b of y){const B=b.getCodewords(),k=b.getNumDataCodewords();this.correctErrors(B,k);for(let G=0;G<k;G++)d[x++]=B[G]}return er.decode(d,l,u,i)}correctErrors(t,i){const l=new Int32Array(t);try{this.rsDecoder.decode(l,t.length-i)}catch{throw new _}for(let u=0;u<i;u++)t[u]=l[u]}}class xa extends Ye{constructor(t,i,l){super(t,i),this.estimatedModuleSize=l}aboutEquals(t,i,l){if(Math.abs(i-this.getY())<=t&&Math.abs(l-this.getX())<=t){const u=Math.abs(t-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(t,i,l){const u=(this.getX()+i)/2,h=(this.getY()+t)/2,y=(this.estimatedModuleSize+l)/2;return new xa(u,h,y)}}class Kr{constructor(t,i,l,u,h,y,o){this.image=t,this.startX=i,this.startY=l,this.width=u,this.height=h,this.moduleSize=y,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,l=this.width,u=t+l,h=this.startY+i/2,y=new Int32Array(3),o=this.image;for(let d=0;d<i;d++){const x=h+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));y[0]=0,y[1]=0,y[2]=0;let b=t;for(;b<u&&!o.get(b,x);)b++;let B=0;for(;b<u;){if(o.get(b,x))if(B===1)y[1]++;else if(B===2){if(this.foundPatternCross(y)){const k=this.handlePossibleCenter(y,x,b);if(k!==null)return k}y[0]=y[2],y[1]=1,y[2]=0,B=1}else y[++B]++;else B===1&&B++,y[B]++;b++}if(this.foundPatternCross(y)){const k=this.handlePossibleCenter(y,x,u);if(k!==null)return k}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,l=i/2;for(let u=0;u<3;u++)if(Math.abs(i-t[u])>=l)return!1;return!0}crossCheckVertical(t,i,l,u){const h=this.image,y=h.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;let d=t;for(;d>=0&&h.get(i,d)&&o[1]<=l;)o[1]++,d--;if(d<0||o[1]>l)return NaN;for(;d>=0&&!h.get(i,d)&&o[0]<=l;)o[0]++,d--;if(o[0]>l)return NaN;for(d=t+1;d<y&&h.get(i,d)&&o[1]<=l;)o[1]++,d++;if(d===y||o[1]>l)return NaN;for(;d<y&&!h.get(i,d)&&o[2]<=l;)o[2]++,d++;if(o[2]>l)return NaN;const x=o[0]+o[1]+o[2];return 5*Math.abs(x-u)>=2*u?NaN:this.foundPatternCross(o)?Kr.centerFromEnd(o,d):NaN}handlePossibleCenter(t,i,l){const u=t[0]+t[1]+t[2],h=Kr.centerFromEnd(t,l),y=this.crossCheckVertical(i,h,2*t[1],u);if(!isNaN(y)){const o=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(o,y,h))return x.combineEstimate(y,h,o);const d=new xa(h,y,o);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class ca extends Ye{constructor(t,i,l,u){super(t,i),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,l){if(Math.abs(i-this.getY())<=t&&Math.abs(l-this.getX())<=t){const u=Math.abs(t-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(t,i,l){const u=this.count+1,h=(this.count*this.getX()+i)/u,y=(this.count*this.getY()+t)/u,o=(this.count*this.estimatedModuleSize+l)/u;return new ca(h,y,o,u)}}class ms{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class or{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(M.TRY_HARDER)!==void 0,l=t!=null&&t.get(M.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),y=u.getWidth();let o=Math.floor(3*h/(4*or.MAX_MODULES));(o<or.MIN_SKIP||i)&&(o=or.MIN_SKIP);let d=!1;const x=new Int32Array(5);for(let B=o-1;B<h&&!d;B+=o){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let k=0;for(let G=0;G<y;G++)if(u.get(G,B))(k&1)===1&&k++,x[k]++;else if((k&1)===0)if(k===4)if(or.foundPatternCross(x)){if(this.handlePossibleCenter(x,B,G,l)===!0)if(o=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const ne=this.findRowSkip();ne>x[2]&&(B+=ne-x[2]-o,G=y-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,k=3;continue}k=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,k=3;else x[++k]++;else x[k]++;or.foundPatternCross(x)&&this.handlePossibleCenter(x,B,y,l)===!0&&(o=x[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Ye.orderBestPatterns(b),new ms(b)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let h=0;h<5;h++){const y=t[h];if(y===0)return!1;i+=y}if(i<7)return!1;const l=i/7,u=l/2;return Math.abs(l-t[0])<u&&Math.abs(l-t[1])<u&&Math.abs(3*l-t[2])<3*u&&Math.abs(l-t[3])<u&&Math.abs(l-t[4])<u}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,l,u){const h=this.getCrossCheckStateCount();let y=0;const o=this.image;for(;t>=y&&i>=y&&o.get(i-y,t-y);)h[2]++,y++;if(t<y||i<y)return!1;for(;t>=y&&i>=y&&!o.get(i-y,t-y)&&h[1]<=l;)h[1]++,y++;if(t<y||i<y||h[1]>l)return!1;for(;t>=y&&i>=y&&o.get(i-y,t-y)&&h[0]<=l;)h[0]++,y++;if(h[0]>l)return!1;const d=o.getHeight(),x=o.getWidth();for(y=1;t+y<d&&i+y<x&&o.get(i+y,t+y);)h[2]++,y++;if(t+y>=d||i+y>=x)return!1;for(;t+y<d&&i+y<x&&!o.get(i+y,t+y)&&h[3]<l;)h[3]++,y++;if(t+y>=d||i+y>=x||h[3]>=l)return!1;for(;t+y<d&&i+y<x&&o.get(i+y,t+y)&&h[4]<l;)h[4]++,y++;if(h[4]>=l)return!1;const b=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(b-u)<2*u&&or.foundPatternCross(h)}crossCheckVertical(t,i,l,u){const h=this.image,y=h.getHeight(),o=this.getCrossCheckStateCount();let d=t;for(;d>=0&&h.get(i,d);)o[2]++,d--;if(d<0)return NaN;for(;d>=0&&!h.get(i,d)&&o[1]<=l;)o[1]++,d--;if(d<0||o[1]>l)return NaN;for(;d>=0&&h.get(i,d)&&o[0]<=l;)o[0]++,d--;if(o[0]>l)return NaN;for(d=t+1;d<y&&h.get(i,d);)o[2]++,d++;if(d===y)return NaN;for(;d<y&&!h.get(i,d)&&o[3]<l;)o[3]++,d++;if(d===y||o[3]>=l)return NaN;for(;d<y&&h.get(i,d)&&o[4]<l;)o[4]++,d++;if(o[4]>=l)return NaN;const x=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(x-u)>=2*u?NaN:or.foundPatternCross(o)?or.centerFromEnd(o,d):NaN}crossCheckHorizontal(t,i,l,u){const h=this.image,y=h.getWidth(),o=this.getCrossCheckStateCount();let d=t;for(;d>=0&&h.get(d,i);)o[2]++,d--;if(d<0)return NaN;for(;d>=0&&!h.get(d,i)&&o[1]<=l;)o[1]++,d--;if(d<0||o[1]>l)return NaN;for(;d>=0&&h.get(d,i)&&o[0]<=l;)o[0]++,d--;if(o[0]>l)return NaN;for(d=t+1;d<y&&h.get(d,i);)o[2]++,d++;if(d===y)return NaN;for(;d<y&&!h.get(d,i)&&o[3]<l;)o[3]++,d++;if(d===y||o[3]>=l)return NaN;for(;d<y&&h.get(d,i)&&o[4]<l;)o[4]++,d++;if(o[4]>=l)return NaN;const x=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(x-u)>=u?NaN:or.foundPatternCross(o)?or.centerFromEnd(o,d):NaN}handlePossibleCenter(t,i,l,u){const h=t[0]+t[1]+t[2]+t[3]+t[4];let y=or.centerFromEnd(t,l),o=this.crossCheckVertical(i,Math.floor(y),t[2],h);if(!isNaN(o)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(o),t[2],h),!isNaN(y)&&(!u||this.crossCheckDiagonal(Math.floor(o),Math.floor(y),t[2],h)))){const d=h/7;let x=!1;const b=this.possibleCenters;for(let B=0,k=b.length;B<k;B++){const G=b[B];if(G.aboutEquals(d,o,y)){b[B]=G.combineEstimate(o,y,d),x=!0;break}}if(!x){const B=new ca(y,o,d);b.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const l of this.possibleCenters)if(l.getCount()>=or.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const l=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=or.CENTER_QUORUM&&(t++,i+=y.getEstimatedModuleSize());if(t<3)return!1;const u=i/l;let h=0;for(const y of this.possibleCenters)h+=Math.abs(y.getEstimatedModuleSize()-u);return h<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new oe;const i=this.possibleCenters;let l;if(t>3){let u=0,h=0;for(const d of this.possibleCenters){const x=d.getEstimatedModuleSize();u+=x,h+=x*x}l=u/t;let y=Math.sqrt(h/t-l*l);i.sort((d,x)=>{const b=Math.abs(x.getEstimatedModuleSize()-l),B=Math.abs(d.getEstimatedModuleSize()-l);return b<B?-1:b>B?1:0});const o=Math.max(.2*l,y);for(let d=0;d<i.length&&i.length>3;d++){const x=i[d];Math.abs(x.getEstimatedModuleSize()-l)>o&&(i.splice(d,1),d--)}}if(i.length>3){let u=0;for(const h of i)u+=h.getEstimatedModuleSize();l=u/i.length,i.sort((h,y)=>{if(y.getCount()===h.getCount()){const o=Math.abs(y.getEstimatedModuleSize()-l),d=Math.abs(h.getEstimatedModuleSize()-l);return o<d?1:o>d?-1:0}else return y.getCount()-h.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}or.CENTER_QUORUM=2,or.MIN_SKIP=3,or.MAX_MODULES=57;class Wn{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(M.NEED_RESULT_POINT_CALLBACK);const l=new or(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(l)}processFinderPatternInfo(t){const i=t.getTopLeft(),l=t.getTopRight(),u=t.getBottomLeft(),h=this.calculateModuleSize(i,l,u);if(h<1)throw new oe("No pattern found in proccess finder.");const y=Wn.computeDimension(i,l,u,h),o=Bt.getProvisionalVersionForDimension(y),d=o.getDimensionForVersion()-7;let x=null;if(o.getAlignmentPatternCenters().length>0){const G=l.getX()-i.getX()+u.getX(),Y=l.getY()-i.getY()+u.getY(),ne=1-3/d,fe=Math.floor(i.getX()+ne*(G-i.getX())),ce=Math.floor(i.getY()+ne*(Y-i.getY()));for(let pe=4;pe<=16;pe<<=1)try{x=this.findAlignmentInRegion(h,fe,ce,pe);break}catch(me){if(!(me instanceof oe))throw me}}const b=Wn.createTransform(i,l,u,x,y),B=Wn.sampleGrid(this.image,b,y);let k;return x===null?k=[u,i,l]:k=[u,i,l,x],new Lt(B,k)}static createTransform(t,i,l,u,h){const y=h-3.5;let o,d,x,b;return u!==null?(o=u.getX(),d=u.getY(),x=y-3,b=x):(o=i.getX()-t.getX()+l.getX(),d=i.getY()-t.getY()+l.getY(),x=y,b=y),Ht.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,x,b,3.5,y,t.getX(),t.getY(),i.getX(),i.getY(),o,d,l.getX(),l.getY())}static sampleGrid(t,i,l){return nn.getInstance().sampleGridWithTransform(t,l,l,i)}static computeDimension(t,i,l,u){const h=Ve.round(Ye.distance(t,i)/u),y=Ve.round(Ye.distance(t,l)/u);let o=Math.floor((h+y)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new oe("Dimensions could be not found.")}return o}calculateModuleSize(t,i,l){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,l))/2}calculateModuleSizeOneWay(t,i){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,l,u){let h=this.sizeOfBlackWhiteBlackRun(t,i,l,u),y=1,o=t-(l-t);o<0?(y=t/(t-o),o=0):o>=this.image.getWidth()&&(y=(this.image.getWidth()-1-t)/(o-t),o=this.image.getWidth()-1);let d=Math.floor(i-(u-i)*y);return y=1,d<0?(y=i/(i-d),d=0):d>=this.image.getHeight()&&(y=(this.image.getHeight()-1-i)/(d-i),d=this.image.getHeight()-1),o=Math.floor(t+(o-t)*y),h+=this.sizeOfBlackWhiteBlackRun(t,i,o,d),h-1}sizeOfBlackWhiteBlackRun(t,i,l,u){const h=Math.abs(u-i)>Math.abs(l-t);if(h){let G=t;t=i,i=G,G=l,l=u,u=G}const y=Math.abs(l-t),o=Math.abs(u-i);let d=-y/2;const x=t<l?1:-1,b=i<u?1:-1;let B=0;const k=l+x;for(let G=t,Y=i;G!==k;G+=x){const ne=h?Y:G,fe=h?G:Y;if(B===1===this.image.get(ne,fe)){if(B===2)return Ve.distance(G,Y,t,i);B++}if(d+=o,d>0){if(Y===u)break;Y+=b,d-=y}}return B===2?Ve.distance(l+x,u,t,i):NaN}findAlignmentInRegion(t,i,l,u){const h=Math.floor(u*t),y=Math.max(0,i-h),o=Math.min(this.image.getWidth()-1,i+h);if(o-y<t*3)throw new oe("Alignment top exceeds estimated module size.");const d=Math.max(0,l-h),x=Math.min(this.image.getHeight()-1,l+h);if(x-d<t*3)throw new oe("Alignment bottom exceeds estimated module size.");return new Kr(this.image,y,d,o-y,x-d,t,this.resultPointCallback).find()}}class Sr{constructor(){this.decoder=new ra}getDecoder(){return this.decoder}decode(t,i){let l,u;if(i!=null&&i.get(M.PURE_BARCODE)!==void 0){const d=Sr.extractPureBits(t.getBlackMatrix());l=this.decoder.decodeBitMatrix(d,i),u=Sr.NO_POINTS}else{const d=new Wn(t.getBlackMatrix()).detect(i);l=this.decoder.decodeBitMatrix(d.getBits(),i),u=d.getPoints()}l.getOther()instanceof Uo&&l.getOther().applyMirroredCorrection(u);const h=new _e(l.getText(),l.getRawBytes(),void 0,u,Ne.QR_CODE,void 0),y=l.getByteSegments();y!==null&&h.putMetadata(yt.BYTE_SEGMENTS,y);const o=l.getECLevel();return o!==null&&h.putMetadata(yt.ERROR_CORRECTION_LEVEL,o),l.hasStructuredAppend()&&(h.putMetadata(yt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(yt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),l=t.getBottomRightOnBit();if(i===null||l===null)throw new oe;const u=this.moduleSize(i,t);let h=i[1],y=l[1],o=i[0],d=l[0];if(o>=d||h>=y)throw new oe;if(y-h!==d-o&&(d=o+(y-h),d>=t.getWidth()))throw new oe;const x=Math.round((d-o+1)/u),b=Math.round((y-h+1)/u);if(x<=0||b<=0)throw new oe;if(b!==x)throw new oe;const B=Math.floor(u/2);h+=B,o+=B;const k=o+Math.floor((x-1)*u)-d;if(k>0){if(k>B)throw new oe;o-=k}const G=h+Math.floor((b-1)*u)-y;if(G>0){if(G>B)throw new oe;h-=G}const Y=new Ce(x,b);for(let ne=0;ne<b;ne++){const fe=h+Math.floor(ne*u);for(let ce=0;ce<x;ce++)t.get(o+Math.floor(ce*u),fe)&&Y.set(ce,ne)}return Y}static moduleSize(t,i){const l=i.getHeight(),u=i.getWidth();let h=t[0],y=t[1],o=!0,d=0;for(;h<u&&y<l;){if(o!==i.get(h,y)){if(++d===5)break;o=!o}h++,y++}if(h===u||y===l)throw new oe;return(h-t[0])/7}}Sr.NO_POINTS=new Array;class Yt{PDF417Common(){}static getBitCountSum(t){return Ve.sum(t)}static toIntArray(t){if(t==null||!t.length)return Yt.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let l=0;for(const u of t)i[l++]=u;return i}static getCodeword(t){const i=F.binarySearch(Yt.SYMBOL_TABLE,t&262143);return i<0?-1:(Yt.CODEWORD_TABLE[i]-1)%Yt.NUMBER_OF_CODEWORDS}}Yt.NUMBER_OF_CODEWORDS=929,Yt.MAX_CODEWORDS_IN_BARCODE=Yt.NUMBER_OF_CODEWORDS-1,Yt.MIN_ROWS_IN_BARCODE=3,Yt.MAX_ROWS_IN_BARCODE=90,Yt.MODULES_IN_CODEWORD=17,Yt.MODULES_IN_STOP_PATTERN=18,Yt.BARS_IN_MODULE=8,Yt.EMPTY_INT_ARRAY=new Int32Array([]),Yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bi{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class un{static detectMultiple(t,i,l){let u=t.getBlackMatrix(),h=un.detect(l,u);return h.length||(u=u.clone(),u.rotate180(),h=un.detect(l,u)),new bi(u,h)}static detect(t,i){const l=new Array;let u=0,h=0,y=!1;for(;u<i.getHeight();){const o=un.findVertices(i,u,h);if(o[0]==null&&o[3]==null){if(!y)break;y=!1,h=0;for(const d of l)d[1]!=null&&(u=Math.trunc(Math.max(u,d[1].getY()))),d[3]!=null&&(u=Math.max(u,Math.trunc(d[3].getY())));u+=un.ROW_STEP;continue}if(y=!0,l.push(o),!t)break;o[2]!=null?(h=Math.trunc(o[2].getX()),u=Math.trunc(o[2].getY())):(h=Math.trunc(o[4].getX()),u=Math.trunc(o[4].getY()))}return l}static findVertices(t,i,l){const u=t.getHeight(),h=t.getWidth(),y=new Array(8);return un.copyToResult(y,un.findRowsWithPattern(t,u,h,i,l,un.START_PATTERN),un.INDEXES_START_PATTERN),y[4]!=null&&(l=Math.trunc(y[4].getX()),i=Math.trunc(y[4].getY())),un.copyToResult(y,un.findRowsWithPattern(t,u,h,i,l,un.STOP_PATTERN),un.INDEXES_STOP_PATTERN),y}static copyToResult(t,i,l){for(let u=0;u<l.length;u++)t[l[u]]=i[u]}static findRowsWithPattern(t,i,l,u,h,y){const o=new Array(4);let d=!1;const x=new Int32Array(y.length);for(;u<i;u+=un.ROW_STEP){let B=un.findGuardPattern(t,h,u,l,!1,y,x);if(B!=null){for(;u>0;){const k=un.findGuardPattern(t,h,--u,l,!1,y,x);if(k!=null)B=k;else{u++;break}}o[0]=new Ye(B[0],u),o[1]=new Ye(B[1],u),d=!0;break}}let b=u+1;if(d){let B=0,k=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);for(;b<i;b++){const G=un.findGuardPattern(t,k[0],b,l,!1,y,x);if(G!=null&&Math.abs(k[0]-G[0])<un.MAX_PATTERN_DRIFT&&Math.abs(k[1]-G[1])<un.MAX_PATTERN_DRIFT)k=G,B=0;else{if(B>un.SKIPPED_ROW_COUNT_MAX)break;B++}}b-=B+1,o[2]=new Ye(k[0],b),o[3]=new Ye(k[1],b)}return b-u<un.BARCODE_MIN_HEIGHT&&F.fill(o,null),o}static findGuardPattern(t,i,l,u,h,y,o){F.fillWithin(o,0,o.length,0);let d=i,x=0;for(;t.get(d,l)&&d>0&&x++<un.MAX_PIXEL_DRIFT;)d--;let b=d,B=0,k=y.length;for(let G=h;b<u;b++)if(t.get(b,l)!==G)o[B]++;else{if(B===k-1){if(un.patternMatchVariance(o,y,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return new Int32Array([d,b]);d+=o[0]+o[1],P.arraycopy(o,2,o,0,B-1),o[B-1]=0,o[B]=0,B--}else B++;o[B]=1,G=!G}return B===k-1&&un.patternMatchVariance(o,y,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE?new Int32Array([d,b-1]):null}static patternMatchVariance(t,i,l){let u=t.length,h=0,y=0;for(let x=0;x<u;x++)h+=t[x],y+=i[x];if(h<y)return 1/0;let o=h/y;l*=o;let d=0;for(let x=0;x<u;x++){let b=t[x],B=i[x]*o,k=b>B?b-B:B-b;if(k>l)return 1/0;d+=k}return d/h}}un.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),un.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),un.MAX_AVG_VARIANCE=.42,un.MAX_INDIVIDUAL_VARIANCE=.8,un.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),un.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),un.MAX_PIXEL_DRIFT=3,un.MAX_PATTERN_DRIFT=5,un.SKIPPED_ROW_COUNT_MAX=25,un.ROW_STEP=5,un.BARCODE_MIN_HEIGHT=10;class Mn{constructor(t,i){if(i.length===0)throw new R;this.field=t;let l=i.length;if(l>1&&i[0]===0){let u=1;for(;u<l&&i[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),P.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let i=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)i=this.field.add(this.field.multiply(t,i),this.coefficients[u]);return i}add(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,l=t.coefficients;if(i.length>l.length){let y=i;i=l,l=y}let u=new Int32Array(l.length),h=l.length-i.length;P.arraycopy(l,0,u,0,h);for(let y=h;y<l.length;y++)u[y]=this.field.add(i[y-h],l[y]);return new Mn(this.field,u)}subtract(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Mn?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Mn(this.field,new Int32Array([0]));let i=this.coefficients,l=i.length,u=t.coefficients,h=u.length,y=new Int32Array(l+h-1);for(let o=0;o<l;o++){let d=i[o];for(let x=0;x<h;x++)y[o+x]=this.field.add(y[o+x],this.field.multiply(d,u[x]))}return new Mn(this.field,y)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let l=0;l<t;l++)i[l]=this.field.subtract(0,this.coefficients[l]);return new Mn(this.field,i)}multiplyScalar(t){if(t===0)return new Mn(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,l=new Int32Array(i);for(let u=0;u<i;u++)l[u]=this.field.multiply(this.coefficients[u],t);return new Mn(this.field,l)}multiplyByMonomial(t,i){if(t<0)throw new R;if(i===0)return new Mn(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+t);for(let h=0;h<l;h++)u[h]=this.field.multiply(this.coefficients[h],i);return new Mn(this.field,u)}toString(){let t=new se;for(let i=this.getDegree();i>=0;i--){let l=this.getCoefficient(i);l!==0&&(l<0?(t.append(" - "),l=-l):t.length()>0&&t.append(" + "),(i===0||l!==1)&&t.append(l),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class uo{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}inverse(t){if(t===0)throw new O;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ur extends uo{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let l=1;for(let u=0;u<t;u++)this.expTable[u]=l,l=l*i%t;for(let u=0;u<t-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Mn(this,new Int32Array([0])),this.one=new Mn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new R;if(i===0)return this.zero;let l=new Int32Array(t+1);return l[0]=i,new Mn(this,l)}}Ur.PDF417_GF=new Ur(Yt.NUMBER_OF_CODEWORDS,3);class va{constructor(){this.field=Ur.PDF417_GF}decode(t,i,l){let u=new Mn(this.field,t),h=new Int32Array(i),y=!1;for(let Y=i;Y>0;Y--){let ne=u.evaluateAt(this.field.exp(Y));h[i-Y]=ne,ne!==0&&(y=!0)}if(!y)return 0;let o=this.field.getOne();if(l!=null)for(const Y of l){let ne=this.field.exp(t.length-1-Y),fe=new Mn(this.field,new Int32Array([this.field.subtract(0,ne),1]));o=o.multiply(fe)}let d=new Mn(this.field,h),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),d,i),b=x[0],B=x[1],k=this.findErrorLocations(b),G=this.findErrorMagnitudes(B,b,k);for(let Y=0;Y<k.length;Y++){let ne=t.length-1-this.field.log(k[Y]);if(ne<0)throw _.getChecksumInstance();t[ne]=this.field.subtract(t[ne],G[Y])}return k.length}runEuclideanAlgorithm(t,i,l){if(t.getDegree()<i.getDegree()){let k=t;t=i,i=k}let u=t,h=i,y=this.field.getZero(),o=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let k=u,G=y;if(u=h,y=o,u.isZero())throw _.getChecksumInstance();h=k;let Y=this.field.getZero(),ne=u.getCoefficient(u.getDegree()),fe=this.field.inverse(ne);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let ce=h.getDegree()-u.getDegree(),pe=this.field.multiply(h.getCoefficient(h.getDegree()),fe);Y=Y.add(this.field.buildMonomial(ce,pe)),h=h.subtract(u.multiplyByMonomial(ce,pe))}o=Y.multiply(y).subtract(G).negative()}let d=o.getCoefficient(0);if(d===0)throw _.getChecksumInstance();let x=this.field.inverse(d),b=o.multiply(x),B=h.multiply(x);return[b,B]}findErrorLocations(t){let i=t.getDegree(),l=new Int32Array(i),u=0;for(let h=1;h<this.field.getSize()&&u<i;h++)t.evaluateAt(h)===0&&(l[u]=this.field.inverse(h),u++);if(u!==i)throw _.getChecksumInstance();return l}findErrorMagnitudes(t,i,l){let u=i.getDegree(),h=new Int32Array(u);for(let x=1;x<=u;x++)h[u-x]=this.field.multiply(x,i.getCoefficient(x));let y=new Mn(this.field,h),o=l.length,d=new Int32Array(o);for(let x=0;x<o;x++){let b=this.field.inverse(l[x]),B=this.field.subtract(0,t.evaluateAt(b)),k=this.field.inverse(y.evaluateAt(b));d[x]=this.field.multiply(B,k)}return d}}class Ea{constructor(t,i,l,u,h){t instanceof Ea?this.constructor_2(t):this.constructor_1(t,i,l,u,h)}constructor_1(t,i,l,u,h){const y=i==null||l==null,o=u==null||h==null;if(y&&o)throw new oe;y?(i=new Ye(0,u.getY()),l=new Ye(0,h.getY())):o&&(u=new Ye(t.getWidth()-1,i.getY()),h=new Ye(t.getWidth()-1,l.getY())),this.image=t,this.topLeft=i,this.bottomLeft=l,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(i.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(i.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Ea(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,l){let u=this.topLeft,h=this.bottomLeft,y=this.topRight,o=this.bottomRight;if(t>0){let d=l?this.topLeft:this.topRight,x=Math.trunc(d.getY()-t);x<0&&(x=0);let b=new Ye(d.getX(),x);l?u=b:y=b}if(i>0){let d=l?this.bottomLeft:this.bottomRight,x=Math.trunc(d.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let b=new Ye(d.getX(),x);l?h=b:o=b}return new Ea(this.image,u,h,y,o)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class wi{constructor(t,i,l,u){this.columnCount=t,this.errorCorrectionLevel=u,this.rowCountUpperPart=i,this.rowCountLowerPart=l,this.rowCount=i+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ia{constructor(){this.buffer=""}static form(t,i){let l=-1;function u(y,o,d,x,b,B){if(y==="%%")return"%";if(i[++l]===void 0)return;y=x?parseInt(x.substr(1)):void 0;let k=b?parseInt(b.substr(1)):void 0,G;switch(B){case"s":G=i[l];break;case"c":G=i[l][0];break;case"f":G=parseFloat(i[l]).toFixed(y);break;case"p":G=parseFloat(i[l]).toPrecision(y);break;case"e":G=parseFloat(i[l]).toExponential(y);break;case"x":G=parseInt(i[l]).toString(k||16);break;case"d":G=parseFloat(parseInt(i[l],k||10).toPrecision(y)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(k);let Y=parseInt(d),ne=d&&d[0]+""=="0"?"0":" ";for(;G.length<Y;)G=o!==void 0?G+ne:ne+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,u)}format(t,...i){this.buffer+=Ia.form(t,i)}toString(){return this.buffer}}class Sa{constructor(t){this.boundingBox=new Ea(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let l=1;l<Sa.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(t)-l;if(u>=0&&(i=this.codewords[u],i!=null)||(u=this.imageRowToCodewordIndex(t)+l,u<this.codewords.length&&(i=this.codewords[u],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ia;let i=0;for(const l of this.codewords){if(l==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}return t.toString()}}Sa.MAX_NEARBY_DISTANCE=5;class La{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[l,u]of this.values.entries()){const h={getKey:()=>l,getValue:()=>u};h.getValue()>t?(t=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===t&&i.push(h.getKey())}return Yt.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class fo extends Sa{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(u.getY())),o=this.imageRowToCodewordIndex(Math.trunc(h.getY())),d=-1,x=1,b=0;for(let B=y;B<o;B++){if(i[B]==null)continue;let k=i[B],G=k.getRowNumber()-d;if(G===0)b++;else if(G===1)x=Math.max(x,b),b=1,d=k.getRowNumber();else if(G<0||k.getRowNumber()>=t.getRowCount()||G>B)i[B]=null;else{let Y;x>2?Y=(x-2)*G:Y=G;let ne=Y>=B;for(let fe=1;fe<=Y&&!ne;fe++)ne=i[B-fe]!=null;ne?i[B]=null:(d=k.getRowNumber(),b=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=i.length)continue;i[u]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),y=this.imageRowToCodewordIndex(Math.trunc(u.getY())),o=this.getCodewords(),d=-1;for(let x=h;x<y;x++){if(o[x]==null)continue;let b=o[x];b.setRowNumberAsRowIndicatorColumn();let B=b.getRowNumber()-d;B===0||(B===1?d=b.getRowNumber():b.getRowNumber()>=t.getRowCount()?o[x]=null:d=b.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new La,l=new La,u=new La,h=new La;for(let o of t){if(o==null)continue;o.setRowNumberAsRowIndicatorColumn();let d=o.getValue()%30,x=o.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:l.setValue(d*3+1);break;case 1:h.setValue(d/3),u.setValue(d%3);break;case 2:i.setValue(d+1);break}}if(i.getValue().length===0||l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||i.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Yt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Yt.MAX_ROWS_IN_BARCODE)return null;let y=new wi(i.getValue()[0],l.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(t,y),y}removeIncorrectCodewords(t,i){for(let l=0;l<t.length;l++){let u=t[l];if(t[l]==null)continue;let h=u.getValue()%30,y=u.getRowNumber();if(y>i.getRowCount()){t[l]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:h*3+1!==i.getRowCountUpperPart()&&(t[l]=null);break;case 1:(Math.trunc(h/3)!==i.getErrorCorrectionLevel()||h%3!==i.getRowCountLowerPart())&&(t[l]=null);break;case 2:h+1!==i.getColumnCount()&&(t[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class mr{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Yt.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let l=this.detectionResultColumns[i].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(i,u,l))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<t.length;l++)if(t[l]!=null&&i[l]!=null&&t[l].getRowNumber()===i[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[l];h!=null&&(h.setRowNumber(t[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++){if(i[l]==null)continue;let u=i[l].getRowNumber(),h=0;for(let y=this.barcodeColumnCount+1;y>0&&h<this.ADJUST_ROW_NUMBER_SKIP;y--){let o=this.detectionResultColumns[y].getCodewords()[l];o!=null&&(h=mr.adjustRowNumberIfValid(u,h,o),o.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let l=0;l<i.length;l++){if(i[l]==null)continue;let u=i[l].getRowNumber(),h=0;for(let y=1;y<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;y++){let o=this.detectionResultColumns[y].getCodewords()[l];o!=null&&(h=mr.adjustRowNumberIfValid(u,h,o),o.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(t)?(l.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,l){if(!this.detectionResultColumns[t-1])return;let u=l[i],h=this.detectionResultColumns[t-1].getCodewords(),y=h;this.detectionResultColumns[t+1]!=null&&(y=this.detectionResultColumns[t+1].getCodewords());let o=new Array(14);o[2]=h[i],o[3]=y[i],i>0&&(o[0]=l[i-1],o[4]=h[i-1],o[5]=y[i-1]),i>1&&(o[8]=l[i-2],o[10]=h[i-2],o[11]=y[i-2]),i<l.length-1&&(o[1]=l[i+1],o[6]=h[i+1],o[7]=y[i+1]),i<l.length-2&&(o[9]=l[i+2],o[12]=h[i+2],o[13]=y[i+2]);for(let d of o)if(mr.adjustRowNumber(u,d))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ia;for(let l=0;l<t.getCodewords().length;l++){i.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){i.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[l];if(h==null){i.format("    |   ");continue}i.format(" %3d|%3d",h.getRowNumber(),h.getValue())}i.format("%n")}return i.toString()}}class Aa{constructor(t,i,l,u){this.rowNumber=Aa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Aa.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Aa.BARCODE_ROW_UNKNOWN=-1;class Rr{static initialize(){for(let t=0;t<Yt.SYMBOL_TABLE.length;t++){let i=Yt.SYMBOL_TABLE[t],l=i&1;for(let u=0;u<Yt.BARS_IN_MODULE;u++){let h=0;for(;(i&1)===l;)h+=1,i>>=1;l=i&1,Rr.RATIOS_TABLE[t]||(Rr.RATIOS_TABLE[t]=new Array(Yt.BARS_IN_MODULE)),Rr.RATIOS_TABLE[t][Yt.BARS_IN_MODULE-u-1]=Math.fround(h/Yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=Rr.getDecodedCodewordValue(Rr.sampleBitCounts(t));return i!==-1?i:Rr.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=Ve.sum(t),l=new Int32Array(Yt.BARS_IN_MODULE),u=0,h=0;for(let y=0;y<Yt.MODULES_IN_CODEWORD;y++){let o=i/(2*Yt.MODULES_IN_CODEWORD)+y*i/Yt.MODULES_IN_CODEWORD;h+t[u]<=o&&(h+=t[u],u++),l[u]++}return l}static getDecodedCodewordValue(t){let i=Rr.getBitValue(t);return Yt.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let l=0;l<t.length;l++)for(let u=0;u<t[l];u++)i=i<<1|(l%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=Ve.sum(t),l=new Array(Yt.BARS_IN_MODULE);if(i>1)for(let y=0;y<l.length;y++)l[y]=Math.fround(t[y]/i);let u=pt.MAX_VALUE,h=-1;this.bSymbolTableReady||Rr.initialize();for(let y=0;y<Rr.RATIOS_TABLE.length;y++){let o=0,d=Rr.RATIOS_TABLE[y];for(let x=0;x<Yt.BARS_IN_MODULE;x++){let b=Math.fround(d[x]-l[x]);if(o+=Math.fround(b*b),o>=u)break}o<u&&(u=o,h=Yt.SYMBOL_TABLE[y])}return h}}Rr.bSymbolTableReady=!1,Rr.RATIOS_TABLE=new Array(Yt.SYMBOL_TABLE.length).map($=>new Array(Yt.BARS_IN_MODULE));class Ua{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Qi{static parseLong(t,i=void 0){return parseInt(t,i)}}class Ei extends C{}Ei.kind="NullPointerException";class ho{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,l){if(t==null)throw new Ei;if(i<0||i>t.length||l<0||i+l>t.length||i+l<0)throw new H;if(l===0)return;for(let u=0;u<l;u++)this.write(t[i+u])}flush(){}close(){}}class Hi extends C{}class xs extends ho{constructor(t=32){if(super(),this.count=0,t<0)throw new R("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let l=this.buf.length<<1;if(l-t<0&&(l=t),l<0){if(t<0)throw new Hi;l=U.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,l)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,l){if(i<0||i>t.length||l<0||i+l-t.length>0)throw new H;this.ensureCapacity(this.count+l),P.arraycopy(t,i,this.buf,this.count,l),this.count+=l}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Fn;(function($){$[$.ALPHA=0]="ALPHA",$[$.LOWER=1]="LOWER",$[$.MIXED=2]="MIXED",$[$.PUNCT=3]="PUNCT",$[$.ALPHA_SHIFT=4]="ALPHA_SHIFT",$[$.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fn||(Fn={}));function vs(){if(typeof window<"u")return window.BigInt||null;if(typeof hl<"u")return hl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Gi;function Ca($){if(typeof Gi>"u"&&(Gi=vs()),Gi===null)throw new Error("BigInt is not supported!");return Gi($)}function Ii(){let $=[];$[0]=Ca(1);let t=Ca(900);$[1]=t;for(let i=2;i<16;i++)$[i]=$[i-1]*t;return $}class qe{static decode(t,i){let l=new se(""),u=j.ISO8859_1;l.enableDecoding(u);let h=1,y=t[h++],o=new Ua;for(;h<t[0];){switch(y){case qe.TEXT_COMPACTION_MODE_LATCH:h=qe.textCompaction(t,h,l);break;case qe.BYTE_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:h=qe.byteCompaction(y,t,u,h,l);break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(t[h++]);break;case qe.NUMERIC_COMPACTION_MODE_LATCH:h=qe.numericCompaction(t,h,l);break;case qe.ECI_CHARSET:j.getCharacterSetECIByValue(t[h++]);break;case qe.ECI_GENERAL_PURPOSE:h+=2;break;case qe.ECI_USER_DEFINED:h++;break;case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=qe.decodeMacroBlock(t,h,o);break;case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:throw new I;default:h--,h=qe.textCompaction(t,h,l);break}if(h<t.length)y=t[h++];else throw I.getFormatInstance()}if(l.length()===0)throw I.getFormatInstance();let d=new Q(null,l.toString(),null,i);return d.setOther(o),d}static decodeMacroBlock(t,i,l){if(i+qe.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw I.getFormatInstance();let u=new Int32Array(qe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let o=0;o<qe.NUMBER_OF_SEQUENCE_CODEWORDS;o++,i++)u[o]=t[i];l.setSegmentIndex(U.parseInt(qe.decodeBase900toBase10(u,qe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new se;i=qe.textCompaction(t,i,h),l.setFileId(h.toString());let y=-1;for(t[i]===qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=i+1);i<t[0];)switch(t[i]){case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let o=new se;i=qe.textCompaction(t,i+1,o),l.setFileName(o.toString());break;case qe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new se;i=qe.textCompaction(t,i+1,d),l.setSender(d.toString());break;case qe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new se;i=qe.textCompaction(t,i+1,x),l.setAddressee(x.toString());break;case qe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new se;i=qe.numericCompaction(t,i+1,b),l.setSegmentCount(U.parseInt(b.toString()));break;case qe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new se;i=qe.numericCompaction(t,i+1,B),l.setTimestamp(Qi.parseLong(B.toString()));break;case qe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let k=new se;i=qe.numericCompaction(t,i+1,k),l.setChecksum(U.parseInt(k.toString()));break;case qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new se;i=qe.numericCompaction(t,i+1,G),l.setFileSize(Qi.parseLong(G.toString()));break;default:throw I.getFormatInstance()}break;case qe.MACRO_PDF417_TERMINATOR:i++,l.setLastSegment(!0);break;default:throw I.getFormatInstance()}if(y!==-1){let o=i-y;l.isLastSegment()&&o--,l.setOptionalData(F.copyOfRange(t,y,y+o))}return i}static textCompaction(t,i,l){let u=new Int32Array((t[0]-i)*2),h=new Int32Array((t[0]-i)*2),y=0,o=!1;for(;i<t[0]&&!o;){let d=t[i++];if(d<qe.TEXT_COMPACTION_MODE_LATCH)u[y]=d/30,u[y+1]=d%30,y+=2;else switch(d){case qe.TEXT_COMPACTION_MODE_LATCH:u[y++]=qe.TEXT_COMPACTION_MODE_LATCH;break;case qe.BYTE_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:case qe.NUMERIC_COMPACTION_MODE_LATCH:case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:i--,o=!0;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[y]=qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=t[i++],h[y]=d,y++;break}}return qe.decodeTextCompaction(u,h,y,l),i}static decodeTextCompaction(t,i,l,u){let h=Fn.ALPHA,y=Fn.ALPHA,o=0;for(;o<l;){let d=t[o],x="";switch(h){case Fn.ALPHA:if(d<26)x=String.fromCharCode(65+d);else switch(d){case 26:x=" ";break;case qe.LL:h=Fn.LOWER;break;case qe.ML:h=Fn.MIXED;break;case qe.PS:y=h,h=Fn.PUNCT_SHIFT;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[o]);break;case qe.TEXT_COMPACTION_MODE_LATCH:h=Fn.ALPHA;break}break;case Fn.LOWER:if(d<26)x=String.fromCharCode(97+d);else switch(d){case 26:x=" ";break;case qe.AS:y=h,h=Fn.ALPHA_SHIFT;break;case qe.ML:h=Fn.MIXED;break;case qe.PS:y=h,h=Fn.PUNCT_SHIFT;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[o]);break;case qe.TEXT_COMPACTION_MODE_LATCH:h=Fn.ALPHA;break}break;case Fn.MIXED:if(d<qe.PL)x=qe.MIXED_CHARS[d];else switch(d){case qe.PL:h=Fn.PUNCT;break;case 26:x=" ";break;case qe.LL:h=Fn.LOWER;break;case qe.AL:h=Fn.ALPHA;break;case qe.PS:y=h,h=Fn.PUNCT_SHIFT;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[o]);break;case qe.TEXT_COMPACTION_MODE_LATCH:h=Fn.ALPHA;break}break;case Fn.PUNCT:if(d<qe.PAL)x=qe.PUNCT_CHARS[d];else switch(d){case qe.PAL:h=Fn.ALPHA;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[o]);break;case qe.TEXT_COMPACTION_MODE_LATCH:h=Fn.ALPHA;break}break;case Fn.ALPHA_SHIFT:if(h=y,d<26)x=String.fromCharCode(65+d);else switch(d){case 26:x=" ";break;case qe.TEXT_COMPACTION_MODE_LATCH:h=Fn.ALPHA;break}break;case Fn.PUNCT_SHIFT:if(h=y,d<qe.PAL)x=qe.PUNCT_CHARS[d];else switch(d){case qe.PAL:h=Fn.ALPHA;break;case qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[o]);break;case qe.TEXT_COMPACTION_MODE_LATCH:h=Fn.ALPHA;break}break}x!==""&&u.append(x),o++}}static byteCompaction(t,i,l,u,h){let y=new xs,o=0,d=0,x=!1;switch(t){case qe.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),B=i[u++];for(;u<i[0]&&!x;)switch(b[o++]=B,d=900*d+B,B=i[u++],B){case qe.TEXT_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH:case qe.NUMERIC_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:u--,x=!0;break;default:if(o%5===0&&o>0){for(let k=0;k<6;++k)y.write(Number(Ca(d)>>Ca(8*(5-k))));d=0,o=0}break}u===i[0]&&B<qe.TEXT_COMPACTION_MODE_LATCH&&(b[o++]=B);for(let k=0;k<o;k++)y.write(b[k]);break;case qe.BYTE_COMPACTION_MODE_LATCH_6:for(;u<i[0]&&!x;){let k=i[u++];if(k<qe.TEXT_COMPACTION_MODE_LATCH)o++,d=900*d+k;else switch(k){case qe.TEXT_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH:case qe.NUMERIC_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:u--,x=!0;break}if(o%5===0&&o>0){for(let G=0;G<6;++G)y.write(Number(Ca(d)>>Ca(8*(5-G))));d=0,o=0}}break}return h.append(de.decode(y.toByteArray(),l)),u}static numericCompaction(t,i,l){let u=0,h=!1,y=new Int32Array(qe.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!h;){let o=t[i++];if(i===t[0]&&(h=!0),o<qe.TEXT_COMPACTION_MODE_LATCH)y[u]=o,u++;else switch(o){case qe.TEXT_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH:case qe.BYTE_COMPACTION_MODE_LATCH_6:case qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case qe.MACRO_PDF417_TERMINATOR:i--,h=!0;break}(u%qe.MAX_NUMERIC_CODEWORDS===0||o===qe.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(l.append(qe.decodeBase900toBase10(y,u)),u=0)}return i}static decodeBase900toBase10(t,i){let l=Ca(0);for(let h=0;h<i;h++)l+=qe.EXP900[i-h-1]*Ca(t[h]);let u=l.toString();if(u.charAt(0)!=="1")throw new I;return u.substring(1)}}qe.TEXT_COMPACTION_MODE_LATCH=900,qe.BYTE_COMPACTION_MODE_LATCH=901,qe.NUMERIC_COMPACTION_MODE_LATCH=902,qe.BYTE_COMPACTION_MODE_LATCH_6=924,qe.ECI_USER_DEFINED=925,qe.ECI_GENERAL_PURPOSE=926,qe.ECI_CHARSET=927,qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,qe.MACRO_PDF417_TERMINATOR=922,qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,qe.MAX_NUMERIC_CODEWORDS=15,qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,qe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,qe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,qe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,qe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,qe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,qe.PL=25,qe.LL=27,qe.AS=27,qe.ML=28,qe.AL=28,qe.PS=29,qe.PAL=29,qe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,qe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",qe.EXP900=vs()?Ii():[],qe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class mn{constructor(){}static decode(t,i,l,u,h,y,o){let d=new Ea(t,i,l,u,h),x=null,b=null,B;for(let Y=!0;;Y=!1){if(i!=null&&(x=mn.getRowIndicatorColumn(t,d,i,!0,y,o)),u!=null&&(b=mn.getRowIndicatorColumn(t,d,u,!1,y,o)),B=mn.merge(x,b),B==null)throw oe.getNotFoundInstance();let ne=B.getBoundingBox();if(Y&&ne!=null&&(ne.getMinY()<d.getMinY()||ne.getMaxY()>d.getMaxY()))d=ne;else break}B.setBoundingBox(d);let k=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,x),B.setDetectionResultColumn(k,b);let G=x!=null;for(let Y=1;Y<=k;Y++){let ne=G?Y:k-Y;if(B.getDetectionResultColumn(ne)!==void 0)continue;let fe;ne===0||ne===k?fe=new fo(d,ne===0):fe=new Sa(d),B.setDetectionResultColumn(ne,fe);let ce=-1,pe=ce;for(let me=d.getMinY();me<=d.getMaxY();me++){if(ce=mn.getStartColumn(B,ne,me,G),ce<0||ce>d.getMaxX()){if(pe===-1)continue;ce=pe}let ye=mn.detectCodeword(t,d.getMinX(),d.getMaxX(),G,ce,me,y,o);ye!=null&&(fe.setCodeword(me,ye),pe=ce,y=Math.min(y,ye.getWidth()),o=Math.max(o,ye.getWidth()))}}return mn.createDecoderResult(B)}static merge(t,i){if(t==null&&i==null)return null;let l=mn.getBarcodeMetadata(t,i);if(l==null)return null;let u=Ea.merge(mn.adjustBoundingBox(t),mn.adjustBoundingBox(i));return new mr(l,u)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let l=mn.getMax(i),u=0;for(let o of i)if(u+=l-o,o>0)break;let h=t.getCodewords();for(let o=0;u>0&&h[o]==null;o++)u--;let y=0;for(let o=i.length-1;o>=0&&(y+=l-i[o],!(i[o]>0));o--);for(let o=h.length-1;y>0&&h[o]==null;o--)y--;return t.getBoundingBox().addMissingRows(u,y,t.isLeft())}static getMax(t){let i=-1;for(let l of t)i=Math.max(i,l);return i}static getBarcodeMetadata(t,i){let l;if(t==null||(l=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let u;return i==null||(u=i.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(t,i,l,u,h,y){let o=new fo(i,u);for(let d=0;d<2;d++){let x=d===0?1:-1,b=Math.trunc(Math.trunc(l.getX()));for(let B=Math.trunc(Math.trunc(l.getY()));B<=i.getMaxY()&&B>=i.getMinY();B+=x){let k=mn.detectCodeword(t,0,t.getWidth(),u,b,B,h,y);k!=null&&(o.setCodeword(B,k),u?b=k.getStartX():b=k.getEndX())}}return o}static adjustCodewordCount(t,i){let l=i[0][1],u=l.getValue(),h=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-mn.getNumberOfECCodeWords(t.getBarcodeECLevel());if(u.length===0){if(h<1||h>Yt.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();l.setValue(h)}else u[0]!==h&&l.setValue(h)}static createDecoderResult(t){let i=mn.createBarcodeMatrix(t);mn.adjustCodewordCount(t,i);let l=new Array,u=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),h=[],y=new Array;for(let d=0;d<t.getBarcodeRowCount();d++)for(let x=0;x<t.getBarcodeColumnCount();x++){let b=i[d][x+1].getValue(),B=d*t.getBarcodeColumnCount()+x;b.length===0?l.push(B):b.length===1?u[B]=b[0]:(y.push(B),h.push(b))}let o=new Array(h.length);for(let d=0;d<o.length;d++)o[d]=h[d];return mn.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),u,Yt.toIntArray(l),Yt.toIntArray(y),o)}static createDecoderResultFromAmbiguousValues(t,i,l,u,h){let y=new Int32Array(u.length),o=100;for(;o-- >0;){for(let d=0;d<y.length;d++)i[u[d]]=h[d][y[d]];try{return mn.decodeCodewords(i,t,l)}catch(d){if(!(d instanceof _))throw d}if(y.length===0)throw _.getChecksumInstance();for(let d=0;d<y.length;d++)if(y[d]<h[d].length-1){y[d]++;break}else if(y[d]=0,d===y.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let u=0;u<i.length;u++)for(let h=0;h<i[u].length;h++)i[u][h]=new La;let l=0;for(let u of t.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let y=h.getRowNumber();if(y>=0){if(y>=i.length)continue;i[y][l].setValue(h.getValue())}}}l++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,l,u){let h=u?1:-1,y=null;if(mn.isValidBarcodeColumn(t,i-h)&&(y=t.getDetectionResultColumn(i-h).getCodeword(l)),y!=null)return u?y.getEndX():y.getStartX();if(y=t.getDetectionResultColumn(i).getCodewordNearby(l),y!=null)return u?y.getStartX():y.getEndX();if(mn.isValidBarcodeColumn(t,i-h)&&(y=t.getDetectionResultColumn(i-h).getCodewordNearby(l)),y!=null)return u?y.getEndX():y.getStartX();let o=0;for(;mn.isValidBarcodeColumn(t,i-h);){i-=h;for(let d of t.getDetectionResultColumn(i).getCodewords())if(d!=null)return(u?d.getEndX():d.getStartX())+h*o*(d.getEndX()-d.getStartX());o++}return u?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,l,u,h,y,o,d){h=mn.adjustCodewordStartColumn(t,i,l,u,h,y);let x=mn.getModuleBitCount(t,i,l,u,h,y);if(x==null)return null;let b,B=Ve.sum(x);if(u)b=h+B;else{for(let Y=0;Y<x.length/2;Y++){let ne=x[Y];x[Y]=x[x.length-1-Y],x[x.length-1-Y]=ne}b=h,h=b-B}if(!mn.checkCodewordSkew(B,o,d))return null;let k=Rr.getDecodedValue(x),G=Yt.getCodeword(k);return G===-1?null:new Aa(h,b,mn.getCodewordBucketNumber(k),G)}static getModuleBitCount(t,i,l,u,h,y){let o=h,d=new Int32Array(8),x=0,b=u?1:-1,B=u;for(;(u?o<l:o>=i)&&x<d.length;)t.get(o,y)===B?(d[x]++,o+=b):(x++,B=!B);return x===d.length||o===(u?l:i)&&x===d.length-1?d:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,l,u,h,y){let o=h,d=u?-1:1;for(let x=0;x<2;x++){for(;(u?o>=i:o<l)&&u===t.get(o,y);){if(Math.abs(h-o)>mn.CODEWORD_SKEW_SIZE)return h;o+=d}d=-d,u=!u}return o}static checkCodewordSkew(t,i,l){return i-mn.CODEWORD_SKEW_SIZE<=t&&t<=l+mn.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,l){if(t.length===0)throw I.getFormatInstance();let u=1<<i+1,h=mn.correctErrors(t,l,u);mn.verifyCodewordCount(t,u);let y=qe.decode(t,""+i);return y.setErrorsCorrected(h),y.setErasures(l.length),y}static correctErrors(t,i,l){if(i!=null&&i.length>l/2+mn.MAX_ERRORS||l<0||l>mn.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return mn.errorCorrection.decode(t,l,i)}static verifyCodewordCount(t,i){if(t.length<4)throw I.getFormatInstance();let l=t[0];if(l>t.length)throw I.getFormatInstance();if(l===0)if(i<t.length)t[0]=t.length-i;else throw I.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),l=0,u=i.length-1;for(;!((t&1)!==l&&(l=t&1,u--,u<0));)i[u]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return mn.getCodewordBucketNumber(mn.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Ia;for(let l=0;l<t.length;l++){i.format("Row %2d: ",l);for(let u=0;u<t[l].length;u++){let h=t[l][u];h.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}i.format("%n")}return i.toString()}}mn.CODEWORD_SKEW_SIZE=2,mn.MAX_ERRORS=3,mn.MAX_EC_CODEWORDS=512,mn.errorCorrection=new va;class Or{decode(t,i=null){let l=Or.decode(t,i,!1);if(l==null||l.length===0||l[0]==null)throw oe.getNotFoundInstance();return l[0]}decodeMultiple(t,i=null){try{return Or.decode(t,i,!0)}catch(l){throw l instanceof I||l instanceof _?oe.getNotFoundInstance():l}}static decode(t,i,l){const u=new Array,h=un.detectMultiple(t,i,l);for(const y of h.getPoints()){const o=mn.decode(h.getBits(),y[4],y[5],y[6],y[7],Or.getMinCodewordWidth(y),Or.getMaxCodewordWidth(y)),d=new _e(o.getText(),o.getRawBytes(),void 0,y,Ne.PDF_417);d.putMetadata(yt.ERROR_CORRECTION_LEVEL,o.getECLevel());const x=o.getOther();x!=null&&d.putMetadata(yt.PDF417_EXTRA_METADATA,x),u.push(d)}return u.map(y=>y)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?U.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Or.getMaxWidth(t[0],t[4]),Or.getMaxWidth(t[6],t[2])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN),Math.max(Or.getMaxWidth(t[1],t[5]),Or.getMaxWidth(t[7],t[3])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Or.getMinWidth(t[0],t[4]),Or.getMinWidth(t[6],t[2])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN),Math.min(Or.getMinWidth(t[1],t[5]),Or.getMinWidth(t[7],t[3])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fa extends C{}Fa.kind="ReaderException";class As{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!f(t)&&t.get(M.TRY_HARDER)===!0,l=f(t)?null:t.get(M.POSSIBLE_FORMATS),u=new Array;if(!f(l)){const h=l.some(y=>y===Ne.UPC_A||y===Ne.UPC_E||y===Ne.EAN_13||y===Ne.EAN_8||y===Ne.CODABAR||y===Ne.CODE_39||y===Ne.CODE_93||y===Ne.CODE_128||y===Ne.ITF||y===Ne.RSS_14||y===Ne.RSS_EXPANDED);h&&!i&&u.push(new jr(t,this.verbose)),l.includes(Ne.QR_CODE)&&u.push(new Sr),l.includes(Ne.DATA_MATRIX)&&u.push(new Gn),l.includes(Ne.AZTEC)&&u.push(new yn),l.includes(Ne.PDF_417)&&u.push(new Or),h&&i&&u.push(new jr(t,this.verbose))}u.length===0&&(i||u.push(new jr(t,this.verbose)),u.push(new Sr),u.push(new Gn),u.push(new yn),u.push(new Or),i&&u.push(new jr(t,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Fa("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(l){if(l instanceof Fa)continue}throw new oe("No MultiFormat Readers were able to detect the code.")}}class Cs extends ze{constructor(t=null,i=500){const l=new As;l.setHints(t),super(l,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class go extends ze{constructor(t=500){super(new Or,t)}}class po extends ze{constructor(t=500){super(new Sr,t)}}var Tr;(function($){$[$.ERROR_CORRECTION=0]="ERROR_CORRECTION",$[$.CHARACTER_SET=1]="CHARACTER_SET",$[$.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",$[$.MIN_SIZE=3]="MIN_SIZE",$[$.MAX_SIZE=4]="MAX_SIZE",$[$.MARGIN=5]="MARGIN",$[$.PDF417_COMPACT=6]="PDF417_COMPACT",$[$.PDF417_COMPACTION=7]="PDF417_COMPACTION",$[$.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",$[$.AZTEC_LAYERS=9]="AZTEC_LAYERS",$[$.QR_VERSION=10]="QR_VERSION"})(Tr||(Tr={}));var gr=Tr;class Pa{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new re(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let l=i[i.length-1];const u=this.field;for(let h=i.length;h<=t;h++){const y=l.multiply(new re(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));i.push(y),l=y}}return i[t]}encode(t,i){if(i===0)throw new R("No error correction bytes");const l=t.length-i;if(l<=0)throw new R("No data bytes provided");const u=this.buildGenerator(i),h=new Int32Array(l);P.arraycopy(t,0,h,0,l);let y=new re(this.field,h);y=y.multiplyByMonomial(i,1);const d=y.divide(u)[1].getCoefficients(),x=i-d.length;for(let b=0;b<x;b++)t[l+b]=0;P.arraycopy(d,0,t,l+x,d.length)}}class pr{constructor(){}static applyMaskPenaltyRule1(t){return pr.applyMaskPenaltyRule1Internal(t,!0)+pr.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const l=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let y=0;y<h-1;y++){const o=l[y];for(let d=0;d<u-1;d++){const x=o[d];x===o[d+1]&&x===l[y+1][d]&&x===l[y+1][d+1]&&i++}}return pr.N2*i}static applyMaskPenaltyRule3(t){let i=0;const l=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let y=0;y<h;y++)for(let o=0;o<u;o++){const d=l[y];o+6<u&&d[o]===1&&d[o+1]===0&&d[o+2]===1&&d[o+3]===1&&d[o+4]===1&&d[o+5]===0&&d[o+6]===1&&(pr.isWhiteHorizontal(d,o-4,o)||pr.isWhiteHorizontal(d,o+7,o+11))&&i++,y+6<h&&l[y][o]===1&&l[y+1][o]===0&&l[y+2][o]===1&&l[y+3][o]===1&&l[y+4][o]===1&&l[y+5][o]===0&&l[y+6][o]===1&&(pr.isWhiteVertical(l,o,y-4,y)||pr.isWhiteVertical(l,o,y+7,y+11))&&i++}return i*pr.N3}static isWhiteHorizontal(t,i,l){i=Math.max(i,0),l=Math.min(l,t.length);for(let u=i;u<l;u++)if(t[u]===1)return!1;return!0}static isWhiteVertical(t,i,l,u){l=Math.max(l,0),u=Math.min(u,t.length);for(let h=l;h<u;h++)if(t[h][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const l=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let d=0;d<h;d++){const x=l[d];for(let b=0;b<u;b++)x[b]===1&&i++}const y=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-y)*10/y)*pr.N4}static getDataMaskBit(t,i,l){let u,h;switch(t){case 0:u=l+i&1;break;case 1:u=l&1;break;case 2:u=i%3;break;case 3:u=(l+i)%3;break;case 4:u=Math.floor(l/2)+Math.floor(i/3)&1;break;case 5:h=l*i,u=(h&1)+h%3;break;case 6:h=l*i,u=(h&1)+h%3&1;break;case 7:h=l*i,u=h%3+(l+i&1)&1;break;default:throw new R("Invalid mask pattern: "+t)}return u===0}static applyMaskPenaltyRule1Internal(t,i){let l=0;const u=i?t.getHeight():t.getWidth(),h=i?t.getWidth():t.getHeight(),y=t.getArray();for(let o=0;o<u;o++){let d=0,x=-1;for(let b=0;b<h;b++){const B=i?y[o][b]:y[b][o];B===x?d++:(d>=5&&(l+=pr.N1+(d-5)),d=1,x=B)}d>=5&&(l+=pr.N1+(d-5))}return l}}pr.N1=3,pr.N2=3,pr.N3=40,pr.N4=10;class ui{constructor(t,i){this.width=t,this.height=i;const l=new Array(i);for(let u=0;u!==i;u++)l[u]=new Uint8Array(t);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,l){this.bytes[i][t]=l}setBoolean(t,i,l){this.bytes[i][t]=l?1:0}clear(t){for(const i of this.bytes)F.fill(i,t)}equals(t){if(!(t instanceof ui))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let l=0,u=this.height;l<u;++l){const h=this.bytes[l],y=i.bytes[l];for(let o=0,d=this.width;o<d;++o)if(h[o]!==y[o])return!1}return!0}toString(){const t=new se;for(let i=0,l=this.height;i<l;++i){const u=this.bytes[i];for(let h=0,y=this.width;h<y;++h)switch(u[h]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ja{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new se;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ja.NUM_MASK_PATTERNS}}Ja.NUM_MASK_PATTERNS=8;class Kn extends C{}Kn.kind="WriterException";class Xt{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,l,u,h){Xt.clearMatrix(h),Xt.embedBasicPatterns(l,h),Xt.embedTypeInfo(i,u,h),Xt.maybeEmbedVersionInfo(l,h),Xt.embedDataBits(t,u,h)}static embedBasicPatterns(t,i){Xt.embedPositionDetectionPatternsAndSeparators(i),Xt.embedDarkDotAtLeftBottomCorner(i),Xt.maybeEmbedPositionAdjustmentPatterns(t,i),Xt.embedTimingPatterns(i)}static embedTypeInfo(t,i,l){const u=new K;Xt.makeTypeInfoBits(t,i,u);for(let h=0,y=u.getSize();h<y;++h){const o=u.get(u.getSize()-1-h),d=Xt.TYPE_INFO_COORDINATES[h],x=d[0],b=d[1];if(l.setBoolean(x,b,o),h<8){const B=l.getWidth()-h-1;l.setBoolean(B,8,o)}else{const k=l.getHeight()-7+(h-8);l.setBoolean(8,k,o)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const l=new K;Xt.makeVersionInfoBits(t,l);let u=17;for(let h=0;h<6;++h)for(let y=0;y<3;++y){const o=l.get(u);u--,i.setBoolean(h,i.getHeight()-11+y,o),i.setBoolean(i.getHeight()-11+y,h,o)}}static embedDataBits(t,i,l){let u=0,h=-1,y=l.getWidth()-1,o=l.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);o>=0&&o<l.getHeight();){for(let d=0;d<2;++d){const x=y-d;if(!Xt.isEmpty(l.get(x,o)))continue;let b;u<t.getSize()?(b=t.get(u),++u):b=!1,i!==255&&pr.getDataMaskBit(i,x,o)&&(b=!b),l.setBoolean(x,o,b)}o+=h}h=-h,o+=h,y-=2}if(u!==t.getSize())throw new Kn("Not all bits consumed: "+u+"/"+t.getSize())}static findMSBSet(t){return 32-U.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new R("0 polynomial");const l=Xt.findMSBSet(i);for(t<<=l-1;Xt.findMSBSet(t)>=l;)t^=i<<Xt.findMSBSet(t)-l;return t}static makeTypeInfoBits(t,i,l){if(!Ja.isValidMaskPattern(i))throw new Kn("Invalid mask pattern");const u=t.getBits()<<3|i;l.appendBits(u,5);const h=Xt.calculateBCHCode(u,Xt.TYPE_INFO_POLY);l.appendBits(h,10);const y=new K;if(y.appendBits(Xt.TYPE_INFO_MASK_PATTERN,15),l.xor(y),l.getSize()!==15)throw new Kn("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const l=Xt.calculateBCHCode(t.getVersionNumber(),Xt.VERSION_INFO_POLY);if(i.appendBits(l,12),i.getSize()!==18)throw new Kn("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const l=(i+1)%2;Xt.isEmpty(t.get(i,6))&&t.setNumber(i,6,l),Xt.isEmpty(t.get(6,i))&&t.setNumber(6,i,l)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Kn;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,l){for(let u=0;u<8;++u){if(!Xt.isEmpty(l.get(t+u,i)))throw new Kn;l.setNumber(t+u,i,0)}}static embedVerticalSeparationPattern(t,i,l){for(let u=0;u<7;++u){if(!Xt.isEmpty(l.get(t,i+u)))throw new Kn;l.setNumber(t,i+u,0)}}static embedPositionAdjustmentPattern(t,i,l){for(let u=0;u<5;++u){const h=Xt.POSITION_ADJUSTMENT_PATTERN[u];for(let y=0;y<5;++y)l.setNumber(t+y,i+u,h[y])}}static embedPositionDetectionPattern(t,i,l){for(let u=0;u<7;++u){const h=Xt.POSITION_DETECTION_PATTERN[u];for(let y=0;y<7;++y)l.setNumber(t+y,i+u,h[y])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Xt.POSITION_DETECTION_PATTERN[0].length;Xt.embedPositionDetectionPattern(0,0,t),Xt.embedPositionDetectionPattern(t.getWidth()-i,0,t),Xt.embedPositionDetectionPattern(0,t.getWidth()-i,t);const l=8;Xt.embedHorizontalSeparationPattern(0,l-1,t),Xt.embedHorizontalSeparationPattern(t.getWidth()-l,l-1,t),Xt.embedHorizontalSeparationPattern(0,t.getWidth()-l,t);const u=7;Xt.embedVerticalSeparationPattern(u,0,t),Xt.embedVerticalSeparationPattern(t.getHeight()-u-1,0,t),Xt.embedVerticalSeparationPattern(u,t.getHeight()-u,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const l=t.getVersionNumber()-1,u=Xt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,y=u.length;h!==y;h++){const o=u[h];if(o>=0)for(let d=0;d!==y;d++){const x=u[d];x>=0&&Xt.isEmpty(i.get(x,o))&&Xt.embedPositionAdjustmentPattern(x-2,o-2,i)}}}}Xt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xt.VERSION_INFO_POLY=7973,Xt.TYPE_INFO_POLY=1335,Xt.TYPE_INFO_MASK_PATTERN=21522;class yo{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pn{constructor(){}static calculateMaskPenalty(t){return pr.applyMaskPenaltyRule1(t)+pr.applyMaskPenaltyRule2(t)+pr.applyMaskPenaltyRule3(t)+pr.applyMaskPenaltyRule4(t)}static encode(t,i,l=null){let u=Pn.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(gr.CHARACTER_SET)!==void 0;h&&(u=l.get(gr.CHARACTER_SET).toString());const y=this.chooseMode(t,u),o=new K;if(y===qt.BYTE&&(h||Pn.DEFAULT_BYTE_MODE_ENCODING!==u)){const me=j.getCharacterSetECIByName(u);me!==void 0&&this.appendECI(me,o)}this.appendModeInfo(y,o);const d=new K;this.appendBytes(t,y,d,u);let x;if(l!==null&&l.get(gr.QR_VERSION)!==void 0){const me=Number.parseInt(l.get(gr.QR_VERSION).toString(),10);x=Bt.getVersionForNumber(me);const ye=this.calculateBitsNeeded(y,o,d,x);if(!this.willFit(ye,x,i))throw new Kn("Data too big for requested version")}else x=this.recommendVersion(i,y,o,d);const b=new K;b.appendBitArray(o);const B=y===qt.BYTE?d.getSizeInBytes():t.length;this.appendLengthInfo(B,x,y,b),b.appendBitArray(d);const k=x.getECBlocksForLevel(i),G=x.getTotalCodewords()-k.getTotalECCodewords();this.terminateBits(G,b);const Y=this.interleaveWithECBytes(b,x.getTotalCodewords(),G,k.getNumBlocks()),ne=new Ja;ne.setECLevel(i),ne.setMode(y),ne.setVersion(x);const fe=x.getDimensionForVersion(),ce=new ui(fe,fe),pe=this.chooseMaskPattern(Y,i,x,ce);return ne.setMaskPattern(pe),Xt.buildMatrix(Y,i,x,pe,ce),ne.setMatrix(ce),ne}static recommendVersion(t,i,l,u){const h=this.calculateBitsNeeded(i,l,u,Bt.getVersionForNumber(1)),y=this.chooseVersion(h,t),o=this.calculateBitsNeeded(i,l,u,y);return this.chooseVersion(o,t)}static calculateBitsNeeded(t,i,l,u){return i.getSize()+t.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(t){return t<Pn.ALPHANUMERIC_TABLE.length?Pn.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(j.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return qt.KANJI;let l=!1,u=!1;for(let h=0,y=t.length;h<y;++h){const o=t.charAt(h);if(Pn.isDigit(o))l=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)u=!0;else return qt.BYTE}return u?qt.ALPHANUMERIC:l?qt.NUMERIC:qt.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=de.encode(t,j.SJIS)}catch{return!1}const l=i.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const h=i[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(t,i,l,u){let h=Number.MAX_SAFE_INTEGER,y=-1;for(let o=0;o<Ja.NUM_MASK_PATTERNS;o++){Xt.buildMatrix(t,i,l,o,u);let d=this.calculateMaskPenalty(u);d<h&&(h=d,y=o)}return y}static chooseVersion(t,i){for(let l=1;l<=40;l++){const u=Bt.getVersionForNumber(l);if(Pn.willFit(t,u,i))return u}throw new Kn("Data too big")}static willFit(t,i,l){const u=i.getTotalCodewords(),y=i.getECBlocksForLevel(l).getTotalECCodewords(),o=u-y,d=(t+7)/8;return o>=d}static terminateBits(t,i){const l=t*8;if(i.getSize()>l)throw new Kn("data bits cannot fit in the QR Code"+i.getSize()+" > "+l);for(let y=0;y<4&&i.getSize()<l;++y)i.appendBit(!1);const u=i.getSize()&7;if(u>0)for(let y=u;y<8;y++)i.appendBit(!1);const h=t-i.getSizeInBytes();for(let y=0;y<h;++y)i.appendBits((y&1)===0?236:17,8);if(i.getSize()!==l)throw new Kn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,l,u,h,y){if(u>=l)throw new Kn("Block ID too large");const o=t%l,d=l-o,x=Math.floor(t/l),b=x+1,B=Math.floor(i/l),k=B+1,G=x-B,Y=b-k;if(G!==Y)throw new Kn("EC bytes mismatch");if(l!==d+o)throw new Kn("RS blocks mismatch");if(t!==(B+G)*d+(k+Y)*o)throw new Kn("Total bytes mismatch");u<d?(h[0]=B,y[0]=G):(h[0]=k,y[0]=Y)}static interleaveWithECBytes(t,i,l,u){if(t.getSizeInBytes()!==l)throw new Kn("Number of bits and data bytes does not match");let h=0,y=0,o=0;const d=new Array;for(let b=0;b<u;++b){const B=new Int32Array(1),k=new Int32Array(1);Pn.getNumDataBytesAndNumECBytesForBlockID(i,l,u,b,B,k);const G=B[0],Y=new Uint8Array(G);t.toBytes(8*h,Y,0,G);const ne=Pn.generateECBytes(Y,k[0]);d.push(new yo(Y,ne)),y=Math.max(y,G),o=Math.max(o,ne.length),h+=B[0]}if(l!==h)throw new Kn("Data bytes does not match offset");const x=new K;for(let b=0;b<y;++b)for(const B of d){const k=B.getDataBytes();b<k.length&&x.appendBits(k[b],8)}for(let b=0;b<o;++b)for(const B of d){const k=B.getErrorCorrectionBytes();b<k.length&&x.appendBits(k[b],8)}if(i!==x.getSizeInBytes())throw new Kn("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,i){const l=t.length,u=new Int32Array(l+i);for(let y=0;y<l;y++)u[y]=t[y]&255;new Pa(Z.QR_CODE_FIELD_256).encode(u,i);const h=new Uint8Array(i);for(let y=0;y<i;y++)h[y]=u[l+y];return h}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,l,u){const h=l.getCharacterCountBits(i);if(t>=1<<h)throw new Kn(t+" is bigger than "+((1<<h)-1));u.appendBits(t,h)}static appendBytes(t,i,l,u){switch(i){case qt.NUMERIC:Pn.appendNumericBytes(t,l);break;case qt.ALPHANUMERIC:Pn.appendAlphanumericBytes(t,l);break;case qt.BYTE:Pn.append8BitBytes(t,l,u);break;case qt.KANJI:Pn.appendKanjiBytes(t,l);break;default:throw new Kn("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Pn.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const l=t.length;let u=0;for(;u<l;){const h=Pn.getDigit(t.charAt(u));if(u+2<l){const y=Pn.getDigit(t.charAt(u+1)),o=Pn.getDigit(t.charAt(u+2));i.appendBits(h*100+y*10+o,10),u+=3}else if(u+1<l){const y=Pn.getDigit(t.charAt(u+1));i.appendBits(h*10+y,7),u+=2}else i.appendBits(h,4),u++}}static appendAlphanumericBytes(t,i){const l=t.length;let u=0;for(;u<l;){const h=Pn.getAlphanumericCode(t.charCodeAt(u));if(h===-1)throw new Kn;if(u+1<l){const y=Pn.getAlphanumericCode(t.charCodeAt(u+1));if(y===-1)throw new Kn;i.appendBits(h*45+y,11),u+=2}else i.appendBits(h,6),u++}}static append8BitBytes(t,i,l){let u;try{u=de.encode(t,l)}catch(h){throw new Kn(h)}for(let h=0,y=u.length;h!==y;h++){const o=u[h];i.appendBits(o,8)}}static appendKanjiBytes(t,i){let l;try{l=de.encode(t,j.SJIS)}catch(h){throw new Kn(h)}const u=l.length;for(let h=0;h<u;h+=2){const y=l[h]&255,o=l[h+1]&255,d=y<<8&4294967295|o;let x=-1;if(d>=33088&&d<=40956?x=d-33088:d>=57408&&d<=60351&&(x=d-49472),x===-1)throw new Kn("Invalid byte sequence");const b=(x>>8)*192+(x&255);i.appendBits(b,13)}}static appendECI(t,i){i.appendBits(qt.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Pn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pn.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class Va{write(t,i,l,u=null){if(t.length===0)throw new R("Found empty contents");if(i<0||l<0)throw new R("Requested dimensions are too small: "+i+"x"+l);let h=en.L,y=Va.QUIET_ZONE_SIZE;u!==null&&(u.get(gr.ERROR_CORRECTION)!==void 0&&(h=en.fromString(u.get(gr.ERROR_CORRECTION).toString())),u.get(gr.MARGIN)!==void 0&&(y=Number.parseInt(u.get(gr.MARGIN).toString(),10)));const o=Pn.encode(t,h,u);return this.renderResult(o,i,l,y)}writeToDom(t,i,l,u,h=null){typeof t=="string"&&(t=document.querySelector(t));const y=this.write(i,l,u,h);t&&t.appendChild(y)}renderResult(t,i,l,u){const h=t.getMatrix();if(h===null)throw new xe;const y=h.getWidth(),o=h.getHeight(),d=y+u*2,x=o+u*2,b=Math.max(i,d),B=Math.max(l,x),k=Math.min(Math.floor(b/d),Math.floor(B/x)),G=Math.floor((b-y*k)/2),Y=Math.floor((B-o*k)/2),ne=this.createSVGElement(b,B);for(let fe=0,ce=Y;fe<o;fe++,ce+=k)for(let pe=0,me=G;pe<y;pe++,me+=k)if(h.get(pe,fe)===1){const ye=this.createSvgRectElement(me,ce,k,k);ne.appendChild(ye)}return ne}createSVGElement(t,i){const l=document.createElementNS(Va.SVG_NS,"svg");return l.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width",i.toString()),l}createSvgRectElement(t,i,l,u){const h=document.createElementNS(Va.SVG_NS,"rect");return h.setAttributeNS(null,"x",t.toString()),h.setAttributeNS(null,"y",i.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Va.QUIET_ZONE_SIZE=4,Va.SVG_NS="http://www.w3.org/2000/svg";class $a{encode(t,i,l,u,h){if(t.length===0)throw new R("Found empty contents");if(i!==Ne.QR_CODE)throw new R("Can only encode QR_CODE, but got "+i);if(l<0||u<0)throw new R(`Requested dimensions are too small: ${l}x${u}`);let y=en.L,o=$a.QUIET_ZONE_SIZE;h!==null&&(h.get(gr.ERROR_CORRECTION)!==void 0&&(y=en.fromString(h.get(gr.ERROR_CORRECTION).toString())),h.get(gr.MARGIN)!==void 0&&(o=Number.parseInt(h.get(gr.MARGIN).toString(),10)));const d=Pn.encode(t,y,h);return $a.renderResult(d,l,u,o)}static renderResult(t,i,l,u){const h=t.getMatrix();if(h===null)throw new xe;const y=h.getWidth(),o=h.getHeight(),d=y+u*2,x=o+u*2,b=Math.max(i,d),B=Math.max(l,x),k=Math.min(Math.floor(b/d),Math.floor(B/x)),G=Math.floor((b-y*k)/2),Y=Math.floor((B-o*k)/2),ne=new Ce(b,B);for(let fe=0,ce=Y;fe<o;fe++,ce+=k)for(let pe=0,me=G;pe<y;pe++,me+=k)h.get(pe,fe)===1&&ne.setRegion(me,ce,k,k);return ne}}$a.QUIET_ZONE_SIZE=4;class bs{encode(t,i,l,u,h){let y;switch(i){case Ne.QR_CODE:y=new $a;break;default:throw new R("No encoder available for format "+i)}return y.encode(t,i,l,u,h)}}class ua extends ke{constructor(t,i,l,u,h,y,o,d){if(super(y,o),this.yuvData=t,this.dataWidth=i,this.dataHeight=l,this.left=u,this.top=h,u+y>i||h+o>l)throw new R("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(y,o)}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const l=this.getWidth();(i==null||i.length<l)&&(i=new Uint8ClampedArray(l));const u=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,u,i,0,l),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const l=t*i,u=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.yuvData,h,u,0,l),u;for(let y=0;y<i;y++){const o=y*t;P.arraycopy(this.yuvData,h,u,o,t),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(t,i,l,u){return new ua(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,l,u,!1)}renderThumbnail(){const t=this.getWidth()/ua.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/ua.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(t*i),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let y=0;y<i;y++){const o=y*t;for(let d=0;d<t;d++){const x=u[h+d*ua.THUMBNAIL_SCALE_FACTOR]&255;l[o+d]=4278190080|x*65793}h+=this.dataWidth*ua.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/ua.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ua.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const l=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<i;u++,h+=this.dataWidth){const y=h+t/2;for(let o=h,d=h+t-1;o<y;o++,d--){const x=l[o];l[o]=l[d],l[d]=x}}}invert(){return new Ue(this)}}ua.THUMBNAIL_SCALE_FACTOR=2;class ws extends ke{constructor(t,i,l,u,h,y,o){if(super(i,l),this.dataWidth=u,this.dataHeight=h,this.left=y,this.top=o,t.BYTES_PER_ELEMENT===4){const d=i*l,x=new Uint8ClampedArray(d);for(let b=0;b<d;b++){const B=t[b],k=B>>16&255,G=B>>7&510,Y=B&255;x[b]=(k+G+Y)/4&255}this.luminances=x}else this.luminances=t;if(u===void 0&&(this.dataWidth=i),h===void 0&&(this.dataHeight=l),y===void 0&&(this.left=0),o===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+l>this.dataHeight)throw new R("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const l=this.getWidth();(i==null||i.length<l)&&(i=new Uint8ClampedArray(l));const u=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,u,i,0,l),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const l=t*i,u=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.luminances,h,u,0,l),u;for(let y=0;y<i;y++){const o=y*t;P.arraycopy(this.luminances,h,u,o,t),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(t,i,l,u){return new ws(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Ue(this)}}class Fo extends j{static forName(t){return this.getCharacterSetECIByName(t)}}class fi{}fi.ISO_8859_1=j.ISO8859_1;class Qa{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Po{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Es{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ha extends Es{constructor(t,i,l){super(t),this.value=i,this.bitCount=l}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new Ha(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ha(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+U.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Is extends Ha{constructor(t,i,l){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=l}appendTo(t,i){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):l===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+l],8)}addBinaryShift(t,i){return new Is(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function mo($,t,i){return new Is($,t,i)}function Si($,t,i){return new Ha($,t,i)}const di=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ga=0,Ss=1,aa=2,ji=3,fa=4,Ti=new Ha(null,0,0),hi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Rl($){for(let t of $)F.fill(t,-1);return $[Ga][fa]=0,$[Ss][fa]=0,$[Ss][Ga]=28,$[ji][fa]=0,$[aa][fa]=0,$[aa][Ga]=15,$}const Ki=Rl(F.createInt32Array(6,6));class Wr{constructor(t,i,l,u){this.token=t,this.mode=i,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let l=this.bitCount,u=this.token;if(t!==this.mode){let y=hi[this.mode][t];u=Si(u,y&65535,y>>16),l+=y>>16}let h=t===aa?4:5;return u=Si(u,i,h),new Wr(u,t,0,l+h)}shiftAndAppend(t,i){let l=this.token,u=this.mode===aa?4:5;return l=Si(l,Ki[this.mode][t],u),l=Si(l,i,5),new Wr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(t){let i=this.token,l=this.mode,u=this.bitCount;if(this.mode===fa||this.mode===aa){let o=hi[l][Ga];i=Si(i,o&65535,o>>16),u+=o>>16,l=Ga}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new Wr(i,l,this.binaryShiftByteCount+1,u+h);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(t+1)),y}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=mo(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Wr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(hi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Wr.calculateBinaryShiftCost(t)-Wr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let u=this.endBinaryShift(t.length).token;u!==null;u=u.getPrevious())i.unshift(u);let l=new K;for(const u of i)u.appendTo(l,t);return l}toString(){return ee.format("%s bits=%d bytes=%d",di[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Wr.INITIAL_STATE=new Wr(Ti,Ga,0,0);function Ta($){const t=ee.getCharCode(" "),i=ee.getCharCode("."),l=ee.getCharCode(",");$[Ga][t]=1;const u=ee.getCharCode("Z"),h=ee.getCharCode("A");for(let k=h;k<=u;k++)$[Ga][k]=k-h+2;$[Ss][t]=1;const y=ee.getCharCode("z"),o=ee.getCharCode("a");for(let k=o;k<=y;k++)$[Ss][k]=k-o+2;$[aa][t]=1;const d=ee.getCharCode("9"),x=ee.getCharCode("0");for(let k=x;k<=d;k++)$[aa][k]=k-x+2;$[aa][l]=12,$[aa][i]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let k=0;k<b.length;k++)$[ji][ee.getCharCode(b[k])]=k;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let k=0;k<B.length;k++)ee.getCharCode(B[k])>0&&($[fa][ee.getCharCode(B[k])]=k);return $}const tr=Ta(F.createInt32Array(5,256));class Ba{constructor(t){this.text=t}encode(){const t=ee.getCharCode(" "),i=ee.getCharCode(`
`);let l=Po.singletonList(Wr.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let y,o=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ee.getCharCode("\r"):y=o===i?2:0;break;case ee.getCharCode("."):y=o===t?3:0;break;case ee.getCharCode(","):y=o===t?4:0;break;case ee.getCharCode(":"):y=o===t?5:0;break;default:y=0}y>0?(l=Ba.updateStateListForPair(l,h,y),h++):l=this.updateStateListForChar(l,h)}return Po.min(l,(h,y)=>h.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const l=[];for(let u of t)this.updateStateForChar(u,i,l);return Ba.simplifyStates(l)}updateStateForChar(t,i,l){let u=this.text[i]&255,h=tr[t.getMode()][u]>0,y=null;for(let o=0;o<=fa;o++){let d=tr[o][u];if(d>0){if(y==null&&(y=t.endBinaryShift(i)),!h||o===t.getMode()||o===aa){const x=y.latchAndAppend(o,d);l.push(x)}if(!h&&Ki[t.getMode()][o]>=0){const x=y.shiftAndAppend(o,d);l.push(x)}}}if(t.getBinaryShiftByteCount()>0||tr[t.getMode()][u]===0){let o=t.addBinaryShiftChar(i);l.push(o)}}static updateStateListForPair(t,i,l){const u=[];for(let h of t)this.updateStateForPair(h,i,l,u);return this.simplifyStates(u)}static updateStateForPair(t,i,l,u){let h=t.endBinaryShift(i);if(u.push(h.latchAndAppend(fa,l)),t.getMode()!==fa&&u.push(h.shiftAndAppend(fa,l)),l===3||l===4){let y=h.latchAndAppend(aa,16-l).latchAndAppend(aa,1);u.push(y)}if(t.getBinaryShiftByteCount()>0){let y=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);u.push(y)}}static simplifyStates(t){let i=[];for(const l of t){let u=!0;for(const h of i){if(h.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(h)&&(i=i.filter(y=>y!==h))}u&&i.push(l)}return i}}class Cn{constructor(){}static encodeBytes(t){return Cn.encode(t,Cn.DEFAULT_EC_PERCENT,Cn.DEFAULT_AZTEC_LAYERS)}static encode(t,i,l){let u=new Ba(t).encode(),h=U.truncDivision(u.getSize()*i,100)+11,y=u.getSize()+h,o,d,x,b,B;if(l!==Cn.DEFAULT_AZTEC_LAYERS){if(o=l<0,d=Math.abs(l),d>(o?Cn.MAX_NB_BITS_COMPACT:Cn.MAX_NB_BITS))throw new R(ee.format("Illegal value %s for layers",l));x=Cn.totalBitsInLayer(d,o),b=Cn.WORD_SIZE[d];let ye=x-x%b;if(B=Cn.stuffBits(u,b),B.getSize()+h>ye)throw new R("Data to large for user specified layer");if(o&&B.getSize()>b*64)throw new R("Data to large for user specified layer")}else{b=0,B=null;for(let ye=0;;ye++){if(ye>Cn.MAX_NB_BITS)throw new R("Data too large for an Aztec code");if(o=ye<=3,d=o?ye+1:ye,x=Cn.totalBitsInLayer(d,o),y>x)continue;(B==null||b!==Cn.WORD_SIZE[d])&&(b=Cn.WORD_SIZE[d],B=Cn.stuffBits(u,b));let Ie=x-x%b;if(!(o&&B.getSize()>b*64)&&B.getSize()+h<=Ie)break}}let k=Cn.generateCheckWords(B,x,b),G=B.getSize()/b,Y=Cn.generateModeMessage(o,d,G),ne=(o?11:14)+d*4,fe=new Int32Array(ne),ce;if(o){ce=ne;for(let ye=0;ye<fe.length;ye++)fe[ye]=ye}else{ce=ne+1+2*U.truncDivision(U.truncDivision(ne,2)-1,15);let ye=U.truncDivision(ne,2),Ie=U.truncDivision(ce,2);for(let Ee=0;Ee<ye;Ee++){let Le=Ee+U.truncDivision(Ee,15);fe[ye-Ee-1]=Ie-Le-1,fe[ye+Ee]=Ie+Le+1}}let pe=new Ce(ce);for(let ye=0,Ie=0;ye<d;ye++){let Ee=(d-ye)*4+(o?9:12);for(let Le=0;Le<Ee;Le++){let Qe=Le*2;for(let Oe=0;Oe<2;Oe++)k.get(Ie+Qe+Oe)&&pe.set(fe[ye*2+Oe],fe[ye*2+Le]),k.get(Ie+Ee*2+Qe+Oe)&&pe.set(fe[ye*2+Le],fe[ne-1-ye*2-Oe]),k.get(Ie+Ee*4+Qe+Oe)&&pe.set(fe[ne-1-ye*2-Oe],fe[ne-1-ye*2-Le]),k.get(Ie+Ee*6+Qe+Oe)&&pe.set(fe[ne-1-ye*2-Le],fe[ye*2+Oe])}Ie+=Ee*8}if(Cn.drawModeMessage(pe,o,ce,Y),o)Cn.drawBullsEye(pe,U.truncDivision(ce,2),5);else{Cn.drawBullsEye(pe,U.truncDivision(ce,2),7);for(let ye=0,Ie=0;ye<U.truncDivision(ne,2)-1;ye+=15,Ie+=16)for(let Ee=U.truncDivision(ce,2)&1;Ee<ce;Ee+=2)pe.set(U.truncDivision(ce,2)-Ie,Ee),pe.set(U.truncDivision(ce,2)+Ie,Ee),pe.set(Ee,U.truncDivision(ce,2)-Ie),pe.set(Ee,U.truncDivision(ce,2)+Ie)}let me=new Qa;return me.setCompact(o),me.setSize(ce),me.setLayers(d),me.setCodeWords(G),me.setMatrix(pe),me}static drawBullsEye(t,i,l){for(let u=0;u<l;u+=2)for(let h=i-u;h<=i+u;h++)t.set(h,i-u),t.set(h,i+u),t.set(i-u,h),t.set(i+u,h);t.set(i-l,i-l),t.set(i-l+1,i-l),t.set(i-l,i-l+1),t.set(i+l,i-l),t.set(i+l,i-l+1),t.set(i+l,i+l-1)}static generateModeMessage(t,i,l){let u=new K;return t?(u.appendBits(i-1,2),u.appendBits(l-1,6),u=Cn.generateCheckWords(u,28,4)):(u.appendBits(i-1,5),u.appendBits(l-1,11),u=Cn.generateCheckWords(u,40,4)),u}static drawModeMessage(t,i,l,u){let h=U.truncDivision(l,2);if(i)for(let y=0;y<7;y++){let o=h-3+y;u.get(y)&&t.set(o,h-5),u.get(y+7)&&t.set(h+5,o),u.get(20-y)&&t.set(o,h+5),u.get(27-y)&&t.set(h-5,o)}else for(let y=0;y<10;y++){let o=h-5+y+U.truncDivision(y,5);u.get(y)&&t.set(o,h-7),u.get(y+10)&&t.set(h+7,o),u.get(29-y)&&t.set(o,h+7),u.get(39-y)&&t.set(h-7,o)}}static generateCheckWords(t,i,l){let u=t.getSize()/l,h=new Pa(Cn.getGF(l)),y=U.truncDivision(i,l),o=Cn.bitsToWords(t,l,y);h.encode(o,y-u);let d=i%l,x=new K;x.appendBits(0,d);for(const b of Array.from(o))x.appendBits(b,l);return x}static bitsToWords(t,i,l){let u=new Int32Array(l),h,y;for(h=0,y=t.getSize()/i;h<y;h++){let o=0;for(let d=0;d<i;d++)o|=t.get(h*i+d)?1<<i-d-1:0;u[h]=o}return u}static getGF(t){switch(t){case 4:return Z.AZTEC_PARAM;case 6:return Z.AZTEC_DATA_6;case 8:return Z.AZTEC_DATA_8;case 10:return Z.AZTEC_DATA_10;case 12:return Z.AZTEC_DATA_12;default:throw new R("Unsupported word size "+t)}}static stuffBits(t,i){let l=new K,u=t.getSize(),h=(1<<i)-2;for(let y=0;y<u;y+=i){let o=0;for(let d=0;d<i;d++)(y+d>=u||t.get(y+d))&&(o|=1<<i-1-d);(o&h)===h?(l.appendBits(o&h,i),y--):(o&h)===0?(l.appendBits(o|1,i),y--):l.appendBits(o,i)}return l}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}Cn.DEFAULT_EC_PERCENT=33,Cn.DEFAULT_AZTEC_LAYERS=0,Cn.MAX_NB_BITS=32,Cn.MAX_NB_BITS_COMPACT=4,Cn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class zi{encode(t,i,l,u){return this.encodeWithHints(t,i,l,u,null)}encodeWithHints(t,i,l,u,h){let y=fi.ISO_8859_1,o=Cn.DEFAULT_EC_PERCENT,d=Cn.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(gr.CHARACTER_SET)&&(y=Fo.forName(h.get(gr.CHARACTER_SET).toString())),h.has(gr.ERROR_CORRECTION)&&(o=U.parseInt(h.get(gr.ERROR_CORRECTION).toString())),h.has(gr.AZTEC_LAYERS)&&(d=U.parseInt(h.get(gr.AZTEC_LAYERS).toString()))),zi.encodeLayers(t,i,l,u,y,o,d)}static encodeLayers(t,i,l,u,h,y,o){if(i!==Ne.AZTEC)throw new R("Can only encode AZTEC, but got "+i);let d=Cn.encode(ee.getBytes(t,h),y,o);return zi.renderResult(d,l,u)}static renderResult(t,i,l){let u=t.getMatrix();if(u==null)throw new xe;let h=u.getWidth(),y=u.getHeight(),o=Math.max(i,h),d=Math.max(l,y),x=Math.min(o/h,d/y),b=(o-h*x)/2,B=(d-y*x)/2,k=new Ce(o,d);for(let G=0,Y=B;G<y;G++,Y+=x)for(let ne=0,fe=b;ne<h;ne++,fe+=x)u.get(ne,G)&&k.setRegion(fe,Y,x,x);return k}}s.AbstractExpandedDecoder=fn,s.ArgumentException=D,s.ArithmeticException=O,s.AztecCode=Qa,s.AztecCodeReader=yn,s.AztecCodeWriter=zi,s.AztecDecoder=dt,s.AztecDetector=wn,s.AztecDetectorResult=St,s.AztecEncoder=Cn,s.AztecHighLevelEncoder=Ba,s.AztecPoint=Vt,s.BarcodeFormat=Ne,s.Binarizer=V,s.BinaryBitmap=L,s.BitArray=K,s.BitMatrix=Ce,s.BitSource=nt,s.BrowserAztecCodeReader=Sn,s.BrowserBarcodeReader=Ma,s.BrowserCodeReader=ze,s.BrowserDatamatrixCodeReader=pn,s.BrowserMultiFormatReader=Cs,s.BrowserPDF417Reader=go,s.BrowserQRCodeReader=po,s.BrowserQRCodeSvgWriter=Va,s.CharacterSetECI=j,s.ChecksumException=_,s.Code128Reader=at,s.Code39Reader=Qt,s.DataMatrixDecodedBitStreamParser=At,s.DataMatrixReader=Gn,s.DecodeHintType=M,s.DecoderResult=Q,s.DefaultGridSampler=rn,s.DetectorResult=Lt,s.EAN13Reader=dn,s.EncodeHintType=gr,s.Exception=C,s.FormatException=I,s.GenericGF=Z,s.GenericGFPoly=re,s.GlobalHistogramBinarizer=he,s.GridSampler=An,s.GridSamplerInstance=nn,s.HTMLCanvasElementLuminanceSource=Me,s.HybridBinarizer=ve,s.ITFReader=we,s.IllegalArgumentException=R,s.IllegalStateException=xe,s.InvertedLuminanceSource=Ue,s.LuminanceSource=ke,s.MathUtils=Ve,s.MultiFormatOneDReader=jr,s.MultiFormatReader=As,s.MultiFormatWriter=bs,s.NotFoundException=oe,s.OneDReader=Gt,s.PDF417DecodedBitStreamParser=qe,s.PDF417DecoderErrorCorrection=va,s.PDF417Reader=Or,s.PDF417ResultMetadata=Ua,s.PerspectiveTransform=Ht,s.PlanarYUVLuminanceSource=ua,s.QRCodeByteMatrix=ui,s.QRCodeDataMask=Cr,s.QRCodeDecodedBitStreamParser=er,s.QRCodeDecoderErrorCorrectionLevel=en,s.QRCodeDecoderFormatInformation=zn,s.QRCodeEncoder=Pn,s.QRCodeEncoderQRCode=Ja,s.QRCodeMaskUtil=pr,s.QRCodeMatrixUtil=Xt,s.QRCodeMode=qt,s.QRCodeReader=Sr,s.QRCodeVersion=Bt,s.QRCodeWriter=$a,s.RGBLuminanceSource=ws,s.RSS14Reader=kn,s.RSSExpandedReader=lt,s.ReaderException=Fa,s.ReedSolomonDecoder=Ze,s.ReedSolomonEncoder=Pa,s.ReedSolomonException=be,s.Result=_e,s.ResultMetadataType=yt,s.ResultPoint=Ye,s.StringUtils=ee,s.UnsupportedOperationException=ie,s.VideoInputDevice=Ae,s.WhiteRectangleDetector=Kt,s.WriterException=Kn,s.ZXingArrays=F,s.ZXingCharset=Fo,s.ZXingInteger=U,s.ZXingStandardCharsets=fi,s.ZXingStringBuilder=se,s.ZXingStringEncoding=de,s.ZXingSystem=P,s.createAbstractExpandedDecoder=Zr,Object.defineProperty(s,"__esModule",{value:!0})}))})(Ac,Ac.exports)),Ac.exports}var Er=DI();const RI=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Wm=(function(){function r(a,s,f){if(this.formatMap=new Map([[Ot.QR_CODE,Er.BarcodeFormat.QR_CODE],[Ot.AZTEC,Er.BarcodeFormat.AZTEC],[Ot.CODABAR,Er.BarcodeFormat.CODABAR],[Ot.CODE_39,Er.BarcodeFormat.CODE_39],[Ot.CODE_93,Er.BarcodeFormat.CODE_93],[Ot.CODE_128,Er.BarcodeFormat.CODE_128],[Ot.DATA_MATRIX,Er.BarcodeFormat.DATA_MATRIX],[Ot.MAXICODE,Er.BarcodeFormat.MAXICODE],[Ot.ITF,Er.BarcodeFormat.ITF],[Ot.EAN_13,Er.BarcodeFormat.EAN_13],[Ot.EAN_8,Er.BarcodeFormat.EAN_8],[Ot.PDF_417,Er.BarcodeFormat.PDF_417],[Ot.RSS_14,Er.BarcodeFormat.RSS_14],[Ot.RSS_EXPANDED,Er.BarcodeFormat.RSS_EXPANDED],[Ot.UPC_A,Er.BarcodeFormat.UPC_A],[Ot.UPC_E,Er.BarcodeFormat.UPC_E],[Ot.UPC_EAN_EXTENSION,Er.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!RI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=f;var v=this.createZXingFormats(a),m=new Map;m.set(Er.DecodeHintType.POSSIBLE_FORMATS,v),m.set(Er.DecodeHintType.TRY_HARDER,!1),this.hints=m}return r.prototype.decodeAsync=function(a){var s=this;return new Promise(function(f,v){try{f(s.decode(a))}catch(m){v(m)}})},r.prototype.decode=function(a){var s=new Er.MultiFormatReader(this.verbose,this.hints),f=new Er.HTMLCanvasElementLuminanceSource(a),v=new Er.BinaryBitmap(new Er.HybridBinarizer(f)),m=s.decode(v);return{text:m.text,format:Fx.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(s,f,v){a.set(s,f)}),a},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createZXingFormats=function(a){for(var s=[],f=0,v=a;f<v.length;f++){var m=v[f];this.formatMap.has(m)?s.push(this.formatMap.get(m)):this.logger.logError("".concat(m," is not supported by")+"ZXingHtml5QrcodeShim")}return s},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r})(),OI=function(r,a,s,f){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(f.next(D))}catch(R){A(R)}}function w(D){try{C(f.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,w)}C((f=f.apply(r,a||[])).next())})},kI=function(r,a){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return w([C,D])}}function w(C){if(f)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(f=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=a.call(r,s)}catch(D){C=[6,D],v=0}finally{f=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Jm=(function(){function r(a,s,f){if(this.formatMap=new Map([[Ot.QR_CODE,"qr_code"],[Ot.AZTEC,"aztec"],[Ot.CODABAR,"codabar"],[Ot.CODE_39,"code_39"],[Ot.CODE_93,"code_93"],[Ot.CODE_128,"code_128"],[Ot.DATA_MATRIX,"data_matrix"],[Ot.ITF,"itf"],[Ot.EAN_13,"ean_13"],[Ot.EAN_8,"ean_8"],[Ot.PDF_417,"pdf417"],[Ot.UPC_A,"upc_a"],[Ot.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=f;var v=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(v),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var a=new BarcodeDetector({formats:["qr_code"]});return typeof a<"u"},r.prototype.decodeAsync=function(a){return OI(this,void 0,void 0,function(){var s,f;return kI(this,function(v){switch(v.label){case 0:return[4,this.detector.detect(a)];case 1:if(s=v.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(s),[2,{text:f.rawValue,format:Fx.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(a){for(var s=null,f=0,v=0,m=a;v<m.length;v++){var A=m[v],p=A.boundingBox.width*A.boundingBox.height;p>f&&(f=p,s=A)}if(!s)throw"No largest barcode found";return s},r.prototype.createBarcodeDetectorFormats=function(a){for(var s=[],f=0,v=a;f<v.length;f++){var m=v[f];this.formatMap.has(m)?s.push(this.formatMap.get(m)):this.logger.warn("".concat(m," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(s,f,v){a.set(s,f)}),a},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r})(),$m=function(r,a,s,f){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(f.next(D))}catch(R){A(R)}}function w(D){try{C(f.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,w)}C((f=f.apply(r,a||[])).next())})},e2=function(r,a){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return w([C,D])}}function w(C){if(f)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(f=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=a.call(r,s)}catch(D){C=[6,D],v=0}finally{f=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},MI=(function(){function r(a,s,f,v){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,s&&Jm.isSupported()?(this.primaryDecoder=new Jm(a,f,v),this.secondaryDecoder=new Wm(a,f,v)):this.primaryDecoder=new Wm(a,f,v)}return r.prototype.decodeAsync=function(a){return $m(this,void 0,void 0,function(){var s;return e2(this,function(f){switch(f.label){case 0:s=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(a){return $m(this,void 0,void 0,function(){var s,f;return e2(this,function(v){switch(v.label){case 0:s=performance.now(),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,v.sent()];case 3:if(f=v.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw f;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(a){if(this.verbose){var s=performance.now()-a;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,s=0,f=this.executionResults;s<f.length;s++){var v=f[s];a+=v}var m=a/this.executionResults.length;console.log("".concat(m," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r})(),i1=(function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(f[m]=v[m])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function f(){this.constructor=a}a.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}})(),rf=function(r,a,s,f){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(f.next(D))}catch(R){A(R)}}function w(D){try{C(f.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,w)}C((f=f.apply(r,a||[])).next())})},af=function(r,a){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return w([C,D])}}function w(C){if(f)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(f=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=a.call(r,s)}catch(D){C=[6,D],v=0}finally{f=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Vx=(function(){function r(a,s){this.name=a,this.track=s}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(a){var s={};s[this.name]=a;var f={advanced:[s]};return this.track.applyConstraints(f)},r.prototype.value=function(){var a=this.track.getSettings();if(this.name in a){var s=a[this.name];return s}return null},r})(),LI=(function(r){i1(a,r);function a(s,f){return r.call(this,s,f)||this}return a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(s){var f={};f[this.name]=s;var v={advanced:[f]};return this.track.applyConstraints(v)},a.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),f=s[this.name];return{min:f.min,max:f.max,step:f.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a})(Vx),UI=(function(r){i1(a,r);function a(s){return r.call(this,"zoom",s)||this}return a})(LI),FI=(function(r){i1(a,r);function a(s){return r.call(this,"torch",s)||this}return a})(Vx),PI=(function(){function r(a){this.track=a}return r.prototype.zoomFeature=function(){return new UI(this.track)},r.prototype.torchFeature=function(){return new FI(this.track)},r})(),VI=(function(){function r(a,s,f){this.isClosed=!1,this.parentElement=a,this.mediaStream=s,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return r.prototype.createVideoElement=function(a){var s=document.createElement("video");return s.style.width="".concat(a,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},r.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var f=a.surface.clientWidth,v=a.surface.clientHeight;a.callbacks.onRenderSurfaceReady(f,v),a.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(a,s,f,v){return rf(this,void 0,void 0,function(){var m,A;return af(this,function(p){switch(p.label){case 0:return m=new r(a,s,v),f.aspectRatio?(A={aspectRatio:f.aspectRatio},[4,m.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:p.sent(),p.label=2;case 2:return m.setupSurface(),[2,m]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(a){this.failIfClosed();var s=this,f=function(){setTimeout(a,200),s.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(a){return rf(this,void 0,void 0,function(){return af(this,function(s){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(s,f){var v=a.mediaStream.getVideoTracks(),m=v.length,A=0;a.mediaStream.getVideoTracks().forEach(function(p){a.mediaStream.removeTrack(p),p.stop(),++A,A>=m&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),s())})})},r.prototype.getCapabilities=function(){return new PI(this.getFirstTrackOrFail())},r})(),QI=(function(){function r(a){this.mediaStream=a}return r.prototype.render=function(a,s,f){return rf(this,void 0,void 0,function(){return af(this,function(v){return[2,VI.create(a,this.mediaStream,s,f)]})})},r.create=function(a){return rf(this,void 0,void 0,function(){var s,f;return af(this,function(v){switch(v.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:a},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return f=v.sent(),[2,new r(f)]}})})},r})(),t2=function(r,a,s,f){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(f.next(D))}catch(R){A(R)}}function w(D){try{C(f.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,w)}C((f=f.apply(r,a||[])).next())})},n2=function(r,a){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return w([C,D])}}function w(C){if(f)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(f=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=a.call(r,s)}catch(D){C=[6,D],v=0}finally{f=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},HI=(function(){function r(){}return r.failIfNotSupported=function(){return t2(this,void 0,void 0,function(){return n2(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(a){return t2(this,void 0,void 0,function(){return n2(this,function(s){return[2,QI.create(a)]})})},r})(),GI=function(r,a,s,f){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(f.next(D))}catch(R){A(R)}}function w(D){try{C(f.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,w)}C((f=f.apply(r,a||[])).next())})},jI=function(r,a){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return w([C,D])}}function w(C){if(f)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(f=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=a.call(r,s)}catch(D){C=[6,D],v=0}finally{f=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},KI=(function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var a=gl.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(a=gl.insecureContextCameraQueryError()),Promise.reject(a)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var a=location.host.split(":")[0];return a==="127.0.0.1"||a==="localhost"},r.getCamerasFromMediaDevices=function(){return GI(this,void 0,void 0,function(){var a,s,f,v,m,A,p;return jI(this,function(w){switch(w.label){case 0:return a=function(C){for(var D=C.getVideoTracks(),R=0,L=D;R<L.length;R++){var _=L[R];_.enabled=!1,_.stop(),C.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=w.sent(),v=[],m=0,A=f;m<A.length;m++)p=A[m],p.kind==="videoinput"&&v.push({id:p.deviceId,label:p.label});return a(s),[2,v]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,s){var f=function(m){for(var A=[],p=0,w=m;p<w.length;p++){var C=w[p];C.kind==="video"&&A.push({id:C.id,label:C.label})}a(A)},v=MediaStreamTrack;v.getSources(f)})},r})(),_r;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(_r||(_r={}));var zI=(function(){function r(){this.state=_r.NOT_STARTED,this.onGoingTransactionNewState=_r.UNKNOWN}return r.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},r.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===_r.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=_r.UNKNOWN,this.directTransition(a)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===_r.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=_r.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==_r.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(a){switch(this.state){case _r.UNKNOWN:throw"Transition from unknown is not allowed";case _r.NOT_STARTED:this.failIfNewStateIs(a,[_r.PAUSED]);break;case _r.SCANNING:break;case _r.PAUSED:break}},r.prototype.failIfNewStateIs=function(a,s){for(var f=0,v=s;f<v.length;f++){var m=v[f];if(a===m)throw"Cannot transition from ".concat(this.state," to ").concat(a)}},r})(),qI=(function(){function r(a){this.stateManager=a}return r.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},r.prototype.directTransition=function(a){this.stateManager.directTransition(a)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===_r.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==_r.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===_r.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===_r.PAUSED},r})(),YI=(function(){function r(){}return r.create=function(){return new qI(new zI)},r})(),XI=(function(){var r=function(a,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(f[m]=v[m])},r(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(a,s);function f(){this.constructor=a}a.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)}})(),Za=(function(r){XI(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a})(TI),ZI=(function(){function r(a,s){this.logger=s,this.fps=Za.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=a.disableFlip===!0,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=Za.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Px.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!us(this.qrbox)},r.create=function(a,s){return new r(a,s)},r})(),r2=(function(){function r(a,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.elementId=a,this.verbose=!1;var f;typeof s=="boolean"?this.verbose=s===!0:s&&(f=s,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new NI(this.verbose),this.qrcode=new MI(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=YI.create()}return r.prototype.start=function(a,s,f,v){var m=this;if(!a)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;v?A=v:A=this.verbose?this.logger.log:function(){};var p=ZI.create(s,this.logger);this.clearElement();var w=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=w,D=document.getElementById(this.elementId);D.clientWidth?D.clientWidth:Za.DEFAULT_WIDTH,D.style.position="relative",this.shouldScan=!0,this.element=D;var R=this,L=this.stateManagerProxy.startTransition(_r.SCANNING);return new Promise(function(_,V){var P=C?p.videoConstraints:R.createVideoConstraints(a);if(!P){L.cancel(),V("videoConstraints should be defined");return}var H={};(!C||p.aspectRatio)&&(H.aspectRatio=p.aspectRatio);var T={onRenderSurfaceReady:function(F,U){R.setupUi(F,U,p),R.isScanning=!0,R.foreverScan(p,f,A)}};HI.failIfNotSupported().then(function(F){F.create(P).then(function(U){return U.render(m.element,H,T).then(function(K){R.renderedCamera=K,L.execute(),_(null)}).catch(function(K){L.cancel(),V(K)})}).catch(function(U){L.cancel(),V(gl.errorGettingUserMedia(U))})}).catch(function(F){L.cancel(),V(gl.cameraStreamingNotSupported())})})},r.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(_r.PAUSED),this.showPausedState(),(us(a)||a!==!0)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,s=function(){a.stateManagerProxy.directTransition(_r.SCANNING),a.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(_r.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(a.element){var m=document.getElementById(Za.SHADED_REGION_ELEMENT_ID);m&&a.element.removeChild(m)}},v=this;return this.renderedCamera.close().then(function(){return v.renderedCamera=null,v.element&&(v.element.removeChild(v.canvasElement),v.canvasElement=null),f(),v.qrRegion&&(v.qrRegion=null),v.context&&(v.context=null),s.execute(),v.hidePausedState(),v.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(a,s){return this.scanFileV2(a,s).then(function(f){return f.decodedText})},r.prototype.scanFileV2=function(a,s){var f=this;if(!a||!(a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(us(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(v,m){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(a);var A=new Image;A.onload=function(){var p=A.width,w=A.height,C=document.getElementById(f.elementId),D=C.clientWidth?C.clientWidth:Za.DEFAULT_WIDTH,R=Math.max(C.clientHeight?C.clientHeight:w,Za.FILE_SCAN_MIN_HEIGHT),L=f.computeCanvasDrawConfig(p,w,D,R);if(s){var _=f.createCanvasElement(D,R,"qr-canvas-visible");_.style.display="inline-block",C.appendChild(_);var V=_.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=D,V.canvas.height=R,V.drawImage(A,0,0,p,w,L.x,L.y,L.width,L.height)}var P=Za.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(A.width,L.width),T=Math.max(A.height,L.height),F=H+2*P,U=T+2*P,K=f.createCanvasElement(F,U);C.appendChild(K);var X=K.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=F,X.canvas.height=U,X.drawImage(A,0,0,p,w,P,P,H,T);try{f.qrcode.decodeRobustlyAsync(K).then(function(M){v(Xm.createFromQrcodeResult(M))}).catch(m)}catch(M){m("QR code parse error, error = ".concat(M))}},A.onerror=m,A.onabort=m,A.onstalled=m,A.onsuspend=m,A.src=URL.createObjectURL(a)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return KI.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(a){if(a){if(!Px.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(a){var s=[Ot.QR_CODE,Ot.AZTEC,Ot.CODABAR,Ot.CODE_39,Ot.CODE_93,Ot.CODE_128,Ot.DATA_MATRIX,Ot.MAXICODE,Ot.ITF,Ot.EAN_13,Ot.EAN_8,Ot.PDF_417,Ot.RSS_14,Ot.RSS_EXPANDED,Ot.UPC_A,Ot.UPC_E,Ot.UPC_EAN_EXTENSION];if(!a||typeof a=="boolean"||!a.formatsToSupport)return s;if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(a.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],v=0,m=a.formatsToSupport;v<m.length;v++){var A=m[v];SI(A)?f.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},r.prototype.getUseBarCodeDetectorIfSupported=function(a){if(us(a))return!0;if(!us(a.useBarCodeDetectorIfSupported))return a.useBarCodeDetectorIfSupported!==!1;if(us(a.experimentalFeatures))return!0;var s=a.experimentalFeatures;return us(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(a,s,f){var v=this,m=f.qrbox;this.validateQrboxConfig(m);var A=this.toQrdimensions(a,s,m),p=function(C){if(C<Za.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Za.MIN_QR_BOX_SIZE,"px.")},w=function(C){return C>a&&(v.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=a),C};p(A.width),p(A.height),A.width=w(A.width)},r.prototype.validateQrboxConfig=function(a){if(typeof a!="number"&&typeof a!="function"&&(a.width===void 0||a.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(a,s,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(a,s)}catch(v){throw new Error("qrbox config was passed as a function but it failed with unknown error"+v)}return f},r.prototype.setupUi=function(a,s,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(a,s,f);var v=us(f.qrbox)?{width:a,height:s}:f.qrbox;this.validateQrboxConfig(v);var m=this.toQrdimensions(a,s,v);m.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=f.isShadedBoxEnabled()&&m.height<=s,p={x:0,y:0,width:a,height:s},w=A?this.getShadedRegionBounds(a,s,m):p,C=this.createCanvasElement(w.width,w.height),D={willReadFrequently:!0},R=C.getContext("2d",D);R.canvas.width=w.width,R.canvas.height=w.height,this.element.append(C),A&&this.possiblyInsertShadingElement(this.element,a,s,m),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=R,this.canvasElement=C},r.prototype.createScannerPausedUiElement=function(a){var s=document.createElement("div");s.innerText=gl.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",a.appendChild(s),this.scannerPausedUiElement=s},r.prototype.scanContext=function(a,s){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(v){return a(v.text,Xm.createFromQrcodeResult(v)),f.possiblyUpdateShaders(!0),!0}).catch(function(v){f.possiblyUpdateShaders(!1);var m=gl.codeParseError(v);return s(m,BI.createFrom(m)),!1})},r.prototype.foreverScan=function(a,s,f){var v=this;if(this.shouldScan&&this.renderedCamera){var m=this.renderedCamera.getSurface(),A=m.videoWidth/m.clientWidth,p=m.videoHeight/m.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*A,C=this.qrRegion.height*p,D=this.qrRegion.x*A,R=this.qrRegion.y*p;this.context.drawImage(m,D,R,w,C,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){v.foreverScanTimeout=setTimeout(function(){v.foreverScan(a,s,f)},v.getTimeoutFps(a.fps))};this.scanContext(s,f).then(function(_){!_&&a.disableFlip!==!0?(v.context.translate(v.context.canvas.width,0),v.context.scale(-1,1),v.scanContext(s,f).finally(function(){L()})):L()}).catch(function(_){v.logger.logError("Error happend while scanning context",_),L()})}},r.prototype.createVideoConstraints=function(a){if(typeof a=="string")return{deviceId:{exact:a}};if(typeof a=="object"){var s="facingMode",f="deviceId",v={user:!0,environment:!0},m="exact",A=function(V){if(V in v)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(V,"'")},p=Object.keys(a);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var w=Object.keys(a)[0];if(w!==s&&w!==f)throw"Only '".concat(s,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(w===s){var C=a.facingMode;if(typeof C=="string"){if(A(C))return{facingMode:C}}else if(typeof C=="object")if(m in C){if(A(C["".concat(m)]))return{facingMode:{exact:C["".concat(m)]}}}else throw"'facingMode' should be string or object with"+" ".concat(m," as key.");else{var D=typeof C;throw"Invalid type of 'facingMode' = ".concat(D)}}else{var R=a.deviceId;if(typeof R=="string")return{deviceId:R};if(typeof R=="object"){if(m in R)return{deviceId:{exact:R["".concat(m)]}};throw"'deviceId' should be string or object with"+" ".concat(m," as key.")}else{var L=typeof R;throw"Invalid type of 'deviceId' = ".concat(L)}}}var _=typeof a;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},r.prototype.computeCanvasDrawConfig=function(a,s,f,v){if(a<=f&&s<=v){var m=(f-a)/2,A=(v-s)/2;return{x:m,y:A,width:a,height:s}}else{var p=a,w=s;return a>f&&(s=f/a*s,a=f),s>v&&(a=v/s*a,s=v),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(w)+" to ".concat(a,"X").concat(s,".")),this.computeCanvasDrawConfig(a,s,f,v)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},r.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=a?Za.BORDER_SHADER_MATCH_COLOR:Za.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(a,s,f){var v=a,m=s,A=document.createElement("canvas");return A.style.width="".concat(v,"px"),A.style.height="".concat(m,"px"),A.style.display="none",A.id=us(f)?"qr-canvas":f,A},r.prototype.getShadedRegionBounds=function(a,s,f){if(f.width>a||f.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-f.width)/2,y:(s-f.height)/2,width:f.width,height:f.height}},r.prototype.possiblyInsertShadingElement=function(a,s,f,v){if(!(s-v.width<1||f-v.height<1)){var m=document.createElement("div");m.style.position="absolute";var A=(s-v.width)/2,p=(f-v.height)/2;if(m.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),m.style.boxSizing="border-box",m.style.top="0px",m.style.bottom="0px",m.style.left="0px",m.style.right="0px",m.id="".concat(Za.SHADED_REGION_ELEMENT_ID),s-v.width<11||f-v.height<11)this.hasBorderShaders=!1;else{var w=5,C=40;this.insertShaderBorders(m,C,w,-w,null,0,!0),this.insertShaderBorders(m,C,w,-w,null,0,!1),this.insertShaderBorders(m,C,w,null,-w,0,!0),this.insertShaderBorders(m,C,w,null,-w,0,!1),this.insertShaderBorders(m,w,C+w,-w,null,-w,!0),this.insertShaderBorders(m,w,C+w,null,-w,-w,!0),this.insertShaderBorders(m,w,C+w,-w,null,-w,!1),this.insertShaderBorders(m,w,C+w,null,-w,-w,!1),this.hasBorderShaders=!0}a.append(m)}},r.prototype.insertShaderBorders=function(a,s,f,v,m,A,p){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Za.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(s,"px"),w.style.height="".concat(f,"px"),v!==null&&(w.style.top="".concat(v,"px")),m!==null&&(w.style.bottom="".concat(m,"px")),p?w.style.left="".concat(A,"px"):w.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),a.appendChild(w)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(a){return 1e3/a},r})(),a2;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(a2||(a2={}));function WI(){const{dek:r}=Mo(),[a,s]=ae.useState([]),[f,v]=ae.useState([]),[m,A]=ae.useState(""),[p,w]=ae.useState(null),[C,D]=ae.useState(!1),[R,L]=ae.useState(Date.now()),[_,V]=ae.useState(!1),[P,H]=ae.useState(!1),[T,F]=ae.useState(!1),[U,K]=ae.useState(null),[X,M]=ae.useState(null),[I,E]=ae.useState(""),[j,ie]=ae.useState(""),[de,ee]=ae.useState(6),[se,Ce]=ae.useState(30),[oe,he]=ae.useState("SHA1"),[ve,ke]=ae.useState([]),[Ue,Me]=ae.useState(""),[Ae,Se]=ae.useState(!1),[ze,_e]=ae.useState(null),[Je,Ne]=ae.useState(!1),[wt,yt]=ae.useState(!1),[Q,W]=ae.useState(""),re=ae.useRef(0),O=ae.useRef(null),Z=ae.useRef(null),[be,xe]=ae.useState(!1),[Ze,gt]=ae.useState(!1);ae.useEffect(()=>{Ye(),Lt();const Te=setInterval(()=>{L(Date.now())},1e3);return()=>clearInterval(Te)},[r]),ae.useEffect(()=>{if(P){const Te=new r2("reader");O.current=Te;const $e={fps:10,qrbox:{width:250,height:250},aspectRatio:window.innerWidth/window.innerHeight};return Te.start({facingMode:"environment"},$e,ot=>{yn(ot),dt()},ot=>{}).then(()=>{try{const ot=Te.getRunningTrackCameraCapabilities();ot&&(ot.torchFeature||ot.torch)&&xe(!0)}catch(ot){console.warn("Flash check failed",ot)}}).catch(ot=>{console.error("Error starting scanner",ot),St("")}),()=>{O.current&&O.current.isScanning&&(O.current.stop().catch(console.error),O.current.clear())}}},[P]);const dt=async()=>{if(O.current)try{O.current.isScanning&&await O.current.stop(),O.current.clear()}catch(Te){console.error("Failed to stop scanner",Te)}H(!1),xe(!1),gt(!1)},Ve=async()=>{if(O.current&&be)try{await O.current.applyVideoConstraints({advanced:[{torch:!Ze}]}),gt(!Ze)}catch(Te){console.error("Failed to toggle flash",Te),St("")}},pt=async Te=>{if(Te.target.files&&Te.target.files.length>0){const $e=Te.target.files[0],ot=new r2("temp-reader");try{const et=await ot.scanFile($e,!1);yn(et),dt()}catch(et){console.error("File scan error",et),St("")}finally{try{ot.clear()}catch{}Z.current&&(Z.current.value="")}}},Ye=async()=>{if(!r)return;const $e=(await ct.totps.toArray()).filter(et=>et.delFlag!==1),ot=await Promise.all($e.map(async et=>{const Rt=await ki(r,et.secret);return{...et,decryptedSecret:Rt,code:"",progress:0}}));s(ot.sort((et,Rt)=>et.favorite!==Rt.favorite?et.favorite?-1:1:Rt.rank-et.rank))},Lt=async()=>{const Te=await ct.tags.toArray();v(Te.sort(($e,ot)=>($e.rank||0)-(ot.rank||0)))};ae.useEffect(()=>{const Te=a.map($e=>{try{const et=new Lr({issuer:$e.name,label:$e.name,algorithm:$e.algorithm,digits:$e.digits,period:$e.period,secret:Mi.fromBase32($e.decryptedSecret)}).generate(),Rt=Date.now()%($e.period*1e3)/($e.period*1e3)*100;return{...$e,code:et,progress:Rt}}catch{return{...$e,code:"ERROR",progress:0}}});s(Te)},[R]);const St=Te=>{Me(Te),Se(!0)},Kt=async Te=>{if(Te!=="ERROR")try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(Te),St("");else{const $e=document.createElement("textarea");$e.value=Te,$e.style.position="fixed",$e.style.left="-999999px",$e.style.top="-999999px",document.body.appendChild($e),$e.focus(),$e.select();try{document.execCommand("copy"),St("")}catch(ot){console.error("Fallback: Oops, unable to copy",ot),St("")}document.body.removeChild($e)}}catch($e){console.error("Failed to copy: ",$e),St("")}},An=()=>{M(null),E(""),ie(""),ee(6),Ce(30),he("SHA1"),ke([])},Ht=async()=>{if(!(!r||!I||!j))try{const Te=await li(r,j.replace(/\s+/g,"").toUpperCase());X?(await ct.totps.update(X,{name:I,secret:Te,digits:de,period:se,algorithm:oe,labels:ve,time:Date.now()}),St("")):(await ct.totps.put({id:Do(),name:I,secret:Te,digits:de,period:se,algorithm:oe,labels:ve,favorite:!1,rank:Date.now(),time:Date.now(),delFlag:0}),St("")),Ye(),V(!1),An()}catch(Te){console.error("",Te),St("")}},rn=async Te=>{await ct.totps.update(Te.id,{favorite:!Te.favorite,time:Date.now()}),Ye()},nn=async()=>{U&&(await ct.totps.update(U,{delFlag:1,time:Date.now()}),await Ye(),St(""),F(!1),K(null),_e(null))},Vt=Te=>{K(Te),F(!0),_e(null)},wn=Te=>{M(Te.id),E(Te.name),ie(Te.decryptedSecret),ee(Te.digits),Ce(Te.period),he(Te.algorithm),ke(Te.labels||[]),V(!0),_e(null)},yn=Te=>{try{const $e=Te.trim(),ot=II.parse($e);ot instanceof Lr?(E(ot.issuer?`${ot.issuer} (${ot.label})`:ot.label),ie(ot.secret.base32),ee(ot.digits),Ce(ot.period),he(ot.algorithm),ke([]),H(!1),V(!0)):St("")}catch{St("MFA")}},Sn=async(Te,$e)=>{const ot=Te.rank,et=$e.rank;await ct.totps.update(Te.id,{rank:et,time:Date.now()}),await ct.totps.update($e.id,{rank:ot,time:Date.now()}),Ye()},Gt=ae.useRef(null),at=Te=>{if(Je)return;const $e="touches"in Te?Te.touches[0].clientY:Te.clientY;re.current=$e,Gt.current=setTimeout(()=>{var ot;Ne(!0),(ot=navigator.vibrate)==null||ot.call(navigator,50)},600)},Qt=Te=>{if(!Gt.current)return;const $e="touches"in Te?Te.touches[0].clientY:Te.clientY;Math.abs($e-re.current)>10&&(clearTimeout(Gt.current),Gt.current=null)},we=()=>{Gt.current&&(clearTimeout(Gt.current),Gt.current=null)};return P?z.jsxs("div",{className:"fixed inset-0 bg-black z-[100] flex flex-col",children:[z.jsx("div",{id:"temp-reader",className:"hidden"}),z.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 flex items-center p-4 bg-gradient-to-b from-black/80 to-transparent text-white",children:[z.jsx("button",{onClick:dt,className:"p-2 -ml-2 text-white/90 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:z.jsx(nx,{className:"w-6 h-6"})}),z.jsx("h1",{className:"text-lg font-medium ml-2",children:"MFA"}),z.jsx("div",{className:"ml-auto flex gap-2",children:be&&z.jsx("button",{onClick:Ve,className:ya("p-2 rounded-full transition-colors",Ze?"text-yellow-400 bg-white/20":"text-white/90 hover:bg-white/10"),children:z.jsx(AE,{className:ya("w-6 h-6",Ze&&"fill-current")})})})]}),z.jsxs("div",{className:"flex-1 relative bg-black flex flex-col justify-center overflow-hidden",children:[z.jsx("div",{id:"reader",className:"w-full h-full [&_video]:object-cover [&_video]:h-full [&_video]:w-full"}),z.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:z.jsxs("div",{className:"w-64 h-64 border-2 border-white/50 rounded-3xl relative",children:[z.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-indigo-500 rounded-tl-xl -mt-1 -ml-1"}),z.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-indigo-500 rounded-tr-xl -mt-1 -mr-1"}),z.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-indigo-500 rounded-bl-xl -mb-1 -ml-1"}),z.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-indigo-500 rounded-br-xl -mb-1 -mr-1"}),z.jsx("div",{className:"absolute inset-0 bg-indigo-500/10 animate-pulse rounded-2xl"})]})}),z.jsx("style",{children:`
            #reader {
              border: none !important;
            }
            #reader__scan_region {
              background: transparent !important;
            }
            /* Hide all default controls as we use custom ones */
            #reader__dashboard_section_csr, 
            #reader__dashboard_section_swaplink,
            #reader__status_span {
              display: none !important;
            }
          `})]}),z.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-20 p-6 bg-gradient-to-t from-black/90 via-black/60 to-transparent pt-12 flex gap-4",children:[z.jsx("input",{type:"file",accept:"image/*",ref:Z,className:"hidden",onChange:pt}),z.jsxs("button",{onClick:()=>{var Te;return(Te=Z.current)==null?void 0:Te.click()},className:"flex-1 py-3.5 bg-white/10 backdrop-blur-md text-white rounded-xl font-medium border border-white/20 hover:bg-white/20 transition-colors flex items-center justify-center gap-2 active:scale-[0.98]",children:[z.jsx(Kw,{className:"w-5 h-5"}),""]}),z.jsxs("button",{onClick:()=>{dt(),An(),V(!0)},className:"flex-1 py-3.5 bg-white/10 backdrop-blur-md text-white rounded-xl font-medium border border-white/20 hover:bg-white/20 transition-colors flex items-center justify-center gap-2 active:scale-[0.98]",children:[z.jsx(Tm,{className:"w-5 h-5"}),""]})]}),z.jsx(so,{message:Ue,visible:Ae,onClose:()=>Se(!1)})]}):z.jsxs("div",{className:"pb-20",onClick:()=>_e(null),children:[z.jsxs("div",{className:"sticky top-0 bg-gray-50 pt-4 pb-2 z-10",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MFA"}),z.jsxs("div",{className:"flex items-center gap-2",children:[Je&&z.jsx("button",{onClick:()=>Ne(!1),className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-full text-sm font-medium",children:""}),z.jsxs("div",{className:"relative z-50",children:[z.jsx("button",{onClick:Te=>{Te.stopPropagation(),D(!C)},className:"p-2 bg-indigo-600 text-white rounded-full shadow-sm hover:bg-indigo-700 transition-colors",children:z.jsx(bh,{className:"w-5 h-5"})}),C&&z.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-xl shadow-lg border border-gray-100 py-2",children:[z.jsxs("button",{onClick:Te=>{Te.stopPropagation(),D(!1),H(!0)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[z.jsx(tE,{className:"w-4 h-4"})," "]}),z.jsxs("button",{onClick:Te=>{Te.stopPropagation(),D(!1),An(),V(!0)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[z.jsx(Tm,{className:"w-4 h-4"})," "]})]})]})]})]}),z.jsxs("div",{className:"relative",children:[z.jsx(wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z.jsx("input",{type:"text",placeholder:"...",value:m,onChange:Te=>A(Te.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]}),f.length>0&&z.jsxs("div",{className:"flex gap-2 mt-3 overflow-x-auto pb-1 scrollbar-hide",children:[z.jsx("button",{onClick:()=>w(null),className:ya("px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors",p===null?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"),children:""}),f.map(Te=>z.jsx("button",{onClick:()=>w(Te.label),className:ya("px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors",p===Te.label?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"),children:Te.label},Te.id))]})]}),z.jsxs("div",{className:"space-y-3 mt-4",children:[a.filter(Te=>{var $e,ot;return(Te.name.includes(m)||(($e=Te.labels)==null?void 0:$e.some(et=>et.includes(m))))&&(!p||((ot=Te.labels)==null?void 0:ot.includes(p)))}).map((Te,$e)=>z.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-hidden active:scale-[0.99] transition-transform",onClick:()=>!Je&&Kt(Te.code),onTouchStart:at,onTouchMove:Qt,onTouchEnd:we,onMouseDown:at,onMouseMove:Qt,onMouseUp:we,onMouseLeave:we,onContextMenu:ot=>{ot.preventDefault()},children:[z.jsxs("div",{className:"flex justify-between items-start mb-2",children:[z.jsxs("div",{className:"flex flex-col gap-1",children:[z.jsx("h3",{className:"font-medium text-gray-900",children:Te.name}),Te.labels&&Te.labels.length>0&&z.jsx("div",{className:"flex flex-wrap gap-1",children:Te.labels.map(ot=>z.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full",children:ot},ot))})]}),Je?z.jsxs("div",{className:"flex items-center gap-1",children:[z.jsx("button",{onClick:ot=>{ot.stopPropagation(),$e>0&&Sn(Te,a[$e-1])},disabled:$e===0,className:"p-1.5 text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:z.jsx(bw,{className:"w-5 h-5"})}),z.jsx("button",{onClick:ot=>{ot.stopPropagation(),$e<a.length-1&&Sn(Te,a[$e+1])},disabled:$e===a.length-1,className:"p-1.5 text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:z.jsx(vw,{className:"w-5 h-5"})})]}):z.jsxs("div",{className:"flex items-center gap-1",children:[z.jsx("button",{onClick:ot=>{ot.stopPropagation(),rn(Te)},className:ya("p-1.5 rounded-full transition-colors",Te.favorite?"text-yellow-500":"text-gray-300 hover:text-gray-400"),children:z.jsx(ox,{className:ya("w-5 h-5",Te.favorite&&"fill-current")})}),z.jsxs("div",{className:"relative",children:[z.jsx("button",{onClick:ot=>{ot.stopPropagation(),_e(ze===Te.id?null:Te.id)},className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-full",children:z.jsx(Lw,{className:"w-5 h-5"})}),ze===Te.id&&z.jsxs("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-xl shadow-lg border border-gray-100 py-1 z-50",children:[z.jsxs("button",{onClick:ot=>{ot.stopPropagation(),wn(Te)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[z.jsx(sx,{className:"w-4 h-4"})," "]}),z.jsxs("button",{onClick:ot=>{ot.stopPropagation(),Vt(Te.id)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[z.jsx(mf,{className:"w-4 h-4"})," "]})]})]})]})]}),z.jsxs("div",{className:"flex items-center justify-between mt-2",children:[z.jsx("span",{className:ya("text-3xl font-mono tracking-widest font-bold",Te.code==="ERROR"?"text-red-500 text-xl":"text-indigo-600"),children:Te.code==="ERROR"?"":`${Te.code.slice(0,3)} ${Te.code.slice(3)}`}),!Je&&z.jsx("button",{onClick:ot=>{ot.stopPropagation(),Kt(Te.code)},className:"p-2 text-gray-400 hover:text-indigo-600 bg-gray-50 rounded-lg transition-colors",children:z.jsx(rx,{className:"w-5 h-5"})})]}),z.jsxs("div",{className:"mt-3 text-[10px] text-gray-400",children:[": ",new Date(Te.time).toLocaleString()]}),z.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-100 w-full",children:z.jsx("div",{className:ya("h-full transition-all duration-1000 ease-linear",Te.progress>80?"bg-red-500":"bg-indigo-500"),style:{width:`${100-Te.progress}%`}})})]},Te.id)),a.length===0&&z.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:" MFA "})]}),z.jsx($r,{isOpen:_,onClose:()=>V(!1),title:X?" MFA":" MFA",children:z.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto scrollable px-1 pb-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"text",value:I,onChange:Te=>E(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:": Google, GitHub"})]}),!X&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Base32)"}),z.jsx("input",{type:"text",value:j,onChange:Te=>ie(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm uppercase",placeholder:"JBSWY3DPEHPK3PXP"})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsxs("select",{value:de,onChange:Te=>ee(Number(Te.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[z.jsx("option",{value:6,children:"6"}),z.jsx("option",{value:8,children:"8"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),z.jsx("input",{type:"number",value:se,onChange:Te=>Ce(Number(Te.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsxs("select",{value:oe,onChange:Te=>he(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[z.jsx("option",{value:"SHA1",children:"SHA1"}),z.jsx("option",{value:"SHA256",children:"SHA256"}),z.jsx("option",{value:"SHA512",children:"SHA512"})]})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ve.map(Te=>z.jsxs("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-600 rounded-lg text-sm flex items-center gap-1",children:[Te,z.jsx("button",{onClick:()=>ke(ve.filter($e=>$e!==Te)),className:"hover:text-indigo-800",children:z.jsx(Tc,{className:"w-3 h-3"})})]},Te))}),wt?z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{type:"text",value:Q,onChange:Te=>W(Te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"",autoFocus:!0}),z.jsx("button",{onClick:Te=>{Te.preventDefault();const $e=Q.trim();$e&&!ve.includes($e)&&(ke([...ve,$e]),ct.tags.put({label:$e,time:Date.now(),rank:Date.now()}),Lt()),yt(!1),W("")},className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700",children:""}),z.jsx("button",{onClick:Te=>{Te.preventDefault(),yt(!1),W("")},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200",children:""})]}):z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",onChange:Te=>{Te.target.value&&!ve.includes(Te.target.value)&&ke([...ve,Te.target.value]),Te.target.value=""},children:[z.jsx("option",{value:"",children:"..."}),f.filter(Te=>!ve.includes(Te.label)).map(Te=>z.jsx("option",{value:Te.label,children:Te.label},Te.id))]}),z.jsx("button",{onClick:Te=>{Te.preventDefault(),yt(!0)},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm whitespace-nowrap hover:bg-gray-200",children:""})]})]}),z.jsx("button",{onClick:Ht,disabled:!I||!X&&!j,className:"w-full py-3 mt-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})}),z.jsxs($r,{isOpen:T,onClose:()=>F(!1),title:"",children:[z.jsx("div",{className:"py-4 text-center text-gray-700",children:" MFA "}),z.jsxs("div",{className:"flex gap-3 mt-4",children:[z.jsx("button",{onClick:()=>F(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),z.jsx("button",{onClick:nn,className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:""})]})]}),z.jsx(so,{message:Ue,visible:Ae,onClose:()=>Se(!1)})]})}function JI(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return ae.useMemo(()=>f=>{a.forEach(v=>v(f))},a)}const vf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nl(r){const a=Object.prototype.toString.call(r);return a==="[object Window]"||a==="[object global]"}function s1(r){return"nodeType"in r}function ka(r){var a,s;return r?Nl(r)?r:s1(r)&&(a=(s=r.ownerDocument)==null?void 0:s.defaultView)!=null?a:window:window}function o1(r){const{Document:a}=ka(r);return r instanceof a}function Mc(r){return Nl(r)?!1:r instanceof ka(r).HTMLElement}function Qx(r){return r instanceof ka(r).SVGElement}function _l(r){return r?Nl(r)?r.document:s1(r)?o1(r)?r:Mc(r)||Qx(r)?r.ownerDocument:document:document:document}const Fi=vf?ae.useLayoutEffect:ae.useEffect;function l1(r){const a=ae.useRef(r);return Fi(()=>{a.current=r}),ae.useCallback(function(){for(var s=arguments.length,f=new Array(s),v=0;v<s;v++)f[v]=arguments[v];return a.current==null?void 0:a.current(...f)},[])}function $I(){const r=ae.useRef(null),a=ae.useCallback((f,v)=>{r.current=setInterval(f,v)},[]),s=ae.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[a,s]}function Bc(r,a){a===void 0&&(a=[r]);const s=ae.useRef(r);return Fi(()=>{s.current!==r&&(s.current=r)},a),s}function Lc(r,a){const s=ae.useRef();return ae.useMemo(()=>{const f=r(s.current);return s.current=f,f},[...a])}function sf(r){const a=l1(r),s=ae.useRef(null),f=ae.useCallback(v=>{v!==s.current&&(a==null||a(v,s.current)),s.current=v},[]);return[s,f]}function _h(r){const a=ae.useRef();return ae.useEffect(()=>{a.current=r},[r]),a.current}let fh={};function Uc(r,a){return ae.useMemo(()=>{if(a)return a;const s=fh[r]==null?0:fh[r]+1;return fh[r]=s,r+"-"+s},[r,a])}function Hx(r){return function(a){for(var s=arguments.length,f=new Array(s>1?s-1:0),v=1;v<s;v++)f[v-1]=arguments[v];return f.reduce((m,A)=>{const p=Object.entries(A);for(const[w,C]of p){const D=m[w];D!=null&&(m[w]=D+r*C)}return m},{...a})}}const ml=Hx(1),Nc=Hx(-1);function eS(r){return"clientX"in r&&"clientY"in r}function c1(r){if(!r)return!1;const{KeyboardEvent:a}=ka(r.target);return a&&r instanceof a}function tS(r){if(!r)return!1;const{TouchEvent:a}=ka(r.target);return a&&r instanceof a}function Dh(r){if(tS(r)){if(r.touches&&r.touches.length){const{clientX:a,clientY:s}=r.touches[0];return{x:a,y:s}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:a,clientY:s}=r.changedTouches[0];return{x:a,y:s}}}return eS(r)?{x:r.clientX,y:r.clientY}:null}const wl=Object.freeze({Translate:{toString(r){if(!r)return;const{x:a,y:s}=r;return"translate3d("+(a?Math.round(a):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:a,scaleY:s}=r;return"scaleX("+a+") scaleY("+s+")"}},Transform:{toString(r){if(r)return[wl.Translate.toString(r),wl.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:a,duration:s,easing:f}=r;return a+" "+s+"ms "+f}}}),i2="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nS(r){return r.matches(i2)?r:r.querySelector(i2)}const rS={display:"none"};function aS(r){let{id:a,value:s}=r;return Xr.createElement("div",{id:a,style:rS},s)}function iS(r){let{id:a,announcement:s,ariaLiveType:f="assertive"}=r;const v={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Xr.createElement("div",{id:a,style:v,role:"status","aria-live":f,"aria-atomic":!0},s)}function sS(){const[r,a]=ae.useState("");return{announce:ae.useCallback(f=>{f!=null&&a(f)},[]),announcement:r}}const Gx=ae.createContext(null);function oS(r){const a=ae.useContext(Gx);ae.useEffect(()=>{if(!a)throw new Error("useDndMonitor must be used within a children of <DndContext>");return a(r)},[r,a])}function lS(){const[r]=ae.useState(()=>new Set),a=ae.useCallback(f=>(r.add(f),()=>r.delete(f)),[r]);return[ae.useCallback(f=>{let{type:v,event:m}=f;r.forEach(A=>{var p;return(p=A[v])==null?void 0:p.call(A,m)})},[r]),a]}const cS={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uS={onDragStart(r){let{active:a}=r;return"Picked up draggable item "+a.id+"."},onDragOver(r){let{active:a,over:s}=r;return s?"Draggable item "+a.id+" was moved over droppable area "+s.id+".":"Draggable item "+a.id+" is no longer over a droppable area."},onDragEnd(r){let{active:a,over:s}=r;return s?"Draggable item "+a.id+" was dropped over droppable area "+s.id:"Draggable item "+a.id+" was dropped."},onDragCancel(r){let{active:a}=r;return"Dragging was cancelled. Draggable item "+a.id+" was dropped."}};function fS(r){let{announcements:a=uS,container:s,hiddenTextDescribedById:f,screenReaderInstructions:v=cS}=r;const{announce:m,announcement:A}=sS(),p=Uc("DndLiveRegion"),[w,C]=ae.useState(!1);if(ae.useEffect(()=>{C(!0)},[]),oS(ae.useMemo(()=>({onDragStart(R){let{active:L}=R;m(a.onDragStart({active:L}))},onDragMove(R){let{active:L,over:_}=R;a.onDragMove&&m(a.onDragMove({active:L,over:_}))},onDragOver(R){let{active:L,over:_}=R;m(a.onDragOver({active:L,over:_}))},onDragEnd(R){let{active:L,over:_}=R;m(a.onDragEnd({active:L,over:_}))},onDragCancel(R){let{active:L,over:_}=R;m(a.onDragCancel({active:L,over:_}))}}),[m,a])),!w)return null;const D=Xr.createElement(Xr.Fragment,null,Xr.createElement(aS,{id:f,value:v.draggable}),Xr.createElement(iS,{id:p,announcement:A}));return s?xc.createPortal(D,s):D}var Yr;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Yr||(Yr={}));function of(){}function xl(r,a){return ae.useMemo(()=>({sensor:r,options:a??{}}),[r,a])}function jx(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return ae.useMemo(()=>[...a].filter(f=>f!=null),[...a])}const xi=Object.freeze({x:0,y:0});function Kx(r,a){return Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2))}function zx(r,a){let{data:{value:s}}=r,{data:{value:f}}=a;return s-f}function dS(r,a){let{data:{value:s}}=r,{data:{value:f}}=a;return f-s}function s2(r){let{left:a,top:s,height:f,width:v}=r;return[{x:a,y:s},{x:a+v,y:s},{x:a,y:s+f},{x:a+v,y:s+f}]}function qx(r,a){if(!r||r.length===0)return null;const[s]=r;return s[a]}function o2(r,a,s){return a===void 0&&(a=r.left),s===void 0&&(s=r.top),{x:a+r.width*.5,y:s+r.height*.5}}const Yx=r=>{let{collisionRect:a,droppableRects:s,droppableContainers:f}=r;const v=o2(a,a.left,a.top),m=[];for(const A of f){const{id:p}=A,w=s.get(p);if(w){const C=Kx(o2(w),v);m.push({id:p,data:{droppableContainer:A,value:C}})}}return m.sort(zx)},hS=r=>{let{collisionRect:a,droppableRects:s,droppableContainers:f}=r;const v=s2(a),m=[];for(const A of f){const{id:p}=A,w=s.get(p);if(w){const C=s2(w),D=v.reduce((L,_,V)=>L+Kx(C[V],_),0),R=Number((D/4).toFixed(4));m.push({id:p,data:{droppableContainer:A,value:R}})}}return m.sort(zx)};function gS(r,a){const s=Math.max(a.top,r.top),f=Math.max(a.left,r.left),v=Math.min(a.left+a.width,r.left+r.width),m=Math.min(a.top+a.height,r.top+r.height),A=v-f,p=m-s;if(f<v&&s<m){const w=a.width*a.height,C=r.width*r.height,D=A*p,R=D/(w+C-D);return Number(R.toFixed(4))}return 0}const pS=r=>{let{collisionRect:a,droppableRects:s,droppableContainers:f}=r;const v=[];for(const m of f){const{id:A}=m,p=s.get(A);if(p){const w=gS(p,a);w>0&&v.push({id:A,data:{droppableContainer:m,value:w}})}}return v.sort(dS)};function yS(r,a,s){return{...r,scaleX:a&&s?a.width/s.width:1,scaleY:a&&s?a.height/s.height:1}}function Xx(r,a){return r&&a?{x:r.left-a.left,y:r.top-a.top}:xi}function mS(r){return function(s){for(var f=arguments.length,v=new Array(f>1?f-1:0),m=1;m<f;m++)v[m-1]=arguments[m];return v.reduce((A,p)=>({...A,top:A.top+r*p.y,bottom:A.bottom+r*p.y,left:A.left+r*p.x,right:A.right+r*p.x}),{...s})}}const xS=mS(1);function vS(r){if(r.startsWith("matrix3d(")){const a=r.slice(9,-1).split(/, /);return{x:+a[12],y:+a[13],scaleX:+a[0],scaleY:+a[5]}}else if(r.startsWith("matrix(")){const a=r.slice(7,-1).split(/, /);return{x:+a[4],y:+a[5],scaleX:+a[0],scaleY:+a[3]}}return null}function AS(r,a,s){const f=vS(a);if(!f)return r;const{scaleX:v,scaleY:m,x:A,y:p}=f,w=r.left-A-(1-v)*parseFloat(s),C=r.top-p-(1-m)*parseFloat(s.slice(s.indexOf(" ")+1)),D=v?r.width/v:r.width,R=m?r.height/m:r.height;return{width:D,height:R,top:C,right:w+D,bottom:C+R,left:w}}const CS={ignoreTransform:!1};function Dl(r,a){a===void 0&&(a=CS);let s=r.getBoundingClientRect();if(a.ignoreTransform){const{transform:C,transformOrigin:D}=ka(r).getComputedStyle(r);C&&(s=AS(s,C,D))}const{top:f,left:v,width:m,height:A,bottom:p,right:w}=s;return{top:f,left:v,width:m,height:A,bottom:p,right:w}}function l2(r){return Dl(r,{ignoreTransform:!0})}function bS(r){const a=r.innerWidth,s=r.innerHeight;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}function wS(r,a){return a===void 0&&(a=ka(r).getComputedStyle(r)),a.position==="fixed"}function ES(r,a){a===void 0&&(a=ka(r).getComputedStyle(r));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(v=>{const m=a[v];return typeof m=="string"?s.test(m):!1})}function Af(r,a){const s=[];function f(v){if(a!=null&&s.length>=a||!v)return s;if(o1(v)&&v.scrollingElement!=null&&!s.includes(v.scrollingElement))return s.push(v.scrollingElement),s;if(!Mc(v)||Qx(v)||s.includes(v))return s;const m=ka(r).getComputedStyle(v);return v!==r&&ES(v,m)&&s.push(v),wS(v,m)?s:f(v.parentNode)}return r?f(r):s}function Zx(r){const[a]=Af(r,1);return a??null}function dh(r){return!vf||!r?null:Nl(r)?r:s1(r)?o1(r)||r===_l(r).scrollingElement?window:Mc(r)?r:null:null}function Wx(r){return Nl(r)?r.scrollX:r.scrollLeft}function Jx(r){return Nl(r)?r.scrollY:r.scrollTop}function Rh(r){return{x:Wx(r),y:Jx(r)}}var ea;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(ea||(ea={}));function $x(r){return!vf||!r?!1:r===document.scrollingElement}function ev(r){const a={x:0,y:0},s=$x(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},f={x:r.scrollWidth-s.width,y:r.scrollHeight-s.height},v=r.scrollTop<=a.y,m=r.scrollLeft<=a.x,A=r.scrollTop>=f.y,p=r.scrollLeft>=f.x;return{isTop:v,isLeft:m,isBottom:A,isRight:p,maxScroll:f,minScroll:a}}const IS={x:.2,y:.2};function SS(r,a,s,f,v){let{top:m,left:A,right:p,bottom:w}=s;f===void 0&&(f=10),v===void 0&&(v=IS);const{isTop:C,isBottom:D,isLeft:R,isRight:L}=ev(r),_={x:0,y:0},V={x:0,y:0},P={height:a.height*v.y,width:a.width*v.x};return!C&&m<=a.top+P.height?(_.y=ea.Backward,V.y=f*Math.abs((a.top+P.height-m)/P.height)):!D&&w>=a.bottom-P.height&&(_.y=ea.Forward,V.y=f*Math.abs((a.bottom-P.height-w)/P.height)),!L&&p>=a.right-P.width?(_.x=ea.Forward,V.x=f*Math.abs((a.right-P.width-p)/P.width)):!R&&A<=a.left+P.width&&(_.x=ea.Backward,V.x=f*Math.abs((a.left+P.width-A)/P.width)),{direction:_,speed:V}}function TS(r){if(r===document.scrollingElement){const{innerWidth:m,innerHeight:A}=window;return{top:0,left:0,right:m,bottom:A,width:m,height:A}}const{top:a,left:s,right:f,bottom:v}=r.getBoundingClientRect();return{top:a,left:s,right:f,bottom:v,width:r.clientWidth,height:r.clientHeight}}function tv(r){return r.reduce((a,s)=>ml(a,Rh(s)),xi)}function BS(r){return r.reduce((a,s)=>a+Wx(s),0)}function NS(r){return r.reduce((a,s)=>a+Jx(s),0)}function _S(r,a){if(a===void 0&&(a=Dl),!r)return;const{top:s,left:f,bottom:v,right:m}=a(r);Zx(r)&&(v<=0||m<=0||s>=window.innerHeight||f>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const DS=[["x",["left","right"],BS],["y",["top","bottom"],NS]];class u1{constructor(a,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const f=Af(s),v=tv(f);this.rect={...a},this.width=a.width,this.height=a.height;for(const[m,A,p]of DS)for(const w of A)Object.defineProperty(this,w,{get:()=>{const C=p(f),D=v[m]-C;return this.rect[w]+D},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cc{constructor(a){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var f;return(f=this.target)==null?void 0:f.removeEventListener(...s)})},this.target=a}add(a,s,f){var v;(v=this.target)==null||v.addEventListener(a,s,f),this.listeners.push([a,s,f])}}function RS(r){const{EventTarget:a}=ka(r);return r instanceof a?r:_l(r)}function hh(r,a){const s=Math.abs(r.x),f=Math.abs(r.y);return typeof a=="number"?Math.sqrt(s**2+f**2)>a:"x"in a&&"y"in a?s>a.x&&f>a.y:"x"in a?s>a.x:"y"in a?f>a.y:!1}var oi;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(oi||(oi={}));function c2(r){r.preventDefault()}function OS(r){r.stopPropagation()}var Qn;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Qn||(Qn={}));const nv={start:[Qn.Space,Qn.Enter],cancel:[Qn.Esc],end:[Qn.Space,Qn.Enter,Qn.Tab]},kS=(r,a)=>{let{currentCoordinates:s}=a;switch(r.code){case Qn.Right:return{...s,x:s.x+25};case Qn.Left:return{...s,x:s.x-25};case Qn.Down:return{...s,y:s.y+25};case Qn.Up:return{...s,y:s.y-25}}};class Cf{constructor(a){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=a;const{event:{target:s}}=a;this.props=a,this.listeners=new Cc(_l(s)),this.windowListeners=new Cc(ka(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(oi.Resize,this.handleCancel),this.windowListeners.add(oi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(oi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:a,onStart:s}=this.props,f=a.node.current;f&&_S(f),s(xi)}handleKeyDown(a){if(c1(a)){const{active:s,context:f,options:v}=this.props,{keyboardCodes:m=nv,coordinateGetter:A=kS,scrollBehavior:p="smooth"}=v,{code:w}=a;if(m.end.includes(w)){this.handleEnd(a);return}if(m.cancel.includes(w)){this.handleCancel(a);return}const{collisionRect:C}=f.current,D=C?{x:C.left,y:C.top}:xi;this.referenceCoordinates||(this.referenceCoordinates=D);const R=A(a,{active:s,context:f.current,currentCoordinates:D});if(R){const L=Nc(R,D),_={x:0,y:0},{scrollableAncestors:V}=f.current;for(const P of V){const H=a.code,{isTop:T,isRight:F,isLeft:U,isBottom:K,maxScroll:X,minScroll:M}=ev(P),I=TS(P),E={x:Math.min(H===Qn.Right?I.right-I.width/2:I.right,Math.max(H===Qn.Right?I.left:I.left+I.width/2,R.x)),y:Math.min(H===Qn.Down?I.bottom-I.height/2:I.bottom,Math.max(H===Qn.Down?I.top:I.top+I.height/2,R.y))},j=H===Qn.Right&&!F||H===Qn.Left&&!U,ie=H===Qn.Down&&!K||H===Qn.Up&&!T;if(j&&E.x!==R.x){const de=P.scrollLeft+L.x,ee=H===Qn.Right&&de<=X.x||H===Qn.Left&&de>=M.x;if(ee&&!L.y){P.scrollTo({left:de,behavior:p});return}ee?_.x=P.scrollLeft-de:_.x=H===Qn.Right?P.scrollLeft-X.x:P.scrollLeft-M.x,_.x&&P.scrollBy({left:-_.x,behavior:p});break}else if(ie&&E.y!==R.y){const de=P.scrollTop+L.y,ee=H===Qn.Down&&de<=X.y||H===Qn.Up&&de>=M.y;if(ee&&!L.x){P.scrollTo({top:de,behavior:p});return}ee?_.y=P.scrollTop-de:_.y=H===Qn.Down?P.scrollTop-X.y:P.scrollTop-M.y,_.y&&P.scrollBy({top:-_.y,behavior:p});break}}this.handleMove(a,ml(Nc(R,this.referenceCoordinates),_))}}}handleMove(a,s){const{onMove:f}=this.props;a.preventDefault(),f(s)}handleEnd(a){const{onEnd:s}=this.props;a.preventDefault(),this.detach(),s()}handleCancel(a){const{onCancel:s}=this.props;a.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Cf.activators=[{eventName:"onKeyDown",handler:(r,a,s)=>{let{keyboardCodes:f=nv,onActivation:v}=a,{active:m}=s;const{code:A}=r.nativeEvent;if(f.start.includes(A)){const p=m.activatorNode.current;return p&&r.target!==p?!1:(r.preventDefault(),v==null||v({event:r.nativeEvent}),!0)}return!1}}];function u2(r){return!!(r&&"distance"in r)}function f2(r){return!!(r&&"delay"in r)}class f1{constructor(a,s,f){var v;f===void 0&&(f=RS(a.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=a,this.events=s;const{event:m}=a,{target:A}=m;this.props=a,this.events=s,this.document=_l(A),this.documentListeners=new Cc(this.document),this.listeners=new Cc(f),this.windowListeners=new Cc(ka(A)),this.initialCoordinates=(v=Dh(m))!=null?v:xi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:a,props:{options:{activationConstraint:s,bypassActivationConstraint:f}}}=this;if(this.listeners.add(a.move.name,this.handleMove,{passive:!1}),this.listeners.add(a.end.name,this.handleEnd),a.cancel&&this.listeners.add(a.cancel.name,this.handleCancel),this.windowListeners.add(oi.Resize,this.handleCancel),this.windowListeners.add(oi.DragStart,c2),this.windowListeners.add(oi.VisibilityChange,this.handleCancel),this.windowListeners.add(oi.ContextMenu,c2),this.documentListeners.add(oi.Keydown,this.handleKeydown),s){if(f!=null&&f({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(f2(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(u2(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(a,s){const{active:f,onPending:v}=this.props;v(f,a,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:a}=this,{onStart:s}=this.props;a&&(this.activated=!0,this.documentListeners.add(oi.Click,OS,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(oi.SelectionChange,this.removeTextSelection),s(a))}handleMove(a){var s;const{activated:f,initialCoordinates:v,props:m}=this,{onMove:A,options:{activationConstraint:p}}=m;if(!v)return;const w=(s=Dh(a))!=null?s:xi,C=Nc(v,w);if(!f&&p){if(u2(p)){if(p.tolerance!=null&&hh(C,p.tolerance))return this.handleCancel();if(hh(C,p.distance))return this.handleStart()}if(f2(p)&&hh(C,p.tolerance))return this.handleCancel();this.handlePending(p,C);return}a.cancelable&&a.preventDefault(),A(w)}handleEnd(){const{onAbort:a,onEnd:s}=this.props;this.detach(),this.activated||a(this.props.active),s()}handleCancel(){const{onAbort:a,onCancel:s}=this.props;this.detach(),this.activated||a(this.props.active),s()}handleKeydown(a){a.code===Qn.Esc&&this.handleCancel()}removeTextSelection(){var a;(a=this.document.getSelection())==null||a.removeAllRanges()}}const MS={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bf extends f1{constructor(a){const{event:s}=a,f=_l(s.target);super(a,MS,f)}}bf.activators=[{eventName:"onPointerDown",handler:(r,a)=>{let{nativeEvent:s}=r,{onActivation:f}=a;return!s.isPrimary||s.button!==0?!1:(f==null||f({event:s}),!0)}}];const LS={move:{name:"mousemove"},end:{name:"mouseup"}};var Oh;(function(r){r[r.RightClick=2]="RightClick"})(Oh||(Oh={}));class US extends f1{constructor(a){super(a,LS,_l(a.event.target))}}US.activators=[{eventName:"onMouseDown",handler:(r,a)=>{let{nativeEvent:s}=r,{onActivation:f}=a;return s.button===Oh.RightClick?!1:(f==null||f({event:s}),!0)}}];const gh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class d1 extends f1{constructor(a){super(a,gh)}static setup(){return window.addEventListener(gh.move.name,a,{capture:!1,passive:!1}),function(){window.removeEventListener(gh.move.name,a)};function a(){}}}d1.activators=[{eventName:"onTouchStart",handler:(r,a)=>{let{nativeEvent:s}=r,{onActivation:f}=a;const{touches:v}=s;return v.length>1?!1:(f==null||f({event:s}),!0)}}];var bc;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(bc||(bc={}));var lf;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(lf||(lf={}));function FS(r){let{acceleration:a,activator:s=bc.Pointer,canScroll:f,draggingRect:v,enabled:m,interval:A=5,order:p=lf.TreeOrder,pointerCoordinates:w,scrollableAncestors:C,scrollableAncestorRects:D,delta:R,threshold:L}=r;const _=VS({delta:R,disabled:!m}),[V,P]=$I(),H=ae.useRef({x:0,y:0}),T=ae.useRef({x:0,y:0}),F=ae.useMemo(()=>{switch(s){case bc.Pointer:return w?{top:w.y,bottom:w.y,left:w.x,right:w.x}:null;case bc.DraggableRect:return v}},[s,v,w]),U=ae.useRef(null),K=ae.useCallback(()=>{const M=U.current;if(!M)return;const I=H.current.x*T.current.x,E=H.current.y*T.current.y;M.scrollBy(I,E)},[]),X=ae.useMemo(()=>p===lf.TreeOrder?[...C].reverse():C,[p,C]);ae.useEffect(()=>{if(!m||!C.length||!F){P();return}for(const M of X){if((f==null?void 0:f(M))===!1)continue;const I=C.indexOf(M),E=D[I];if(!E)continue;const{direction:j,speed:ie}=SS(M,E,F,a,L);for(const de of["x","y"])_[de][j[de]]||(ie[de]=0,j[de]=0);if(ie.x>0||ie.y>0){P(),U.current=M,V(K,A),H.current=ie,T.current=j;return}}H.current={x:0,y:0},T.current={x:0,y:0},P()},[a,K,f,P,m,A,JSON.stringify(F),JSON.stringify(_),V,C,X,D,JSON.stringify(L)])}const PS={x:{[ea.Backward]:!1,[ea.Forward]:!1},y:{[ea.Backward]:!1,[ea.Forward]:!1}};function VS(r){let{delta:a,disabled:s}=r;const f=_h(a);return Lc(v=>{if(s||!f||!v)return PS;const m={x:Math.sign(a.x-f.x),y:Math.sign(a.y-f.y)};return{x:{[ea.Backward]:v.x[ea.Backward]||m.x===-1,[ea.Forward]:v.x[ea.Forward]||m.x===1},y:{[ea.Backward]:v.y[ea.Backward]||m.y===-1,[ea.Forward]:v.y[ea.Forward]||m.y===1}}},[s,a,f])}function QS(r,a){const s=a!=null?r.get(a):void 0,f=s?s.node.current:null;return Lc(v=>{var m;return a==null?null:(m=f??v)!=null?m:null},[f,a])}function HS(r,a){return ae.useMemo(()=>r.reduce((s,f)=>{const{sensor:v}=f,m=v.activators.map(A=>({eventName:A.eventName,handler:a(A.handler,f)}));return[...s,...m]},[]),[r,a])}var _c;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(_c||(_c={}));var kh;(function(r){r.Optimized="optimized"})(kh||(kh={}));const d2=new Map;function GS(r,a){let{dragging:s,dependencies:f,config:v}=a;const[m,A]=ae.useState(null),{frequency:p,measure:w,strategy:C}=v,D=ae.useRef(r),R=H(),L=Bc(R),_=ae.useCallback(function(T){T===void 0&&(T=[]),!L.current&&A(F=>F===null?T:F.concat(T.filter(U=>!F.includes(U))))},[L]),V=ae.useRef(null),P=Lc(T=>{if(R&&!s)return d2;if(!T||T===d2||D.current!==r||m!=null){const F=new Map;for(let U of r){if(!U)continue;if(m&&m.length>0&&!m.includes(U.id)&&U.rect.current){F.set(U.id,U.rect.current);continue}const K=U.node.current,X=K?new u1(w(K),K):null;U.rect.current=X,X&&F.set(U.id,X)}return F}return T},[r,m,s,R,w]);return ae.useEffect(()=>{D.current=r},[r]),ae.useEffect(()=>{R||_()},[s,R]),ae.useEffect(()=>{m&&m.length>0&&A(null)},[JSON.stringify(m)]),ae.useEffect(()=>{R||typeof p!="number"||V.current!==null||(V.current=setTimeout(()=>{_(),V.current=null},p))},[p,R,_,...f]),{droppableRects:P,measureDroppableContainers:_,measuringScheduled:m!=null};function H(){switch(C){case _c.Always:return!1;case _c.BeforeDragging:return s;default:return!s}}}function rv(r,a){return Lc(s=>r?s||(typeof a=="function"?a(r):r):null,[a,r])}function jS(r,a){return rv(r,a)}function KS(r){let{callback:a,disabled:s}=r;const f=l1(a),v=ae.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:m}=window;return new m(f)},[f,s]);return ae.useEffect(()=>()=>v==null?void 0:v.disconnect(),[v]),v}function wf(r){let{callback:a,disabled:s}=r;const f=l1(a),v=ae.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:m}=window;return new m(f)},[s]);return ae.useEffect(()=>()=>v==null?void 0:v.disconnect(),[v]),v}function zS(r){return new u1(Dl(r),r)}function h2(r,a,s){a===void 0&&(a=zS);const[f,v]=ae.useState(null);function m(){v(w=>{if(!r)return null;if(r.isConnected===!1){var C;return(C=w??s)!=null?C:null}const D=a(r);return JSON.stringify(w)===JSON.stringify(D)?w:D})}const A=KS({callback(w){if(r)for(const C of w){const{type:D,target:R}=C;if(D==="childList"&&R instanceof HTMLElement&&R.contains(r)){m();break}}}}),p=wf({callback:m});return Fi(()=>{m(),r?(p==null||p.observe(r),A==null||A.observe(document.body,{childList:!0,subtree:!0})):(p==null||p.disconnect(),A==null||A.disconnect())},[r]),f}function qS(r){const a=rv(r);return Xx(r,a)}const g2=[];function YS(r){const a=ae.useRef(r),s=Lc(f=>r?f&&f!==g2&&r&&a.current&&r.parentNode===a.current.parentNode?f:Af(r):g2,[r]);return ae.useEffect(()=>{a.current=r},[r]),s}function XS(r){const[a,s]=ae.useState(null),f=ae.useRef(r),v=ae.useCallback(m=>{const A=dh(m.target);A&&s(p=>p?(p.set(A,Rh(A)),new Map(p)):null)},[]);return ae.useEffect(()=>{const m=f.current;if(r!==m){A(m);const p=r.map(w=>{const C=dh(w);return C?(C.addEventListener("scroll",v,{passive:!0}),[C,Rh(C)]):null}).filter(w=>w!=null);s(p.length?new Map(p):null),f.current=r}return()=>{A(r),A(m)};function A(p){p.forEach(w=>{const C=dh(w);C==null||C.removeEventListener("scroll",v)})}},[v,r]),ae.useMemo(()=>r.length?a?Array.from(a.values()).reduce((m,A)=>ml(m,A),xi):tv(r):xi,[r,a])}function p2(r,a){a===void 0&&(a=[]);const s=ae.useRef(null);return ae.useEffect(()=>{s.current=null},a),ae.useEffect(()=>{const f=r!==xi;f&&!s.current&&(s.current=r),!f&&s.current&&(s.current=null)},[r]),s.current?Nc(r,s.current):xi}function ZS(r){ae.useEffect(()=>{if(!vf)return;const a=r.map(s=>{let{sensor:f}=s;return f.setup==null?void 0:f.setup()});return()=>{for(const s of a)s==null||s()}},r.map(a=>{let{sensor:s}=a;return s}))}function WS(r,a){return ae.useMemo(()=>r.reduce((s,f)=>{let{eventName:v,handler:m}=f;return s[v]=A=>{m(A,a)},s},{}),[r,a])}function av(r){return ae.useMemo(()=>r?bS(r):null,[r])}const y2=[];function JS(r,a){a===void 0&&(a=Dl);const[s]=r,f=av(s?ka(s):null),[v,m]=ae.useState(y2);function A(){m(()=>r.length?r.map(w=>$x(w)?f:new u1(a(w),w)):y2)}const p=wf({callback:A});return Fi(()=>{p==null||p.disconnect(),A(),r.forEach(w=>p==null?void 0:p.observe(w))},[r]),v}function $S(r){if(!r)return null;if(r.children.length>1)return r;const a=r.children[0];return Mc(a)?a:r}function e4(r){let{measure:a}=r;const[s,f]=ae.useState(null),v=ae.useCallback(C=>{for(const{target:D}of C)if(Mc(D)){f(R=>{const L=a(D);return R?{...R,width:L.width,height:L.height}:L});break}},[a]),m=wf({callback:v}),A=ae.useCallback(C=>{const D=$S(C);m==null||m.disconnect(),D&&(m==null||m.observe(D)),f(D?a(D):null)},[a,m]),[p,w]=sf(A);return ae.useMemo(()=>({nodeRef:p,rect:s,setRef:w}),[s,p,w])}const t4=[{sensor:bf,options:{}},{sensor:Cf,options:{}}],n4={current:{}},Ju={draggable:{measure:l2},droppable:{measure:l2,strategy:_c.WhileDragging,frequency:kh.Optimized},dragOverlay:{measure:Dl}};class wc extends Map{get(a){var s;return a!=null&&(s=super.get(a))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(a=>{let{disabled:s}=a;return!s})}getNodeFor(a){var s,f;return(s=(f=this.get(a))==null?void 0:f.node.current)!=null?s:void 0}}const r4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new wc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:of},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ju,measureDroppableContainers:of,windowRect:null,measuringScheduled:!1},a4={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:of,draggableNodes:new Map,over:null,measureDroppableContainers:of},Ef=ae.createContext(a4),iv=ae.createContext(r4);function i4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new wc}}}function s4(r,a){switch(a.type){case Yr.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:a.initialCoordinates,active:a.active}};case Yr.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:a.coordinates.x-r.draggable.initialCoordinates.x,y:a.coordinates.y-r.draggable.initialCoordinates.y}}};case Yr.DragEnd:case Yr.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Yr.RegisterDroppable:{const{element:s}=a,{id:f}=s,v=new wc(r.droppable.containers);return v.set(f,s),{...r,droppable:{...r.droppable,containers:v}}}case Yr.SetDroppableDisabled:{const{id:s,key:f,disabled:v}=a,m=r.droppable.containers.get(s);if(!m||f!==m.key)return r;const A=new wc(r.droppable.containers);return A.set(s,{...m,disabled:v}),{...r,droppable:{...r.droppable,containers:A}}}case Yr.UnregisterDroppable:{const{id:s,key:f}=a,v=r.droppable.containers.get(s);if(!v||f!==v.key)return r;const m=new wc(r.droppable.containers);return m.delete(s),{...r,droppable:{...r.droppable,containers:m}}}default:return r}}function o4(r){let{disabled:a}=r;const{active:s,activatorEvent:f,draggableNodes:v}=ae.useContext(Ef),m=_h(f),A=_h(s==null?void 0:s.id);return ae.useEffect(()=>{if(!a&&!f&&m&&A!=null){if(!c1(m)||document.activeElement===m.target)return;const p=v.get(A);if(!p)return;const{activatorNode:w,node:C}=p;if(!w.current&&!C.current)return;requestAnimationFrame(()=>{for(const D of[w.current,C.current]){if(!D)continue;const R=nS(D);if(R){R.focus();break}}})}},[f,a,v,A,m]),null}function l4(r,a){let{transform:s,...f}=a;return r!=null&&r.length?r.reduce((v,m)=>m({transform:v,...f}),s):s}function c4(r){return ae.useMemo(()=>({draggable:{...Ju.draggable,...r==null?void 0:r.draggable},droppable:{...Ju.droppable,...r==null?void 0:r.droppable},dragOverlay:{...Ju.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function u4(r){let{activeNode:a,measure:s,initialRect:f,config:v=!0}=r;const m=ae.useRef(!1),{x:A,y:p}=typeof v=="boolean"?{x:v,y:v}:v;Fi(()=>{if(!A&&!p||!a){m.current=!1;return}if(m.current||!f)return;const C=a==null?void 0:a.node.current;if(!C||C.isConnected===!1)return;const D=s(C),R=Xx(D,f);if(A||(R.x=0),p||(R.y=0),m.current=!0,Math.abs(R.x)>0||Math.abs(R.y)>0){const L=Zx(C);L&&L.scrollBy({top:R.y,left:R.x})}},[a,A,p,f,s])}const sv=ae.createContext({...xi,scaleX:1,scaleY:1});var io;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(io||(io={}));const ov=ae.memo(function(a){var s,f,v,m;let{id:A,accessibility:p,autoScroll:w=!0,children:C,sensors:D=t4,collisionDetection:R=pS,measuring:L,modifiers:_,...V}=a;const P=ae.useReducer(s4,void 0,i4),[H,T]=P,[F,U]=lS(),[K,X]=ae.useState(io.Uninitialized),M=K===io.Initialized,{draggable:{active:I,nodes:E,translate:j},droppable:{containers:ie}}=H,de=I!=null?E.get(I):null,ee=ae.useRef({initial:null,translated:null}),se=ae.useMemo(()=>{var dn;return I!=null?{id:I,data:(dn=de==null?void 0:de.data)!=null?dn:n4,rect:ee}:null},[I,de]),Ce=ae.useRef(null),[oe,he]=ae.useState(null),[ve,ke]=ae.useState(null),Ue=Bc(V,Object.values(V)),Me=Uc("DndDescribedBy",A),Ae=ae.useMemo(()=>ie.getEnabled(),[ie]),Se=c4(L),{droppableRects:ze,measureDroppableContainers:_e,measuringScheduled:Je}=GS(Ae,{dragging:M,dependencies:[j.x,j.y],config:Se.droppable}),Ne=QS(E,I),wt=ae.useMemo(()=>ve?Dh(ve):null,[ve]),yt=Rt(),Q=jS(Ne,Se.draggable.measure);u4({activeNode:I!=null?E.get(I):null,config:yt.layoutShiftCompensation,initialRect:Q,measure:Se.draggable.measure});const W=h2(Ne,Se.draggable.measure,Q),re=h2(Ne?Ne.parentElement:null),O=ae.useRef({activatorEvent:null,active:null,activeNode:Ne,collisionRect:null,collisions:null,droppableRects:ze,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:ie,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Z=ie.getNodeFor((s=O.current.over)==null?void 0:s.id),be=e4({measure:Se.dragOverlay.measure}),xe=(f=be.nodeRef.current)!=null?f:Ne,Ze=M?(v=be.rect)!=null?v:W:null,gt=!!(be.nodeRef.current&&be.rect),dt=qS(gt?null:W),Ve=av(xe?ka(xe):null),pt=YS(M?Z??Ne:null),Ye=JS(pt),Lt=l4(_,{transform:{x:j.x-dt.x,y:j.y-dt.y,scaleX:1,scaleY:1},activatorEvent:ve,active:se,activeNodeRect:W,containerNodeRect:re,draggingNodeRect:Ze,over:O.current.over,overlayNodeRect:be.rect,scrollableAncestors:pt,scrollableAncestorRects:Ye,windowRect:Ve}),St=wt?ml(wt,j):null,Kt=XS(pt),An=p2(Kt),Ht=p2(Kt,[W]),rn=ml(Lt,An),nn=Ze?xS(Ze,Lt):null,Vt=se&&nn?R({active:se,collisionRect:nn,droppableRects:ze,droppableContainers:Ae,pointerCoordinates:St}):null,wn=qx(Vt,"id"),[yn,Sn]=ae.useState(null),Gt=gt?Lt:ml(Lt,Ht),at=yS(Gt,(m=yn==null?void 0:yn.rect)!=null?m:null,W),Qt=ae.useRef(null),we=ae.useCallback((dn,On)=>{let{sensor:Zn,options:an}=On;if(Ce.current==null)return;const tt=E.get(Ce.current);if(!tt)return;const It=dn.nativeEvent,_t=new Zn({active:Ce.current,activeNode:tt,event:It,options:an,context:O,onAbort(Tt){if(!E.get(Tt))return;const{onDragAbort:Ct}=Ue.current,Ut={id:Tt};Ct==null||Ct(Ut),F({type:"onDragAbort",event:Ut})},onPending(Tt,zt,Ct,Ut){if(!E.get(Tt))return;const{onDragPending:on}=Ue.current,cn={id:Tt,constraint:zt,initialCoordinates:Ct,offset:Ut};on==null||on(cn),F({type:"onDragPending",event:cn})},onStart(Tt){const zt=Ce.current;if(zt==null)return;const Ct=E.get(zt);if(!Ct)return;const{onDragStart:Ut}=Ue.current,sn={activatorEvent:It,active:{id:zt,data:Ct.data,rect:ee}};xc.unstable_batchedUpdates(()=>{Ut==null||Ut(sn),X(io.Initializing),T({type:Yr.DragStart,initialCoordinates:Tt,active:zt}),F({type:"onDragStart",event:sn}),he(Qt.current),ke(It)})},onMove(Tt){T({type:Yr.DragMove,coordinates:Tt})},onEnd:kt(Yr.DragEnd),onCancel:kt(Yr.DragCancel)});Qt.current=_t;function kt(Tt){return async function(){const{active:Ct,collisions:Ut,over:sn,scrollAdjustedTranslate:on}=O.current;let cn=null;if(Ct&&on){const{cancelDrop:ht}=Ue.current;cn={activatorEvent:It,active:Ct,collisions:Ut,delta:on,over:sn},Tt===Yr.DragEnd&&typeof ht=="function"&&await Promise.resolve(ht(cn))&&(Tt=Yr.DragCancel)}Ce.current=null,xc.unstable_batchedUpdates(()=>{T({type:Tt}),X(io.Uninitialized),Sn(null),he(null),ke(null),Qt.current=null;const ht=Tt===Yr.DragEnd?"onDragEnd":"onDragCancel";if(cn){const En=Ue.current[ht];En==null||En(cn),F({type:ht,event:cn})}})}}},[E]),Te=ae.useCallback((dn,On)=>(Zn,an)=>{const tt=Zn.nativeEvent,It=E.get(an);if(Ce.current!==null||!It||tt.dndKit||tt.defaultPrevented)return;const _t={active:It};dn(Zn,On.options,_t)===!0&&(tt.dndKit={capturedBy:On.sensor},Ce.current=an,we(Zn,On))},[E,we]),$e=HS(D,Te);ZS(D),Fi(()=>{W&&K===io.Initializing&&X(io.Initialized)},[W,K]),ae.useEffect(()=>{const{onDragMove:dn}=Ue.current,{active:On,activatorEvent:Zn,collisions:an,over:tt}=O.current;if(!On||!Zn)return;const It={active:On,activatorEvent:Zn,collisions:an,delta:{x:rn.x,y:rn.y},over:tt};xc.unstable_batchedUpdates(()=>{dn==null||dn(It),F({type:"onDragMove",event:It})})},[rn.x,rn.y]),ae.useEffect(()=>{const{active:dn,activatorEvent:On,collisions:Zn,droppableContainers:an,scrollAdjustedTranslate:tt}=O.current;if(!dn||Ce.current==null||!On||!tt)return;const{onDragOver:It}=Ue.current,_t=an.get(wn),kt=_t&&_t.rect.current?{id:_t.id,rect:_t.rect.current,data:_t.data,disabled:_t.disabled}:null,Tt={active:dn,activatorEvent:On,collisions:Zn,delta:{x:tt.x,y:tt.y},over:kt};xc.unstable_batchedUpdates(()=>{Sn(kt),It==null||It(Tt),F({type:"onDragOver",event:Tt})})},[wn]),Fi(()=>{O.current={activatorEvent:ve,active:se,activeNode:Ne,collisionRect:nn,collisions:Vt,droppableRects:ze,draggableNodes:E,draggingNode:xe,draggingNodeRect:Ze,droppableContainers:ie,over:yn,scrollableAncestors:pt,scrollAdjustedTranslate:rn},ee.current={initial:Ze,translated:nn}},[se,Ne,Vt,nn,E,xe,Ze,ze,ie,yn,pt,rn]),FS({...yt,delta:j,draggingRect:nn,pointerCoordinates:St,scrollableAncestors:pt,scrollableAncestorRects:Ye});const ot=ae.useMemo(()=>({active:se,activeNode:Ne,activeNodeRect:W,activatorEvent:ve,collisions:Vt,containerNodeRect:re,dragOverlay:be,draggableNodes:E,droppableContainers:ie,droppableRects:ze,over:yn,measureDroppableContainers:_e,scrollableAncestors:pt,scrollableAncestorRects:Ye,measuringConfiguration:Se,measuringScheduled:Je,windowRect:Ve}),[se,Ne,W,ve,Vt,re,be,E,ie,ze,yn,_e,pt,Ye,Se,Je,Ve]),et=ae.useMemo(()=>({activatorEvent:ve,activators:$e,active:se,activeNodeRect:W,ariaDescribedById:{draggable:Me},dispatch:T,draggableNodes:E,over:yn,measureDroppableContainers:_e}),[ve,$e,se,W,T,Me,E,yn,_e]);return Xr.createElement(Gx.Provider,{value:U},Xr.createElement(Ef.Provider,{value:et},Xr.createElement(iv.Provider,{value:ot},Xr.createElement(sv.Provider,{value:at},C)),Xr.createElement(o4,{disabled:(p==null?void 0:p.restoreFocus)===!1})),Xr.createElement(fS,{...p,hiddenTextDescribedById:Me}));function Rt(){const dn=(oe==null?void 0:oe.autoScrollEnabled)===!1,On=typeof w=="object"?w.enabled===!1:w===!1,Zn=M&&!dn&&!On;return typeof w=="object"?{...w,enabled:Zn}:{enabled:Zn}}}),f4=ae.createContext(null),m2="button",d4="Draggable";function h4(r){let{id:a,data:s,disabled:f=!1,attributes:v}=r;const m=Uc(d4),{activators:A,activatorEvent:p,active:w,activeNodeRect:C,ariaDescribedById:D,draggableNodes:R,over:L}=ae.useContext(Ef),{role:_=m2,roleDescription:V="draggable",tabIndex:P=0}=v??{},H=(w==null?void 0:w.id)===a,T=ae.useContext(H?sv:f4),[F,U]=sf(),[K,X]=sf(),M=WS(A,a),I=Bc(s);Fi(()=>(R.set(a,{id:a,key:m,node:F,activatorNode:K,data:I}),()=>{const j=R.get(a);j&&j.key===m&&R.delete(a)}),[R,a]);const E=ae.useMemo(()=>({role:_,tabIndex:P,"aria-disabled":f,"aria-pressed":H&&_===m2?!0:void 0,"aria-roledescription":V,"aria-describedby":D.draggable}),[f,_,P,H,V,D.draggable]);return{active:w,activatorEvent:p,activeNodeRect:C,attributes:E,isDragging:H,listeners:f?void 0:M,node:F,over:L,setNodeRef:U,setActivatorNodeRef:X,transform:T}}function g4(){return ae.useContext(iv)}const p4="Droppable",y4={timeout:25};function m4(r){let{data:a,disabled:s=!1,id:f,resizeObserverConfig:v}=r;const m=Uc(p4),{active:A,dispatch:p,over:w,measureDroppableContainers:C}=ae.useContext(Ef),D=ae.useRef({disabled:s}),R=ae.useRef(!1),L=ae.useRef(null),_=ae.useRef(null),{disabled:V,updateMeasurementsFor:P,timeout:H}={...y4,...v},T=Bc(P??f),F=ae.useCallback(()=>{if(!R.current){R.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{C(Array.isArray(T.current)?T.current:[T.current]),_.current=null},H)},[H]),U=wf({callback:F,disabled:V||!A}),K=ae.useCallback((E,j)=>{U&&(j&&(U.unobserve(j),R.current=!1),E&&U.observe(E))},[U]),[X,M]=sf(K),I=Bc(a);return ae.useEffect(()=>{!U||!X.current||(U.disconnect(),R.current=!1,U.observe(X.current))},[X,U]),ae.useEffect(()=>(p({type:Yr.RegisterDroppable,element:{id:f,key:m,disabled:s,node:X,rect:L,data:I}}),()=>p({type:Yr.UnregisterDroppable,key:m,id:f})),[f]),ae.useEffect(()=>{s!==D.current.disabled&&(p({type:Yr.SetDroppableDisabled,id:f,key:m,disabled:s}),D.current.disabled=s)},[f,m,s,p]),{active:A,rect:L,isOver:(w==null?void 0:w.id)===f,node:X,over:w,setNodeRef:M}}function If(r,a,s){const f=r.slice();return f.splice(s<0?f.length+s:s,0,f.splice(a,1)[0]),f}function x4(r,a){return r.reduce((s,f,v)=>{const m=a.get(f);return m&&(s[v]=m),s},Array(r.length))}function zu(r){return r!==null&&r>=0}function v4(r,a){if(r===a)return!0;if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(r[s]!==a[s])return!1;return!0}function A4(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const lv=r=>{let{rects:a,activeIndex:s,overIndex:f,index:v}=r;const m=If(a,f,s),A=a[v],p=m[v];return!p||!A?null:{x:p.left-A.left,y:p.top-A.top,scaleX:p.width/A.width,scaleY:p.height/A.height}},qu={scaleX:1,scaleY:1},cv=r=>{var a;let{activeIndex:s,activeNodeRect:f,index:v,rects:m,overIndex:A}=r;const p=(a=m[s])!=null?a:f;if(!p)return null;if(v===s){const C=m[A];return C?{x:0,y:s<A?C.top+C.height-(p.top+p.height):C.top-p.top,...qu}:null}const w=C4(m,v,s);return v>s&&v<=A?{x:0,y:-p.height-w,...qu}:v<s&&v>=A?{x:0,y:p.height+w,...qu}:{x:0,y:0,...qu}};function C4(r,a,s){const f=r[a],v=r[a-1],m=r[a+1];return f?s<a?v?f.top-(v.top+v.height):m?m.top-(f.top+f.height):0:m?m.top-(f.top+f.height):v?f.top-(v.top+v.height):0:0}const uv="Sortable",fv=Xr.createContext({activeIndex:-1,containerId:uv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:lv,disabled:{draggable:!1,droppable:!1}});function dv(r){let{children:a,id:s,items:f,strategy:v=lv,disabled:m=!1}=r;const{active:A,dragOverlay:p,droppableRects:w,over:C,measureDroppableContainers:D}=g4(),R=Uc(uv,s),L=p.rect!==null,_=ae.useMemo(()=>f.map(M=>typeof M=="object"&&"id"in M?M.id:M),[f]),V=A!=null,P=A?_.indexOf(A.id):-1,H=C?_.indexOf(C.id):-1,T=ae.useRef(_),F=!v4(_,T.current),U=H!==-1&&P===-1||F,K=A4(m);Fi(()=>{F&&V&&D(_)},[F,_,V,D]),ae.useEffect(()=>{T.current=_},[_]);const X=ae.useMemo(()=>({activeIndex:P,containerId:R,disabled:K,disableTransforms:U,items:_,overIndex:H,useDragOverlay:L,sortedRects:x4(_,w),strategy:v}),[P,R,K.draggable,K.droppable,U,_,H,w,L,v]);return Xr.createElement(fv.Provider,{value:X},a)}const b4=r=>{let{id:a,items:s,activeIndex:f,overIndex:v}=r;return If(s,f,v).indexOf(a)},w4=r=>{let{containerId:a,isSorting:s,wasDragging:f,index:v,items:m,newIndex:A,previousItems:p,previousContainerId:w,transition:C}=r;return!C||!f||p!==m&&v===A?!1:s?!0:A!==v&&a===w},E4={duration:200,easing:"ease"},hv="transform",I4=wl.Transition.toString({property:hv,duration:0,easing:"linear"}),S4={roleDescription:"sortable"};function T4(r){let{disabled:a,index:s,node:f,rect:v}=r;const[m,A]=ae.useState(null),p=ae.useRef(s);return Fi(()=>{if(!a&&s!==p.current&&f.current){const w=v.current;if(w){const C=Dl(f.current,{ignoreTransform:!0}),D={x:w.left-C.left,y:w.top-C.top,scaleX:w.width/C.width,scaleY:w.height/C.height};(D.x||D.y)&&A(D)}}s!==p.current&&(p.current=s)},[a,s,f,v]),ae.useEffect(()=>{m&&A(null)},[m]),m}function gv(r){let{animateLayoutChanges:a=w4,attributes:s,disabled:f,data:v,getNewIndex:m=b4,id:A,strategy:p,resizeObserverConfig:w,transition:C=E4}=r;const{items:D,containerId:R,activeIndex:L,disabled:_,disableTransforms:V,sortedRects:P,overIndex:H,useDragOverlay:T,strategy:F}=ae.useContext(fv),U=B4(f,_),K=D.indexOf(A),X=ae.useMemo(()=>({sortable:{containerId:R,index:K,items:D},...v}),[R,v,K,D]),M=ae.useMemo(()=>D.slice(D.indexOf(A)),[D,A]),{rect:I,node:E,isOver:j,setNodeRef:ie}=m4({id:A,data:X,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...w}}),{active:de,activatorEvent:ee,activeNodeRect:se,attributes:Ce,setNodeRef:oe,listeners:he,isDragging:ve,over:ke,setActivatorNodeRef:Ue,transform:Me}=h4({id:A,data:X,attributes:{...S4,...s},disabled:U.draggable}),Ae=JI(ie,oe),Se=!!de,ze=Se&&!V&&zu(L)&&zu(H),_e=!T&&ve,Je=_e&&ze?Me:null,wt=ze?Je??(p??F)({rects:P,activeNodeRect:se,activeIndex:L,overIndex:H,index:K}):null,yt=zu(L)&&zu(H)?m({id:A,items:D,activeIndex:L,overIndex:H}):K,Q=de==null?void 0:de.id,W=ae.useRef({activeId:Q,items:D,newIndex:yt,containerId:R}),re=D!==W.current.items,O=a({active:de,containerId:R,isDragging:ve,isSorting:Se,id:A,index:K,items:D,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:C,wasDragging:W.current.activeId!=null}),Z=T4({disabled:!O,index:K,node:E,rect:I});return ae.useEffect(()=>{Se&&W.current.newIndex!==yt&&(W.current.newIndex=yt),R!==W.current.containerId&&(W.current.containerId=R),D!==W.current.items&&(W.current.items=D)},[Se,yt,R,D]),ae.useEffect(()=>{if(Q===W.current.activeId)return;if(Q!=null&&W.current.activeId==null){W.current.activeId=Q;return}const xe=setTimeout(()=>{W.current.activeId=Q},50);return()=>clearTimeout(xe)},[Q]),{active:de,activeIndex:L,attributes:Ce,data:X,rect:I,index:K,newIndex:yt,items:D,isOver:j,isSorting:Se,isDragging:ve,listeners:he,node:E,overIndex:H,over:ke,setNodeRef:Ae,setActivatorNodeRef:Ue,setDroppableNodeRef:ie,setDraggableNodeRef:oe,transform:Z??wt,transition:be()};function be(){if(Z||re&&W.current.newIndex===K)return I4;if(!(_e&&!c1(ee)||!C)&&(Se||O))return wl.Transition.toString({...C,property:hv})}}function B4(r,a){var s,f;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(s=r==null?void 0:r.draggable)!=null?s:a.draggable,droppable:(f=r==null?void 0:r.droppable)!=null?f:a.droppable}}function cf(r){if(!r)return!1;const a=r.data.current;return!!(a&&"sortable"in a&&typeof a.sortable=="object"&&"containerId"in a.sortable&&"items"in a.sortable&&"index"in a.sortable)}const N4=[Qn.Down,Qn.Right,Qn.Up,Qn.Left],pv=(r,a)=>{let{context:{active:s,collisionRect:f,droppableRects:v,droppableContainers:m,over:A,scrollableAncestors:p}}=a;if(N4.includes(r.code)){if(r.preventDefault(),!s||!f)return;const w=[];m.getEnabled().forEach(R=>{if(!R||R!=null&&R.disabled)return;const L=v.get(R.id);if(L)switch(r.code){case Qn.Down:f.top<L.top&&w.push(R);break;case Qn.Up:f.top>L.top&&w.push(R);break;case Qn.Left:f.left>L.left&&w.push(R);break;case Qn.Right:f.left<L.left&&w.push(R);break}});const C=hS({collisionRect:f,droppableRects:v,droppableContainers:w});let D=qx(C,"id");if(D===(A==null?void 0:A.id)&&C.length>1&&(D=C[1].id),D!=null){const R=m.get(s.id),L=m.get(D),_=L?v.get(L.id):null,V=L==null?void 0:L.node.current;if(V&&_&&R&&L){const H=Af(V).some((M,I)=>p[I]!==M),T=yv(R,L),F=_4(R,L),U=H||!T?{x:0,y:0}:{x:F?f.width-_.width:0,y:F?f.height-_.height:0},K={x:_.left,y:_.top};return U.x&&U.y?K:Nc(K,U)}}}};function yv(r,a){return!cf(r)||!cf(a)?!1:r.data.current.sortable.containerId===a.data.current.sortable.containerId}function _4(r,a){return!cf(r)||!cf(a)||!yv(r,a)?!1:r.data.current.sortable.index<a.data.current.sortable.index}function D4({id:r,field:a,updateField:s,removeField:f}){const{attributes:v,listeners:m,setNodeRef:A,transform:p,transition:w,isDragging:C}=gv({id:r}),D={transform:wl.Transform.toString(p),transition:w,zIndex:C?50:"auto",opacity:C?.5:1};return z.jsxs("div",{ref:A,style:D,className:"flex items-start gap-2 mb-4 bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[z.jsx("div",{...v,...m,className:"mt-2 cursor-grab text-gray-400 hover:text-gray-600 p-1",children:z.jsx(ix,{className:"w-4 h-4"})}),z.jsxs("div",{className:"flex-1 space-y-2",children:[z.jsx("div",{children:z.jsx("input",{type:"text",value:a.name,onChange:R=>s(r,"name",R.target.value),className:"w-full px-0 py-0 border-none font-medium text-xs text-indigo-600 focus:outline-none focus:ring-0 bg-transparent",placeholder:" ()"})}),z.jsxs("div",{className:"relative",children:[z.jsx("input",{type:a.name.toLowerCase().includes("")||a.name.toLowerCase().includes("password")?"password":"text",value:a.value,onChange:R=>s(r,"value",R.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-8",placeholder:""}),(a.name.toLowerCase().includes("")||a.name.toLowerCase().includes("password"))&&z.jsx("button",{onClick:()=>s(r,"generate",!0),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-600 p-1",title:"",children:z.jsx(Zh,{className:"w-4 h-4"})})]})]}),z.jsx("button",{onClick:()=>f(r),className:"mt-2 text-gray-400 hover:text-red-500 p-1",children:z.jsx(Tc,{className:"w-4 h-4"})})]})}function R4(){const{dek:r}=Mo(),[a,s]=ae.useState([]),[f,v]=ae.useState([]),[m,A]=ae.useState(""),[p,w]=ae.useState(null),[C,D]=ae.useState({}),[R,L]=ae.useState(!1),[_,V]=ae.useState(!1),[P,H]=ae.useState(!1),[T,F]=ae.useState(!1),[U,K]=ae.useState(null),[X,M]=ae.useState(null),[I,E]=ae.useState(null),[j,ie]=ae.useState(""),[de,ee]=ae.useState([]),[se,Ce]=ae.useState([]),[oe,he]=ae.useState(""),[ve,ke]=ae.useState(!1),[Ue,Me]=ae.useState(null),[Ae,Se]=ae.useState(!1),[ze,_e]=ae.useState(""),[Je,Ne]=ae.useState(!1),[wt,yt]=ae.useState(null),[Q,W]=ae.useState(16),[re,O]=ae.useState(!0),[Z,be]=ae.useState(!0),[xe,Ze]=ae.useState(!0),[gt,dt]=ae.useState("!@#$%^&*()_+~`|}{[]:;?><,./-="),Ve=jx(xl(bf,{activationConstraint:{delay:200,tolerance:5}}),xl(d1,{activationConstraint:{delay:200,tolerance:5}}),xl(Cf,{coordinateGetter:pv}));ae.useEffect(()=>{pt(),Ye()},[r]);const pt=async()=>{if(!r)return;const Te=(await ct.accounts.toArray()).filter(ot=>ot.delFlag!==1),$e=await Promise.all(Te.map(async ot=>{const et=await Promise.all(ot.fields.map(async Rt=>({name:Rt.fieldName,value:await ki(r,Rt.fieldValue)})));return{...ot,decryptedFields:et}}));s($e.sort((ot,et)=>ot.favorite!==et.favorite?ot.favorite?-1:1:et.time-ot.time))},Ye=async()=>{const we=await ct.tags.toArray();v(we.sort((Te,$e)=>(Te.rank||0)-($e.rank||0)))},Lt=we=>{he(we),ke(!0)},St=async we=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(we),Lt("");else{const Te=document.createElement("textarea");Te.value=we,Te.style.position="fixed",Te.style.left="-999999px",Te.style.top="-999999px",document.body.appendChild(Te),Te.focus(),Te.select();try{document.execCommand("copy"),Lt("")}catch($e){console.error("Fallback: Oops, unable to copy",$e),Lt("")}document.body.removeChild(Te)}}catch(Te){console.error("Failed to copy: ",Te),Lt("")}},Kt=()=>{E(null),ie(""),ee([]),Ce([{id:Do(),name:"",value:""},{id:Do(),name:"",value:""},{id:Do(),name:"",value:""}])},An=we=>{E(we.id),ie(we.name),ee(we.labels||[]),Ce(we.decryptedFields.map(Te=>({id:Do(),name:Te.name,value:Te.value}))),L(!0),Me(null),V(!1)},Ht=async()=>{if(!(!r||!j))try{const we=se.filter(ot=>ot.name.trim()!==""),Te=await Promise.all(we.map(async ot=>({fieldName:ot.name.trim(),fieldValue:await ki(r,await li(r,ot.value))}))),$e=await Promise.all(we.map(async ot=>({fieldName:ot.name.trim(),fieldValue:await li(r,ot.value)})));I?(await ct.accounts.update(I,{name:j,labels:de,fields:$e,time:Date.now()}),Lt("")):(await ct.accounts.put({id:Do(),name:j,labels:de,favorite:!1,time:Date.now(),delFlag:0,fields:$e}),Lt("")),pt(),L(!1)}catch(we){console.error("",we),Lt("")}},rn=async we=>{await ct.accounts.update(we.id,{favorite:!we.favorite,time:Date.now()}),pt()},nn=async()=>{U&&(await ct.accounts.update(U,{delFlag:1,time:Date.now()}),await pt(),Lt(""),H(!1),K(null),Me(null),V(!1))},Vt=we=>{K(we),H(!0),Me(null)},wn=(we,Te)=>{const $e=`${we}-${Te}`;D(ot=>({...ot,[$e]:!ot[$e]}))},yn=(we,Te,$e)=>{if(Te==="generate"){yt(we),Ne(!0);return}Ce(se.map(ot=>ot.id===we?{...ot,[Te]:$e}:ot))},Sn=we=>{Ce(se.filter(Te=>Te.id!==we))},Gt=()=>{Ce([...se,{id:Do(),name:"",value:""}])},at=we=>{const{active:Te,over:$e}=we;if($e&&Te.id!==$e.id){const ot=se.findIndex(Rt=>Rt.id===Te.id),et=se.findIndex(Rt=>Rt.id===$e.id);Ce(If(se,ot,et))}},Qt=()=>{const we="abcdefghijklmnopqrstuvwxyz",Te="ABCDEFGHIJKLMNOPQRSTUVWXYZ",$e="0123456789",ot=gt||"!@#$%^&*()_+~`|}{[]:;?><,./-=";let et=we;xe&&(et+=Te),Z&&(et+=$e),re&&(et+=ot);let Rt="";for(let dn=0;dn<Q;dn++)Rt+=et.charAt(Math.floor(Math.random()*et.length));wt&&Ce(se.map(dn=>dn.id===wt?{...dn,value:Rt}:dn)),St(Rt),Ne(!1)};return z.jsxs("div",{className:"pb-20",onClick:()=>Me(null),children:[z.jsx("div",{className:"sticky top-0 bg-gray-50 pt-4 pb-2 z-20",children:z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("button",{onClick:()=>F(!0),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-white rounded-full transition-colors",children:z.jsx(wh,{className:"w-5 h-5"})}),z.jsx("button",{onClick:()=>{Kt(),L(!0)},className:"p-2 bg-indigo-600 text-white rounded-full shadow-sm hover:bg-indigo-700 transition-colors",children:z.jsx(bh,{className:"w-5 h-5"})})]})]})}),z.jsxs("div",{className:"flex gap-4 items-start",children:[z.jsx("div",{className:"w-20 sm:w-24 flex-shrink-0 sticky top-20 max-h-[calc(100vh-140px)] overflow-y-auto scrollable scrollbar-hide py-1",children:z.jsxs("div",{className:"flex flex-col gap-1",children:[z.jsx("button",{onClick:()=>w(null),className:ya("w-full text-center py-2.5 rounded-xl text-xs font-medium transition-all",p===null?"bg-indigo-600 text-white shadow-sm":"bg-transparent text-gray-500 hover:bg-gray-100"),children:""}),f.map(we=>z.jsx("button",{onClick:()=>w(we.label),className:ya("w-full text-center py-2.5 rounded-xl text-xs font-medium transition-all break-all px-2",p===we.label?"bg-indigo-600 text-white shadow-sm":"bg-transparent text-gray-500 hover:bg-gray-100"),children:we.label},we.id))]})}),z.jsx("div",{className:"flex-1 min-w-0",children:z.jsxs("div",{className:"space-y-3",children:[a.filter(we=>{var Te,$e;return(we.name.includes(m)||((Te=we.labels)==null?void 0:Te.some(ot=>ot.includes(m))))&&(!p||(($e=we.labels)==null?void 0:$e.includes(p)))}).map(we=>{var Te;return z.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-hidden active:scale-[0.99] transition-transform cursor-pointer",onClick:()=>{M(we),V(!0)},children:[z.jsxs("div",{className:"flex justify-between items-start mb-2",children:[z.jsxs("div",{className:"flex flex-col gap-1",children:[z.jsx("h3",{className:"font-medium text-gray-900 text-lg",children:we.name}),we.labels&&we.labels.length>0&&z.jsx("div",{className:"flex flex-wrap gap-1",children:we.labels.map($e=>z.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full",children:$e},$e))})]}),z.jsx("div",{className:"flex items-center gap-1",children:z.jsx("button",{onClick:$e=>{$e.stopPropagation(),rn(we)},className:ya("p-1.5 rounded-full transition-colors",we.favorite?"text-yellow-500":"text-gray-300 hover:text-gray-400"),children:z.jsx(ox,{className:ya("w-5 h-5",we.favorite&&"fill-current")})})})]}),z.jsx("div",{className:"text-sm text-gray-500 truncate",children:((Te=we.decryptedFields.find($e=>$e.name.includes("")||$e.name.includes("")))==null?void 0:Te.value)||""}),z.jsxs("div",{className:"mt-3 text-[10px] text-gray-400",children:[": ",new Date(we.time).toLocaleString()]})]},we.id)}),a.filter(we=>{var Te,$e;return(we.name.includes(m)||((Te=we.labels)==null?void 0:Te.some(ot=>ot.includes(m))))&&(!p||(($e=we.labels)==null?void 0:$e.includes(p)))}).length===0&&z.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:m||p?"":""})]})})]}),z.jsx($r,{isOpen:T,onClose:()=>F(!1),title:"",children:z.jsxs("div",{className:"space-y-4 py-2",children:[z.jsxs("div",{className:"relative",children:[z.jsx(wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),z.jsx("input",{type:"text",placeholder:"...",value:m,onChange:we=>A(we.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",autoFocus:!0}),m&&z.jsx("button",{onClick:()=>A(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:z.jsx(Tc,{className:"w-4 h-4"})})]}),z.jsxs("div",{className:"max-h-[60vh] overflow-y-auto scrollable space-y-2",children:[m&&a.filter(we=>{var Te;return we.name.toLowerCase().includes(m.toLowerCase())||((Te=we.labels)==null?void 0:Te.some($e=>$e.toLowerCase().includes(m.toLowerCase())))}).map(we=>{var Te;return z.jsxs("div",{onClick:()=>{M(we),V(!0),F(!1)},className:"p-3 bg-white border border-gray-100 rounded-xl hover:bg-indigo-50 transition-colors cursor-pointer",children:[z.jsx("div",{className:"font-medium text-gray-900",children:we.name}),z.jsx("div",{className:"text-xs text-gray-500 truncate",children:((Te=we.decryptedFields.find($e=>$e.name.includes("")))==null?void 0:Te.value)||""})]},we.id)}),m&&a.filter(we=>{var Te;return we.name.toLowerCase().includes(m.toLowerCase())||((Te=we.labels)==null?void 0:Te.some($e=>$e.toLowerCase().includes(m.toLowerCase())))}).length===0&&z.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:""}),!m&&z.jsx("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:""})]}),z.jsx("button",{onClick:()=>F(!1),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-medium",children:""})]})}),z.jsx($r,{isOpen:R,onClose:()=>L(!1),title:I?"":"",children:z.jsxs("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto scrollable px-1 pb-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"text",value:j,onChange:we=>ie(we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:": Google, "})]}),z.jsxs("div",{children:[z.jsxs("div",{className:"flex items-center justify-between mb-2",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),z.jsxs("button",{onClick:Gt,className:"text-xs text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[z.jsx(bh,{className:"w-3 h-3"})," "]})]}),z.jsx(ov,{sensors:Ve,collisionDetection:Yx,onDragEnd:at,children:z.jsx(dv,{items:se.map(we=>we.id),strategy:cv,children:se.map(we=>z.jsx(D4,{id:we.id,field:we,updateField:yn,removeField:Sn},we.id))})})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:de.map(we=>z.jsxs("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-600 rounded-lg text-sm flex items-center gap-1",children:[we,z.jsx("button",{onClick:()=>ee(de.filter(Te=>Te!==we)),className:"hover:text-indigo-800",children:z.jsx(Tc,{className:"w-3 h-3"})})]},we))}),Ae?z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{type:"text",value:ze,onChange:we=>_e(we.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"",autoFocus:!0}),z.jsx("button",{onClick:we=>{we.preventDefault();const Te=ze.trim();Te&&!de.includes(Te)&&(ee([...de,Te]),ct.tags.put({label:Te,time:Date.now(),rank:Date.now()}),Ye()),Se(!1),_e("")},className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700",children:""}),z.jsx("button",{onClick:we=>{we.preventDefault(),Se(!1),_e("")},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200",children:""})]}):z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",onChange:we=>{we.target.value&&!de.includes(we.target.value)&&ee([...de,we.target.value]),we.target.value=""},children:[z.jsx("option",{value:"",children:"..."}),f.filter(we=>!de.includes(we.label)).map(we=>z.jsx("option",{value:we.label,children:we.label},we.id))]}),z.jsx("button",{onClick:we=>{we.preventDefault(),Se(!0)},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm whitespace-nowrap hover:bg-gray-200",children:""})]})]}),z.jsx("button",{onClick:Ht,disabled:!j,className:"w-full py-3 mt-4 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})}),z.jsx($r,{isOpen:_,onClose:()=>V(!1),title:(X==null?void 0:X.name)||"",children:X&&z.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto scrollable pb-4",children:[X.labels&&X.labels.length>0&&z.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:X.labels.map(we=>z.jsx("span",{className:"text-xs px-2 py-1 bg-indigo-50 text-indigo-600 rounded-full",children:we},we))}),z.jsx("div",{className:"space-y-3",children:X.decryptedFields.map(we=>{const Te=we.name.toLowerCase().includes("")||we.name.toLowerCase().includes("password"),$e=`${X.id}-${we.name}`,ot=C[$e];return z.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>St(we.value),children:[z.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[z.jsx("span",{className:"text-xs text-gray-500 mb-1",children:we.name}),z.jsx("span",{className:"text-sm font-mono text-gray-800 truncate",children:Te&&!ot?"":we.value})]}),z.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[Te&&z.jsx("button",{onClick:et=>{et.stopPropagation(),wn(X.id,we.name)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-md",children:ot?z.jsx(Fw,{className:"w-5 h-5"}):z.jsx(Vw,{className:"w-5 h-5"})}),z.jsx("div",{className:"p-2 text-gray-400 hover:text-indigo-600 rounded-md",children:z.jsx(rx,{className:"w-5 h-5"})})]})]},we.name)})}),z.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[z.jsxs("button",{onClick:()=>An(X),className:"flex-1 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl font-medium hover:bg-indigo-100 transition-colors flex items-center justify-center gap-2",children:[z.jsx(sx,{className:"w-4 h-4"})," "]}),z.jsxs("button",{onClick:()=>Vt(X.id),className:"flex-1 py-2.5 bg-red-50 text-red-600 rounded-xl font-medium hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[z.jsx(mf,{className:"w-4 h-4"})," "]})]})]})}),z.jsx($r,{isOpen:Je,onClose:()=>Ne(!1),title:"",children:z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",Q]}),z.jsx("input",{type:"range",min:"8",max:"64",value:Q,onChange:we=>W(Number(we.target.value)),className:"w-full"})]}),z.jsxs("div",{className:"space-y-2",children:[z.jsxs("label",{className:"flex items-center gap-2",children:[z.jsx("input",{type:"checkbox",checked:xe,onChange:we=>Ze(we.target.checked),className:"rounded text-indigo-600"}),z.jsx("span",{className:"text-sm text-gray-700",children:" (A-Z)"})]}),z.jsxs("label",{className:"flex items-center gap-2",children:[z.jsx("input",{type:"checkbox",checked:Z,onChange:we=>be(we.target.checked),className:"rounded text-indigo-600"}),z.jsx("span",{className:"text-sm text-gray-700",children:" (0-9)"})]}),z.jsxs("label",{className:"flex items-center gap-2",children:[z.jsx("input",{type:"checkbox",checked:re,onChange:we=>O(we.target.checked),className:"rounded text-indigo-600"}),z.jsx("span",{className:"text-sm text-gray-700",children:""})]}),re&&z.jsx("div",{className:"pl-6",children:z.jsx("input",{type:"text",value:gt,onChange:we=>dt(we.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""})})]}),z.jsx("button",{onClick:Qt,className:"w-full py-3 mt-4 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors",children:""})]})}),z.jsxs($r,{isOpen:P,onClose:()=>H(!1),title:"",children:[z.jsx("div",{className:"py-4 text-center text-gray-700",children:""}),z.jsxs("div",{className:"flex gap-3 mt-4",children:[z.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),z.jsx("button",{onClick:nn,className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:""})]})]}),z.jsx(so,{message:oe,visible:ve,onClose:()=>ke(!1)})]})}function O4({id:r,tag:a,onDelete:s}){const{attributes:f,listeners:v,setNodeRef:m,transform:A,transition:p,isDragging:w}=gv({id:r}),C={transform:wl.Transform.toString(A),transition:p,zIndex:w?50:"auto",opacity:w?.5:1};return z.jsxs("div",{ref:m,style:C,className:"flex items-center justify-between p-3 bg-white border border-gray-100 rounded-xl mb-2 shadow-sm",children:[z.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[z.jsx("div",{...f,...v,className:"cursor-grab text-gray-400 hover:text-gray-600 p-1",children:z.jsx(ix,{className:"w-5 h-5"})}),z.jsx("span",{className:"font-medium text-gray-700",children:a.label})]}),z.jsx("button",{onClick:()=>s(a.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:z.jsx(mf,{className:"w-5 h-5"})})]})}function k4(){const{logout:r,autoLockTime:a,setAutoLockTime:s,masterKey:f,dek:v}=Mo(),m=ae.useRef(null),[A,p]=ae.useState(!1),[w,C]=ae.useState(""),[D,R]=ae.useState(!1),[L,_]=ae.useState(!1),[V,P]=ae.useState(!1),[H,T]=ae.useState(!1),[F,U]=ae.useState(null),[K,X]=ae.useState(""),[M,I]=ae.useState([]),E=jx(xl(bf,{activationConstraint:{delay:100,tolerance:5}}),xl(d1,{activationConstraint:{delay:100,tolerance:5}}),xl(Cf,{coordinateGetter:pv})),[j,ie]=ae.useState(""),[de,ee]=ae.useState(!1),se=tt=>{ie(tt),ee(!0)},[Ce,oe]=ae.useState(!1),[he,ve]=ae.useState(""),[ke,Ue]=ae.useState(""),[Me,Ae]=ae.useState(""),[Se,ze]=ae.useState(!1),[_e,Je]=ae.useState(!1),[Ne,wt]=ae.useState(""),[yt,Q]=ae.useState(""),[W,re]=ae.useState(""),[O,Z]=ae.useState(!1),[be,xe]=ae.useState("github"),[Ze,gt]=ae.useState(""),[dt,Ve]=ae.useState("main"),[pt,Ye]=ae.useState(""),[Lt,St]=ae.useState("backup.json"),[Kt,An]=ae.useState(!1),[Ht,rn]=ae.useState(!1),[nn,Vt]=ae.useState(!1),wn=async()=>{const tt=await ct.tags.toArray();I(tt.sort((It,_t)=>(It.rank||0)-(_t.rank||0)))};ae.useEffect(()=>{const tt=async()=>{const _t=await ct.securityData.get(1);_t&&(Je(!0),wt(_t.question),Q(""))},It=async()=>{if(!v)return;const _t=await ct.syncData.get(1);if(_t)try{const kt=JSON.parse(await ki(v,_t.config));gt(kt.repoUrl||""),Ve(kt.branch||"main"),Ye(kt.token||""),St(kt.path||"backup.json"),xe(kt.platform||"github"),An(kt.autoBackup||!1)}catch{}};tt(),It(),wn()},[v]);const yn=async tt=>{const{active:It,over:_t}=tt;if(_t&&It.id!==_t.id){const kt=M.findIndex(Ct=>Ct.id===It.id),Tt=M.findIndex(Ct=>Ct.id===_t.id),zt=If(M,kt,Tt);I(zt),await ct.transaction("rw",ct.tags,async()=>{for(let Ct=0;Ct<zt.length;Ct++){const Ut=zt[Ct].id;Ut!==void 0&&await ct.tags.update(Ut,{rank:Ct})}})}},Sn=async()=>{F!==null&&(await ct.tags.delete(F),U(null),T(!1),wn(),se(""))},Gt=tt=>{U(tt),T(!0)},at=async()=>{const tt=K.trim();if(!tt)return;if(M.some(_t=>_t.label===tt)){se("");return}await ct.tags.put({label:tt,time:Date.now(),rank:M.length>0?Math.max(...M.map(_t=>_t.rank||0))+1:0}),X(""),wn(),se("")},Qt=async()=>{_(!0)},we=async()=>{try{const tt=await ct.baseData.toArray(),It=await ct.securityData.toArray(),_t=await ct.tags.toArray(),kt=await ct.totps.toArray(),Tt=await ct.accounts.toArray(),zt=await ct.syncData.toArray(),Ct={version:Date.now(),baseData:tt,securityData:It,tags:_t,totps:kt,accounts:Tt,syncData:zt},Ut=new Blob([JSON.stringify(Ct,null,2)],{type:"application/json"}),sn=URL.createObjectURL(Ut),on=document.createElement("a");on.href=sn,on.download="data.json",document.body.appendChild(on),on.click(),document.body.removeChild(on),URL.revokeObjectURL(sn)}catch{se("")}},Te=()=>{var tt;(tt=m.current)==null||tt.click()},$e=async tt=>{var _t;const It=(_t=tt.target.files)==null?void 0:_t[0];if(It){try{const kt=await It.text();if(!kt||kt==="undefined"){se("");return}const Tt=JSON.parse(kt);if(!Tt.baseData||Tt.baseData.length===0){se("");return}if(f)try{if(await ki(f,Tt.baseData[0].checkKey)!=="success")throw new Error}catch{se("");return}await ct.transaction("rw",[ct.baseData,ct.securityData,ct.tags,ct.totps,ct.accounts,ct.syncData],async()=>{if(await ct.baseData.clear(),await ct.baseData.bulkAdd(Tt.baseData),Tt.securityData&&(await ct.securityData.clear(),await ct.securityData.bulkAdd(Tt.securityData)),Tt.tags&&(await ct.tags.clear(),await ct.tags.bulkAdd(Tt.tags)),Tt.totps)for(const zt of Tt.totps){const Ct=await ct.totps.get(zt.id);(!Ct||Ct.time<zt.time)&&await ct.totps.put(zt)}if(Tt.accounts)for(const zt of Tt.accounts){const Ct=await ct.accounts.get(zt.id);(!Ct||Ct.time<zt.time)&&await ct.accounts.put(zt)}Tt.syncData&&(await ct.syncData.clear(),await ct.syncData.bulkAdd(Tt.syncData))}),se(""),setTimeout(()=>{window.location.reload()},1500)}catch{se("")}m.current&&(m.current.value="")}},ot=async()=>{if(ke!==Me){se("");return}if(!/^\d{8}$/.test(ke)){se("8");return}try{const tt=await ct.baseData.get(1);if(!tt)return;const It=yl(tt.salt),_t=await ds(he,It),kt=await wa(_t);if(await ki(kt,tt.checkKey)!=="success"){se("");return}const zt=await Ic(),Ct=await ds(ke,zt),Ut=await wa(Ct),sn=await pl(kt,tt.dataKey),on=await li(Ut,sn),cn=await li(Ut,"success");await ct.baseData.update(1,{salt:Sc(zt),checkKey:cn,dataKey:on,time:Date.now()}),se(""),oe(!1),ve(""),Ue(""),Ae(""),setTimeout(()=>{r()},1500)}catch{se("")}},et=async()=>{if(!Ne||!yt||!W){se("");return}try{const tt=await ct.baseData.get(1);if(!tt)return;const It=yl(tt.salt),_t=await ds(W,It),kt=await wa(_t);if(await ki(kt,tt.checkKey)!=="success"){se("");return}const zt=await Ic(),Ct=await ds(yt,zt),Ut=await wa(Ct),sn=await pl(kt,tt.dataKey),on=await li(Ut,sn);await ct.securityData.put({id:1,question:Ne,answerSalt:Sc(zt),resetKey:on,time:Date.now()}),se(""),Je(!0),Q(""),re(""),ze(!1)}catch{se("")}},Rt=async()=>{if(!v)return;const tt=JSON.stringify({repoUrl:Ze,branch:dt,token:pt,path:Lt,platform:be,autoBackup:Kt}),It=await li(v,tt);await ct.syncData.put({id:1,type:"git",config:It,lastPush:Date.now(),lastPull:0,latestVersion:0}),se(""),Z(!1)},dn=async()=>{if(!Ze||!pt){se(" Git ");return}rn(!0);try{if(!v)throw new Error("DEK missing");await Ex(v),se("")}catch(tt){console.error("Sync Error:",tt),se(`: ${tt.message}`)}finally{rn(!1)}},On=()=>{if(!Ze||!pt){se(" Git ");return}Vt(!0)},Zn=async()=>{Vt(!1),rn(!0);try{if(!v)throw new Error("DEK missing");await m3(v)?(se(""),setTimeout(()=>{window.location.reload()},1500)):se("")}catch(tt){console.error("Restore Error:",tt),se(`: ${tt.message}`)}finally{rn(!1)}},an=[{icon:z.jsx(_w,{className:"w-5 h-5"}),label:"",onClick:()=>Z(!0)},{icon:z.jsx(uE,{className:"w-5 h-5"}),label:"",onClick:()=>P(!0)},{icon:z.jsx(pE,{className:"w-5 h-5"}),label:"",onClick:we},{icon:z.jsx(ax,{className:"w-5 h-5"}),label:"",onClick:Te},{icon:z.jsx(iE,{className:"w-5 h-5"}),label:"",onClick:()=>ze(!0),warning:!_e},{icon:z.jsx(Zh,{className:"w-5 h-5"}),label:"",onClick:()=>oe(!0)},{icon:z.jsx(Sw,{className:"w-5 h-5"}),label:"",onClick:()=>R(!0),value:a===0?"":`${a}`}];return z.jsxs("div",{children:[z.jsx("div",{className:"sticky top-0 bg-gray-50 pt-4 pb-4 z-10",children:z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})}),z.jsxs("div",{className:"bg-indigo-50 rounded-2xl p-4 mb-6 border border-indigo-100",children:[z.jsx("h2",{className:"text-indigo-900 font-medium mb-1",children:""}),z.jsx("p",{className:"text-indigo-700 text-sm",children:""})]}),z.jsx("input",{type:"file",accept:".json",className:"hidden",ref:m,onChange:$e}),z.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden mb-6",children:an.map((tt,It)=>z.jsxs("button",{onClick:tt.onClick,className:`w-full flex items-center justify-between p-4 text-left text-gray-700 hover:bg-gray-50 transition-colors ${It!==an.length-1?"border-b border-gray-50":""}`,children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:"text-indigo-600",children:tt.icon}),z.jsx("span",{className:"font-medium",children:tt.label}),tt.warning&&z.jsx(hE,{className:"w-4 h-4 text-amber-500"})]}),tt.value&&z.jsx("span",{className:"text-sm text-gray-400",children:tt.value})]},It))}),z.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[z.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 p-4 text-left text-gray-700 hover:bg-gray-50 transition-colors border-b border-gray-50",children:[z.jsx("div",{className:"text-gray-500",children:z.jsx(Ww,{className:"w-5 h-5"})}),z.jsx("span",{className:"font-medium",children:""})]}),z.jsxs("button",{onClick:Qt,className:"w-full flex items-center gap-3 p-4 text-left text-red-600 hover:bg-red-50 transition-colors",children:[z.jsx("div",{className:"text-red-500",children:z.jsx(mf,{className:"w-5 h-5"})}),z.jsx("span",{className:"font-medium",children:""})]})]}),z.jsxs($r,{isOpen:L,onClose:()=>_(!1),title:"",children:[z.jsxs("div",{className:"py-4 text-center text-red-600 font-medium",children:["",z.jsx("br",{}),z.jsx("br",{}),"MFA"]}),z.jsxs("div",{className:"flex gap-3 mt-4",children:[z.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),z.jsx("button",{onClick:async()=>{await ct.delete(),window.location.reload()},className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:""})]})]}),z.jsxs($r,{isOpen:A,onClose:()=>p(!1),title:"",children:[z.jsx("div",{className:"py-4 text-center text-gray-700",children:w}),z.jsx("button",{onClick:()=>p(!1),className:"w-full mt-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:""})]}),z.jsx($r,{isOpen:D,onClose:()=>R(!1),title:"",children:z.jsx("div",{className:"space-y-2 py-2",children:[{label:"1 ",value:1},{label:"5 ",value:5},{label:"15 ",value:15},{label:"30 ",value:30},{label:"",value:0}].map(tt=>z.jsxs("button",{onClick:()=>{s(tt.value),R(!1)},className:`w-full flex items-center justify-between p-4 rounded-xl transition-colors ${a===tt.value?"bg-indigo-50 text-indigo-700 font-medium":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-100"}`,children:[z.jsx("span",{children:tt.label}),a===tt.value&&z.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"})]},tt.value))})}),z.jsx($r,{isOpen:V,onClose:()=>P(!1),title:"",children:z.jsxs("div",{className:"py-2",children:[z.jsxs("div",{className:"flex gap-2 mb-6",children:[z.jsx("input",{type:"text",value:K,onChange:tt=>X(tt.target.value),onKeyDown:tt=>tt.key==="Enter"&&at(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""}),z.jsx("button",{onClick:at,disabled:!K.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:""})]}),z.jsx("p",{className:"text-xs text-gray-500 mb-4",children:""}),z.jsxs("div",{className:"max-h-[50vh] overflow-y-auto px-1 scrollable",children:[z.jsx(ov,{sensors:E,collisionDetection:Yx,onDragEnd:yn,children:z.jsx(dv,{items:M.map(tt=>tt.id),strategy:cv,children:M.map(tt=>z.jsx(O4,{id:tt.id,tag:tt,onDelete:Gt},tt.id))})}),M.length===0&&z.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:""})]}),z.jsx("button",{onClick:()=>P(!1),className:"w-full mt-6 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors",children:""})]})}),z.jsxs($r,{isOpen:H,onClose:()=>T(!1),title:"",children:[z.jsxs("div",{className:"py-4 text-center text-gray-700",children:["",z.jsx("p",{className:"text-xs text-gray-400 mt-2",children:""})]}),z.jsxs("div",{className:"flex gap-3 mt-4",children:[z.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),z.jsx("button",{onClick:Sn,className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:""})]})]}),z.jsx($r,{isOpen:Ce,onClose:()=>oe(!1),title:"",children:z.jsxs("div",{className:"space-y-4 py-2",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"password",value:he,onChange:tt=>ve(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"password",value:ke,onChange:tt=>Ue(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:" (8)"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"password",value:Me,onChange:tt=>Ae(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""})]}),z.jsx("button",{onClick:ot,disabled:!he||!ke||!Me,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:""})]})}),z.jsx($r,{isOpen:Se,onClose:()=>ze(!1),title:"",children:z.jsxs("div",{className:"space-y-4 py-2",children:[_e&&z.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm mb-4",children:""}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"text",value:Ne,onChange:tt=>wt(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",placeholder:""})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"text",value:yt,onChange:tt=>Q(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",placeholder:""})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"password",value:W,onChange:tt=>re(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",placeholder:""})]}),z.jsx("button",{onClick:et,disabled:!Ne||!yt||!W,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:""})]})}),z.jsx($r,{isOpen:O,onClose:()=>Z(!1),title:" (Git)",children:z.jsxs("div",{className:"space-y-4 py-2",children:[z.jsxs("div",{className:"bg-indigo-50 p-3 rounded-lg text-sm text-indigo-700 mb-2",children:[" Git  GitHubGitee ",z.jsx("br",{})," JSON "]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Git "}),z.jsxs("select",{value:be,onChange:tt=>xe(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[z.jsx("option",{value:"github",children:"GitHub"}),z.jsx("option",{value:"gitee",children:"Gitee ()"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Repository URL)"}),z.jsx("input",{type:"text",value:Ze,onChange:tt=>gt(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"https://github.com/username/repo"})]}),z.jsxs("div",{className:"flex gap-3",children:[z.jsxs("div",{className:"flex-1",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Branch)"}),z.jsx("input",{type:"text",value:dt,onChange:tt=>Ve(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"main"})]}),z.jsxs("div",{className:"flex-1",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),z.jsx("input",{type:"text",value:Lt,onChange:tt=>St(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"backup.json"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Access Token)"}),z.jsx("input",{type:"password",value:pt,onChange:tt=>Ye(tt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"ghp_..."}),z.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Repo  (Contents)"})]}),z.jsxs("div",{className:"flex items-center justify-between pt-2",children:[z.jsx("span",{className:"text-sm font-medium text-gray-700",children:""}),z.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[z.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Kt,onChange:tt=>An(tt.target.checked)}),z.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),z.jsx("p",{className:"text-xs text-gray-500",children:""}),z.jsxs("div",{className:"pt-4 space-y-2",children:[z.jsx("button",{onClick:Rt,className:"w-full py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:""}),z.jsxs("div",{className:"flex gap-2 pt-2",children:[z.jsx("button",{onClick:dn,disabled:Ht,className:"flex-1 py-2 bg-indigo-50 text-indigo-600 rounded-lg font-medium hover:bg-indigo-100 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Ht?"...":""}),z.jsx("button",{onClick:On,disabled:Ht,className:"flex-1 py-2 bg-indigo-50 text-indigo-600 rounded-lg font-medium hover:bg-indigo-100 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Ht?"...":""})]})]})]})}),z.jsxs($r,{isOpen:nn,onClose:()=>Vt(!1),title:"",children:[z.jsxs("div",{className:"py-4 text-gray-700",children:[z.jsx("p",{className:"mb-4",children:""}),z.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1 bg-gray-50 p-3 rounded-lg",children:[z.jsx("li",{children:""}),z.jsx("li",{children:""}),z.jsx("li",{children:"TOTP"}),z.jsx("li",{children:""})]})]}),z.jsxs("div",{className:"flex gap-3 mt-4",children:[z.jsx("button",{onClick:()=>Vt(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),z.jsx("button",{onClick:Zn,className:"flex-1 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:""})]})]}),z.jsx(so,{message:j,visible:de,onClose:()=>ee(!1)})]})}function M4(){const{isInitialized:r,isLocked:a}=Mo();return r===null?z.jsx("div",{className:"min-h-full bg-gray-50 flex items-center justify-center",children:"Loading..."}):z.jsx(gb,{children:z.jsx(jC,{children:r?a?z.jsx(ao,{path:"*",element:z.jsx(A3,{})}):z.jsxs(ao,{element:z.jsx(x3,{}),children:[z.jsx(ao,{path:"/mfa",element:z.jsx(WI,{})}),z.jsx(ao,{path:"/accounts",element:z.jsx(R4,{})}),z.jsx(ao,{path:"/my",element:z.jsx(k4,{})}),z.jsx(ao,{path:"*",element:z.jsx(QC,{to:"/mfa",replace:!0})})]}):z.jsx(ao,{path:"*",element:z.jsx(v3,{})})})})}function L4(){return z.jsx(dw,{children:z.jsx(M4,{})})}GA.createRoot(document.getElementById("root")).render(z.jsx(ae.StrictMode,{children:z.jsx(L4,{})}));
