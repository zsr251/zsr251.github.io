(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))d(v);new MutationObserver(v=>{for(const m of v)if(m.type==="childList")for(const A of m.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&d(A)}).observe(document,{childList:!0,subtree:!0});function s(v){const m={};return v.integrity&&(m.integrity=v.integrity),v.referrerPolicy&&(m.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?m.credentials="include":v.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(v){if(v.ep)return;v.ep=!0;const m=s(v);fetch(v.href,m)}})();var dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function SA(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var r=a.default;if(typeof r=="function"){var s=function d(){return this instanceof d?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(d){var v=Object.getOwnPropertyDescriptor(a,d);Object.defineProperty(s,d,v.get?v:{enumerable:!0,get:function(){return a[d]}})}),s}var cd={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function TA(){if(uy)return cu;uy=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(d,v,m){var A=null;if(m!==void 0&&(A=""+m),v.key!==void 0&&(A=""+v.key),"key"in v){m={};for(var p in v)p!=="key"&&(m[p]=v[p])}else m=v;return v=m.ref,{$$typeof:a,type:d,key:A,ref:v!==void 0?v:null,props:m}}return cu.Fragment=r,cu.jsx=s,cu.jsxs=s,cu}var cy;function BA(){return cy||(cy=1,cd.exports=TA()),cd.exports}var q=BA(),fd={exports:{}},An={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function NA(){if(fy)return An;fy=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),A=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.iterator;function _(Ce){return Ce===null||typeof Ce!="object"?null:(Ce=L&&Ce[L]||Ce["@@iterator"],typeof Ce=="function"?Ce:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,H={};function T(Ce,Te,Ze){this.props=Ce,this.context=Te,this.refs=H,this.updater=Ze||V}T.prototype.isReactComponent={},T.prototype.setState=function(Ce,Te){if(typeof Ce!="object"&&typeof Ce!="function"&&Ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ce,Te,"setState")},T.prototype.forceUpdate=function(Ce){this.updater.enqueueForceUpdate(this,Ce,"forceUpdate")};function F(){}F.prototype=T.prototype;function U(Ce,Te,Ze){this.props=Ce,this.context=Te,this.refs=H,this.updater=Ze||V}var K=U.prototype=new F;K.constructor=U,P(K,T.prototype),K.isPureReactComponent=!0;var X=Array.isArray;function M(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function j(Ce,Te,Ze){var De=Ze.ref;return{$$typeof:a,type:Ce,key:Te,ref:De!==void 0?De:null,props:Ze}}function ae(Ce,Te){return j(Ce.type,Te,Ce.props)}function de(Ce){return typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===a}function ee(Ce){var Te={"=":"=0",":":"=2"};return"$"+Ce.replace(/[=:]/g,function(Ze){return Te[Ze]})}var se=/\/+/g;function Ae(Ce,Te){return typeof Ce=="object"&&Ce!==null&&Ce.key!=null?ee(""+Ce.key):Te.toString(36)}function oe(Ce){switch(Ce.status){case"fulfilled":return Ce.value;case"rejected":throw Ce.reason;default:switch(typeof Ce.status=="string"?Ce.then(M,M):(Ce.status="pending",Ce.then(function(Te){Ce.status==="pending"&&(Ce.status="fulfilled",Ce.value=Te)},function(Te){Ce.status==="pending"&&(Ce.status="rejected",Ce.reason=Te)})),Ce.status){case"fulfilled":return Ce.value;case"rejected":throw Ce.reason}}throw Ce}function he(Ce,Te,Ze,De,et){var Ne=typeof Ce;(Ne==="undefined"||Ne==="boolean")&&(Ce=null);var bt=!1;if(Ce===null)bt=!0;else switch(Ne){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(Ce.$$typeof){case a:case r:bt=!0;break;case D:return bt=Ce._init,he(bt(Ce._payload),Te,Ze,De,et)}}if(bt)return et=et(Ce),bt=De===""?"."+Ae(Ce,0):De,X(et)?(Ze="",bt!=null&&(Ze=bt.replace(se,"$&/")+"/"),he(et,Te,Ze,"",function(W){return W})):et!=null&&(de(et)&&(et=ae(et,Ze+(et.key==null||Ce&&Ce.key===et.key?"":(""+et.key).replace(se,"$&/")+"/")+bt)),Te.push(et)),1;bt=0;var gt=De===""?".":De+":";if(X(Ce))for(var Q=0;Q<Ce.length;Q++)De=Ce[Q],Ne=gt+Ae(De,Q),bt+=he(De,Te,Ze,Ne,et);else if(Q=_(Ce),typeof Q=="function")for(Ce=Q.call(Ce),Q=0;!(De=Ce.next()).done;)De=De.value,Ne=gt+Ae(De,Q++),bt+=he(De,Te,Ze,Ne,et);else if(Ne==="object"){if(typeof Ce.then=="function")return he(oe(Ce),Te,Ze,De,et);throw Te=String(Ce),Error("Objects are not valid as a React child (found: "+(Te==="[object Object]"?"object with keys {"+Object.keys(Ce).join(", ")+"}":Te)+"). If you meant to render a collection of children, use an array instead.")}return bt}function ve(Ce,Te,Ze){if(Ce==null)return Ce;var De=[],et=0;return he(Ce,De,"","",function(Ne){return Te.call(Ze,Ne,et++)}),De}function ke(Ce){if(Ce._status===-1){var Te=Ce._result;Te=Te(),Te.then(function(Ze){(Ce._status===0||Ce._status===-1)&&(Ce._status=1,Ce._result=Ze)},function(Ze){(Ce._status===0||Ce._status===-1)&&(Ce._status=2,Ce._result=Ze)}),Ce._status===-1&&(Ce._status=0,Ce._result=Te)}if(Ce._status===1)return Ce._result.default;throw Ce._result}var Ke=typeof reportError=="function"?reportError:function(Ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ce=="object"&&Ce!==null&&typeof Ce.message=="string"?String(Ce.message):String(Ce),error:Ce});if(!window.dispatchEvent(Te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ce);return}console.error(Ce)},Le={map:ve,forEach:function(Ce,Te,Ze){ve(Ce,function(){Te.apply(this,arguments)},Ze)},count:function(Ce){var Te=0;return ve(Ce,function(){Te++}),Te},toArray:function(Ce){return ve(Ce,function(Te){return Te})||[]},only:function(Ce){if(!de(Ce))throw Error("React.Children.only expected to receive a single React element child.");return Ce}};return An.Activity=R,An.Children=Le,An.Component=T,An.Fragment=s,An.Profiler=v,An.PureComponent=U,An.StrictMode=d,An.Suspense=E,An.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,An.__COMPILER_RUNTIME={__proto__:null,c:function(Ce){return I.H.useMemoCache(Ce)}},An.cache=function(Ce){return function(){return Ce.apply(null,arguments)}},An.cacheSignal=function(){return null},An.cloneElement=function(Ce,Te,Ze){if(Ce==null)throw Error("The argument must be a React element, but you passed "+Ce+".");var De=P({},Ce.props),et=Ce.key;if(Te!=null)for(Ne in Te.key!==void 0&&(et=""+Te.key),Te)!w.call(Te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Te.ref===void 0||(De[Ne]=Te[Ne]);var Ne=arguments.length-2;if(Ne===1)De.children=Ze;else if(1<Ne){for(var bt=Array(Ne),gt=0;gt<Ne;gt++)bt[gt]=arguments[gt+2];De.children=bt}return j(Ce.type,et,De)},An.createContext=function(Ce){return Ce={$$typeof:A,_currentValue:Ce,_currentValue2:Ce,_threadCount:0,Provider:null,Consumer:null},Ce.Provider=Ce,Ce.Consumer={$$typeof:m,_context:Ce},Ce},An.createElement=function(Ce,Te,Ze){var De,et={},Ne=null;if(Te!=null)for(De in Te.key!==void 0&&(Ne=""+Te.key),Te)w.call(Te,De)&&De!=="key"&&De!=="__self"&&De!=="__source"&&(et[De]=Te[De]);var bt=arguments.length-2;if(bt===1)et.children=Ze;else if(1<bt){for(var gt=Array(bt),Q=0;Q<bt;Q++)gt[Q]=arguments[Q+2];et.children=gt}if(Ce&&Ce.defaultProps)for(De in bt=Ce.defaultProps,bt)et[De]===void 0&&(et[De]=bt[De]);return j(Ce,Ne,et)},An.createRef=function(){return{current:null}},An.forwardRef=function(Ce){return{$$typeof:p,render:Ce}},An.isValidElement=de,An.lazy=function(Ce){return{$$typeof:D,_payload:{_status:-1,_result:Ce},_init:ke}},An.memo=function(Ce,Te){return{$$typeof:C,type:Ce,compare:Te===void 0?null:Te}},An.startTransition=function(Ce){var Te=I.T,Ze={};I.T=Ze;try{var De=Ce(),et=I.S;et!==null&&et(Ze,De),typeof De=="object"&&De!==null&&typeof De.then=="function"&&De.then(M,Ke)}catch(Ne){Ke(Ne)}finally{Te!==null&&Ze.types!==null&&(Te.types=Ze.types),I.T=Te}},An.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},An.use=function(Ce){return I.H.use(Ce)},An.useActionState=function(Ce,Te,Ze){return I.H.useActionState(Ce,Te,Ze)},An.useCallback=function(Ce,Te){return I.H.useCallback(Ce,Te)},An.useContext=function(Ce){return I.H.useContext(Ce)},An.useDebugValue=function(){},An.useDeferredValue=function(Ce,Te){return I.H.useDeferredValue(Ce,Te)},An.useEffect=function(Ce,Te){return I.H.useEffect(Ce,Te)},An.useEffectEvent=function(Ce){return I.H.useEffectEvent(Ce)},An.useId=function(){return I.H.useId()},An.useImperativeHandle=function(Ce,Te,Ze){return I.H.useImperativeHandle(Ce,Te,Ze)},An.useInsertionEffect=function(Ce,Te){return I.H.useInsertionEffect(Ce,Te)},An.useLayoutEffect=function(Ce,Te){return I.H.useLayoutEffect(Ce,Te)},An.useMemo=function(Ce,Te){return I.H.useMemo(Ce,Te)},An.useOptimistic=function(Ce,Te){return I.H.useOptimistic(Ce,Te)},An.useReducer=function(Ce,Te,Ze){return I.H.useReducer(Ce,Te,Ze)},An.useRef=function(Ce){return I.H.useRef(Ce)},An.useState=function(Ce){return I.H.useState(Ce)},An.useSyncExternalStore=function(Ce,Te,Ze){return I.H.useSyncExternalStore(Ce,Te,Ze)},An.useTransition=function(){return I.H.useTransition()},An.version="19.2.4",An}var dy;function kh(){return dy||(dy=1,fd.exports=NA()),fd.exports}var ie=kh();const Oa=Oh(ie);var dd={exports:{}},fu={},hd={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function _A(){return hy||(hy=1,(function(a){function r(he,ve){var ke=he.length;he.push(ve);e:for(;0<ke;){var Ke=ke-1>>>1,Le=he[Ke];if(0<v(Le,ve))he[Ke]=ve,he[ke]=Le,ke=Ke;else break e}}function s(he){return he.length===0?null:he[0]}function d(he){if(he.length===0)return null;var ve=he[0],ke=he.pop();if(ke!==ve){he[0]=ke;e:for(var Ke=0,Le=he.length,Ce=Le>>>1;Ke<Ce;){var Te=2*(Ke+1)-1,Ze=he[Te],De=Te+1,et=he[De];if(0>v(Ze,ke))De<Le&&0>v(et,Ze)?(he[Ke]=et,he[De]=ke,Ke=De):(he[Ke]=Ze,he[Te]=ke,Ke=Te);else if(De<Le&&0>v(et,ke))he[Ke]=et,he[De]=ke,Ke=De;else break e}}return ve}function v(he,ve){var ke=he.sortIndex-ve.sortIndex;return ke!==0?ke:he.id-ve.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;a.unstable_now=function(){return m.now()}}else{var A=Date,p=A.now();a.unstable_now=function(){return A.now()-p}}var E=[],C=[],D=1,R=null,L=3,_=!1,V=!1,P=!1,H=!1,T=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(he){for(var ve=s(C);ve!==null;){if(ve.callback===null)d(C);else if(ve.startTime<=he)d(C),ve.sortIndex=ve.expirationTime,r(E,ve);else break;ve=s(C)}}function X(he){if(P=!1,K(he),!V)if(s(E)!==null)V=!0,M||(M=!0,ee());else{var ve=s(C);ve!==null&&oe(X,ve.startTime-he)}}var M=!1,I=-1,w=5,j=-1;function ae(){return H?!0:!(a.unstable_now()-j<w)}function de(){if(H=!1,M){var he=a.unstable_now();j=he;var ve=!0;try{e:{V=!1,P&&(P=!1,F(I),I=-1),_=!0;var ke=L;try{t:{for(K(he),R=s(E);R!==null&&!(R.expirationTime>he&&ae());){var Ke=R.callback;if(typeof Ke=="function"){R.callback=null,L=R.priorityLevel;var Le=Ke(R.expirationTime<=he);if(he=a.unstable_now(),typeof Le=="function"){R.callback=Le,K(he),ve=!0;break t}R===s(E)&&d(E),K(he)}else d(E);R=s(E)}if(R!==null)ve=!0;else{var Ce=s(C);Ce!==null&&oe(X,Ce.startTime-he),ve=!1}}break e}finally{R=null,L=ke,_=!1}ve=void 0}}finally{ve?ee():M=!1}}}var ee;if(typeof U=="function")ee=function(){U(de)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ae=se.port2;se.port1.onmessage=de,ee=function(){Ae.postMessage(null)}}else ee=function(){T(de,0)};function oe(he,ve){I=T(function(){he(a.unstable_now())},ve)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(he){he.callback=null},a.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<he?Math.floor(1e3/he):5},a.unstable_getCurrentPriorityLevel=function(){return L},a.unstable_next=function(he){switch(L){case 1:case 2:case 3:var ve=3;break;default:ve=L}var ke=L;L=ve;try{return he()}finally{L=ke}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(he,ve){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var ke=L;L=he;try{return ve()}finally{L=ke}},a.unstable_scheduleCallback=function(he,ve,ke){var Ke=a.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?Ke+ke:Ke):ke=Ke,he){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ke+Le,he={id:D++,callback:ve,priorityLevel:he,startTime:ke,expirationTime:Le,sortIndex:-1},ke>Ke?(he.sortIndex=ke,r(C,he),s(E)===null&&he===s(C)&&(P?(F(I),I=-1):P=!0,oe(X,ke-Ke))):(he.sortIndex=Le,r(E,he),V||_||(V=!0,M||(M=!0,ee()))),he},a.unstable_shouldYield=ae,a.unstable_wrapCallback=function(he){var ve=L;return function(){var ke=L;L=ve;try{return he.apply(this,arguments)}finally{L=ke}}}})(gd)),gd}var gy;function DA(){return gy||(gy=1,hd.exports=_A()),hd.exports}var pd={exports:{}},fa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function RA(){if(py)return fa;py=1;var a=kh();function r(E){var C="https://react.dev/errors/"+E;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)C+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+E+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var d={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},v=Symbol.for("react.portal");function m(E,C,D){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:R==null?null:""+R,children:E,containerInfo:C,implementation:D}}var A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(E,C){if(E==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,fa.createPortal=function(E,C){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(r(299));return m(E,C,null,D)},fa.flushSync=function(E){var C=A.T,D=d.p;try{if(A.T=null,d.p=2,E)return E()}finally{A.T=C,d.p=D,d.d.f()}},fa.preconnect=function(E,C){typeof E=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,d.d.C(E,C))},fa.prefetchDNS=function(E){typeof E=="string"&&d.d.D(E)},fa.preinit=function(E,C){if(typeof E=="string"&&C&&typeof C.as=="string"){var D=C.as,R=p(D,C.crossOrigin),L=typeof C.integrity=="string"?C.integrity:void 0,_=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;D==="style"?d.d.S(E,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:R,integrity:L,fetchPriority:_}):D==="script"&&d.d.X(E,{crossOrigin:R,integrity:L,fetchPriority:_,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},fa.preinitModule=function(E,C){if(typeof E=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var D=p(C.as,C.crossOrigin);d.d.M(E,{crossOrigin:D,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&d.d.M(E)},fa.preload=function(E,C){if(typeof E=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var D=C.as,R=p(D,C.crossOrigin);d.d.L(E,D,{crossOrigin:R,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},fa.preloadModule=function(E,C){if(typeof E=="string")if(C){var D=p(C.as,C.crossOrigin);d.d.m(E,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:D,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else d.d.m(E)},fa.requestFormReset=function(E){d.d.r(E)},fa.unstable_batchedUpdates=function(E,C){return E(C)},fa.useFormState=function(E,C,D){return A.H.useFormState(E,C,D)},fa.useFormStatus=function(){return A.H.useHostTransitionStatus()},fa.version="19.2.4",fa}var yy;function d2(){if(yy)return pd.exports;yy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),pd.exports=RA(),pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function OA(){if(my)return fu;my=1;var a=DA(),r=kh(),s=d2();function d(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)n+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var n=e,u=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(u=n.return),e=n.return;while(e)}return n.tag===3?u:null}function A(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function E(e){if(m(e)!==e)throw Error(d(188))}function C(e){var n=e.alternate;if(!n){if(n=m(e),n===null)throw Error(d(188));return n!==e?null:e}for(var u=e,g=n;;){var S=u.return;if(S===null)break;var N=S.alternate;if(N===null){if(g=S.return,g!==null){u=g;continue}break}if(S.child===N.child){for(N=S.child;N;){if(N===u)return E(S),e;if(N===g)return E(S),n;N=N.sibling}throw Error(d(188))}if(u.return!==g.return)u=S,g=N;else{for(var z=!1,le=S.child;le;){if(le===u){z=!0,u=S,g=N;break}if(le===g){z=!0,g=S,u=N;break}le=le.sibling}if(!z){for(le=N.child;le;){if(le===u){z=!0,u=N,g=S;break}if(le===g){z=!0,g=N,u=S;break}le=le.sibling}if(!z)throw Error(d(189))}}if(u.alternate!==g)throw Error(d(190))}if(u.tag!==3)throw Error(d(188));return u.stateNode.current===u?e:n}function D(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=D(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,L=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case T:return"Profiler";case H:return"StrictMode";case X:return"Suspense";case M:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case U:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Ae(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Ae(e(n))}catch{}}return null}var oe=Array.isArray,he=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},Ke=[],Le=-1;function Ce(e){return{current:e}}function Te(e){0>Le||(e.current=Ke[Le],Ke[Le]=null,Le--)}function Ze(e,n){Le++,Ke[Le]=e.current,e.current=n}var De=Ce(null),et=Ce(null),Ne=Ce(null),bt=Ce(null);function gt(e,n){switch(Ze(Ne,n),Ze(et,e),Ze(De,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Rp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Rp(n),e=Op(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Te(De),Ze(De,e)}function Q(){Te(De),Te(et),Te(Ne)}function W(e){e.memoizedState!==null&&Ze(bt,e);var n=De.current,u=Op(n,e.type);n!==u&&(Ze(et,e),Ze(De,u))}function re(e){et.current===e&&(Te(De),Te(et)),bt.current===e&&(Te(bt),su._currentValue=ke)}var O,Z;function be(e){if(O===void 0)try{throw Error()}catch(u){var n=u.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",Z=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+e+Z}var xe=!1;function We(e,n){if(!e||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(n){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(qe){var je=qe}Reflect.construct(e,[],ut)}else{try{ut.call()}catch(qe){je=qe}e.call(ut.prototype)}}else{try{throw Error()}catch(qe){je=qe}(ut=e())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(qe){if(qe&&je&&typeof qe.stack=="string")return[qe.stack,je.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),z=N[0],le=N[1];if(z&&le){var Be=z.split(`
`),He=le.split(`
`);for(S=g=0;g<Be.length&&!Be[g].includes("DetermineComponentFrameRoot");)g++;for(;S<He.length&&!He[S].includes("DetermineComponentFrameRoot");)S++;if(g===Be.length||S===He.length)for(g=Be.length-1,S=He.length-1;1<=g&&0<=S&&Be[g]!==He[S];)S--;for(;1<=g&&0<=S;g--,S--)if(Be[g]!==He[S]){if(g!==1||S!==1)do if(g--,S--,0>S||Be[g]!==He[S]){var nt=`
`+Be[g].replace(" at new "," at ");return e.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",e.displayName)),nt}while(1<=g&&0<=S);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(u=e?e.displayName||e.name:"")?be(u):""}function ht(e,n){switch(e.tag){case 26:case 27:case 5:return be(e.type);case 16:return be("Lazy");case 13:return e.child!==n&&n!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return We(e.type,!1);case 11:return We(e.type.render,!1);case 1:return We(e.type,!0);case 31:return be("Activity");default:return""}}function ft(e){try{var n="",u=null;do n+=ht(e,u),u=e,e=e.return;while(e);return n}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Pe=Object.prototype.hasOwnProperty,pt=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Mt=a.unstable_shouldYield,Et=a.unstable_requestPaint,Kt=a.unstable_now,bn=a.unstable_getCurrentPriorityLevel,jt=a.unstable_ImmediatePriority,on=a.unstable_UserBlockingPriority,rn=a.unstable_NormalPriority,qt=a.unstable_LowPriority,En=a.unstable_IdlePriority,pn=a.log,Bn=a.unstable_setDisableYieldValue,Ht=null,rt=null;function Vt(e){if(typeof pn=="function"&&Bn(e),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Ht,e)}catch{}}var we=Math.clz32?Math.clz32:st,Se=Math.log,Je=Math.LN2;function st(e){return e>>>=0,e===0?32:31-(Se(e)/Je|0)|0}var $e=256,Dt=262144,un=4194304;function lt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function an(e,n,u){var g=e.pendingLanes;if(g===0)return 0;var S=0,N=e.suspendedLanes,z=e.pingedLanes;e=e.warmLanes;var le=g&134217727;return le!==0?(g=le&~N,g!==0?S=lt(g):(z&=le,z!==0?S=lt(z):u||(u=le&~e,u!==0&&(S=lt(u))))):(le=g&~N,le!==0?S=lt(le):z!==0?S=lt(z):u||(u=g&~e,u!==0&&(S=lt(u)))),S===0?0:n!==0&&n!==S&&(n&N)===0&&(N=S&-S,u=n&-n,N>=u||N===32&&(u&4194048)!==0)?n:S}function It(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function St(){var e=un;return un<<=1,(un&62914560)===0&&(un=4194304),e}function Rt(e){for(var n=[],u=0;31>u;u++)n.push(e);return n}function Lt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ft(e,n,u,g,S,N){var z=e.pendingLanes;e.pendingLanes=u,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=u,e.entangledLanes&=u,e.errorRecoveryDisabledLanes&=u,e.shellSuspendCounter=0;var le=e.entanglements,Be=e.expirationTimes,He=e.hiddenUpdates;for(u=z&~u;0<u;){var nt=31-we(u),ut=1<<nt;le[nt]=0,Be[nt]=-1;var je=He[nt];if(je!==null)for(He[nt]=null,nt=0;nt<je.length;nt++){var qe=je[nt];qe!==null&&(qe.lane&=-536870913)}u&=~ut}g!==0&&mn(e,g,0),N!==0&&S===0&&e.tag!==0&&(e.suspendedLanes|=N&~(z&~n))}function mn(e,n,u){e.pendingLanes|=n,e.suspendedLanes&=~n;var g=31-we(n);e.entangledLanes|=n,e.entanglements[g]=e.entanglements[g]|1073741824|u&261930}function Tt(e,n){var u=e.entangledLanes|=n;for(e=e.entanglements;u;){var g=31-we(u),S=1<<g;S&n|e[g]&n&&(e[g]|=n),u&=~S}}function Zt(e,n){var u=n&-n;return u=(u&42)!==0?1:yn(u),(u&(e.suspendedLanes|n))!==0?0:u}function yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function In(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fn(){var e=ve.p;return e!==0?e:(e=window.event,e===void 0?32:ny(e.type))}function dt(e,n){var u=ve.p;try{return ve.p=e,n()}finally{ve.p=u}}var Sn=Math.random().toString(36).slice(2),cn="__reactFiber$"+Sn,$t="__reactProps$"+Sn,Ar="__reactContainer$"+Sn,ya="__reactEvents$"+Sn,Ci="__reactListeners$"+Sn,ar="__reactHandles$"+Sn,Pi="__reactResources$"+Sn,ea="__reactMarker$"+Sn;function Gr(e){delete e[cn],delete e[$t],delete e[ya],delete e[Ci],delete e[ar]}function ir(e){var n=e[cn];if(n)return n;for(var u=e.parentNode;u;){if(n=u[Ar]||u[cn]){if(u=n.alternate,n.child!==null||u!==null&&u.child!==null)for(e=Vp(e);e!==null;){if(u=e[cn])return u;e=Vp(e)}return n}e=u,u=e.parentNode}return null}function en(e){if(e=e[cn]||e[Ar]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Xr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(d(33))}function dr(e){var n=e[Pi];return n||(n=e[Pi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function hr(e){e[ea]=!0}var ot=new Set,Dr={};function Mn(e,n){jr(e,n),jr(e+"Capture",n)}function jr(e,n){for(Dr[e]=n,e=0;e<n.length;e++)ot.add(n[e])}var Ma=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rn={},J={};function te(e){return Pe.call(J,e)?!0:Pe.call(Rn,e)?!1:Ma.test(e)?J[e]=!0:(Rn[e]=!0,!1)}function ce(e,n,u){if(te(n))if(u===null)e.removeAttribute(n);else{switch(typeof u){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var g=n.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+u)}}function Re(e,n,u){if(u===null)e.removeAttribute(n);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+u)}}function tt(e,n,u,g){if(g===null)e.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(u);return}e.setAttributeNS(n,u,""+g)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ct(e,n,u){var g=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,N=g.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return S.call(this)},set:function(z){u=""+z,N.call(this,z)}}),Object.defineProperty(e,n,{enumerable:g.enumerable}),{getValue:function(){return u},setValue:function(z){u=""+z},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=vt(e)?"checked":"value";e._valueTracker=Ct(e,n,""+e[n])}}function jn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var u=n.getValue(),g="";return e&&(g=vt(e)?e.checked?"true":"false":e.value),e=g,e!==u?(n.setValue(e),!0):!1}function gn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sr=/[\n"\\]/g;function tn(e){return e.replace(sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yn(e,n,u,g,S,N,z,le){e.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?e.type=z:e.removeAttribute("type"),n!=null?z==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):z!=="submit"&&z!=="reset"||e.removeAttribute("value"),n!=null?ge(e,z,Xe(n)):u!=null?ge(e,z,Xe(u)):g!=null&&e.removeAttribute("value"),S==null&&N!=null&&(e.defaultChecked=!!N),S!=null&&(e.checked=S&&typeof S!="function"&&typeof S!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?e.name=""+Xe(le):e.removeAttribute("name")}function Ue(e,n,u,g,S,N,z,le){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.type=N),n!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||n!=null)){Wt(e);return}u=u!=null?""+Xe(u):"",n=n!=null?""+Xe(n):u,le||n===e.value||(e.value=n),e.defaultValue=n}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,e.checked=le?e.checked:!!g,e.defaultChecked=!!g,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(e.name=z),Wt(e)}function ge(e,n,u){n==="number"&&gn(e.ownerDocument)===e||e.defaultValue===""+u||(e.defaultValue=""+u)}function Bt(e,n,u,g){if(e=e.options,n){n={};for(var S=0;S<u.length;S++)n["$"+u[S]]=!0;for(u=0;u<e.length;u++)S=n.hasOwnProperty("$"+e[u].value),e[u].selected!==S&&(e[u].selected=S),S&&g&&(e[u].defaultSelected=!0)}else{for(u=""+Xe(u),n=null,S=0;S<e.length;S++){if(e[S].value===u){e[S].selected=!0,g&&(e[S].defaultSelected=!0);return}n!==null||e[S].disabled||(n=e[S])}n!==null&&(n.selected=!0)}}function Kn(e,n,u){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),u==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=u!=null?""+Xe(u):""}function Cr(e,n,u,g){if(n==null){if(g!=null){if(u!=null)throw Error(d(92));if(oe(g)){if(1<g.length)throw Error(d(93));g=g[0]}u=g}u==null&&(u=""),n=u}u=Xe(n),e.defaultValue=u,g=e.textContent,g===u&&g!==""&&g!==null&&(e.value=g),Wt(e)}function ui(e,n){if(n){var u=e.firstChild;if(u&&u===e.lastChild&&u.nodeType===3){u.nodeValue=n;return}}e.textContent=n}var lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dn(e,n,u){var g=n.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":g?e.setProperty(n,u):typeof u!="number"||u===0||lo.has(n)?n==="float"?e.cssFloat=u:e[n]=(""+u).trim():e[n]=u+"px"}function zt(e,n,u){if(n!=null&&typeof n!="object")throw Error(d(62));if(e=e.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||n!=null&&n.hasOwnProperty(g)||(g.indexOf("--")===0?e.setProperty(g,""):g==="float"?e.cssFloat="":e[g]="");for(var S in n)g=n[S],n.hasOwnProperty(S)&&u[S]!==g&&dn(e,S,g)}else for(var N in n)n.hasOwnProperty(N)&&dn(e,N,n[N])}function er(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(e){return ta.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kr(){}var oa=null;function ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,Wn=null;function Sr(e){var n=en(e);if(n&&(e=n.stateNode)){var u=e[$t]||null;e:switch(e=n.stateNode,n.type){case"input":if(Yn(e,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),n=u.name,u.type==="radio"&&n!=null){for(u=e;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<u.length;n++){var g=u[n];if(g!==e&&g.form===e.form){var S=g[$t]||null;if(!S)throw Error(d(90));Yn(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(n=0;n<u.length;n++)g=u[n],g.form===e.form&&jn(g)}break e;case"textarea":Kn(e,u.value,u.defaultValue);break e;case"select":n=u.value,n!=null&&Bt(e,!!u.multiple,n,!1)}}}var Yt=!1;function bi(e,n,u){if(Yt)return e(n,u);Yt=!0;try{var g=e(n);return g}finally{if(Yt=!1,(or!==null||Wn!==null)&&(hc(),or&&(n=or,e=Wn,Wn=or=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function ln(e,n){var u=e.stateNode;if(u===null)return null;var g=u[$t]||null;if(g===null)return null;u=g[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(e=e.type,g=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!g;break e;default:e=!1}if(e)return null;if(u&&typeof u!="function")throw Error(d(231,n,typeof u));return u}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=!1;if(Ln)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{uo=!1}var xa=null,wa=null,wi=null;function Ea(){if(wi)return wi;var e,n=wa,u=n.length,g,S="value"in xa?xa.value:xa.textContent,N=S.length;for(e=0;e<u&&n[e]===S[e];e++);var z=u-e;for(g=1;g<=z&&n[u-g]===S[N-g];g++);return wi=S.slice(e,1<g?1-g:void 0)}function Ia(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function La(){return!0}function co(){return!1}function mr(e){function n(u,g,S,N,z){this._reactName=u,this._targetInst=S,this.type=g,this.nativeEvent=N,this.target=z,this.currentTarget=null;for(var le in e)e.hasOwnProperty(le)&&(u=e[le],this[le]=u?u(N):N[le]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?La:co,this.isPropagationStopped=co,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),n}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=mr(va),Ua=R({},va,{view:0,detail:0}),Vi=mr(Ua),Ei,fo,Qi,xs=R({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(Ei=e.screenX-Qi.screenX,fo=e.screenY-Qi.screenY):fo=Ei=0,Qi=e),Ei)},movementY:function(e){return"movementY"in e?e.movementY:fo}}),Pn=mr(xs),vs=R({},xs,{dataTransfer:0}),Hi=mr(vs),Aa=R({},Ua,{relatedTarget:0}),Ii=mr(Aa),ze=R({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),xn=mr(ze),Or=R({},va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fa=mr(Or),As=R({},va,{data:0}),Cs=mr(As),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gr(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tr[e])?!!n[e]:!1}function Pa(){return gr}var pr=R({},Ua,{key:function(e){if(e.key){var n=ho[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?go[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?Ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ci=mr(pr),Ja=R({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zn=mr(Ja),Xt=R({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),po=mr(Xt),Vn=R({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Va=mr(Vn),$a=R({},xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bs=mr($a),la=R({},va,{newState:0,oldState:0}),ws=mr(la),Lo=[9,13,27,32],fi=Ln&&"CompositionEvent"in window,Qa=null;Ln&&"documentMode"in document&&(Qa=document.documentMode);var Uo=Ln&&"TextEvent"in window&&!Qa,Es=Ln&&(!fi||Qa&&8<Qa&&11>=Qa),Ha=" ",Is=!1;function yo(e,n){switch(e){case"keyup":return Lo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Si(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var di=!1;function Ga(e,n){switch(e){case"compositionend":return Si(n);case"keypress":return n.which!==32?null:(Is=!0,Ha);case"textInput":return e=n.data,e===Ha&&Is?null:e;default:return null}}function Ss(e,n){if(di)return e==="compositionend"||!fi&&yo(e,n)?(e=Ea(),wi=wa=xa=null,di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Es&&n.locale!=="ko"?null:n.data;default:return null}}var na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!na[e.type]:n==="textarea"}function ua(e,n,u,g){or?Wn?Wn.push(g):Wn=[g]:or=g,n=Ac(n,"onChange"),0<n.length&&(u=new Rr("onChange","change",null,u,g),e.push({event:u,listeners:n}))}var Ti=null,hi=null;function Dl(e){Sp(e,0)}function ji(e){var n=Xr(e);if(jn(n))return e}function Zr(e,n){if(e==="change")return n}var Sa=!1;if(Ln){var tr;if(Ln){var Ta="oninput"in document;if(!Ta){var Cn=document.createElement("div");Cn.setAttribute("oninput","return;"),Ta=typeof Cn.oninput=="function"}tr=Ta}else tr=!1;Sa=tr&&(!document.documentMode||9<document.documentMode)}function Ki(){Ti&&(Ti.detachEvent("onpropertychange",$),hi=Ti=null)}function $(e){if(e.propertyName==="value"&&ji(hi)){var n=[];ua(n,hi,e,ms(e)),bi(Dl,n)}}function t(e,n,u){e==="focusin"?(Ki(),Ti=n,hi=u,Ti.attachEvent("onpropertychange",$)):e==="focusout"&&Ki()}function i(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ji(hi)}function l(e,n){if(e==="click")return ji(n)}function c(e,n){if(e==="input"||e==="change")return ji(n)}function h(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var y=typeof Object.is=="function"?Object.is:h;function o(e,n){if(y(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var u=Object.keys(e),g=Object.keys(n);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var S=u[g];if(!Pe.call(n,S)||!y(e[S],n[S]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x(e,n){var u=f(e);e=0;for(var g;u;){if(u.nodeType===3){if(g=e+u.textContent.length,e<=n&&g>=n)return{node:u,offset:n-e};e=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=f(u)}}function b(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?b(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function B(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gn(e.document);n instanceof e.HTMLIFrameElement;){try{var u=typeof n.contentWindow.location.href=="string"}catch{u=!1}if(u)e=n.contentWindow;else break;n=gn(e.document)}return n}function k(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G=Ln&&"documentMode"in document&&11>=document.documentMode,Y=null,ne=null,fe=null,ue=!1;function pe(e,n,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ue||Y==null||Y!==gn(g)||(g=Y,"selectionStart"in g&&k(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),fe&&o(fe,g)||(fe=g,g=Ac(ne,"onSelect"),0<g.length&&(n=new Rr("onSelect","select",null,n,u),e.push({event:n,listeners:g}),n.target=Y)))}function me(e,n){var u={};return u[e.toLowerCase()]=n.toLowerCase(),u["Webkit"+e]="webkit"+n,u["Moz"+e]="moz"+n,u}var ye={animationend:me("Animation","AnimationEnd"),animationiteration:me("Animation","AnimationIteration"),animationstart:me("Animation","AnimationStart"),transitionrun:me("Transition","TransitionRun"),transitionstart:me("Transition","TransitionStart"),transitioncancel:me("Transition","TransitionCancel"),transitionend:me("Transition","TransitionEnd")},Ie={},Ee={};Ln&&(Ee=document.createElement("div").style,"AnimationEvent"in window||(delete ye.animationend.animation,delete ye.animationiteration.animation,delete ye.animationstart.animation),"TransitionEvent"in window||delete ye.transitionend.transition);function Me(e){if(Ie[e])return Ie[e];if(!ye[e])return e;var n=ye[e],u;for(u in n)if(n.hasOwnProperty(u)&&u in Ee)return Ie[e]=n[u];return e}var Ve=Me("animationend"),Oe=Me("animationiteration"),Ge=Me("animationstart"),at=Me("transitionrun"),mt=Me("transitionstart"),xt=Me("transitioncancel"),ct=Me("transitionend"),Nt=new Map,wt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wt.push("scrollEnd");function yt(e,n){Nt.set(e,n),Mn(n,[e])}var _t=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hn=[],Nn=0,Jt=0;function vn(){for(var e=Nn,n=Jt=Nn=0;n<e;){var u=hn[n];hn[n++]=null;var g=hn[n];hn[n++]=null;var S=hn[n];hn[n++]=null;var N=hn[n];if(hn[n++]=null,g!==null&&S!==null){var z=g.pending;z===null?S.next=S:(S.next=z.next,z.next=S),g.pending=S}N!==0&&Bi(u,S,N)}}function lr(e,n,u,g){hn[Nn++]=e,hn[Nn++]=n,hn[Nn++]=u,hn[Nn++]=g,Jt|=g,e.lanes|=g,e=e.alternate,e!==null&&(e.lanes|=g)}function ca(e,n,u,g){return lr(e,n,u,g),Ts(e)}function $n(e,n){return lr(e,null,null,n),Ts(e)}function Bi(e,n,u){e.lanes|=u;var g=e.alternate;g!==null&&(g.lanes|=u);for(var S=!1,N=e.return;N!==null;)N.childLanes|=u,g=N.alternate,g!==null&&(g.childLanes|=u),N.tag===22&&(e=N.stateNode,e===null||e._visibility&1||(S=!0)),e=N,N=N.return;return e.tag===3?(N=e.stateNode,S&&n!==null&&(S=31-we(u),e=N.hiddenUpdates,g=e[S],g===null?e[S]=[n]:g.push(n),n.lane=u|536870912),N):null}function Ts(e){if(50<$l)throw $l=0,k0=null,Error(d(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fo={};function uv(e,n,u,g){this.tag=e,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,n,u,g){return new uv(e,n,u,g)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var u=e.alternate;return u===null?(u=ja(e.tag,n,e.key,e.mode),u.elementType=e.elementType,u.type=e.type,u.stateNode=e.stateNode,u.alternate=e,e.alternate=u):(u.pendingProps=n,u.type=e.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=e.flags&65011712,u.childLanes=e.childLanes,u.lanes=e.lanes,u.child=e.child,u.memoizedProps=e.memoizedProps,u.memoizedState=e.memoizedState,u.updateQueue=e.updateQueue,n=e.dependencies,u.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},u.sibling=e.sibling,u.index=e.index,u.ref=e.ref,u.refCleanup=e.refCleanup,u}function l1(e,n){e.flags&=65011714;var u=e.alternate;return u===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=u.childLanes,e.lanes=u.lanes,e.child=u.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=u.memoizedProps,e.memoizedState=u.memoizedState,e.updateQueue=u.updateQueue,e.type=u.type,n=u.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uu(e,n,u,g,S,N){var z=0;if(g=e,typeof e=="function")Sf(e)&&(z=1);else if(typeof e=="string")z=gA(e,u,De.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=ja(31,u,n,S),e.elementType=j,e.lanes=N,e;case P:return mo(u.children,S,N,n);case H:z=8,S|=24;break;case T:return e=ja(12,u,n,S|2),e.elementType=T,e.lanes=N,e;case X:return e=ja(13,u,n,S),e.elementType=X,e.lanes=N,e;case M:return e=ja(19,u,n,S),e.elementType=M,e.lanes=N,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:z=10;break e;case F:z=9;break e;case K:z=11;break e;case I:z=14;break e;case w:z=16,g=null;break e}z=29,u=Error(d(130,e===null?"null":typeof e,"")),g=null}return n=ja(z,u,n,S),n.elementType=e,n.type=g,n.lanes=N,n}function mo(e,n,u,g){return e=ja(7,e,g,n),e.lanes=u,e}function Tf(e,n,u){return e=ja(6,e,null,n),e.lanes=u,e}function u1(e){var n=ja(18,null,null,0);return n.stateNode=e,n}function Bf(e,n,u){return n=ja(4,e.children!==null?e.children:[],e.key,n),n.lanes=u,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var c1=new WeakMap;function ei(e,n){if(typeof e=="object"&&e!==null){var u=c1.get(e);return u!==void 0?u:(n={value:e,source:n,stack:ft(n)},c1.set(e,n),n)}return{value:e,source:n,stack:ft(n)}}var Po=[],Vo=0,Fu=null,Rl=0,ti=[],ni=0,Bs=null,Ni=1,_i="";function Yi(e,n){Po[Vo++]=Rl,Po[Vo++]=Fu,Fu=e,Rl=n}function f1(e,n,u){ti[ni++]=Ni,ti[ni++]=_i,ti[ni++]=Bs,Bs=e;var g=Ni;e=_i;var S=32-we(g)-1;g&=~(1<<S),u+=1;var N=32-we(n)+S;if(30<N){var z=S-S%5;N=(g&(1<<z)-1).toString(32),g>>=z,S-=z,Ni=1<<32-we(n)+S|u<<S|g,_i=N+e}else Ni=1<<N|u<<S|g,_i=e}function Nf(e){e.return!==null&&(Yi(e,1),f1(e,1,0))}function _f(e){for(;e===Fu;)Fu=Po[--Vo],Po[Vo]=null,Rl=Po[--Vo],Po[Vo]=null;for(;e===Bs;)Bs=ti[--ni],ti[ni]=null,_i=ti[--ni],ti[ni]=null,Ni=ti[--ni],ti[ni]=null}function d1(e,n){ti[ni++]=Ni,ti[ni++]=_i,ti[ni++]=Bs,Ni=n.id,_i=n.overflow,Bs=e}var ra=null,xr=null,Qn=!1,Ns=null,ri=!1,Df=Error(d(519));function _s(e){var n=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(ei(n,e)),Df}function h1(e){var n=e.stateNode,u=e.type,g=e.memoizedProps;switch(n[cn]=e,n[$t]=g,u){case"dialog":kn("cancel",n),kn("close",n);break;case"iframe":case"object":case"embed":kn("load",n);break;case"video":case"audio":for(u=0;u<tu.length;u++)kn(tu[u],n);break;case"source":kn("error",n);break;case"img":case"image":case"link":kn("error",n),kn("load",n);break;case"details":kn("toggle",n);break;case"input":kn("invalid",n),Ue(n,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":kn("invalid",n);break;case"textarea":kn("invalid",n),Cr(n,g.value,g.defaultValue,g.children)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||n.textContent===""+u||g.suppressHydrationWarning===!0||_p(n.textContent,u)?(g.popover!=null&&(kn("beforetoggle",n),kn("toggle",n)),g.onScroll!=null&&kn("scroll",n),g.onScrollEnd!=null&&kn("scrollend",n),g.onClick!=null&&(n.onclick=Kr),n=!0):n=!1,n||_s(e,!0)}function g1(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:ra=ra.return}}function Qo(e){if(e!==ra)return!1;if(!Qn)return g1(e),Qn=!0,!1;var n=e.tag,u;if((u=n!==3&&n!==27)&&((u=n===5)&&(u=e.type,u=!(u!=="form"&&u!=="button")||X0(e.type,e.memoizedProps)),u=!u),u&&xr&&_s(e),g1(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));xr=Pp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));xr=Pp(e)}else n===27?(n=xr,js(e.type)?(e=ed,ed=null,xr=e):xr=n):xr=ra?ii(e.stateNode.nextSibling):null;return!0}function xo(){xr=ra=null,Qn=!1}function Rf(){var e=Ns;return e!==null&&(Da===null?Da=e:Da.push.apply(Da,e),Ns=null),e}function Ol(e){Ns===null?Ns=[e]:Ns.push(e)}var Of=Ce(null),vo=null,qi=null;function Ds(e,n,u){Ze(Of,n._currentValue),n._currentValue=u}function Xi(e){e._currentValue=Of.current,Te(Of)}function kf(e,n,u){for(;e!==null;){var g=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,g!==null&&(g.childLanes|=n)):g!==null&&(g.childLanes&n)!==n&&(g.childLanes|=n),e===u)break;e=e.return}}function Mf(e,n,u,g){var S=e.child;for(S!==null&&(S.return=e);S!==null;){var N=S.dependencies;if(N!==null){var z=S.child;N=N.firstContext;e:for(;N!==null;){var le=N;N=S;for(var Be=0;Be<n.length;Be++)if(le.context===n[Be]){N.lanes|=u,le=N.alternate,le!==null&&(le.lanes|=u),kf(N.return,u,e),g||(z=null);break e}N=le.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(d(341));z.lanes|=u,N=z.alternate,N!==null&&(N.lanes|=u),kf(z,u,e),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===e){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function Ho(e,n,u,g){e=null;for(var S=n,N=!1;S!==null;){if(!N){if((S.flags&524288)!==0)N=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(d(387));if(z=z.memoizedProps,z!==null){var le=S.type;y(S.pendingProps.value,z.value)||(e!==null?e.push(le):e=[le])}}else if(S===bt.current){if(z=S.alternate,z===null)throw Error(d(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(e!==null?e.push(su):e=[su])}S=S.return}e!==null&&Mf(n,e,u,g),n.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!y(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ao(e){vo=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function aa(e){return p1(vo,e)}function Vu(e,n){return vo===null&&Ao(e),p1(e,n)}function p1(e,n){var u=n._currentValue;if(n={context:n,memoizedValue:u,next:null},qi===null){if(e===null)throw Error(d(308));qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qi=qi.next=n;return u}var cv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(u,g){e.push(g)}};this.abort=function(){n.aborted=!0,e.forEach(function(u){return u()})}},fv=a.unstable_scheduleCallback,dv=a.unstable_NormalPriority,Fr={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new cv,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&fv(dv,function(){e.controller.abort()})}var Ml=null,Uf=0,Go=0,jo=null;function hv(e,n){if(Ml===null){var u=Ml=[];Uf=0,Go=V0(),jo={status:"pending",value:void 0,then:function(g){u.push(g)}}}return Uf++,n.then(y1,y1),n}function y1(){if(--Uf===0&&Ml!==null){jo!==null&&(jo.status="fulfilled");var e=Ml;Ml=null,Go=0,jo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function gv(e,n){var u=[],g={status:"pending",value:null,reason:null,then:function(S){u.push(S)}};return e.then(function(){g.status="fulfilled",g.value=n;for(var S=0;S<u.length;S++)(0,u[S])(n)},function(S){for(g.status="rejected",g.reason=S,S=0;S<u.length;S++)(0,u[S])(void 0)}),g}var m1=he.S;he.S=function(e,n){ep=Kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hv(e,n),m1!==null&&m1(e,n)};var Co=Ce(null);function Ff(){var e=Co.current;return e!==null?e:yr.pooledCache}function Qu(e,n){n===null?Ze(Co,Co.current):Ze(Co,n.pool)}function x1(){var e=Ff();return e===null?null:{parent:Fr._currentValue,pool:e}}var Ko=Error(d(460)),Pf=Error(d(474)),Hu=Error(d(542)),Gu={then:function(){}};function v1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function A1(e,n,u){switch(u=e[u],u===void 0?e.push(n):u!==n&&(n.then(Kr,Kr),n=u),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,b1(e),e;default:if(typeof n.status=="string")n.then(Kr,Kr);else{if(e=yr,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=n,e.status="pending",e.then(function(g){if(n.status==="pending"){var S=n;S.status="fulfilled",S.value=g}},function(g){if(n.status==="pending"){var S=n;S.status="rejected",S.reason=g}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,b1(e),e}throw wo=n,Ko}}function bo(e){try{var n=e._init;return n(e._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(wo=u,Ko):u}}var wo=null;function C1(){if(wo===null)throw Error(d(459));var e=wo;return wo=null,e}function b1(e){if(e===Ko||e===Hu)throw Error(d(483))}var zo=null,Ll=0;function ju(e){var n=Ll;return Ll+=1,zo===null&&(zo=[]),A1(zo,e,n)}function Ul(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ku(e,n){throw n.$$typeof===L?Error(d(525)):(e=Object.prototype.toString.call(n),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function w1(e){function n(Fe,_e){if(e){var Qe=Fe.deletions;Qe===null?(Fe.deletions=[_e],Fe.flags|=16):Qe.push(_e)}}function u(Fe,_e){if(!e)return null;for(;_e!==null;)n(Fe,_e),_e=_e.sibling;return null}function g(Fe){for(var _e=new Map;Fe!==null;)Fe.key!==null?_e.set(Fe.key,Fe):_e.set(Fe.index,Fe),Fe=Fe.sibling;return _e}function S(Fe,_e){return Fe=zi(Fe,_e),Fe.index=0,Fe.sibling=null,Fe}function N(Fe,_e,Qe){return Fe.index=Qe,e?(Qe=Fe.alternate,Qe!==null?(Qe=Qe.index,Qe<_e?(Fe.flags|=67108866,_e):Qe):(Fe.flags|=67108866,_e)):(Fe.flags|=1048576,_e)}function z(Fe){return e&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function le(Fe,_e,Qe,it){return _e===null||_e.tag!==6?(_e=Tf(Qe,Fe.mode,it),_e.return=Fe,_e):(_e=S(_e,Qe),_e.return=Fe,_e)}function Be(Fe,_e,Qe,it){var nn=Qe.type;return nn===P?nt(Fe,_e,Qe.props.children,it,Qe.key):_e!==null&&(_e.elementType===nn||typeof nn=="object"&&nn!==null&&nn.$$typeof===w&&bo(nn)===_e.type)?(_e=S(_e,Qe.props),Ul(_e,Qe),_e.return=Fe,_e):(_e=Uu(Qe.type,Qe.key,Qe.props,null,Fe.mode,it),Ul(_e,Qe),_e.return=Fe,_e)}function He(Fe,_e,Qe,it){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Qe.containerInfo||_e.stateNode.implementation!==Qe.implementation?(_e=Bf(Qe,Fe.mode,it),_e.return=Fe,_e):(_e=S(_e,Qe.children||[]),_e.return=Fe,_e)}function nt(Fe,_e,Qe,it,nn){return _e===null||_e.tag!==7?(_e=mo(Qe,Fe.mode,it,nn),_e.return=Fe,_e):(_e=S(_e,Qe),_e.return=Fe,_e)}function ut(Fe,_e,Qe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Tf(""+_e,Fe.mode,Qe),_e.return=Fe,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:return Qe=Uu(_e.type,_e.key,_e.props,null,Fe.mode,Qe),Ul(Qe,_e),Qe.return=Fe,Qe;case V:return _e=Bf(_e,Fe.mode,Qe),_e.return=Fe,_e;case w:return _e=bo(_e),ut(Fe,_e,Qe)}if(oe(_e)||ee(_e))return _e=mo(_e,Fe.mode,Qe,null),_e.return=Fe,_e;if(typeof _e.then=="function")return ut(Fe,ju(_e),Qe);if(_e.$$typeof===U)return ut(Fe,Vu(Fe,_e),Qe);Ku(Fe,_e)}return null}function je(Fe,_e,Qe,it){var nn=_e!==null?_e.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return nn!==null?null:le(Fe,_e,""+Qe,it);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:return Qe.key===nn?Be(Fe,_e,Qe,it):null;case V:return Qe.key===nn?He(Fe,_e,Qe,it):null;case w:return Qe=bo(Qe),je(Fe,_e,Qe,it)}if(oe(Qe)||ee(Qe))return nn!==null?null:nt(Fe,_e,Qe,it,null);if(typeof Qe.then=="function")return je(Fe,_e,ju(Qe),it);if(Qe.$$typeof===U)return je(Fe,_e,Vu(Fe,Qe),it);Ku(Fe,Qe)}return null}function qe(Fe,_e,Qe,it,nn){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Fe=Fe.get(Qe)||null,le(_e,Fe,""+it,nn);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case _:return Fe=Fe.get(it.key===null?Qe:it.key)||null,Be(_e,Fe,it,nn);case V:return Fe=Fe.get(it.key===null?Qe:it.key)||null,He(_e,Fe,it,nn);case w:return it=bo(it),qe(Fe,_e,Qe,it,nn)}if(oe(it)||ee(it))return Fe=Fe.get(Qe)||null,nt(_e,Fe,it,nn,null);if(typeof it.then=="function")return qe(Fe,_e,Qe,ju(it),nn);if(it.$$typeof===U)return qe(Fe,_e,Qe,Vu(_e,it),nn);Ku(_e,it)}return null}function kt(Fe,_e,Qe,it){for(var nn=null,qn=null,Gt=_e,Tn=_e=0,Fn=null;Gt!==null&&Tn<Qe.length;Tn++){Gt.index>Tn?(Fn=Gt,Gt=null):Fn=Gt.sibling;var Xn=je(Fe,Gt,Qe[Tn],it);if(Xn===null){Gt===null&&(Gt=Fn);break}e&&Gt&&Xn.alternate===null&&n(Fe,Gt),_e=N(Xn,_e,Tn),qn===null?nn=Xn:qn.sibling=Xn,qn=Xn,Gt=Fn}if(Tn===Qe.length)return u(Fe,Gt),Qn&&Yi(Fe,Tn),nn;if(Gt===null){for(;Tn<Qe.length;Tn++)Gt=ut(Fe,Qe[Tn],it),Gt!==null&&(_e=N(Gt,_e,Tn),qn===null?nn=Gt:qn.sibling=Gt,qn=Gt);return Qn&&Yi(Fe,Tn),nn}for(Gt=g(Gt);Tn<Qe.length;Tn++)Fn=qe(Gt,Fe,Tn,Qe[Tn],it),Fn!==null&&(e&&Fn.alternate!==null&&Gt.delete(Fn.key===null?Tn:Fn.key),_e=N(Fn,_e,Tn),qn===null?nn=Fn:qn.sibling=Fn,qn=Fn);return e&&Gt.forEach(function(Xs){return n(Fe,Xs)}),Qn&&Yi(Fe,Tn),nn}function sn(Fe,_e,Qe,it){if(Qe==null)throw Error(d(151));for(var nn=null,qn=null,Gt=_e,Tn=_e=0,Fn=null,Xn=Qe.next();Gt!==null&&!Xn.done;Tn++,Xn=Qe.next()){Gt.index>Tn?(Fn=Gt,Gt=null):Fn=Gt.sibling;var Xs=je(Fe,Gt,Xn.value,it);if(Xs===null){Gt===null&&(Gt=Fn);break}e&&Gt&&Xs.alternate===null&&n(Fe,Gt),_e=N(Xs,_e,Tn),qn===null?nn=Xs:qn.sibling=Xs,qn=Xs,Gt=Fn}if(Xn.done)return u(Fe,Gt),Qn&&Yi(Fe,Tn),nn;if(Gt===null){for(;!Xn.done;Tn++,Xn=Qe.next())Xn=ut(Fe,Xn.value,it),Xn!==null&&(_e=N(Xn,_e,Tn),qn===null?nn=Xn:qn.sibling=Xn,qn=Xn);return Qn&&Yi(Fe,Tn),nn}for(Gt=g(Gt);!Xn.done;Tn++,Xn=Qe.next())Xn=qe(Gt,Fe,Tn,Xn.value,it),Xn!==null&&(e&&Xn.alternate!==null&&Gt.delete(Xn.key===null?Tn:Xn.key),_e=N(Xn,_e,Tn),qn===null?nn=Xn:qn.sibling=Xn,qn=Xn);return e&&Gt.forEach(function(IA){return n(Fe,IA)}),Qn&&Yi(Fe,Tn),nn}function fr(Fe,_e,Qe,it){if(typeof Qe=="object"&&Qe!==null&&Qe.type===P&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case _:e:{for(var nn=Qe.key;_e!==null;){if(_e.key===nn){if(nn=Qe.type,nn===P){if(_e.tag===7){u(Fe,_e.sibling),it=S(_e,Qe.props.children),it.return=Fe,Fe=it;break e}}else if(_e.elementType===nn||typeof nn=="object"&&nn!==null&&nn.$$typeof===w&&bo(nn)===_e.type){u(Fe,_e.sibling),it=S(_e,Qe.props),Ul(it,Qe),it.return=Fe,Fe=it;break e}u(Fe,_e);break}else n(Fe,_e);_e=_e.sibling}Qe.type===P?(it=mo(Qe.props.children,Fe.mode,it,Qe.key),it.return=Fe,Fe=it):(it=Uu(Qe.type,Qe.key,Qe.props,null,Fe.mode,it),Ul(it,Qe),it.return=Fe,Fe=it)}return z(Fe);case V:e:{for(nn=Qe.key;_e!==null;){if(_e.key===nn)if(_e.tag===4&&_e.stateNode.containerInfo===Qe.containerInfo&&_e.stateNode.implementation===Qe.implementation){u(Fe,_e.sibling),it=S(_e,Qe.children||[]),it.return=Fe,Fe=it;break e}else{u(Fe,_e);break}else n(Fe,_e);_e=_e.sibling}it=Bf(Qe,Fe.mode,it),it.return=Fe,Fe=it}return z(Fe);case w:return Qe=bo(Qe),fr(Fe,_e,Qe,it)}if(oe(Qe))return kt(Fe,_e,Qe,it);if(ee(Qe)){if(nn=ee(Qe),typeof nn!="function")throw Error(d(150));return Qe=nn.call(Qe),sn(Fe,_e,Qe,it)}if(typeof Qe.then=="function")return fr(Fe,_e,ju(Qe),it);if(Qe.$$typeof===U)return fr(Fe,_e,Vu(Fe,Qe),it);Ku(Fe,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,_e!==null&&_e.tag===6?(u(Fe,_e.sibling),it=S(_e,Qe),it.return=Fe,Fe=it):(u(Fe,_e),it=Tf(Qe,Fe.mode,it),it.return=Fe,Fe=it),z(Fe)):u(Fe,_e)}return function(Fe,_e,Qe,it){try{Ll=0;var nn=fr(Fe,_e,Qe,it);return zo=null,nn}catch(Gt){if(Gt===Ko||Gt===Hu)throw Gt;var qn=ja(29,Gt,null,Fe.mode);return qn.lanes=it,qn.return=Fe,qn}finally{}}}var Eo=w1(!0),E1=w1(!1),Rs=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,n,u){var g=e.updateQueue;if(g===null)return null;if(g=g.shared,(Jn&2)!==0){var S=g.pending;return S===null?n.next=n:(n.next=S.next,S.next=n),g.pending=n,n=Ts(e),Bi(e,null,u),n}return lr(e,g,n,u),Ts(e)}function Fl(e,n,u){if(n=n.updateQueue,n!==null&&(n=n.shared,(u&4194048)!==0)){var g=n.lanes;g&=e.pendingLanes,u|=g,n.lanes=u,Tt(e,u)}}function Hf(e,n){var u=e.updateQueue,g=e.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var S=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var z={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?S=N=z:N=N.next=z,u=u.next}while(u!==null);N===null?S=N=n:N=N.next=n}else S=N=n;u={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},e.updateQueue=u;return}e=u.lastBaseUpdate,e===null?u.firstBaseUpdate=n:e.next=n,u.lastBaseUpdate=n}var Gf=!1;function Pl(){if(Gf){var e=jo;if(e!==null)throw e}}function Vl(e,n,u,g){Gf=!1;var S=e.updateQueue;Rs=!1;var N=S.firstBaseUpdate,z=S.lastBaseUpdate,le=S.shared.pending;if(le!==null){S.shared.pending=null;var Be=le,He=Be.next;Be.next=null,z===null?N=He:z.next=He,z=Be;var nt=e.alternate;nt!==null&&(nt=nt.updateQueue,le=nt.lastBaseUpdate,le!==z&&(le===null?nt.firstBaseUpdate=He:le.next=He,nt.lastBaseUpdate=Be))}if(N!==null){var ut=S.baseState;z=0,nt=He=Be=null,le=N;do{var je=le.lane&-536870913,qe=je!==le.lane;if(qe?(Un&je)===je:(g&je)===je){je!==0&&je===Go&&(Gf=!0),nt!==null&&(nt=nt.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var kt=e,sn=le;je=n;var fr=u;switch(sn.tag){case 1:if(kt=sn.payload,typeof kt=="function"){ut=kt.call(fr,ut,je);break e}ut=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=sn.payload,je=typeof kt=="function"?kt.call(fr,ut,je):kt,je==null)break e;ut=R({},ut,je);break e;case 2:Rs=!0}}je=le.callback,je!==null&&(e.flags|=64,qe&&(e.flags|=8192),qe=S.callbacks,qe===null?S.callbacks=[je]:qe.push(je))}else qe={lane:je,tag:le.tag,payload:le.payload,callback:le.callback,next:null},nt===null?(He=nt=qe,Be=ut):nt=nt.next=qe,z|=je;if(le=le.next,le===null){if(le=S.shared.pending,le===null)break;qe=le,le=qe.next,qe.next=null,S.lastBaseUpdate=qe,S.shared.pending=null}}while(!0);nt===null&&(Be=ut),S.baseState=Be,S.firstBaseUpdate=He,S.lastBaseUpdate=nt,N===null&&(S.shared.lanes=0),Ps|=z,e.lanes=z,e.memoizedState=ut}}function I1(e,n){if(typeof e!="function")throw Error(d(191,e));e.call(n)}function S1(e,n){var u=e.callbacks;if(u!==null)for(e.callbacks=null,e=0;e<u.length;e++)I1(u[e],n)}var Yo=Ce(null),zu=Ce(0);function T1(e,n){e=as,Ze(zu,e),Ze(Yo,n),as=e|n.baseLanes}function jf(){Ze(zu,as),Ze(Yo,Yo.current)}function Kf(){as=zu.current,Te(Yo),Te(zu)}var Ka=Ce(null),ai=null;function Ms(e){var n=e.alternate;Ze(kr,kr.current&1),Ze(Ka,e),ai===null&&(n===null||Yo.current!==null||n.memoizedState!==null)&&(ai=e)}function zf(e){Ze(kr,kr.current),Ze(Ka,e),ai===null&&(ai=e)}function B1(e){e.tag===22?(Ze(kr,kr.current),Ze(Ka,e),ai===null&&(ai=e)):Ls()}function Ls(){Ze(kr,kr.current),Ze(Ka,Ka.current)}function za(e){Te(Ka),ai===e&&(ai=null),Te(kr)}var kr=Ce(0);function Yu(e){for(var n=e;n!==null;){if(n.tag===13){var u=n.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||J0(u)||$0(u)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,wn=null,ur=null,Pr=null,qu=!1,qo=!1,Io=!1,Xu=0,Ql=0,Xo=null,pv=0;function Br(){throw Error(d(321))}function Yf(e,n){if(n===null)return!1;for(var u=0;u<n.length&&u<e.length;u++)if(!y(e[u],n[u]))return!1;return!0}function qf(e,n,u,g,S,N){return Zi=N,wn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,he.H=e===null||e.memoizedState===null?fg:u0,Io=!1,N=u(g,S),Io=!1,qo&&(N=_1(n,u,g,S)),N1(e),N}function N1(e){he.H=jl;var n=ur!==null&&ur.next!==null;if(Zi=0,Pr=ur=wn=null,qu=!1,Ql=0,Xo=null,n)throw Error(d(300));e===null||Vr||(e=e.dependencies,e!==null&&Pu(e)&&(Vr=!0))}function _1(e,n,u,g){wn=e;var S=0;do{if(qo&&(Xo=null),Ql=0,qo=!1,25<=S)throw Error(d(301));if(S+=1,Pr=ur=null,e.updateQueue!=null){var N=e.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}he.H=dg,N=n(u,g)}while(qo);return N}function yv(){var e=he.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(ur!==null?ur.memoizedState:null)!==e&&(wn.flags|=1024),n}function Xf(){var e=Xu!==0;return Xu=0,e}function Zf(e,n,u){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u}function Wf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}Zi=0,Pr=ur=wn=null,qo=!1,Ql=Xu=0,Xo=null}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?wn.memoizedState=Pr=e:Pr=Pr.next=e,Pr}function Mr(){if(ur===null){var e=wn.alternate;e=e!==null?e.memoizedState:null}else e=ur.next;var n=Pr===null?wn.memoizedState:Pr.next;if(n!==null)Pr=n,ur=e;else{if(e===null)throw wn.alternate===null?Error(d(467)):Error(d(310));ur=e,e={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},Pr===null?wn.memoizedState=Pr=e:Pr=Pr.next=e}return Pr}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=Ql;return Ql+=1,Xo===null&&(Xo=[]),e=A1(Xo,e,n),n=wn,(Pr===null?n.memoizedState:Pr.next)===null&&(n=n.alternate,he.H=n===null||n.memoizedState===null?fg:u0),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===U)return aa(e)}throw Error(d(438,String(e)))}function Jf(e){var n=null,u=wn.updateQueue;if(u!==null&&(n=u.memoCache),n==null){var g=wn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(n={data:g.data.map(function(S){return S.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),u===null&&(u=Zu(),wn.updateQueue=u),u.memoCache=n,u=n.data[n.index],u===void 0)for(u=n.data[n.index]=Array(e),g=0;g<e;g++)u[g]=ae;return n.index++,u}function Wi(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=Mr();return $f(n,ur,e)}function $f(e,n,u){var g=e.queue;if(g===null)throw Error(d(311));g.lastRenderedReducer=u;var S=e.baseQueue,N=g.pending;if(N!==null){if(S!==null){var z=S.next;S.next=N.next,N.next=z}n.baseQueue=S=N,g.pending=null}if(N=e.baseState,S===null)e.memoizedState=N;else{n=S.next;var le=z=null,Be=null,He=n,nt=!1;do{var ut=He.lane&-536870913;if(ut!==He.lane?(Un&ut)===ut:(Zi&ut)===ut){var je=He.revertLane;if(je===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),ut===Go&&(nt=!0);else if((Zi&je)===je){He=He.next,je===Go&&(nt=!0);continue}else ut={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Be===null?(le=Be=ut,z=N):Be=Be.next=ut,wn.lanes|=je,Ps|=je;ut=He.action,Io&&u(N,ut),N=He.hasEagerState?He.eagerState:u(N,ut)}else je={lane:ut,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Be===null?(le=Be=je,z=N):Be=Be.next=je,wn.lanes|=ut,Ps|=ut;He=He.next}while(He!==null&&He!==n);if(Be===null?z=N:Be.next=le,!y(N,e.memoizedState)&&(Vr=!0,nt&&(u=jo,u!==null)))throw u;e.memoizedState=N,e.baseState=z,e.baseQueue=Be,g.lastRenderedState=N}return S===null&&(g.lanes=0),[e.memoizedState,g.dispatch]}function e0(e){var n=Mr(),u=n.queue;if(u===null)throw Error(d(311));u.lastRenderedReducer=e;var g=u.dispatch,S=u.pending,N=n.memoizedState;if(S!==null){u.pending=null;var z=S=S.next;do N=e(N,z.action),z=z.next;while(z!==S);y(N,n.memoizedState)||(Vr=!0),n.memoizedState=N,n.baseQueue===null&&(n.baseState=N),u.lastRenderedState=N}return[N,g]}function D1(e,n,u){var g=wn,S=Mr(),N=Qn;if(N){if(u===void 0)throw Error(d(407));u=u()}else u=n();var z=!y((ur||S).memoizedState,u);if(z&&(S.memoizedState=u,Vr=!0),S=S.queue,r0(k1.bind(null,g,S,e),[e]),S.getSnapshot!==n||z||Pr!==null&&Pr.memoizedState.tag&1){if(g.flags|=2048,Zo(9,{destroy:void 0},O1.bind(null,g,S,u,n),null),yr===null)throw Error(d(349));N||(Zi&127)!==0||R1(g,n,u)}return u}function R1(e,n,u){e.flags|=16384,e={getSnapshot:n,value:u},n=wn.updateQueue,n===null?(n=Zu(),wn.updateQueue=n,n.stores=[e]):(u=n.stores,u===null?n.stores=[e]:u.push(e))}function O1(e,n,u,g){n.value=u,n.getSnapshot=g,M1(n)&&L1(e)}function k1(e,n,u){return u(function(){M1(n)&&L1(e)})}function M1(e){var n=e.getSnapshot;e=e.value;try{var u=n();return!y(e,u)}catch{return!0}}function L1(e){var n=$n(e,2);n!==null&&Ra(n,e,2)}function t0(e){var n=Ca();if(typeof e=="function"){var u=e;if(e=u(),Io){Vt(!0);try{u()}finally{Vt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},n}function U1(e,n,u,g){return e.baseState=u,$f(e,ur,typeof g=="function"?g:Wi)}function mv(e,n,u,g,S){if(tc(e))throw Error(d(485));if(e=n.action,e!==null){var N={payload:S,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){N.listeners.push(z)}};he.T!==null?u(!0):N.isTransition=!1,g(N),u=n.pending,u===null?(N.next=n.pending=N,F1(n,N)):(N.next=u.next,n.pending=u.next=N)}}function F1(e,n){var u=n.action,g=n.payload,S=e.state;if(n.isTransition){var N=he.T,z={};he.T=z;try{var le=u(S,g),Be=he.S;Be!==null&&Be(z,le),P1(e,n,le)}catch(He){n0(e,n,He)}finally{N!==null&&z.types!==null&&(N.types=z.types),he.T=N}}else try{N=u(S,g),P1(e,n,N)}catch(He){n0(e,n,He)}}function P1(e,n,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){V1(e,n,g)},function(g){return n0(e,n,g)}):V1(e,n,u)}function V1(e,n,u){n.status="fulfilled",n.value=u,Q1(n),e.state=u,n=e.pending,n!==null&&(u=n.next,u===n?e.pending=null:(u=u.next,n.next=u,F1(e,u)))}function n0(e,n,u){var g=e.pending;if(e.pending=null,g!==null){g=g.next;do n.status="rejected",n.reason=u,Q1(n),n=n.next;while(n!==g)}e.action=null}function Q1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function H1(e,n){return n}function G1(e,n){if(Qn){var u=yr.formState;if(u!==null){e:{var g=wn;if(Qn){if(xr){t:{for(var S=xr,N=ri;S.nodeType!==8;){if(!N){S=null;break t}if(S=ii(S.nextSibling),S===null){S=null;break t}}N=S.data,S=N==="F!"||N==="F"?S:null}if(S){xr=ii(S.nextSibling),g=S.data==="F!";break e}}_s(g)}g=!1}g&&(n=u[0])}}return u=Ca(),u.memoizedState=u.baseState=n,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H1,lastRenderedState:n},u.queue=g,u=lg.bind(null,wn,g),g.dispatch=u,g=t0(!1),N=l0.bind(null,wn,!1,g.queue),g=Ca(),S={state:n,dispatch:null,action:e,pending:null},g.queue=S,u=mv.bind(null,wn,S,N,u),S.dispatch=u,g.memoizedState=e,[n,u,!1]}function j1(e){var n=Mr();return K1(n,ur,e)}function K1(e,n,u){if(n=$f(e,n,H1)[0],e=Ju(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var g=Hl(n)}catch(z){throw z===Ko?Hu:z}else g=n;n=Mr();var S=n.queue,N=S.dispatch;return u!==n.memoizedState&&(wn.flags|=2048,Zo(9,{destroy:void 0},xv.bind(null,S,u),null)),[g,N,e]}function xv(e,n){e.action=n}function z1(e){var n=Mr(),u=ur;if(u!==null)return K1(n,u,e);Mr(),n=n.memoizedState,u=Mr();var g=u.queue.dispatch;return u.memoizedState=e,[n,g,!1]}function Zo(e,n,u,g){return e={tag:e,create:u,deps:g,inst:n,next:null},n=wn.updateQueue,n===null&&(n=Zu(),wn.updateQueue=n),u=n.lastEffect,u===null?n.lastEffect=e.next=e:(g=u.next,u.next=e,e.next=g,n.lastEffect=e),e}function Y1(){return Mr().memoizedState}function $u(e,n,u,g){var S=Ca();wn.flags|=e,S.memoizedState=Zo(1|n,{destroy:void 0},u,g===void 0?null:g)}function ec(e,n,u,g){var S=Mr();g=g===void 0?null:g;var N=S.memoizedState.inst;ur!==null&&g!==null&&Yf(g,ur.memoizedState.deps)?S.memoizedState=Zo(n,N,u,g):(wn.flags|=e,S.memoizedState=Zo(1|n,N,u,g))}function q1(e,n){$u(8390656,8,e,n)}function r0(e,n){ec(2048,8,e,n)}function vv(e){wn.flags|=4;var n=wn.updateQueue;if(n===null)n=Zu(),wn.updateQueue=n,n.events=[e];else{var u=n.events;u===null?n.events=[e]:u.push(e)}}function X1(e){var n=Mr().memoizedState;return vv({ref:n,nextImpl:e}),function(){if((Jn&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}function Z1(e,n){return ec(4,2,e,n)}function W1(e,n){return ec(4,4,e,n)}function J1(e,n){if(typeof n=="function"){e=e();var u=n(e);return function(){typeof u=="function"?u():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $1(e,n,u){u=u!=null?u.concat([e]):null,ec(4,4,J1.bind(null,n,e),u)}function a0(){}function eg(e,n){var u=Mr();n=n===void 0?null:n;var g=u.memoizedState;return n!==null&&Yf(n,g[1])?g[0]:(u.memoizedState=[e,n],e)}function tg(e,n){var u=Mr();n=n===void 0?null:n;var g=u.memoizedState;if(n!==null&&Yf(n,g[1]))return g[0];if(g=e(),Io){Vt(!0);try{e()}finally{Vt(!1)}}return u.memoizedState=[g,n],g}function i0(e,n,u){return u===void 0||(Zi&1073741824)!==0&&(Un&261930)===0?e.memoizedState=n:(e.memoizedState=u,e=np(),wn.lanes|=e,Ps|=e,u)}function ng(e,n,u,g){return y(u,n)?u:Yo.current!==null?(e=i0(e,u,g),y(e,n)||(Vr=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Un&261930)===0?(Vr=!0,e.memoizedState=u):(e=np(),wn.lanes|=e,Ps|=e,n)}function rg(e,n,u,g,S){var N=ve.p;ve.p=N!==0&&8>N?N:8;var z=he.T,le={};he.T=le,l0(e,!1,n,u);try{var Be=S(),He=he.S;if(He!==null&&He(le,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var nt=gv(Be,g);Gl(e,n,nt,Xa(e))}else Gl(e,n,g,Xa(e))}catch(ut){Gl(e,n,{then:function(){},status:"rejected",reason:ut},Xa())}finally{ve.p=N,z!==null&&le.types!==null&&(z.types=le.types),he.T=z}}function Av(){}function s0(e,n,u,g){if(e.tag!==5)throw Error(d(476));var S=ag(e).queue;rg(e,S,n,ke,u===null?Av:function(){return ig(e),u(g)})}function ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ke},next:null};var u={};return n.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:u},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ig(e){var n=ag(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},Xa())}function o0(){return aa(su)}function sg(){return Mr().memoizedState}function og(){return Mr().memoizedState}function Cv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var u=Xa();e=Os(u);var g=ks(n,e,u);g!==null&&(Ra(g,n,u),Fl(g,n,u)),n={cache:Lf()},e.payload=n;return}n=n.return}}function bv(e,n,u){var g=Xa();u={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},tc(e)?ug(n,u):(u=ca(e,n,u,g),u!==null&&(Ra(u,e,g),cg(u,n,g)))}function lg(e,n,u){var g=Xa();Gl(e,n,u,g)}function Gl(e,n,u,g){var S={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(tc(e))ug(n,S);else{var N=e.alternate;if(e.lanes===0&&(N===null||N.lanes===0)&&(N=n.lastRenderedReducer,N!==null))try{var z=n.lastRenderedState,le=N(z,u);if(S.hasEagerState=!0,S.eagerState=le,y(le,z))return lr(e,n,S,0),yr===null&&vn(),!1}catch{}finally{}if(u=ca(e,n,S,g),u!==null)return Ra(u,e,g),cg(u,n,g),!0}return!1}function l0(e,n,u,g){if(g={lane:2,revertLane:V0(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(n)throw Error(d(479))}else n=ca(e,u,g,2),n!==null&&Ra(n,e,2)}function tc(e){var n=e.alternate;return e===wn||n!==null&&n===wn}function ug(e,n){qo=qu=!0;var u=e.pending;u===null?n.next=n:(n.next=u.next,u.next=n),e.pending=n}function cg(e,n,u){if((u&4194048)!==0){var g=n.lanes;g&=e.pendingLanes,u|=g,n.lanes=u,Tt(e,u)}}var jl={readContext:aa,use:Wu,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br,useHostTransitionStatus:Br,useFormState:Br,useActionState:Br,useOptimistic:Br,useMemoCache:Br,useCacheRefresh:Br};jl.useEffectEvent=Br;var fg={readContext:aa,use:Wu,useCallback:function(e,n){return Ca().memoizedState=[e,n===void 0?null:n],e},useContext:aa,useEffect:q1,useImperativeHandle:function(e,n,u){u=u!=null?u.concat([e]):null,$u(4194308,4,J1.bind(null,n,e),u)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){$u(4,2,e,n)},useMemo:function(e,n){var u=Ca();n=n===void 0?null:n;var g=e();if(Io){Vt(!0);try{e()}finally{Vt(!1)}}return u.memoizedState=[g,n],g},useReducer:function(e,n,u){var g=Ca();if(u!==void 0){var S=u(n);if(Io){Vt(!0);try{u(n)}finally{Vt(!1)}}}else S=n;return g.memoizedState=g.baseState=S,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:S},g.queue=e,e=e.dispatch=bv.bind(null,wn,e),[g.memoizedState,e]},useRef:function(e){var n=Ca();return e={current:e},n.memoizedState=e},useState:function(e){e=t0(e);var n=e.queue,u=lg.bind(null,wn,n);return n.dispatch=u,[e.memoizedState,u]},useDebugValue:a0,useDeferredValue:function(e,n){var u=Ca();return i0(u,e,n)},useTransition:function(){var e=t0(!1);return e=rg.bind(null,wn,e.queue,!0,!1),Ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,u){var g=wn,S=Ca();if(Qn){if(u===void 0)throw Error(d(407));u=u()}else{if(u=n(),yr===null)throw Error(d(349));(Un&127)!==0||R1(g,n,u)}S.memoizedState=u;var N={value:u,getSnapshot:n};return S.queue=N,q1(k1.bind(null,g,N,e),[e]),g.flags|=2048,Zo(9,{destroy:void 0},O1.bind(null,g,N,u,n),null),u},useId:function(){var e=Ca(),n=yr.identifierPrefix;if(Qn){var u=_i,g=Ni;u=(g&~(1<<32-we(g)-1)).toString(32)+u,n="_"+n+"R_"+u,u=Xu++,0<u&&(n+="H"+u.toString(32)),n+="_"}else u=pv++,n="_"+n+"r_"+u.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:o0,useFormState:G1,useActionState:G1,useOptimistic:function(e){var n=Ca();n.memoizedState=n.baseState=e;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=u,n=l0.bind(null,wn,!0,u),u.dispatch=n,[e,n]},useMemoCache:Jf,useCacheRefresh:function(){return Ca().memoizedState=Cv.bind(null,wn)},useEffectEvent:function(e){var n=Ca(),u={impl:e};return n.memoizedState=u,function(){if((Jn&2)!==0)throw Error(d(440));return u.impl.apply(void 0,arguments)}}},u0={readContext:aa,use:Wu,useCallback:eg,useContext:aa,useEffect:r0,useImperativeHandle:$1,useInsertionEffect:Z1,useLayoutEffect:W1,useMemo:tg,useReducer:Ju,useRef:Y1,useState:function(){return Ju(Wi)},useDebugValue:a0,useDeferredValue:function(e,n){var u=Mr();return ng(u,ur.memoizedState,e,n)},useTransition:function(){var e=Ju(Wi)[0],n=Mr().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:D1,useId:sg,useHostTransitionStatus:o0,useFormState:j1,useActionState:j1,useOptimistic:function(e,n){var u=Mr();return U1(u,ur,e,n)},useMemoCache:Jf,useCacheRefresh:og};u0.useEffectEvent=X1;var dg={readContext:aa,use:Wu,useCallback:eg,useContext:aa,useEffect:r0,useImperativeHandle:$1,useInsertionEffect:Z1,useLayoutEffect:W1,useMemo:tg,useReducer:e0,useRef:Y1,useState:function(){return e0(Wi)},useDebugValue:a0,useDeferredValue:function(e,n){var u=Mr();return ur===null?i0(u,e,n):ng(u,ur.memoizedState,e,n)},useTransition:function(){var e=e0(Wi)[0],n=Mr().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:D1,useId:sg,useHostTransitionStatus:o0,useFormState:z1,useActionState:z1,useOptimistic:function(e,n){var u=Mr();return ur!==null?U1(u,ur,e,n):(u.baseState=e,[e,u.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:og};dg.useEffectEvent=X1;function c0(e,n,u,g){n=e.memoizedState,u=u(g,n),u=u==null?n:R({},n,u),e.memoizedState=u,e.lanes===0&&(e.updateQueue.baseState=u)}var f0={enqueueSetState:function(e,n,u){e=e._reactInternals;var g=Xa(),S=Os(g);S.payload=n,u!=null&&(S.callback=u),n=ks(e,S,g),n!==null&&(Ra(n,e,g),Fl(n,e,g))},enqueueReplaceState:function(e,n,u){e=e._reactInternals;var g=Xa(),S=Os(g);S.tag=1,S.payload=n,u!=null&&(S.callback=u),n=ks(e,S,g),n!==null&&(Ra(n,e,g),Fl(n,e,g))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var u=Xa(),g=Os(u);g.tag=2,n!=null&&(g.callback=n),n=ks(e,g,u),n!==null&&(Ra(n,e,u),Fl(n,e,u))}};function hg(e,n,u,g,S,N,z){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(g,N,z):n.prototype&&n.prototype.isPureReactComponent?!o(u,g)||!o(S,N):!0}function gg(e,n,u,g){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(u,g),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(u,g),n.state!==e&&f0.enqueueReplaceState(n,n.state,null)}function So(e,n){var u=n;if("ref"in n){u={};for(var g in n)g!=="ref"&&(u[g]=n[g])}if(e=e.defaultProps){u===n&&(u=R({},u));for(var S in e)u[S]===void 0&&(u[S]=e[S])}return u}function pg(e){_t(e)}function yg(e){console.error(e)}function mg(e){_t(e)}function nc(e,n){try{var u=e.onUncaughtError;u(n.value,{componentStack:n.stack})}catch(g){setTimeout(function(){throw g})}}function xg(e,n,u){try{var g=e.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function d0(e,n,u){return u=Os(u),u.tag=3,u.payload={element:null},u.callback=function(){nc(e,n)},u}function vg(e){return e=Os(e),e.tag=3,e}function Ag(e,n,u,g){var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var N=g.value;e.payload=function(){return S(N)},e.callback=function(){xg(n,u,g)}}var z=u.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(e.callback=function(){xg(n,u,g),typeof S!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var le=g.stack;this.componentDidCatch(g.value,{componentStack:le!==null?le:""})})}function wv(e,n,u,g,S){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(n=u.alternate,n!==null&&Ho(n,u,S,!0),u=Ka.current,u!==null){switch(u.tag){case 31:case 13:return ai===null?gc():u.alternate===null&&Nr===0&&(Nr=3),u.flags&=-257,u.flags|=65536,u.lanes=S,g===Gu?u.flags|=16384:(n=u.updateQueue,n===null?u.updateQueue=new Set([g]):n.add(g),U0(e,g,S)),!1;case 22:return u.flags|=65536,g===Gu?u.flags|=16384:(n=u.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=n):(u=n.retryQueue,u===null?n.retryQueue=new Set([g]):u.add(g)),U0(e,g,S)),!1}throw Error(d(435,u.tag))}return U0(e,g,S),gc(),!1}if(Qn)return n=Ka.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=S,g!==Df&&(e=Error(d(422),{cause:g}),Ol(ei(e,u)))):(g!==Df&&(n=Error(d(423),{cause:g}),Ol(ei(n,u))),e=e.current.alternate,e.flags|=65536,S&=-S,e.lanes|=S,g=ei(g,u),S=d0(e.stateNode,g,S),Hf(e,S),Nr!==4&&(Nr=2)),!1;var N=Error(d(520),{cause:g});if(N=ei(N,u),Jl===null?Jl=[N]:Jl.push(N),Nr!==4&&(Nr=2),n===null)return!0;g=ei(g,u),u=n;do{switch(u.tag){case 3:return u.flags|=65536,e=S&-S,u.lanes|=e,e=d0(u.stateNode,g,e),Hf(u,e),!1;case 1:if(n=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Vs===null||!Vs.has(N))))return u.flags|=65536,S&=-S,u.lanes|=S,S=vg(S),Ag(S,e,u,g),Hf(u,S),!1}u=u.return}while(u!==null);return!1}var h0=Error(d(461)),Vr=!1;function ia(e,n,u,g){n.child=e===null?E1(n,null,u,g):Eo(n,e.child,u,g)}function Cg(e,n,u,g,S){u=u.render;var N=n.ref;if("ref"in g){var z={};for(var le in g)le!=="ref"&&(z[le]=g[le])}else z=g;return Ao(n),g=qf(e,n,u,z,N,S),le=Xf(),e!==null&&!Vr?(Zf(e,n,S),Ji(e,n,S)):(Qn&&le&&Nf(n),n.flags|=1,ia(e,n,g,S),n.child)}function bg(e,n,u,g,S){if(e===null){var N=u.type;return typeof N=="function"&&!Sf(N)&&N.defaultProps===void 0&&u.compare===null?(n.tag=15,n.type=N,wg(e,n,N,g,S)):(e=Uu(u.type,null,g,n,n.mode,S),e.ref=n.ref,e.return=n,n.child=e)}if(N=e.child,!C0(e,S)){var z=N.memoizedProps;if(u=u.compare,u=u!==null?u:o,u(z,g)&&e.ref===n.ref)return Ji(e,n,S)}return n.flags|=1,e=zi(N,g),e.ref=n.ref,e.return=n,n.child=e}function wg(e,n,u,g,S){if(e!==null){var N=e.memoizedProps;if(o(N,g)&&e.ref===n.ref)if(Vr=!1,n.pendingProps=g=N,C0(e,S))(e.flags&131072)!==0&&(Vr=!0);else return n.lanes=e.lanes,Ji(e,n,S)}return g0(e,n,u,g,S)}function Eg(e,n,u,g){var S=g.children,N=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((n.flags&128)!==0){if(N=N!==null?N.baseLanes|u:u,e!==null){for(g=n.child=e.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~N}else g=0,n.child=null;return Ig(e,n,N,u,g)}if((u&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qu(n,N!==null?N.cachePool:null),N!==null?T1(n,N):jf(),B1(n);else return g=n.lanes=536870912,Ig(e,n,N!==null?N.baseLanes|u:u,u,g)}else N!==null?(Qu(n,N.cachePool),T1(n,N),Ls(),n.memoizedState=null):(e!==null&&Qu(n,null),jf(),Ls());return ia(e,n,S,u),n.child}function Kl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ig(e,n,u,g,S){var N=Ff();return N=N===null?null:{parent:Fr._currentValue,pool:N},n.memoizedState={baseLanes:u,cachePool:N},e!==null&&Qu(n,null),jf(),B1(n),e!==null&&Ho(e,n,g,!0),n.childLanes=S,null}function rc(e,n){return n=ic({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Sg(e,n,u){return Eo(n,e.child,null,u),e=rc(n,n.pendingProps),e.flags|=2,za(n),n.memoizedState=null,e}function Ev(e,n,u){var g=n.pendingProps,S=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qn){if(g.mode==="hidden")return e=rc(n,g),n.lanes=536870912,Kl(null,e);if(zf(n),(e=xr)?(e=Fp(e,ri),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:Ni,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=u1(e),u.return=n,n.child=u,ra=n,xr=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return rc(n,g)}var N=e.memoizedState;if(N!==null){var z=N.dehydrated;if(zf(n),S)if(n.flags&256)n.flags&=-257,n=Sg(e,n,u);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(d(558));else if(Vr||Ho(e,n,u,!1),S=(u&e.childLanes)!==0,Vr||S){if(g=yr,g!==null&&(z=Zt(g,u),z!==0&&z!==N.retryLane))throw N.retryLane=z,$n(e,z),Ra(g,e,z),h0;gc(),n=Sg(e,n,u)}else e=N.treeContext,xr=ii(z.nextSibling),ra=n,Qn=!0,Ns=null,ri=!1,e!==null&&d1(n,e),n=rc(n,g),n.flags|=4096;return n}return e=zi(e.child,{mode:g.mode,children:g.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ac(e,n){var u=n.ref;if(u===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(d(284));(e===null||e.ref!==u)&&(n.flags|=4194816)}}function g0(e,n,u,g,S){return Ao(n),u=qf(e,n,u,g,void 0,S),g=Xf(),e!==null&&!Vr?(Zf(e,n,S),Ji(e,n,S)):(Qn&&g&&Nf(n),n.flags|=1,ia(e,n,u,S),n.child)}function Tg(e,n,u,g,S,N){return Ao(n),n.updateQueue=null,u=_1(n,g,u,S),N1(e),g=Xf(),e!==null&&!Vr?(Zf(e,n,N),Ji(e,n,N)):(Qn&&g&&Nf(n),n.flags|=1,ia(e,n,u,N),n.child)}function Bg(e,n,u,g,S){if(Ao(n),n.stateNode===null){var N=Fo,z=u.contextType;typeof z=="object"&&z!==null&&(N=aa(z)),N=new u(g,N),n.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=f0,n.stateNode=N,N._reactInternals=n,N=n.stateNode,N.props=g,N.state=n.memoizedState,N.refs={},Vf(n),z=u.contextType,N.context=typeof z=="object"&&z!==null?aa(z):Fo,N.state=n.memoizedState,z=u.getDerivedStateFromProps,typeof z=="function"&&(c0(n,u,z,g),N.state=n.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(z=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),z!==N.state&&f0.enqueueReplaceState(N,N.state,null),Vl(n,g,N,S),Pl(),N.state=n.memoizedState),typeof N.componentDidMount=="function"&&(n.flags|=4194308),g=!0}else if(e===null){N=n.stateNode;var le=n.memoizedProps,Be=So(u,le);N.props=Be;var He=N.context,nt=u.contextType;z=Fo,typeof nt=="object"&&nt!==null&&(z=aa(nt));var ut=u.getDerivedStateFromProps;nt=typeof ut=="function"||typeof N.getSnapshotBeforeUpdate=="function",le=n.pendingProps!==le,nt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(le||He!==z)&&gg(n,N,g,z),Rs=!1;var je=n.memoizedState;N.state=je,Vl(n,g,N,S),Pl(),He=n.memoizedState,le||je!==He||Rs?(typeof ut=="function"&&(c0(n,u,ut,g),He=n.memoizedState),(Be=Rs||hg(n,u,Be,g,je,He,z))?(nt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(n.flags|=4194308)):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=g,n.memoizedState=He),N.props=g,N.state=He,N.context=z,g=Be):(typeof N.componentDidMount=="function"&&(n.flags|=4194308),g=!1)}else{N=n.stateNode,Qf(e,n),z=n.memoizedProps,nt=So(u,z),N.props=nt,ut=n.pendingProps,je=N.context,He=u.contextType,Be=Fo,typeof He=="object"&&He!==null&&(Be=aa(He)),le=u.getDerivedStateFromProps,(He=typeof le=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(z!==ut||je!==Be)&&gg(n,N,g,Be),Rs=!1,je=n.memoizedState,N.state=je,Vl(n,g,N,S),Pl();var qe=n.memoizedState;z!==ut||je!==qe||Rs||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof le=="function"&&(c0(n,u,le,g),qe=n.memoizedState),(nt=Rs||hg(n,u,nt,g,je,qe,Be)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(He||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,qe,Be),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,qe,Be)),typeof N.componentDidUpdate=="function"&&(n.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof N.componentDidUpdate!="function"||z===e.memoizedProps&&je===e.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&je===e.memoizedState||(n.flags|=1024),n.memoizedProps=g,n.memoizedState=qe),N.props=g,N.state=qe,N.context=Be,g=nt):(typeof N.componentDidUpdate!="function"||z===e.memoizedProps&&je===e.memoizedState||(n.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&je===e.memoizedState||(n.flags|=1024),g=!1)}return N=g,ac(e,n),g=(n.flags&128)!==0,N||g?(N=n.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:N.render(),n.flags|=1,e!==null&&g?(n.child=Eo(n,e.child,null,S),n.child=Eo(n,null,u,S)):ia(e,n,u,S),n.memoizedState=N.state,e=n.child):e=Ji(e,n,S),e}function Ng(e,n,u,g){return xo(),n.flags|=256,ia(e,n,u,g),n.child}var p0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function y0(e){return{baseLanes:e,cachePool:x1()}}function m0(e,n,u){return e=e!==null?e.childLanes&~u:0,n&&(e|=qa),e}function _g(e,n,u){var g=n.pendingProps,S=!1,N=(n.flags&128)!==0,z;if((z=N)||(z=e!==null&&e.memoizedState===null?!1:(kr.current&2)!==0),z&&(S=!0,n.flags&=-129),z=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qn){if(S?Ms(n):Ls(),(e=xr)?(e=Fp(e,ri),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Bs!==null?{id:Ni,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=u1(e),u.return=n,n.child=u,ra=n,xr=null)):e=null,e===null)throw _s(n);return $0(e)?n.lanes=32:n.lanes=536870912,null}var le=g.children;return g=g.fallback,S?(Ls(),S=n.mode,le=ic({mode:"hidden",children:le},S),g=mo(g,S,u,null),le.return=n,g.return=n,le.sibling=g,n.child=le,g=n.child,g.memoizedState=y0(u),g.childLanes=m0(e,z,u),n.memoizedState=p0,Kl(null,g)):(Ms(n),x0(n,le))}var Be=e.memoizedState;if(Be!==null&&(le=Be.dehydrated,le!==null)){if(N)n.flags&256?(Ms(n),n.flags&=-257,n=v0(e,n,u)):n.memoizedState!==null?(Ls(),n.child=e.child,n.flags|=128,n=null):(Ls(),le=g.fallback,S=n.mode,g=ic({mode:"visible",children:g.children},S),le=mo(le,S,u,null),le.flags|=2,g.return=n,le.return=n,g.sibling=le,n.child=g,Eo(n,e.child,null,u),g=n.child,g.memoizedState=y0(u),g.childLanes=m0(e,z,u),n.memoizedState=p0,n=Kl(null,g));else if(Ms(n),$0(le)){if(z=le.nextSibling&&le.nextSibling.dataset,z)var He=z.dgst;z=He,g=Error(d(419)),g.stack="",g.digest=z,Ol({value:g,source:null,stack:null}),n=v0(e,n,u)}else if(Vr||Ho(e,n,u,!1),z=(u&e.childLanes)!==0,Vr||z){if(z=yr,z!==null&&(g=Zt(z,u),g!==0&&g!==Be.retryLane))throw Be.retryLane=g,$n(e,g),Ra(z,e,g),h0;J0(le)||gc(),n=v0(e,n,u)}else J0(le)?(n.flags|=192,n.child=e.child,n=null):(e=Be.treeContext,xr=ii(le.nextSibling),ra=n,Qn=!0,Ns=null,ri=!1,e!==null&&d1(n,e),n=x0(n,g.children),n.flags|=4096);return n}return S?(Ls(),le=g.fallback,S=n.mode,Be=e.child,He=Be.sibling,g=zi(Be,{mode:"hidden",children:g.children}),g.subtreeFlags=Be.subtreeFlags&65011712,He!==null?le=zi(He,le):(le=mo(le,S,u,null),le.flags|=2),le.return=n,g.return=n,g.sibling=le,n.child=g,Kl(null,g),g=n.child,le=e.child.memoizedState,le===null?le=y0(u):(S=le.cachePool,S!==null?(Be=Fr._currentValue,S=S.parent!==Be?{parent:Be,pool:Be}:S):S=x1(),le={baseLanes:le.baseLanes|u,cachePool:S}),g.memoizedState=le,g.childLanes=m0(e,z,u),n.memoizedState=p0,Kl(e.child,g)):(Ms(n),u=e.child,e=u.sibling,u=zi(u,{mode:"visible",children:g.children}),u.return=n,u.sibling=null,e!==null&&(z=n.deletions,z===null?(n.deletions=[e],n.flags|=16):z.push(e)),n.child=u,n.memoizedState=null,u)}function x0(e,n){return n=ic({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ic(e,n){return e=ja(22,e,null,n),e.lanes=0,e}function v0(e,n,u){return Eo(n,e.child,null,u),e=x0(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Dg(e,n,u){e.lanes|=n;var g=e.alternate;g!==null&&(g.lanes|=n),kf(e.return,n,u)}function A0(e,n,u,g,S,N){var z=e.memoizedState;z===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:S,treeForkCount:N}:(z.isBackwards=n,z.rendering=null,z.renderingStartTime=0,z.last=g,z.tail=u,z.tailMode=S,z.treeForkCount=N)}function Rg(e,n,u){var g=n.pendingProps,S=g.revealOrder,N=g.tail;g=g.children;var z=kr.current,le=(z&2)!==0;if(le?(z=z&1|2,n.flags|=128):z&=1,Ze(kr,z),ia(e,n,g,u),g=Qn?Rl:0,!le&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dg(e,u,n);else if(e.tag===19)Dg(e,u,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(S){case"forwards":for(u=n.child,S=null;u!==null;)e=u.alternate,e!==null&&Yu(e)===null&&(S=u),u=u.sibling;u=S,u===null?(S=n.child,n.child=null):(S=u.sibling,u.sibling=null),A0(n,!1,S,u,N,g);break;case"backwards":case"unstable_legacy-backwards":for(u=null,S=n.child,n.child=null;S!==null;){if(e=S.alternate,e!==null&&Yu(e)===null){n.child=S;break}e=S.sibling,S.sibling=u,u=S,S=e}A0(n,!0,u,null,N,g);break;case"together":A0(n,!1,null,null,void 0,g);break;default:n.memoizedState=null}return n.child}function Ji(e,n,u){if(e!==null&&(n.dependencies=e.dependencies),Ps|=n.lanes,(u&n.childLanes)===0)if(e!==null){if(Ho(e,n,u,!1),(u&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(d(153));if(n.child!==null){for(e=n.child,u=zi(e,e.pendingProps),n.child=u,u.return=n;e.sibling!==null;)e=e.sibling,u=u.sibling=zi(e,e.pendingProps),u.return=n;u.sibling=null}return n.child}function C0(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function Iv(e,n,u){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),Ds(n,Fr,e.memoizedState.cache),xo();break;case 27:case 5:W(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zf(n),null;break;case 13:var g=n.memoizedState;if(g!==null)return g.dehydrated!==null?(Ms(n),n.flags|=128,null):(u&n.child.childLanes)!==0?_g(e,n,u):(Ms(n),e=Ji(e,n,u),e!==null?e.sibling:null);Ms(n);break;case 19:var S=(e.flags&128)!==0;if(g=(u&n.childLanes)!==0,g||(Ho(e,n,u,!1),g=(u&n.childLanes)!==0),S){if(g)return Rg(e,n,u);n.flags|=128}if(S=n.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Ze(kr,kr.current),g)break;return null;case 22:return n.lanes=0,Eg(e,n,u,n.pendingProps);case 24:Ds(n,Fr,e.memoizedState.cache)}return Ji(e,n,u)}function Og(e,n,u){if(e!==null)if(e.memoizedProps!==n.pendingProps)Vr=!0;else{if(!C0(e,u)&&(n.flags&128)===0)return Vr=!1,Iv(e,n,u);Vr=(e.flags&131072)!==0}else Vr=!1,Qn&&(n.flags&1048576)!==0&&f1(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var g=n.pendingProps;if(e=bo(n.elementType),n.type=e,typeof e=="function")Sf(e)?(g=So(e,g),n.tag=1,n=Bg(null,n,e,g,u)):(n.tag=0,n=g0(null,n,e,g,u));else{if(e!=null){var S=e.$$typeof;if(S===K){n.tag=11,n=Cg(null,n,e,g,u);break e}else if(S===I){n.tag=14,n=bg(null,n,e,g,u);break e}}throw n=Ae(e)||e,Error(d(306,n,""))}}return n;case 0:return g0(e,n,n.type,n.pendingProps,u);case 1:return g=n.type,S=So(g,n.pendingProps),Bg(e,n,g,S,u);case 3:e:{if(gt(n,n.stateNode.containerInfo),e===null)throw Error(d(387));g=n.pendingProps;var N=n.memoizedState;S=N.element,Qf(e,n),Vl(n,g,null,u);var z=n.memoizedState;if(g=z.cache,Ds(n,Fr,g),g!==N.cache&&Mf(n,[Fr],u,!0),Pl(),g=z.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:z.cache},n.updateQueue.baseState=N,n.memoizedState=N,n.flags&256){n=Ng(e,n,g,u);break e}else if(g!==S){S=ei(Error(d(424)),n),Ol(S),n=Ng(e,n,g,u);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xr=ii(e.firstChild),ra=n,Qn=!0,Ns=null,ri=!0,u=E1(n,null,g,u),n.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(xo(),g===S){n=Ji(e,n,u);break e}ia(e,n,g,u)}n=n.child}return n;case 26:return ac(e,n),e===null?(u=jp(n.type,null,n.pendingProps,null))?n.memoizedState=u:Qn||(u=n.type,e=n.pendingProps,g=Cc(Ne.current).createElement(u),g[cn]=n,g[$t]=e,sa(g,u,e),hr(g),n.stateNode=g):n.memoizedState=jp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return W(n),e===null&&Qn&&(g=n.stateNode=Qp(n.type,n.pendingProps,Ne.current),ra=n,ri=!0,S=xr,js(n.type)?(ed=S,xr=ii(g.firstChild)):xr=S),ia(e,n,n.pendingProps.children,u),ac(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qn&&((S=g=xr)&&(g=tA(g,n.type,n.pendingProps,ri),g!==null?(n.stateNode=g,ra=n,xr=ii(g.firstChild),ri=!1,S=!0):S=!1),S||_s(n)),W(n),S=n.type,N=n.pendingProps,z=e!==null?e.memoizedProps:null,g=N.children,X0(S,N)?g=null:z!==null&&X0(S,z)&&(n.flags|=32),n.memoizedState!==null&&(S=qf(e,n,yv,null,null,u),su._currentValue=S),ac(e,n),ia(e,n,g,u),n.child;case 6:return e===null&&Qn&&((e=u=xr)&&(u=nA(u,n.pendingProps,ri),u!==null?(n.stateNode=u,ra=n,xr=null,e=!0):e=!1),e||_s(n)),null;case 13:return _g(e,n,u);case 4:return gt(n,n.stateNode.containerInfo),g=n.pendingProps,e===null?n.child=Eo(n,null,g,u):ia(e,n,g,u),n.child;case 11:return Cg(e,n,n.type,n.pendingProps,u);case 7:return ia(e,n,n.pendingProps,u),n.child;case 8:return ia(e,n,n.pendingProps.children,u),n.child;case 12:return ia(e,n,n.pendingProps.children,u),n.child;case 10:return g=n.pendingProps,Ds(n,n.type,g.value),ia(e,n,g.children,u),n.child;case 9:return S=n.type._context,g=n.pendingProps.children,Ao(n),S=aa(S),g=g(S),n.flags|=1,ia(e,n,g,u),n.child;case 14:return bg(e,n,n.type,n.pendingProps,u);case 15:return wg(e,n,n.type,n.pendingProps,u);case 19:return Rg(e,n,u);case 31:return Ev(e,n,u);case 22:return Eg(e,n,u,n.pendingProps);case 24:return Ao(n),g=aa(Fr),e===null?(S=Ff(),S===null&&(S=yr,N=Lf(),S.pooledCache=N,N.refCount++,N!==null&&(S.pooledCacheLanes|=u),S=N),n.memoizedState={parent:g,cache:S},Vf(n),Ds(n,Fr,S)):((e.lanes&u)!==0&&(Qf(e,n),Vl(n,null,null,u),Pl()),S=e.memoizedState,N=n.memoizedState,S.parent!==g?(S={parent:g,cache:g},n.memoizedState=S,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=S),Ds(n,Fr,g)):(g=N.cache,Ds(n,Fr,g),g!==S.cache&&Mf(n,[Fr],u,!0))),ia(e,n,n.pendingProps.children,u),n.child;case 29:throw n.pendingProps}throw Error(d(156,n.tag))}function $i(e){e.flags|=4}function b0(e,n,u,g,S){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(S&335544128)===S)if(e.stateNode.complete)e.flags|=8192;else if(sp())e.flags|=8192;else throw wo=Gu,Pf}else e.flags&=-16777217}function kg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xp(n))if(sp())e.flags|=8192;else throw wo=Gu,Pf}function sc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?St():536870912,e.lanes|=n,el|=n)}function zl(e,n){if(!Qn)switch(e.tailMode){case"hidden":n=e.tail;for(var u=null;n!==null;)n.alternate!==null&&(u=n),n=n.sibling;u===null?e.tail=null:u.sibling=null;break;case"collapsed":u=e.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:g.sibling=null}}function vr(e){var n=e.alternate!==null&&e.alternate.child===e.child,u=0,g=0;if(n)for(var S=e.child;S!==null;)u|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=e,S=S.sibling;else for(S=e.child;S!==null;)u|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=e,S=S.sibling;return e.subtreeFlags|=g,e.childLanes=u,n}function Sv(e,n,u){var g=n.pendingProps;switch(_f(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(n),null;case 1:return vr(n),null;case 3:return u=n.stateNode,g=null,e!==null&&(g=e.memoizedState.cache),n.memoizedState.cache!==g&&(n.flags|=2048),Xi(Fr),Q(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Qo(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rf())),vr(n),null;case 26:var S=n.type,N=n.memoizedState;return e===null?($i(n),N!==null?(vr(n),kg(n,N)):(vr(n),b0(n,S,null,g,u))):N?N!==e.memoizedState?($i(n),vr(n),kg(n,N)):(vr(n),n.flags&=-16777217):(e=e.memoizedProps,e!==g&&$i(n),vr(n),b0(n,S,e,g,u)),null;case 27:if(re(n),u=Ne.current,S=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==g&&$i(n);else{if(!g){if(n.stateNode===null)throw Error(d(166));return vr(n),null}e=De.current,Qo(n)?h1(n):(e=Qp(S,g,u),n.stateNode=e,$i(n))}return vr(n),null;case 5:if(re(n),S=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==g&&$i(n);else{if(!g){if(n.stateNode===null)throw Error(d(166));return vr(n),null}if(N=De.current,Qo(n))h1(n);else{var z=Cc(Ne.current);switch(N){case 1:N=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:N=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":N=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":N=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":N=z.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?z.createElement("select",{is:g.is}):z.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?z.createElement(S,{is:g.is}):z.createElement(S)}}N[cn]=n,N[$t]=g;e:for(z=n.child;z!==null;){if(z.tag===5||z.tag===6)N.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===n)break e;for(;z.sibling===null;){if(z.return===null||z.return===n)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}n.stateNode=N;e:switch(sa(N,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&$i(n)}}return vr(n),b0(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,u),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==g&&$i(n);else{if(typeof g!="string"&&n.stateNode===null)throw Error(d(166));if(e=Ne.current,Qo(n)){if(e=n.stateNode,u=n.memoizedProps,g=null,S=ra,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}e[cn]=n,e=!!(e.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||_p(e.nodeValue,u)),e||_s(n,!0)}else e=Cc(e).createTextNode(g),e[cn]=n,n.stateNode=e}return vr(n),null;case 31:if(u=n.memoizedState,e===null||e.memoizedState!==null){if(g=Qo(n),u!==null){if(e===null){if(!g)throw Error(d(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[cn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vr(n),e=!1}else u=Rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),e=!0;if(!e)return n.flags&256?(za(n),n):(za(n),null);if((n.flags&128)!==0)throw Error(d(558))}return vr(n),null;case 13:if(g=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(S=Qo(n),g!==null&&g.dehydrated!==null){if(e===null){if(!S)throw Error(d(318));if(S=n.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(d(317));S[cn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vr(n),S=!1}else S=Rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=S),S=!0;if(!S)return n.flags&256?(za(n),n):(za(n),null)}return za(n),(n.flags&128)!==0?(n.lanes=u,n):(u=g!==null,e=e!==null&&e.memoizedState!==null,u&&(g=n.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==S&&(g.flags|=2048)),u!==e&&u&&(n.child.flags|=8192),sc(n,n.updateQueue),vr(n),null);case 4:return Q(),e===null&&j0(n.stateNode.containerInfo),vr(n),null;case 10:return Xi(n.type),vr(n),null;case 19:if(Te(kr),g=n.memoizedState,g===null)return vr(n),null;if(S=(n.flags&128)!==0,N=g.rendering,N===null)if(S)zl(g,!1);else{if(Nr!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(N=Yu(e),N!==null){for(n.flags|=128,zl(g,!1),e=N.updateQueue,n.updateQueue=e,sc(n,e),n.subtreeFlags=0,e=u,u=n.child;u!==null;)l1(u,e),u=u.sibling;return Ze(kr,kr.current&1|2),Qn&&Yi(n,g.treeForkCount),n.child}e=e.sibling}g.tail!==null&&Kt()>fc&&(n.flags|=128,S=!0,zl(g,!1),n.lanes=4194304)}else{if(!S)if(e=Yu(N),e!==null){if(n.flags|=128,S=!0,e=e.updateQueue,n.updateQueue=e,sc(n,e),zl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!Qn)return vr(n),null}else 2*Kt()-g.renderingStartTime>fc&&u!==536870912&&(n.flags|=128,S=!0,zl(g,!1),n.lanes=4194304);g.isBackwards?(N.sibling=n.child,n.child=N):(e=g.last,e!==null?e.sibling=N:n.child=N,g.last=N)}return g.tail!==null?(e=g.tail,g.rendering=e,g.tail=e.sibling,g.renderingStartTime=Kt(),e.sibling=null,u=kr.current,Ze(kr,S?u&1|2:u&1),Qn&&Yi(n,g.treeForkCount),e):(vr(n),null);case 22:case 23:return za(n),Kf(),g=n.memoizedState!==null,e!==null?e.memoizedState!==null!==g&&(n.flags|=8192):g&&(n.flags|=8192),g?(u&536870912)!==0&&(n.flags&128)===0&&(vr(n),n.subtreeFlags&6&&(n.flags|=8192)):vr(n),u=n.updateQueue,u!==null&&sc(n,u.retryQueue),u=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(u=e.memoizedState.cachePool.pool),g=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(g=n.memoizedState.cachePool.pool),g!==u&&(n.flags|=2048),e!==null&&Te(Co),null;case 24:return u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Xi(Fr),vr(n),null;case 25:return null;case 30:return null}throw Error(d(156,n.tag))}function Tv(e,n){switch(_f(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Fr),Q(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return re(n),null;case 31:if(n.memoizedState!==null){if(za(n),n.alternate===null)throw Error(d(340));xo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(za(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(d(340));xo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Te(kr),null;case 4:return Q(),null;case 10:return Xi(n.type),null;case 22:case 23:return za(n),Kf(),e!==null&&Te(Co),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Fr),null;case 25:return null;default:return null}}function Mg(e,n){switch(_f(n),n.tag){case 3:Xi(Fr),Q();break;case 26:case 27:case 5:re(n);break;case 4:Q();break;case 31:n.memoizedState!==null&&za(n);break;case 13:za(n);break;case 19:Te(kr);break;case 10:Xi(n.type);break;case 22:case 23:za(n),Kf(),e!==null&&Te(Co);break;case 24:Xi(Fr)}}function Yl(e,n){try{var u=n.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var S=g.next;u=S;do{if((u.tag&e)===e){g=void 0;var N=u.create,z=u.inst;g=N(),z.destroy=g}u=u.next}while(u!==S)}}catch(le){rr(n,n.return,le)}}function Us(e,n,u){try{var g=n.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var N=S.next;g=N;do{if((g.tag&e)===e){var z=g.inst,le=z.destroy;if(le!==void 0){z.destroy=void 0,S=n;var Be=u,He=le;try{He()}catch(nt){rr(S,Be,nt)}}}g=g.next}while(g!==N)}}catch(nt){rr(n,n.return,nt)}}function Lg(e){var n=e.updateQueue;if(n!==null){var u=e.stateNode;try{S1(n,u)}catch(g){rr(e,e.return,g)}}}function Ug(e,n,u){u.props=So(e.type,e.memoizedProps),u.state=e.memoizedState;try{u.componentWillUnmount()}catch(g){rr(e,n,g)}}function ql(e,n){try{var u=e.ref;if(u!==null){switch(e.tag){case 26:case 27:case 5:var g=e.stateNode;break;case 30:g=e.stateNode;break;default:g=e.stateNode}typeof u=="function"?e.refCleanup=u(g):u.current=g}}catch(S){rr(e,n,S)}}function Di(e,n){var u=e.ref,g=e.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(S){rr(e,n,S)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(S){rr(e,n,S)}else u.current=null}function Fg(e){var n=e.type,u=e.memoizedProps,g=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break e;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(S){rr(e,e.return,S)}}function w0(e,n,u){try{var g=e.stateNode;Xv(g,e.type,u,n),g[$t]=n}catch(S){rr(e,e.return,S)}}function Pg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&js(e.type)||e.tag===4}function E0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&js(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I0(e,n,u){var g=e.tag;if(g===5||g===6)e=e.stateNode,n?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(e,n):(n=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,n.appendChild(e),u=u._reactRootContainer,u!=null||n.onclick!==null||(n.onclick=Kr));else if(g!==4&&(g===27&&js(e.type)&&(u=e.stateNode,n=null),e=e.child,e!==null))for(I0(e,n,u),e=e.sibling;e!==null;)I0(e,n,u),e=e.sibling}function oc(e,n,u){var g=e.tag;if(g===5||g===6)e=e.stateNode,n?u.insertBefore(e,n):u.appendChild(e);else if(g!==4&&(g===27&&js(e.type)&&(u=e.stateNode),e=e.child,e!==null))for(oc(e,n,u),e=e.sibling;e!==null;)oc(e,n,u),e=e.sibling}function Vg(e){var n=e.stateNode,u=e.memoizedProps;try{for(var g=e.type,S=n.attributes;S.length;)n.removeAttributeNode(S[0]);sa(n,g,u),n[cn]=e,n[$t]=u}catch(N){rr(e,e.return,N)}}var es=!1,Qr=!1,S0=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Wr=null;function Bv(e,n){if(e=e.containerInfo,Y0=Bc,e=B(e),k(e)){if("selectionStart"in e)var u={start:e.selectionStart,end:e.selectionEnd};else e:{u=(u=e.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var S=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var z=0,le=-1,Be=-1,He=0,nt=0,ut=e,je=null;t:for(;;){for(var qe;ut!==u||S!==0&&ut.nodeType!==3||(le=z+S),ut!==N||g!==0&&ut.nodeType!==3||(Be=z+g),ut.nodeType===3&&(z+=ut.nodeValue.length),(qe=ut.firstChild)!==null;)je=ut,ut=qe;for(;;){if(ut===e)break t;if(je===u&&++He===S&&(le=z),je===N&&++nt===g&&(Be=z),(qe=ut.nextSibling)!==null)break;ut=je,je=ut.parentNode}ut=qe}u=le===-1||Be===-1?null:{start:le,end:Be}}else u=null}u=u||{start:0,end:0}}else u=null;for(q0={focusedElem:e,selectionRange:u},Bc=!1,Wr=n;Wr!==null;)if(n=Wr,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Wr=e;else for(;Wr!==null;){switch(n=Wr,N=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(u=0;u<e.length;u++)S=e[u],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&N!==null){e=void 0,u=n,S=N.memoizedProps,N=N.memoizedState,g=u.stateNode;try{var kt=So(u.type,S);e=g.getSnapshotBeforeUpdate(kt,N),g.__reactInternalSnapshotBeforeUpdate=e}catch(sn){rr(u,u.return,sn)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,u=e.nodeType,u===9)W0(e);else if(u===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":W0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=n.sibling,e!==null){e.return=n.return,Wr=e;break}Wr=n.return}}function Hg(e,n,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:ns(e,u),g&4&&Yl(5,u);break;case 1:if(ns(e,u),g&4)if(e=u.stateNode,n===null)try{e.componentDidMount()}catch(z){rr(u,u.return,z)}else{var S=So(u.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(S,n,e.__reactInternalSnapshotBeforeUpdate)}catch(z){rr(u,u.return,z)}}g&64&&Lg(u),g&512&&ql(u,u.return);break;case 3:if(ns(e,u),g&64&&(e=u.updateQueue,e!==null)){if(n=null,u.child!==null)switch(u.child.tag){case 27:case 5:n=u.child.stateNode;break;case 1:n=u.child.stateNode}try{S1(e,n)}catch(z){rr(u,u.return,z)}}break;case 27:n===null&&g&4&&Vg(u);case 26:case 5:ns(e,u),n===null&&g&4&&Fg(u),g&512&&ql(u,u.return);break;case 12:ns(e,u);break;case 31:ns(e,u),g&4&&Kg(e,u);break;case 13:ns(e,u),g&4&&zg(e,u),g&64&&(e=u.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(u=Uv.bind(null,u),rA(e,u))));break;case 22:if(g=u.memoizedState!==null||es,!g){n=n!==null&&n.memoizedState!==null||Qr,S=es;var N=Qr;es=g,(Qr=n)&&!N?rs(e,u,(u.subtreeFlags&8772)!==0):ns(e,u),es=S,Qr=N}break;case 30:break;default:ns(e,u)}}function Gg(e){var n=e.alternate;n!==null&&(e.alternate=null,Gg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var br=null,Ba=!1;function ts(e,n,u){for(u=u.child;u!==null;)jg(e,n,u),u=u.sibling}function jg(e,n,u){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Ht,u)}catch{}switch(u.tag){case 26:Qr||Di(u,n),ts(e,n,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Qr||Di(u,n);var g=br,S=Ba;js(u.type)&&(br=u.stateNode,Ba=!1),ts(e,n,u),ru(u.stateNode),br=g,Ba=S;break;case 5:Qr||Di(u,n);case 6:if(g=br,S=Ba,br=null,ts(e,n,u),br=g,Ba=S,br!==null)if(Ba)try{(br.nodeType===9?br.body:br.nodeName==="HTML"?br.ownerDocument.body:br).removeChild(u.stateNode)}catch(N){rr(u,n,N)}else try{br.removeChild(u.stateNode)}catch(N){rr(u,n,N)}break;case 18:br!==null&&(Ba?(e=br,Lp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,u.stateNode),ll(e)):Lp(br,u.stateNode));break;case 4:g=br,S=Ba,br=u.stateNode.containerInfo,Ba=!0,ts(e,n,u),br=g,Ba=S;break;case 0:case 11:case 14:case 15:Us(2,u,n),Qr||Us(4,u,n),ts(e,n,u);break;case 1:Qr||(Di(u,n),g=u.stateNode,typeof g.componentWillUnmount=="function"&&Ug(u,n,g)),ts(e,n,u);break;case 21:ts(e,n,u);break;case 22:Qr=(g=Qr)||u.memoizedState!==null,ts(e,n,u),Qr=g;break;default:ts(e,n,u)}}function Kg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ll(e)}catch(u){rr(n,n.return,u)}}}function zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ll(e)}catch(u){rr(n,n.return,u)}}function Nv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qg),n;default:throw Error(d(435,e.tag))}}function lc(e,n){var u=Nv(e);n.forEach(function(g){if(!u.has(g)){u.add(g);var S=Fv.bind(null,e,g);g.then(S,S)}})}function Na(e,n){var u=n.deletions;if(u!==null)for(var g=0;g<u.length;g++){var S=u[g],N=e,z=n,le=z;e:for(;le!==null;){switch(le.tag){case 27:if(js(le.type)){br=le.stateNode,Ba=!1;break e}break;case 5:br=le.stateNode,Ba=!1;break e;case 3:case 4:br=le.stateNode.containerInfo,Ba=!0;break e}le=le.return}if(br===null)throw Error(d(160));jg(N,z,S),br=null,Ba=!1,N=S.alternate,N!==null&&(N.return=null),S.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Yg(n,e),n=n.sibling}var gi=null;function Yg(e,n){var u=e.alternate,g=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Na(n,e),_a(e),g&4&&(Us(3,e,e.return),Yl(3,e),Us(5,e,e.return));break;case 1:Na(n,e),_a(e),g&512&&(Qr||u===null||Di(u,u.return)),g&64&&es&&(e=e.updateQueue,e!==null&&(g=e.callbacks,g!==null&&(u=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var S=gi;if(Na(n,e),_a(e),g&512&&(Qr||u===null||Di(u,u.return)),g&4){var N=u!==null?u.memoizedState:null;if(g=e.memoizedState,u===null)if(g===null)if(e.stateNode===null){e:{g=e.type,u=e.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":N=S.getElementsByTagName("title")[0],(!N||N[ea]||N[cn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=S.createElement(g),S.head.insertBefore(N,S.querySelector("head > title"))),sa(N,g,u),N[cn]=e,hr(N),g=N;break e;case"link":var z=Yp("link","href",S).get(g+(u.href||""));if(z){for(var le=0;le<z.length;le++)if(N=z[le],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){z.splice(le,1);break t}}N=S.createElement(g),sa(N,g,u),S.head.appendChild(N);break;case"meta":if(z=Yp("meta","content",S).get(g+(u.content||""))){for(le=0;le<z.length;le++)if(N=z[le],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){z.splice(le,1);break t}}N=S.createElement(g),sa(N,g,u),S.head.appendChild(N);break;default:throw Error(d(468,g))}N[cn]=e,hr(N),g=N}e.stateNode=g}else qp(S,e.type,e.stateNode);else e.stateNode=zp(S,g,e.memoizedProps);else N!==g?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,g===null?qp(S,e.type,e.stateNode):zp(S,g,e.memoizedProps)):g===null&&e.stateNode!==null&&w0(e,e.memoizedProps,u.memoizedProps)}break;case 27:Na(n,e),_a(e),g&512&&(Qr||u===null||Di(u,u.return)),u!==null&&g&4&&w0(e,e.memoizedProps,u.memoizedProps);break;case 5:if(Na(n,e),_a(e),g&512&&(Qr||u===null||Di(u,u.return)),e.flags&32){S=e.stateNode;try{ui(S,"")}catch(kt){rr(e,e.return,kt)}}g&4&&e.stateNode!=null&&(S=e.memoizedProps,w0(e,S,u!==null?u.memoizedProps:S)),g&1024&&(S0=!0);break;case 6:if(Na(n,e),_a(e),g&4){if(e.stateNode===null)throw Error(d(162));g=e.memoizedProps,u=e.stateNode;try{u.nodeValue=g}catch(kt){rr(e,e.return,kt)}}break;case 3:if(Ec=null,S=gi,gi=bc(n.containerInfo),Na(n,e),gi=S,_a(e),g&4&&u!==null&&u.memoizedState.isDehydrated)try{ll(n.containerInfo)}catch(kt){rr(e,e.return,kt)}S0&&(S0=!1,qg(e));break;case 4:g=gi,gi=bc(e.stateNode.containerInfo),Na(n,e),_a(e),gi=g;break;case 12:Na(n,e),_a(e);break;case 31:Na(n,e),_a(e),g&4&&(g=e.updateQueue,g!==null&&(e.updateQueue=null,lc(e,g)));break;case 13:Na(n,e),_a(e),e.child.flags&8192&&e.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(cc=Kt()),g&4&&(g=e.updateQueue,g!==null&&(e.updateQueue=null,lc(e,g)));break;case 22:S=e.memoizedState!==null;var Be=u!==null&&u.memoizedState!==null,He=es,nt=Qr;if(es=He||S,Qr=nt||Be,Na(n,e),Qr=nt,es=He,_a(e),g&8192)e:for(n=e.stateNode,n._visibility=S?n._visibility&-2:n._visibility|1,S&&(u===null||Be||es||Qr||To(e)),u=null,n=e;;){if(n.tag===5||n.tag===26){if(u===null){Be=u=n;try{if(N=Be.stateNode,S)z=N.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{le=Be.stateNode;var ut=Be.memoizedProps.style,je=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;le.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(kt){rr(Be,Be.return,kt)}}}else if(n.tag===6){if(u===null){Be=n;try{Be.stateNode.nodeValue=S?"":Be.memoizedProps}catch(kt){rr(Be,Be.return,kt)}}}else if(n.tag===18){if(u===null){Be=n;try{var qe=Be.stateNode;S?Up(qe,!0):Up(Be.stateNode,!1)}catch(kt){rr(Be,Be.return,kt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;u===n&&(u=null),n=n.return}u===n&&(u=null),n.sibling.return=n.return,n=n.sibling}g&4&&(g=e.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,lc(e,u))));break;case 19:Na(n,e),_a(e),g&4&&(g=e.updateQueue,g!==null&&(e.updateQueue=null,lc(e,g)));break;case 30:break;case 21:break;default:Na(n,e),_a(e)}}function _a(e){var n=e.flags;if(n&2){try{for(var u,g=e.return;g!==null;){if(Pg(g)){u=g;break}g=g.return}if(u==null)throw Error(d(160));switch(u.tag){case 27:var S=u.stateNode,N=E0(e);oc(e,N,S);break;case 5:var z=u.stateNode;u.flags&32&&(ui(z,""),u.flags&=-33);var le=E0(e);oc(e,le,z);break;case 3:case 4:var Be=u.stateNode.containerInfo,He=E0(e);I0(e,He,Be);break;default:throw Error(d(161))}}catch(nt){rr(e,e.return,nt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hg(e,n.alternate,n),n=n.sibling}function To(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Us(4,n,n.return),To(n);break;case 1:Di(n,n.return);var u=n.stateNode;typeof u.componentWillUnmount=="function"&&Ug(n,n.return,u),To(n);break;case 27:ru(n.stateNode);case 26:case 5:Di(n,n.return),To(n);break;case 22:n.memoizedState===null&&To(n);break;case 30:To(n);break;default:To(n)}e=e.sibling}}function rs(e,n,u){for(u=u&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var g=n.alternate,S=e,N=n,z=N.flags;switch(N.tag){case 0:case 11:case 15:rs(S,N,u),Yl(4,N);break;case 1:if(rs(S,N,u),g=N,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(He){rr(g,g.return,He)}if(g=N,S=g.updateQueue,S!==null){var le=g.stateNode;try{var Be=S.shared.hiddenCallbacks;if(Be!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Be.length;S++)I1(Be[S],le)}catch(He){rr(g,g.return,He)}}u&&z&64&&Lg(N),ql(N,N.return);break;case 27:Vg(N);case 26:case 5:rs(S,N,u),u&&g===null&&z&4&&Fg(N),ql(N,N.return);break;case 12:rs(S,N,u);break;case 31:rs(S,N,u),u&&z&4&&Kg(S,N);break;case 13:rs(S,N,u),u&&z&4&&zg(S,N);break;case 22:N.memoizedState===null&&rs(S,N,u),ql(N,N.return);break;case 30:break;default:rs(S,N,u)}n=n.sibling}}function T0(e,n){var u=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(u=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==u&&(e!=null&&e.refCount++,u!=null&&kl(u))}function B0(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function pi(e,n,u,g){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(e,n,u,g),n=n.sibling}function Xg(e,n,u,g){var S=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,u,g),S&2048&&Yl(9,n);break;case 1:pi(e,n,u,g);break;case 3:pi(e,n,u,g),S&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(S&2048){pi(e,n,u,g),e=n.stateNode;try{var N=n.memoizedProps,z=N.id,le=N.onPostCommit;typeof le=="function"&&le(z,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Be){rr(n,n.return,Be)}}else pi(e,n,u,g);break;case 31:pi(e,n,u,g);break;case 13:pi(e,n,u,g);break;case 23:break;case 22:N=n.stateNode,z=n.alternate,n.memoizedState!==null?N._visibility&2?pi(e,n,u,g):Xl(e,n):N._visibility&2?pi(e,n,u,g):(N._visibility|=2,Wo(e,n,u,g,(n.subtreeFlags&10256)!==0||!1)),S&2048&&T0(z,n);break;case 24:pi(e,n,u,g),S&2048&&B0(n.alternate,n);break;default:pi(e,n,u,g)}}function Wo(e,n,u,g,S){for(S=S&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var N=e,z=n,le=u,Be=g,He=z.flags;switch(z.tag){case 0:case 11:case 15:Wo(N,z,le,Be,S),Yl(8,z);break;case 23:break;case 22:var nt=z.stateNode;z.memoizedState!==null?nt._visibility&2?Wo(N,z,le,Be,S):Xl(N,z):(nt._visibility|=2,Wo(N,z,le,Be,S)),S&&He&2048&&T0(z.alternate,z);break;case 24:Wo(N,z,le,Be,S),S&&He&2048&&B0(z.alternate,z);break;default:Wo(N,z,le,Be,S)}n=n.sibling}}function Xl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var u=e,g=n,S=g.flags;switch(g.tag){case 22:Xl(u,g),S&2048&&T0(g.alternate,g);break;case 24:Xl(u,g),S&2048&&B0(g.alternate,g);break;default:Xl(u,g)}n=n.sibling}}var Zl=8192;function Jo(e,n,u){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)Zg(e,n,u),e=e.sibling}function Zg(e,n,u){switch(e.tag){case 26:Jo(e,n,u),e.flags&Zl&&e.memoizedState!==null&&pA(u,gi,e.memoizedState,e.memoizedProps);break;case 5:Jo(e,n,u);break;case 3:case 4:var g=gi;gi=bc(e.stateNode.containerInfo),Jo(e,n,u),gi=g;break;case 22:e.memoizedState===null&&(g=e.alternate,g!==null&&g.memoizedState!==null?(g=Zl,Zl=16777216,Jo(e,n,u),Zl=g):Jo(e,n,u));break;default:Jo(e,n,u)}}function Wg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var u=0;u<n.length;u++){var g=n[u];Wr=g,$g(g,e)}Wg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jg(e),e=e.sibling}function Jg(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Us(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uc(e)):Wl(e);break;default:Wl(e)}}function uc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var u=0;u<n.length;u++){var g=n[u];Wr=g,$g(g,e)}Wg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Us(8,n,n.return),uc(n);break;case 22:u=n.stateNode,u._visibility&2&&(u._visibility&=-3,uc(n));break;default:uc(n)}e=e.sibling}}function $g(e,n){for(;Wr!==null;){var u=Wr;switch(u.tag){case 0:case 11:case 15:Us(8,u,n);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:kl(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,Wr=g;else e:for(u=e;Wr!==null;){g=Wr;var S=g.sibling,N=g.return;if(Gg(g),g===u){Wr=null;break e}if(S!==null){S.return=N,Wr=S;break e}Wr=N}}}var _v={getCacheForType:function(e){var n=aa(Fr),u=n.data.get(e);return u===void 0&&(u=e(),n.data.set(e,u)),u},cacheSignal:function(){return aa(Fr).controller.signal}},Dv=typeof WeakMap=="function"?WeakMap:Map,Jn=0,yr=null,On=null,Un=0,nr=0,Ya=null,Fs=!1,$o=!1,N0=!1,as=0,Nr=0,Ps=0,Bo=0,_0=0,qa=0,el=0,Jl=null,Da=null,D0=!1,cc=0,ep=0,fc=1/0,dc=null,Vs=null,zr=0,Qs=null,tl=null,is=0,R0=0,O0=null,tp=null,$l=0,k0=null;function Xa(){return(Jn&2)!==0&&Un!==0?Un&-Un:he.T!==null?V0():fn()}function np(){if(qa===0)if((Un&536870912)===0||Qn){var e=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),qa=e}else qa=536870912;return e=Ka.current,e!==null&&(e.flags|=32),qa}function Ra(e,n,u){(e===yr&&(nr===2||nr===9)||e.cancelPendingCommit!==null)&&(nl(e,0),Hs(e,Un,qa,!1)),Lt(e,u),((Jn&2)===0||e!==yr)&&(e===yr&&((Jn&2)===0&&(Bo|=u),Nr===4&&Hs(e,Un,qa,!1)),Ri(e))}function rp(e,n,u){if((Jn&6)!==0)throw Error(d(327));var g=!u&&(n&127)===0&&(n&e.expiredLanes)===0||It(e,n),S=g?kv(e,n):L0(e,n,!0),N=g;do{if(S===0){$o&&!g&&Hs(e,n,0,!1);break}else{if(u=e.current.alternate,N&&!Rv(u)){S=L0(e,n,!1),N=!1;continue}if(S===2){if(N=n,e.errorRecoveryDisabledLanes&N)var z=0;else z=e.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){n=z;e:{var le=e;S=Jl;var Be=le.current.memoizedState.isDehydrated;if(Be&&(nl(le,z).flags|=256),z=L0(le,z,!1),z!==2){if(N0&&!Be){le.errorRecoveryDisabledLanes|=N,Bo|=N,S=4;break e}N=Da,Da=S,N!==null&&(Da===null?Da=N:Da.push.apply(Da,N))}S=z}if(N=!1,S!==2)continue}}if(S===1){nl(e,0),Hs(e,n,0,!0);break}e:{switch(g=e,N=S,N){case 0:case 1:throw Error(d(345));case 4:if((n&4194048)!==n)break;case 6:Hs(g,n,qa,!Fs);break e;case 2:Da=null;break;case 3:case 5:break;default:throw Error(d(329))}if((n&62914560)===n&&(S=cc+300-Kt(),10<S)){if(Hs(g,n,qa,!Fs),an(g,0,!0)!==0)break e;is=n,g.timeoutHandle=kp(ap.bind(null,g,u,Da,dc,D0,n,qa,Bo,el,Fs,N,"Throttled",-0,0),S);break e}ap(g,u,Da,dc,D0,n,qa,Bo,el,Fs,N,null,-0,0)}}break}while(!0);Ri(e)}function ap(e,n,u,g,S,N,z,le,Be,He,nt,ut,je,qe){if(e.timeoutHandle=-1,ut=n.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kr},Zg(n,N,ut);var kt=(N&62914560)===N?cc-Kt():(N&4194048)===N?ep-Kt():0;if(kt=yA(ut,kt),kt!==null){is=N,e.cancelPendingCommit=kt(dp.bind(null,e,n,N,u,g,S,z,le,Be,nt,ut,null,je,qe)),Hs(e,N,z,!He);return}}dp(e,n,N,u,g,S,z,le,Be)}function Rv(e){for(var n=e;;){var u=n.tag;if((u===0||u===11||u===15)&&n.flags&16384&&(u=n.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var S=u[g],N=S.getSnapshot;S=S.value;try{if(!y(N(),S))return!1}catch{return!1}}if(u=n.child,n.subtreeFlags&16384&&u!==null)u.return=n,n=u;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(e,n,u,g){n&=~_0,n&=~Bo,e.suspendedLanes|=n,e.pingedLanes&=~n,g&&(e.warmLanes|=n),g=e.expirationTimes;for(var S=n;0<S;){var N=31-we(S),z=1<<N;g[N]=-1,S&=~z}u!==0&&mn(e,u,n)}function hc(){return(Jn&6)===0?(eu(0),!1):!0}function M0(){if(On!==null){if(nr===0)var e=On.return;else e=On,qi=vo=null,Wf(e),zo=null,Ll=0,e=On;for(;e!==null;)Mg(e.alternate,e),e=e.return;On=null}}function nl(e,n){var u=e.timeoutHandle;u!==-1&&(e.timeoutHandle=-1,Jv(u)),u=e.cancelPendingCommit,u!==null&&(e.cancelPendingCommit=null,u()),is=0,M0(),yr=e,On=u=zi(e.current,null),Un=n,nr=0,Ya=null,Fs=!1,$o=It(e,n),N0=!1,el=qa=_0=Bo=Ps=Nr=0,Da=Jl=null,D0=!1,(n&8)!==0&&(n|=n&32);var g=e.entangledLanes;if(g!==0)for(e=e.entanglements,g&=n;0<g;){var S=31-we(g),N=1<<S;n|=e[S],g&=~N}return as=n,vn(),u}function ip(e,n){wn=null,he.H=jl,n===Ko||n===Hu?(n=C1(),nr=3):n===Pf?(n=C1(),nr=4):nr=n===h0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ya=n,On===null&&(Nr=1,nc(e,ei(n,e.current)))}function sp(){var e=Ka.current;return e===null?!0:(Un&4194048)===Un?ai===null:(Un&62914560)===Un||(Un&536870912)!==0?e===ai:!1}function op(){var e=he.H;return he.H=jl,e===null?jl:e}function lp(){var e=he.A;return he.A=_v,e}function gc(){Nr=4,Fs||(Un&4194048)!==Un&&Ka.current!==null||($o=!0),(Ps&134217727)===0&&(Bo&134217727)===0||yr===null||Hs(yr,Un,qa,!1)}function L0(e,n,u){var g=Jn;Jn|=2;var S=op(),N=lp();(yr!==e||Un!==n)&&(dc=null,nl(e,n)),n=!1;var z=Nr;e:do try{if(nr!==0&&On!==null){var le=On,Be=Ya;switch(nr){case 8:M0(),z=6;break e;case 3:case 2:case 9:case 6:Ka.current===null&&(n=!0);var He=nr;if(nr=0,Ya=null,rl(e,le,Be,He),u&&$o){z=0;break e}break;default:He=nr,nr=0,Ya=null,rl(e,le,Be,He)}}Ov(),z=Nr;break}catch(nt){ip(e,nt)}while(!0);return n&&e.shellSuspendCounter++,qi=vo=null,Jn=g,he.H=S,he.A=N,On===null&&(yr=null,Un=0,vn()),z}function Ov(){for(;On!==null;)up(On)}function kv(e,n){var u=Jn;Jn|=2;var g=op(),S=lp();yr!==e||Un!==n?(dc=null,fc=Kt()+500,nl(e,n)):$o=It(e,n);e:do try{if(nr!==0&&On!==null){n=On;var N=Ya;t:switch(nr){case 1:nr=0,Ya=null,rl(e,n,N,1);break;case 2:case 9:if(v1(N)){nr=0,Ya=null,cp(n);break}n=function(){nr!==2&&nr!==9||yr!==e||(nr=7),Ri(e)},N.then(n,n);break e;case 3:nr=7;break e;case 4:nr=5;break e;case 7:v1(N)?(nr=0,Ya=null,cp(n)):(nr=0,Ya=null,rl(e,n,N,7));break;case 5:var z=null;switch(On.tag){case 26:z=On.memoizedState;case 5:case 27:var le=On;if(z?Xp(z):le.stateNode.complete){nr=0,Ya=null;var Be=le.sibling;if(Be!==null)On=Be;else{var He=le.return;He!==null?(On=He,pc(He)):On=null}break t}}nr=0,Ya=null,rl(e,n,N,5);break;case 6:nr=0,Ya=null,rl(e,n,N,6);break;case 8:M0(),Nr=6;break e;default:throw Error(d(462))}}Mv();break}catch(nt){ip(e,nt)}while(!0);return qi=vo=null,he.H=g,he.A=S,Jn=u,On!==null?0:(yr=null,Un=0,vn(),Nr)}function Mv(){for(;On!==null&&!Mt();)up(On)}function up(e){var n=Og(e.alternate,e,as);e.memoizedProps=e.pendingProps,n===null?pc(e):On=n}function cp(e){var n=e,u=n.alternate;switch(n.tag){case 15:case 0:n=Tg(u,n,n.pendingProps,n.type,void 0,Un);break;case 11:n=Tg(u,n,n.pendingProps,n.type.render,n.ref,Un);break;case 5:Wf(n);default:Mg(u,n),n=On=l1(n,as),n=Og(u,n,as)}e.memoizedProps=e.pendingProps,n===null?pc(e):On=n}function rl(e,n,u,g){qi=vo=null,Wf(n),zo=null,Ll=0;var S=n.return;try{if(wv(e,S,n,u,Un)){Nr=1,nc(e,ei(u,e.current)),On=null;return}}catch(N){if(S!==null)throw On=S,N;Nr=1,nc(e,ei(u,e.current)),On=null;return}n.flags&32768?(Qn||g===1?e=!0:$o||(Un&536870912)!==0?e=!1:(Fs=e=!0,(g===2||g===9||g===3||g===6)&&(g=Ka.current,g!==null&&g.tag===13&&(g.flags|=16384))),fp(n,e)):pc(n)}function pc(e){var n=e;do{if((n.flags&32768)!==0){fp(n,Fs);return}e=n.return;var u=Sv(n.alternate,n,as);if(u!==null){On=u;return}if(n=n.sibling,n!==null){On=n;return}On=n=e}while(n!==null);Nr===0&&(Nr=5)}function fp(e,n){do{var u=Tv(e.alternate,e);if(u!==null){u.flags&=32767,On=u;return}if(u=e.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!n&&(e=e.sibling,e!==null)){On=e;return}On=e=u}while(e!==null);Nr=6,On=null}function dp(e,n,u,g,S,N,z,le,Be){e.cancelPendingCommit=null;do yc();while(zr!==0);if((Jn&6)!==0)throw Error(d(327));if(n!==null){if(n===e.current)throw Error(d(177));if(N=n.lanes|n.childLanes,N|=Jt,Ft(e,u,N,z,le,Be),e===yr&&(On=yr=null,Un=0),tl=n,Qs=e,is=u,R0=N,O0=S,tp=g,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Pv(rn,function(){return mp(),null})):(e.callbackNode=null,e.callbackPriority=0),g=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||g){g=he.T,he.T=null,S=ve.p,ve.p=2,z=Jn,Jn|=4;try{Bv(e,n,u)}finally{Jn=z,ve.p=S,he.T=g}}zr=1,hp(),gp(),pp()}}function hp(){if(zr===1){zr=0;var e=Qs,n=tl,u=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||u){u=he.T,he.T=null;var g=ve.p;ve.p=2;var S=Jn;Jn|=4;try{Yg(n,e);var N=q0,z=B(e.containerInfo),le=N.focusedElem,Be=N.selectionRange;if(z!==le&&le&&le.ownerDocument&&b(le.ownerDocument.documentElement,le)){if(Be!==null&&k(le)){var He=Be.start,nt=Be.end;if(nt===void 0&&(nt=He),"selectionStart"in le)le.selectionStart=He,le.selectionEnd=Math.min(nt,le.value.length);else{var ut=le.ownerDocument||document,je=ut&&ut.defaultView||window;if(je.getSelection){var qe=je.getSelection(),kt=le.textContent.length,sn=Math.min(Be.start,kt),fr=Be.end===void 0?sn:Math.min(Be.end,kt);!qe.extend&&sn>fr&&(z=fr,fr=sn,sn=z);var Fe=x(le,sn),_e=x(le,fr);if(Fe&&_e&&(qe.rangeCount!==1||qe.anchorNode!==Fe.node||qe.anchorOffset!==Fe.offset||qe.focusNode!==_e.node||qe.focusOffset!==_e.offset)){var Qe=ut.createRange();Qe.setStart(Fe.node,Fe.offset),qe.removeAllRanges(),sn>fr?(qe.addRange(Qe),qe.extend(_e.node,_e.offset)):(Qe.setEnd(_e.node,_e.offset),qe.addRange(Qe))}}}}for(ut=[],qe=le;qe=qe.parentNode;)qe.nodeType===1&&ut.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<ut.length;le++){var it=ut[le];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Bc=!!Y0,q0=Y0=null}finally{Jn=S,ve.p=g,he.T=u}}e.current=n,zr=2}}function gp(){if(zr===2){zr=0;var e=Qs,n=tl,u=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||u){u=he.T,he.T=null;var g=ve.p;ve.p=2;var S=Jn;Jn|=4;try{Hg(e,n.alternate,n)}finally{Jn=S,ve.p=g,he.T=u}}zr=3}}function pp(){if(zr===4||zr===3){zr=0,Et();var e=Qs,n=tl,u=is,g=tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zr=5:(zr=0,tl=Qs=null,yp(e,e.pendingLanes));var S=e.pendingLanes;if(S===0&&(Vs=null),In(u),n=n.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Ht,n,void 0,(n.current.flags&128)===128)}catch{}if(g!==null){n=he.T,S=ve.p,ve.p=2,he.T=null;try{for(var N=e.onRecoverableError,z=0;z<g.length;z++){var le=g[z];N(le.value,{componentStack:le.stack})}}finally{he.T=n,ve.p=S}}(is&3)!==0&&yc(),Ri(e),S=e.pendingLanes,(u&261930)!==0&&(S&42)!==0?e===k0?$l++:($l=0,k0=e):$l=0,eu(0)}}function yp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function yc(){return hp(),gp(),pp(),mp()}function mp(){if(zr!==5)return!1;var e=Qs,n=R0;R0=0;var u=In(is),g=he.T,S=ve.p;try{ve.p=32>u?32:u,he.T=null,u=O0,O0=null;var N=Qs,z=is;if(zr=0,tl=Qs=null,is=0,(Jn&6)!==0)throw Error(d(331));var le=Jn;if(Jn|=4,Jg(N.current),Xg(N,N.current,z,u),Jn=le,eu(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Ht,N)}catch{}return!0}finally{ve.p=S,he.T=g,yp(e,n)}}function xp(e,n,u){n=ei(u,n),n=d0(e.stateNode,n,2),e=ks(e,n,2),e!==null&&(Lt(e,2),Ri(e))}function rr(e,n,u){if(e.tag===3)xp(e,e,u);else for(;n!==null;){if(n.tag===3){xp(n,e,u);break}else if(n.tag===1){var g=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Vs===null||!Vs.has(g))){e=ei(u,e),u=vg(2),g=ks(n,u,2),g!==null&&(Ag(u,g,n,e),Lt(g,2),Ri(g));break}}n=n.return}}function U0(e,n,u){var g=e.pingCache;if(g===null){g=e.pingCache=new Dv;var S=new Set;g.set(n,S)}else S=g.get(n),S===void 0&&(S=new Set,g.set(n,S));S.has(u)||(N0=!0,S.add(u),e=Lv.bind(null,e,n,u),n.then(e,e))}function Lv(e,n,u){var g=e.pingCache;g!==null&&g.delete(n),e.pingedLanes|=e.suspendedLanes&u,e.warmLanes&=~u,yr===e&&(Un&u)===u&&(Nr===4||Nr===3&&(Un&62914560)===Un&&300>Kt()-cc?(Jn&2)===0&&nl(e,0):_0|=u,el===Un&&(el=0)),Ri(e)}function vp(e,n){n===0&&(n=St()),e=$n(e,n),e!==null&&(Lt(e,n),Ri(e))}function Uv(e){var n=e.memoizedState,u=0;n!==null&&(u=n.retryLane),vp(e,u)}function Fv(e,n){var u=0;switch(e.tag){case 31:case 13:var g=e.stateNode,S=e.memoizedState;S!==null&&(u=S.retryLane);break;case 19:g=e.stateNode;break;case 22:g=e.stateNode._retryCache;break;default:throw Error(d(314))}g!==null&&g.delete(n),vp(e,u)}function Pv(e,n){return pt(e,n)}var mc=null,al=null,F0=!1,xc=!1,P0=!1,Gs=0;function Ri(e){e!==al&&e.next===null&&(al===null?mc=al=e:al=al.next=e),xc=!0,F0||(F0=!0,Qv())}function eu(e,n){if(!P0&&xc){P0=!0;do for(var u=!1,g=mc;g!==null;){if(e!==0){var S=g.pendingLanes;if(S===0)var N=0;else{var z=g.suspendedLanes,le=g.pingedLanes;N=(1<<31-we(42|e)+1)-1,N&=S&~(z&~le),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,wp(g,N))}else N=Un,N=an(g,g===yr?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||It(g,N)||(u=!0,wp(g,N));g=g.next}while(u);P0=!1}}function Vv(){Ap()}function Ap(){xc=F0=!1;var e=0;Gs!==0&&Wv()&&(e=Gs);for(var n=Kt(),u=null,g=mc;g!==null;){var S=g.next,N=Cp(g,n);N===0?(g.next=null,u===null?mc=S:u.next=S,S===null&&(al=u)):(u=g,(e!==0||(N&3)!==0)&&(xc=!0)),g=S}zr!==0&&zr!==5||eu(e),Gs!==0&&(Gs=0)}function Cp(e,n){for(var u=e.suspendedLanes,g=e.pingedLanes,S=e.expirationTimes,N=e.pendingLanes&-62914561;0<N;){var z=31-we(N),le=1<<z,Be=S[z];Be===-1?((le&u)===0||(le&g)!==0)&&(S[z]=Qt(le,n)):Be<=n&&(e.expiredLanes|=le),N&=~le}if(n=yr,u=Un,u=an(e,e===n?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),g=e.callbackNode,u===0||e===n&&(nr===2||nr===9)||e.cancelPendingCommit!==null)return g!==null&&g!==null&&Ye(g),e.callbackNode=null,e.callbackPriority=0;if((u&3)===0||It(e,u)){if(n=u&-u,n===e.callbackPriority)return n;switch(g!==null&&Ye(g),In(u)){case 2:case 8:u=on;break;case 32:u=rn;break;case 268435456:u=En;break;default:u=rn}return g=bp.bind(null,e),u=pt(u,g),e.callbackPriority=n,e.callbackNode=u,n}return g!==null&&g!==null&&Ye(g),e.callbackPriority=2,e.callbackNode=null,2}function bp(e,n){if(zr!==0&&zr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var u=e.callbackNode;if(yc()&&e.callbackNode!==u)return null;var g=Un;return g=an(e,e===yr?g:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),g===0?null:(rp(e,g,n),Cp(e,Kt()),e.callbackNode!=null&&e.callbackNode===u?bp.bind(null,e):null)}function wp(e,n){if(yc())return null;rp(e,n,!0)}function Qv(){$v(function(){(Jn&6)!==0?pt(jt,Vv):Ap()})}function V0(){if(Gs===0){var e=Go;e===0&&(e=$e,$e<<=1,($e&261888)===0&&($e=256)),Gs=e}return Gs}function Ep(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ma(""+e)}function Ip(e,n){var u=n.ownerDocument.createElement("input");return u.name=n.name,u.value=n.value,e.id&&u.setAttribute("form",e.id),n.parentNode.insertBefore(u,n),e=new FormData(e),u.parentNode.removeChild(u),e}function Hv(e,n,u,g,S){if(n==="submit"&&u&&u.stateNode===S){var N=Ep((S[$t]||null).action),z=g.submitter;z&&(n=(n=z[$t]||null)?Ep(n.formAction):z.getAttribute("formAction"),n!==null&&(N=n,z=null));var le=new Rr("action","action",null,g,S);e.push({event:le,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Gs!==0){var Be=z?Ip(S,z):new FormData(S);s0(u,{pending:!0,data:Be,method:S.method,action:N},null,Be)}}else typeof N=="function"&&(le.preventDefault(),Be=z?Ip(S,z):new FormData(S),s0(u,{pending:!0,data:Be,method:S.method,action:N},N,Be))},currentTarget:S}]})}}for(var Q0=0;Q0<wt.length;Q0++){var H0=wt[Q0],Gv=H0.toLowerCase(),jv=H0[0].toUpperCase()+H0.slice(1);yt(Gv,"on"+jv)}yt(Ve,"onAnimationEnd"),yt(Oe,"onAnimationIteration"),yt(Ge,"onAnimationStart"),yt("dblclick","onDoubleClick"),yt("focusin","onFocus"),yt("focusout","onBlur"),yt(at,"onTransitionRun"),yt(mt,"onTransitionStart"),yt(xt,"onTransitionCancel"),yt(ct,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function Sp(e,n){n=(n&4)!==0;for(var u=0;u<e.length;u++){var g=e[u],S=g.event;g=g.listeners;e:{var N=void 0;if(n)for(var z=g.length-1;0<=z;z--){var le=g[z],Be=le.instance,He=le.currentTarget;if(le=le.listener,Be!==N&&S.isPropagationStopped())break e;N=le,S.currentTarget=He;try{N(S)}catch(nt){_t(nt)}S.currentTarget=null,N=Be}else for(z=0;z<g.length;z++){if(le=g[z],Be=le.instance,He=le.currentTarget,le=le.listener,Be!==N&&S.isPropagationStopped())break e;N=le,S.currentTarget=He;try{N(S)}catch(nt){_t(nt)}S.currentTarget=null,N=Be}}}}function kn(e,n){var u=n[ya];u===void 0&&(u=n[ya]=new Set);var g=e+"__bubble";u.has(g)||(Tp(n,e,2,!1),u.add(g))}function G0(e,n,u){var g=0;n&&(g|=4),Tp(u,e,g,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function j0(e){if(!e[vc]){e[vc]=!0,ot.forEach(function(u){u!=="selectionchange"&&(Kv.has(u)||G0(u,!1,e),G0(u,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[vc]||(n[vc]=!0,G0("selectionchange",!1,n))}}function Tp(e,n,u,g){switch(ny(n)){case 2:var S=vA;break;case 8:S=AA;break;default:S=id}u=S.bind(null,n,u,e),S=void 0,!uo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(S=!0),g?S!==void 0?e.addEventListener(n,u,{capture:!0,passive:S}):e.addEventListener(n,u,!0):S!==void 0?e.addEventListener(n,u,{passive:S}):e.addEventListener(n,u,!1)}function K0(e,n,u,g,S){var N=g;if((n&1)===0&&(n&2)===0&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var le=g.stateNode.containerInfo;if(le===S)break;if(z===4)for(z=g.return;z!==null;){var Be=z.tag;if((Be===3||Be===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;le!==null;){if(z=ir(le),z===null)return;if(Be=z.tag,Be===5||Be===6||Be===26||Be===27){g=N=z;continue e}le=le.parentNode}}g=g.return}bi(function(){var He=N,nt=ms(u),ut=[];e:{var je=Nt.get(e);if(je!==void 0){var qe=Rr,kt=e;switch(e){case"keypress":if(Ia(u)===0)break e;case"keydown":case"keyup":qe=ci;break;case"focusin":kt="focus",qe=Ii;break;case"focusout":kt="blur",qe=Ii;break;case"beforeblur":case"afterblur":qe=Ii;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=Hi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=po;break;case Ve:case Oe:case Ge:qe=xn;break;case ct:qe=Va;break;case"scroll":case"scrollend":qe=Vi;break;case"wheel":qe=bs;break;case"copy":case"cut":case"paste":qe=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=zn;break;case"toggle":case"beforetoggle":qe=ws}var sn=(n&4)!==0,fr=!sn&&(e==="scroll"||e==="scrollend"),Fe=sn?je!==null?je+"Capture":null:je;sn=[];for(var _e=He,Qe;_e!==null;){var it=_e;if(Qe=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Qe===null||Fe===null||(it=ln(_e,Fe),it!=null&&sn.push(nu(_e,it,Qe))),fr)break;_e=_e.return}0<sn.length&&(je=new qe(je,kt,null,u,nt),ut.push({event:je,listeners:sn}))}}if((n&7)===0){e:{if(je=e==="mouseover"||e==="pointerover",qe=e==="mouseout"||e==="pointerout",je&&u!==oa&&(kt=u.relatedTarget||u.fromElement)&&(ir(kt)||kt[Ar]))break e;if((qe||je)&&(je=nt.window===nt?nt:(je=nt.ownerDocument)?je.defaultView||je.parentWindow:window,qe?(kt=u.relatedTarget||u.toElement,qe=He,kt=kt?ir(kt):null,kt!==null&&(fr=m(kt),sn=kt.tag,kt!==fr||sn!==5&&sn!==27&&sn!==6)&&(kt=null)):(qe=null,kt=He),qe!==kt)){if(sn=Pn,it="onMouseLeave",Fe="onMouseEnter",_e="mouse",(e==="pointerout"||e==="pointerover")&&(sn=zn,it="onPointerLeave",Fe="onPointerEnter",_e="pointer"),fr=qe==null?je:Xr(qe),Qe=kt==null?je:Xr(kt),je=new sn(it,_e+"leave",qe,u,nt),je.target=fr,je.relatedTarget=Qe,it=null,ir(nt)===He&&(sn=new sn(Fe,_e+"enter",kt,u,nt),sn.target=Qe,sn.relatedTarget=fr,it=sn),fr=it,qe&&kt)t:{for(sn=zv,Fe=qe,_e=kt,Qe=0,it=Fe;it;it=sn(it))Qe++;it=0;for(var nn=_e;nn;nn=sn(nn))it++;for(;0<Qe-it;)Fe=sn(Fe),Qe--;for(;0<it-Qe;)_e=sn(_e),it--;for(;Qe--;){if(Fe===_e||_e!==null&&Fe===_e.alternate){sn=Fe;break t}Fe=sn(Fe),_e=sn(_e)}sn=null}else sn=null;qe!==null&&Bp(ut,je,qe,sn,!1),kt!==null&&fr!==null&&Bp(ut,fr,kt,sn,!0)}}e:{if(je=He?Xr(He):window,qe=je.nodeName&&je.nodeName.toLowerCase(),qe==="select"||qe==="input"&&je.type==="file")var qn=Zr;else if(Gi(je))if(Sa)qn=c;else{qn=i;var Gt=t}else qe=je.nodeName,!qe||qe.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?He&&er(He.elementType)&&(qn=Zr):qn=l;if(qn&&(qn=qn(e,He))){ua(ut,qn,u,nt);break e}Gt&&Gt(e,je,He),e==="focusout"&&He&&je.type==="number"&&He.memoizedProps.value!=null&&ge(je,"number",je.value)}switch(Gt=He?Xr(He):window,e){case"focusin":(Gi(Gt)||Gt.contentEditable==="true")&&(Y=Gt,ne=He,fe=null);break;case"focusout":fe=ne=Y=null;break;case"mousedown":ue=!0;break;case"contextmenu":case"mouseup":case"dragend":ue=!1,pe(ut,u,nt);break;case"selectionchange":if(G)break;case"keydown":case"keyup":pe(ut,u,nt)}var Tn;if(fi)e:{switch(e){case"compositionstart":var Fn="onCompositionStart";break e;case"compositionend":Fn="onCompositionEnd";break e;case"compositionupdate":Fn="onCompositionUpdate";break e}Fn=void 0}else di?yo(e,u)&&(Fn="onCompositionEnd"):e==="keydown"&&u.keyCode===229&&(Fn="onCompositionStart");Fn&&(Es&&u.locale!=="ko"&&(di||Fn!=="onCompositionStart"?Fn==="onCompositionEnd"&&di&&(Tn=Ea()):(xa=nt,wa="value"in xa?xa.value:xa.textContent,di=!0)),Gt=Ac(He,Fn),0<Gt.length&&(Fn=new Cs(Fn,e,null,u,nt),ut.push({event:Fn,listeners:Gt}),Tn?Fn.data=Tn:(Tn=Si(u),Tn!==null&&(Fn.data=Tn)))),(Tn=Uo?Ga(e,u):Ss(e,u))&&(Fn=Ac(He,"onBeforeInput"),0<Fn.length&&(Gt=new Cs("onBeforeInput","beforeinput",null,u,nt),ut.push({event:Gt,listeners:Fn}),Gt.data=Tn)),Hv(ut,e,He,u,nt)}Sp(ut,n)})}function nu(e,n,u){return{instance:e,listener:n,currentTarget:u}}function Ac(e,n){for(var u=n+"Capture",g=[];e!==null;){var S=e,N=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||N===null||(S=ln(e,u),S!=null&&g.unshift(nu(e,S,N)),S=ln(e,n),S!=null&&g.push(nu(e,S,N))),e.tag===3)return g;e=e.return}return[]}function zv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bp(e,n,u,g,S){for(var N=n._reactName,z=[];u!==null&&u!==g;){var le=u,Be=le.alternate,He=le.stateNode;if(le=le.tag,Be!==null&&Be===g)break;le!==5&&le!==26&&le!==27||He===null||(Be=He,S?(He=ln(u,N),He!=null&&z.unshift(nu(u,He,Be))):S||(He=ln(u,N),He!=null&&z.push(nu(u,He,Be)))),u=u.return}z.length!==0&&e.push({event:n,listeners:z})}var Yv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function Np(e){return(typeof e=="string"?e:""+e).replace(Yv,`
`).replace(qv,"")}function _p(e,n){return n=Np(n),Np(e)===n}function cr(e,n,u,g,S,N){switch(u){case"children":typeof g=="string"?n==="body"||n==="textarea"&&g===""||ui(e,g):(typeof g=="number"||typeof g=="bigint")&&n!=="body"&&ui(e,""+g);break;case"className":Re(e,"class",g);break;case"tabIndex":Re(e,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Re(e,u,g);break;case"style":zt(e,g,N);break;case"data":if(n!=="object"){Re(e,"data",g);break}case"src":case"href":if(g===""&&(n!=="a"||u!=="href")){e.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){e.removeAttribute(u);break}g=ma(""+g),e.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){e.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(n!=="input"&&cr(e,n,"name",S.name,S,null),cr(e,n,"formEncType",S.formEncType,S,null),cr(e,n,"formMethod",S.formMethod,S,null),cr(e,n,"formTarget",S.formTarget,S,null)):(cr(e,n,"encType",S.encType,S,null),cr(e,n,"method",S.method,S,null),cr(e,n,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){e.removeAttribute(u);break}g=ma(""+g),e.setAttribute(u,g);break;case"onClick":g!=null&&(e.onclick=Kr);break;case"onScroll":g!=null&&kn("scroll",e);break;case"onScrollEnd":g!=null&&kn("scrollend",e);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(d(61));if(u=g.__html,u!=null){if(S.children!=null)throw Error(d(60));e.innerHTML=u}}break;case"multiple":e.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":e.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){e.removeAttribute("xlink:href");break}u=ma(""+g),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?e.setAttribute(u,""+g):e.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?e.setAttribute(u,""):e.removeAttribute(u);break;case"capture":case"download":g===!0?e.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?e.setAttribute(u,g):e.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?e.setAttribute(u,g):e.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?e.removeAttribute(u):e.setAttribute(u,g);break;case"popover":kn("beforetoggle",e),kn("toggle",e),ce(e,"popover",g);break;case"xlinkActuate":tt(e,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":tt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":tt(e,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":tt(e,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":tt(e,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":tt(e,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":tt(e,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":tt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":tt(e,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ce(e,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Mo.get(u)||u,ce(e,u,g))}}function z0(e,n,u,g,S,N){switch(u){case"style":zt(e,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(d(61));if(u=g.__html,u!=null){if(S.children!=null)throw Error(d(60));e.innerHTML=u}}break;case"children":typeof g=="string"?ui(e,g):(typeof g=="number"||typeof g=="bigint")&&ui(e,""+g);break;case"onScroll":g!=null&&kn("scroll",e);break;case"onScrollEnd":g!=null&&kn("scrollend",e);break;case"onClick":g!=null&&(e.onclick=Kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(S=u.endsWith("Capture"),n=u.slice(2,S?u.length-7:void 0),N=e[$t]||null,N=N!=null?N[u]:null,typeof N=="function"&&e.removeEventListener(n,N,S),typeof g=="function")){typeof N!="function"&&N!==null&&(u in e?e[u]=null:e.hasAttribute(u)&&e.removeAttribute(u)),e.addEventListener(n,g,S);break e}u in e?e[u]=g:g===!0?e.setAttribute(u,""):ce(e,u,g)}}}function sa(e,n,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",e),kn("load",e);var g=!1,S=!1,N;for(N in u)if(u.hasOwnProperty(N)){var z=u[N];if(z!=null)switch(N){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,n));default:cr(e,n,N,z,u,null)}}S&&cr(e,n,"srcSet",u.srcSet,u,null),g&&cr(e,n,"src",u.src,u,null);return;case"input":kn("invalid",e);var le=N=z=S=null,Be=null,He=null;for(g in u)if(u.hasOwnProperty(g)){var nt=u[g];if(nt!=null)switch(g){case"name":S=nt;break;case"type":z=nt;break;case"checked":Be=nt;break;case"defaultChecked":He=nt;break;case"value":N=nt;break;case"defaultValue":le=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(d(137,n));break;default:cr(e,n,g,nt,u,null)}}Ue(e,N,le,Be,He,z,S,!1);return;case"select":kn("invalid",e),g=z=N=null;for(S in u)if(u.hasOwnProperty(S)&&(le=u[S],le!=null))switch(S){case"value":N=le;break;case"defaultValue":z=le;break;case"multiple":g=le;default:cr(e,n,S,le,u,null)}n=N,u=z,e.multiple=!!g,n!=null?Bt(e,!!g,n,!1):u!=null&&Bt(e,!!g,u,!0);return;case"textarea":kn("invalid",e),N=S=g=null;for(z in u)if(u.hasOwnProperty(z)&&(le=u[z],le!=null))switch(z){case"value":g=le;break;case"defaultValue":S=le;break;case"children":N=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(d(91));break;default:cr(e,n,z,le,u,null)}Cr(e,g,S,N);return;case"option":for(Be in u)if(u.hasOwnProperty(Be)&&(g=u[Be],g!=null))switch(Be){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:cr(e,n,Be,g,u,null)}return;case"dialog":kn("beforetoggle",e),kn("toggle",e),kn("cancel",e),kn("close",e);break;case"iframe":case"object":kn("load",e);break;case"video":case"audio":for(g=0;g<tu.length;g++)kn(tu[g],e);break;case"image":kn("error",e),kn("load",e);break;case"details":kn("toggle",e);break;case"embed":case"source":case"link":kn("error",e),kn("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in u)if(u.hasOwnProperty(He)&&(g=u[He],g!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,n));default:cr(e,n,He,g,u,null)}return;default:if(er(n)){for(nt in u)u.hasOwnProperty(nt)&&(g=u[nt],g!==void 0&&z0(e,n,nt,g,u,void 0));return}}for(le in u)u.hasOwnProperty(le)&&(g=u[le],g!=null&&cr(e,n,le,g,u,null))}function Xv(e,n,u,g){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,N=null,z=null,le=null,Be=null,He=null,nt=null;for(qe in u){var ut=u[qe];if(u.hasOwnProperty(qe)&&ut!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":Be=ut;default:g.hasOwnProperty(qe)||cr(e,n,qe,null,g,ut)}}for(var je in g){var qe=g[je];if(ut=u[je],g.hasOwnProperty(je)&&(qe!=null||ut!=null))switch(je){case"type":N=qe;break;case"name":S=qe;break;case"checked":He=qe;break;case"defaultChecked":nt=qe;break;case"value":z=qe;break;case"defaultValue":le=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(d(137,n));break;default:qe!==ut&&cr(e,n,je,qe,g,ut)}}Yn(e,z,le,Be,He,nt,N,S);return;case"select":qe=z=le=je=null;for(N in u)if(Be=u[N],u.hasOwnProperty(N)&&Be!=null)switch(N){case"value":break;case"multiple":qe=Be;default:g.hasOwnProperty(N)||cr(e,n,N,null,g,Be)}for(S in g)if(N=g[S],Be=u[S],g.hasOwnProperty(S)&&(N!=null||Be!=null))switch(S){case"value":je=N;break;case"defaultValue":le=N;break;case"multiple":z=N;default:N!==Be&&cr(e,n,S,N,g,Be)}n=le,u=z,g=qe,je!=null?Bt(e,!!u,je,!1):!!g!=!!u&&(n!=null?Bt(e,!!u,n,!0):Bt(e,!!u,u?[]:"",!1));return;case"textarea":qe=je=null;for(le in u)if(S=u[le],u.hasOwnProperty(le)&&S!=null&&!g.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:cr(e,n,le,null,g,S)}for(z in g)if(S=g[z],N=u[z],g.hasOwnProperty(z)&&(S!=null||N!=null))switch(z){case"value":je=S;break;case"defaultValue":qe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(d(91));break;default:S!==N&&cr(e,n,z,S,g,N)}Kn(e,je,qe);return;case"option":for(var kt in u)if(je=u[kt],u.hasOwnProperty(kt)&&je!=null&&!g.hasOwnProperty(kt))switch(kt){case"selected":e.selected=!1;break;default:cr(e,n,kt,null,g,je)}for(Be in g)if(je=g[Be],qe=u[Be],g.hasOwnProperty(Be)&&je!==qe&&(je!=null||qe!=null))switch(Be){case"selected":e.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:cr(e,n,Be,je,g,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var sn in u)je=u[sn],u.hasOwnProperty(sn)&&je!=null&&!g.hasOwnProperty(sn)&&cr(e,n,sn,null,g,je);for(He in g)if(je=g[He],qe=u[He],g.hasOwnProperty(He)&&je!==qe&&(je!=null||qe!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(d(137,n));break;default:cr(e,n,He,je,g,qe)}return;default:if(er(n)){for(var fr in u)je=u[fr],u.hasOwnProperty(fr)&&je!==void 0&&!g.hasOwnProperty(fr)&&z0(e,n,fr,void 0,g,je);for(nt in g)je=g[nt],qe=u[nt],!g.hasOwnProperty(nt)||je===qe||je===void 0&&qe===void 0||z0(e,n,nt,je,g,qe);return}}for(var Fe in u)je=u[Fe],u.hasOwnProperty(Fe)&&je!=null&&!g.hasOwnProperty(Fe)&&cr(e,n,Fe,null,g,je);for(ut in g)je=g[ut],qe=u[ut],!g.hasOwnProperty(ut)||je===qe||je==null&&qe==null||cr(e,n,ut,je,g,qe)}function Dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,u=performance.getEntriesByType("resource"),g=0;g<u.length;g++){var S=u[g],N=S.transferSize,z=S.initiatorType,le=S.duration;if(N&&le&&Dp(z)){for(z=0,le=S.responseEnd,g+=1;g<u.length;g++){var Be=u[g],He=Be.startTime;if(He>le)break;var nt=Be.transferSize,ut=Be.initiatorType;nt&&Dp(ut)&&(Be=Be.responseEnd,z+=nt*(Be<le?1:(le-He)/(Be-He)))}if(--g,n+=8*(N+z)/(S.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Y0=null,q0=null;function Cc(e){return e.nodeType===9?e:e.ownerDocument}function Rp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function X0(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Z0=null;function Wv(){var e=window.event;return e&&e.type==="popstate"?e===Z0?!1:(Z0=e,!0):(Z0=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,Jv=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,$v=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(eA)}:kp;function eA(e){setTimeout(function(){throw e})}function js(e){return e==="head"}function Lp(e,n){var u=n,g=0;do{var S=u.nextSibling;if(e.removeChild(u),S&&S.nodeType===8)if(u=S.data,u==="/$"||u==="/&"){if(g===0){e.removeChild(S),ll(n);return}g--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")g++;else if(u==="html")ru(e.ownerDocument.documentElement);else if(u==="head"){u=e.ownerDocument.head,ru(u);for(var N=u.firstChild;N;){var z=N.nextSibling,le=N.nodeName;N[ea]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=z}}else u==="body"&&ru(e.ownerDocument.body);u=S}while(u);ll(n)}function Up(e,n){var u=e;e=0;do{var g=u.nextSibling;if(u.nodeType===1?n?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(n?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(e===0)break;e--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||e++;u=g}while(u)}function W0(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var u=n;switch(n=n.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":W0(u),Gr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}e.removeChild(u)}}function tA(e,n,u,g){for(;e.nodeType===1;){var S=u;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!g&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(g){if(!e[ea])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(N=e.getAttribute("rel"),N==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(N!==S.rel||e.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||e.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||e.getAttribute("title")!==(S.title==null?null:S.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(N=e.getAttribute("src"),(N!==(S.src==null?null:S.src)||e.getAttribute("type")!==(S.type==null?null:S.type)||e.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&N&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var N=S.name==null?null:""+S.name;if(S.type==="hidden"&&e.getAttribute("name")===N)return e}else return e;if(e=ii(e.nextSibling),e===null)break}return null}function nA(e,n,u){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!u||(e=ii(e.nextSibling),e===null))return null;return e}function Fp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ii(e.nextSibling),e===null))return null;return e}function J0(e){return e.data==="$?"||e.data==="$~"}function $0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function rA(e,n){var u=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||u.readyState!=="loading")n();else{var g=function(){n(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),e._reactRetry=g}}function ii(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ed=null;function Pp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var u=e.data;if(u==="/$"||u==="/&"){if(n===0)return ii(e.nextSibling);n--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||n++}e=e.nextSibling}return null}function Vp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var u=e.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(n===0)return e;n--}else u!=="/$"&&u!=="/&"||n++}e=e.previousSibling}return null}function Qp(e,n,u){switch(n=Cc(u),e){case"html":if(e=n.documentElement,!e)throw Error(d(452));return e;case"head":if(e=n.head,!e)throw Error(d(453));return e;case"body":if(e=n.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function ru(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Gr(e)}var si=new Map,Hp=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ss=ve.d;ve.d={f:aA,r:iA,D:sA,C:oA,L:lA,m:uA,X:fA,S:cA,M:dA};function aA(){var e=ss.f(),n=hc();return e||n}function iA(e){var n=en(e);n!==null&&n.tag===5&&n.type==="form"?ig(n):ss.r(e)}var il=typeof document>"u"?null:document;function Gp(e,n,u){var g=il;if(g&&typeof n=="string"&&n){var S=tn(n);S='link[rel="'+e+'"][href="'+S+'"]',typeof u=="string"&&(S+='[crossorigin="'+u+'"]'),Hp.has(S)||(Hp.add(S),e={rel:e,crossOrigin:u,href:n},g.querySelector(S)===null&&(n=g.createElement("link"),sa(n,"link",e),hr(n),g.head.appendChild(n)))}}function sA(e){ss.D(e),Gp("dns-prefetch",e,null)}function oA(e,n){ss.C(e,n),Gp("preconnect",e,n)}function lA(e,n,u){ss.L(e,n,u);var g=il;if(g&&e&&n){var S='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&u&&u.imageSrcSet?(S+='[imagesrcset="'+tn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(S+='[imagesizes="'+tn(u.imageSizes)+'"]')):S+='[href="'+tn(e)+'"]';var N=S;switch(n){case"style":N=sl(e);break;case"script":N=ol(e)}si.has(N)||(e=R({rel:"preload",href:n==="image"&&u&&u.imageSrcSet?void 0:e,as:n},u),si.set(N,e),g.querySelector(S)!==null||n==="style"&&g.querySelector(au(N))||n==="script"&&g.querySelector(iu(N))||(n=g.createElement("link"),sa(n,"link",e),hr(n),g.head.appendChild(n)))}}function uA(e,n){ss.m(e,n);var u=il;if(u&&e){var g=n&&typeof n.as=="string"?n.as:"script",S='link[rel="modulepreload"][as="'+tn(g)+'"][href="'+tn(e)+'"]',N=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=ol(e)}if(!si.has(N)&&(e=R({rel:"modulepreload",href:e},n),si.set(N,e),u.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(iu(N)))return}g=u.createElement("link"),sa(g,"link",e),hr(g),u.head.appendChild(g)}}}function cA(e,n,u){ss.S(e,n,u);var g=il;if(g&&e){var S=dr(g).hoistableStyles,N=sl(e);n=n||"default";var z=S.get(N);if(!z){var le={loading:0,preload:null};if(z=g.querySelector(au(N)))le.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},u),(u=si.get(N))&&td(e,u);var Be=z=g.createElement("link");hr(Be),sa(Be,"link",e),Be._p=new Promise(function(He,nt){Be.onload=He,Be.onerror=nt}),Be.addEventListener("load",function(){le.loading|=1}),Be.addEventListener("error",function(){le.loading|=2}),le.loading|=4,wc(z,n,g)}z={type:"stylesheet",instance:z,count:1,state:le},S.set(N,z)}}}function fA(e,n){ss.X(e,n);var u=il;if(u&&e){var g=dr(u).hoistableScripts,S=ol(e),N=g.get(S);N||(N=u.querySelector(iu(S)),N||(e=R({src:e,async:!0},n),(n=si.get(S))&&nd(e,n),N=u.createElement("script"),hr(N),sa(N,"link",e),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(S,N))}}function dA(e,n){ss.M(e,n);var u=il;if(u&&e){var g=dr(u).hoistableScripts,S=ol(e),N=g.get(S);N||(N=u.querySelector(iu(S)),N||(e=R({src:e,async:!0,type:"module"},n),(n=si.get(S))&&nd(e,n),N=u.createElement("script"),hr(N),sa(N,"link",e),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(S,N))}}function jp(e,n,u,g){var S=(S=Ne.current)?bc(S):null;if(!S)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(n=sl(u.href),u=dr(S).hoistableStyles,g=u.get(n),g||(g={type:"style",instance:null,count:0,state:null},u.set(n,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){e=sl(u.href);var N=dr(S).hoistableStyles,z=N.get(e);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(e,z),(N=S.querySelector(au(e)))&&!N._p&&(z.instance=N,z.state.loading=5),si.has(e)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},si.set(e,u),N||hA(S,e,u,z.state))),n&&g===null)throw Error(d(528,""));return z}if(n&&g!==null)throw Error(d(529,""));return null;case"script":return n=u.async,u=u.src,typeof u=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ol(u),u=dr(S).hoistableScripts,g=u.get(n),g||(g={type:"script",instance:null,count:0,state:null},u.set(n,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function sl(e){return'href="'+tn(e)+'"'}function au(e){return'link[rel="stylesheet"]['+e+"]"}function Kp(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function hA(e,n,u,g){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?g.loading=1:(n=e.createElement("link"),g.preload=n,n.addEventListener("load",function(){return g.loading|=1}),n.addEventListener("error",function(){return g.loading|=2}),sa(n,"link",u),hr(n),e.head.appendChild(n))}function ol(e){return'[src="'+tn(e)+'"]'}function iu(e){return"script[async]"+e}function zp(e,n,u){if(n.count++,n.instance===null)switch(n.type){case"style":var g=e.querySelector('style[data-href~="'+tn(u.href)+'"]');if(g)return n.instance=g,hr(g),g;var S=R({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(e.ownerDocument||e).createElement("style"),hr(g),sa(g,"style",S),wc(g,u.precedence,e),n.instance=g;case"stylesheet":S=sl(u.href);var N=e.querySelector(au(S));if(N)return n.state.loading|=4,n.instance=N,hr(N),N;g=Kp(u),(S=si.get(S))&&td(g,S),N=(e.ownerDocument||e).createElement("link"),hr(N);var z=N;return z._p=new Promise(function(le,Be){z.onload=le,z.onerror=Be}),sa(N,"link",g),n.state.loading|=4,wc(N,u.precedence,e),n.instance=N;case"script":return N=ol(u.src),(S=e.querySelector(iu(N)))?(n.instance=S,hr(S),S):(g=u,(S=si.get(N))&&(g=R({},u),nd(g,S)),e=e.ownerDocument||e,S=e.createElement("script"),hr(S),sa(S,"link",g),e.head.appendChild(S),n.instance=S);case"void":return null;default:throw Error(d(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(g=n.instance,n.state.loading|=4,wc(g,u.precedence,e));return n.instance}function wc(e,n,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,N=S,z=0;z<g.length;z++){var le=g[z];if(le.dataset.precedence===n)N=le;else if(N!==S)break}N?N.parentNode.insertBefore(e,N.nextSibling):(n=u.nodeType===9?u.head:u,n.insertBefore(e,n.firstChild))}function td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ec=null;function Yp(e,n,u){if(Ec===null){var g=new Map,S=Ec=new Map;S.set(u,g)}else S=Ec,g=S.get(u),g||(g=new Map,S.set(u,g));if(g.has(e))return g;for(g.set(e,null),u=u.getElementsByTagName(e),S=0;S<u.length;S++){var N=u[S];if(!(N[ea]||N[cn]||e==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var z=N.getAttribute(n)||"";z=e+z;var le=g.get(z);le?le.push(N):g.set(z,[N])}}return g}function qp(e,n,u){e=e.ownerDocument||e,e.head.insertBefore(u,n==="title"?e.querySelector("head > title"):null)}function gA(e,n,u){if(u===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pA(e,n,u,g){if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var S=sl(g.href),N=n.querySelector(au(S));if(N){n=N._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ic.bind(e),n.then(e,e)),u.state.loading|=4,u.instance=N,hr(N);return}N=n.ownerDocument||n,g=Kp(g),(S=si.get(S))&&td(g,S),N=N.createElement("link"),hr(N);var z=N;z._p=new Promise(function(le,Be){z.onload=le,z.onerror=Be}),sa(N,"link",g),u.instance=N}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(u,n),(n=u.state.preload)&&(u.state.loading&3)===0&&(e.count++,u=Ic.bind(e),n.addEventListener("load",u),n.addEventListener("error",u))}}var rd=0;function yA(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(u){var g=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var N=e.unsuspend;e.unsuspend=null,N()}},6e4+n);0<e.imgBytes&&rd===0&&(rd=62500*Zv());var S=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var N=e.unsuspend;e.unsuspend=null,N()}},(e.imgBytes>rd?50:800)+n);return e.unsuspend=u,function(){e.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,n.forEach(mA,e),Sc=null,Ic.call(e))}function mA(e,n){if(!(n.state.loading&4)){var u=Sc.get(e);if(u)var g=u.get(null);else{u=new Map,Sc.set(e,u);for(var S=e.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<S.length;N++){var z=S[N];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(u.set(z.dataset.precedence,z),g=z)}g&&u.set(null,g)}S=n.instance,z=S.getAttribute("data-precedence"),N=u.get(z)||g,N===g&&u.set(null,S),u.set(z,S),this.count++,g=Ic.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),N?N.parentNode.insertBefore(S,N.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(S,e.firstChild)),n.state.loading|=4}}var su={$$typeof:U,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function xA(e,n,u,g,S,N,z,le,Be){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.hiddenUpdates=Rt(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=N,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function Zp(e,n,u,g,S,N,z,le,Be,He,nt,ut){return e=new xA(e,n,u,z,Be,He,nt,ut,le),n=1,N===!0&&(n|=24),N=ja(3,null,null,n),e.current=N,N.stateNode=e,n=Lf(),n.refCount++,e.pooledCache=n,n.refCount++,N.memoizedState={element:g,isDehydrated:u,cache:n},Vf(N),e}function Wp(e){return e?(e=Fo,e):Fo}function Jp(e,n,u,g,S,N){S=Wp(S),g.context===null?g.context=S:g.pendingContext=S,g=Os(n),g.payload={element:u},N=N===void 0?null:N,N!==null&&(g.callback=N),u=ks(e,g,n),u!==null&&(Ra(u,e,n),Fl(u,e,n))}function $p(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var u=e.retryLane;e.retryLane=u!==0&&u<n?u:n}}function ad(e,n){$p(e,n),(e=e.alternate)&&$p(e,n)}function ey(e){if(e.tag===13||e.tag===31){var n=$n(e,67108864);n!==null&&Ra(n,e,67108864),ad(e,67108864)}}function ty(e){if(e.tag===13||e.tag===31){var n=Xa();n=yn(n);var u=$n(e,n);u!==null&&Ra(u,e,n),ad(e,n)}}var Bc=!0;function vA(e,n,u,g){var S=he.T;he.T=null;var N=ve.p;try{ve.p=2,id(e,n,u,g)}finally{ve.p=N,he.T=S}}function AA(e,n,u,g){var S=he.T;he.T=null;var N=ve.p;try{ve.p=8,id(e,n,u,g)}finally{ve.p=N,he.T=S}}function id(e,n,u,g){if(Bc){var S=sd(g);if(S===null)K0(e,n,g,Nc,u),ry(e,g);else if(bA(S,e,n,u,g))g.stopPropagation();else if(ry(e,g),n&4&&-1<CA.indexOf(e)){for(;S!==null;){var N=en(S);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var z=lt(N.pendingLanes);if(z!==0){var le=N;for(le.pendingLanes|=2,le.entangledLanes|=2;z;){var Be=1<<31-we(z);le.entanglements[1]|=Be,z&=~Be}Ri(N),(Jn&6)===0&&(fc=Kt()+500,eu(0))}}break;case 31:case 13:le=$n(N,2),le!==null&&Ra(le,N,2),hc(),ad(N,2)}if(N=sd(g),N===null&&K0(e,n,g,Nc,u),N===S)break;S=N}S!==null&&g.stopPropagation()}else K0(e,n,g,null,u)}}function sd(e){return e=ms(e),od(e)}var Nc=null;function od(e){if(Nc=null,e=ir(e),e!==null){var n=m(e);if(n===null)e=null;else{var u=n.tag;if(u===13){if(e=A(n),e!==null)return e;e=null}else if(u===31){if(e=p(n),e!==null)return e;e=null}else if(u===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Nc=e,null}function ny(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bn()){case jt:return 2;case on:return 8;case rn:case qt:return 32;case En:return 268435456;default:return 32}default:return 32}}var ld=!1,Ks=null,zs=null,Ys=null,ou=new Map,lu=new Map,qs=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":ou.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(n.pointerId)}}function uu(e,n,u,g,S,N){return e===null||e.nativeEvent!==N?(e={blockedOn:n,domEventName:u,eventSystemFlags:g,nativeEvent:N,targetContainers:[S]},n!==null&&(n=en(n),n!==null&&ey(n)),e):(e.eventSystemFlags|=g,n=e.targetContainers,S!==null&&n.indexOf(S)===-1&&n.push(S),e)}function bA(e,n,u,g,S){switch(n){case"focusin":return Ks=uu(Ks,e,n,u,g,S),!0;case"dragenter":return zs=uu(zs,e,n,u,g,S),!0;case"mouseover":return Ys=uu(Ys,e,n,u,g,S),!0;case"pointerover":var N=S.pointerId;return ou.set(N,uu(ou.get(N)||null,e,n,u,g,S)),!0;case"gotpointercapture":return N=S.pointerId,lu.set(N,uu(lu.get(N)||null,e,n,u,g,S)),!0}return!1}function ay(e){var n=ir(e.target);if(n!==null){var u=m(n);if(u!==null){if(n=u.tag,n===13){if(n=A(u),n!==null){e.blockedOn=n,dt(e.priority,function(){ty(u)});return}}else if(n===31){if(n=p(u),n!==null){e.blockedOn=n,dt(e.priority,function(){ty(u)});return}}else if(n===3&&u.stateNode.current.memoizedState.isDehydrated){e.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var u=sd(e.nativeEvent);if(u===null){u=e.nativeEvent;var g=new u.constructor(u.type,u);oa=g,u.target.dispatchEvent(g),oa=null}else return n=en(u),n!==null&&ey(n),e.blockedOn=u,!1;n.shift()}return!0}function iy(e,n,u){_c(e)&&u.delete(n)}function wA(){ld=!1,Ks!==null&&_c(Ks)&&(Ks=null),zs!==null&&_c(zs)&&(zs=null),Ys!==null&&_c(Ys)&&(Ys=null),ou.forEach(iy),lu.forEach(iy)}function Dc(e,n){e.blockedOn===n&&(e.blockedOn=null,ld||(ld=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wA)))}var Rc=null;function sy(e){Rc!==e&&(Rc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var u=e[n],g=e[n+1],S=e[n+2];if(typeof g!="function"){if(od(g||u)===null)continue;break}var N=en(u);N!==null&&(e.splice(n,3),n-=3,s0(N,{pending:!0,data:S,method:u.method,action:g},g,S))}}))}function ll(e){function n(Be){return Dc(Be,e)}Ks!==null&&Dc(Ks,e),zs!==null&&Dc(zs,e),Ys!==null&&Dc(Ys,e),ou.forEach(n),lu.forEach(n);for(var u=0;u<qs.length;u++){var g=qs[u];g.blockedOn===e&&(g.blockedOn=null)}for(;0<qs.length&&(u=qs[0],u.blockedOn===null);)ay(u),u.blockedOn===null&&qs.shift();if(u=(e.ownerDocument||e).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var S=u[g],N=u[g+1],z=S[$t]||null;if(typeof N=="function")z||sy(u);else if(z){var le=null;if(N&&N.hasAttribute("formAction")){if(S=N,z=N[$t]||null)le=z.formAction;else if(od(S)!==null)continue}else le=z.action;typeof le=="function"?u[g+1]=le:(u.splice(g,3),g-=3),sy(u)}}}function oy(){function e(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(z){return S=z})},focusReset:"manual",scroll:"manual"})}function n(){S!==null&&(S(),S=null),g||setTimeout(u,20)}function u(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(u,100),function(){g=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),S!==null&&(S(),S=null)}}}function ud(e){this._internalRoot=e}Oc.prototype.render=ud.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(d(409));var u=n.current,g=Xa();Jp(u,g,e,n,null,null)},Oc.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jp(e.current,2,null,e,null,null),hc(),n[Ar]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=fn();e={blockedOn:null,target:e,priority:n};for(var u=0;u<qs.length&&n!==0&&n<qs[u].priority;u++);qs.splice(u,0,e),u===0&&ay(e)}};var ly=r.version;if(ly!=="19.2.4")throw Error(d(527,ly,"19.2.4"));ve.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=C(n),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var EA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Ht=kc.inject(EA),rt=kc}catch{}}return fu.createRoot=function(e,n){if(!v(e))throw Error(d(299));var u=!1,g="",S=pg,N=yg,z=mg;return n!=null&&(n.unstable_strictMode===!0&&(u=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onUncaughtError!==void 0&&(S=n.onUncaughtError),n.onCaughtError!==void 0&&(N=n.onCaughtError),n.onRecoverableError!==void 0&&(z=n.onRecoverableError)),n=Zp(e,1,!1,null,null,u,g,null,S,N,z,oy),e[Ar]=n.current,j0(e),new ud(n)},fu.hydrateRoot=function(e,n,u){if(!v(e))throw Error(d(299));var g=!1,S="",N=pg,z=yg,le=mg,Be=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(z=u.onCaughtError),u.onRecoverableError!==void 0&&(le=u.onRecoverableError),u.formState!==void 0&&(Be=u.formState)),n=Zp(e,1,!0,n,u??null,g,S,Be,N,z,le,oy),n.context=Wp(null),u=n.current,g=Xa(),g=yn(g),S=Os(g),S.callback=null,ks(u,S,g),u=g,n.current.lanes=u,Lt(n,u),Ri(n),e[Ar]=n.current,j0(e),new Oc(n)},fu.version="19.2.4",fu}var xy;function kA(){if(xy)return dd.exports;xy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),dd.exports=OA(),dd.exports}var MA=kA();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vy="popstate";function Ay(a){return typeof a=="object"&&a!=null&&"pathname"in a&&"search"in a&&"hash"in a&&"state"in a&&"key"in a}function LA(a={}){function r(d,v){var C;let m=(C=v.state)==null?void 0:C.masked,{pathname:A,search:p,hash:E}=m||d.location;return ph("",{pathname:A,search:p,hash:E},v.state&&v.state.usr||null,v.state&&v.state.key||"default",m?{pathname:d.location.pathname,search:d.location.search,hash:d.location.hash}:void 0)}function s(d,v){return typeof v=="string"?v:wu(v)}return FA(r,s,null,a)}function wr(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function mi(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function UA(){return Math.random().toString(36).substring(2,10)}function Cy(a,r){return{usr:a.state,key:a.key,idx:r,masked:a.unstable_mask?{pathname:a.pathname,search:a.search,hash:a.hash}:void 0}}function ph(a,r,s=null,d,v){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof r=="string"?bl(r):r,state:s,key:r&&r.key||d||UA(),unstable_mask:v}}function wu({pathname:a="/",search:r="",hash:s=""}){return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function bl(a){let r={};if(a){let s=a.indexOf("#");s>=0&&(r.hash=a.substring(s),a=a.substring(0,s));let d=a.indexOf("?");d>=0&&(r.search=a.substring(d),a=a.substring(0,d)),a&&(r.pathname=a)}return r}function FA(a,r,s,d={}){let{window:v=document.defaultView,v5Compat:m=!1}=d,A=v.history,p="POP",E=null,C=D();C==null&&(C=0,A.replaceState({...A.state,idx:C},""));function D(){return(A.state||{idx:null}).idx}function R(){p="POP";let H=D(),T=H==null?null:H-C;C=H,E&&E({action:p,location:P.location,delta:T})}function L(H,T){p="PUSH";let F=Ay(H)?H:ph(P.location,H,T);C=D()+1;let U=Cy(F,C),K=P.createHref(F.unstable_mask||F);try{A.pushState(U,"",K)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;v.location.assign(K)}m&&E&&E({action:p,location:P.location,delta:1})}function _(H,T){p="REPLACE";let F=Ay(H)?H:ph(P.location,H,T);C=D();let U=Cy(F,C),K=P.createHref(F.unstable_mask||F);A.replaceState(U,"",K),m&&E&&E({action:p,location:P.location,delta:0})}function V(H){return PA(H)}let P={get action(){return p},get location(){return a(v,A)},listen(H){if(E)throw new Error("A history only accepts one active listener");return v.addEventListener(vy,R),E=H,()=>{v.removeEventListener(vy,R),E=null}},createHref(H){return r(v,H)},createURL:V,encodeLocation(H){let T=V(H);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:L,replace:_,go(H){return A.go(H)}};return P}function PA(a,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),wr(s,"No window.location.(origin|href) available to create URL");let d=typeof a=="string"?a:wu(a);return d=d.replace(/ $/,"%20"),!r&&d.startsWith("//")&&(d=s+d),new URL(d,s)}function h2(a,r,s="/"){return VA(a,r,s,!1)}function VA(a,r,s,d){let v=typeof r=="string"?bl(r):r,m=gs(v.pathname||"/",s);if(m==null)return null;let A=g2(a);QA(A);let p=null;for(let E=0;p==null&&E<A.length;++E){let C=JA(m);p=ZA(A[E],C,d)}return p}function g2(a,r=[],s=[],d="",v=!1){let m=(A,p,E=v,C)=>{let D={relativePath:C===void 0?A.path||"":C,caseSensitive:A.caseSensitive===!0,childrenIndex:p,route:A};if(D.relativePath.startsWith("/")){if(!D.relativePath.startsWith(d)&&E)return;wr(D.relativePath.startsWith(d),`Absolute route path "${D.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),D.relativePath=D.relativePath.slice(d.length)}let R=Mi([d,D.relativePath]),L=s.concat(D);A.children&&A.children.length>0&&(wr(A.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),g2(A.children,r,L,R,E)),!(A.path==null&&!A.index)&&r.push({path:R,score:qA(R,A.index),routesMeta:L})};return a.forEach((A,p)=>{var E;if(A.path===""||!((E=A.path)!=null&&E.includes("?")))m(A,p);else for(let C of p2(A.path))m(A,p,!0,C)}),r}function p2(a){let r=a.split("/");if(r.length===0)return[];let[s,...d]=r,v=s.endsWith("?"),m=s.replace(/\?$/,"");if(d.length===0)return v?[m,""]:[m];let A=p2(d.join("/")),p=[];return p.push(...A.map(E=>E===""?m:[m,E].join("/"))),v&&p.push(...A),p.map(E=>a.startsWith("/")&&E===""?"/":E)}function QA(a){a.sort((r,s)=>r.score!==s.score?s.score-r.score:XA(r.routesMeta.map(d=>d.childrenIndex),s.routesMeta.map(d=>d.childrenIndex)))}var HA=/^:[\w-]+$/,GA=3,jA=2,KA=1,zA=10,YA=-2,by=a=>a==="*";function qA(a,r){let s=a.split("/"),d=s.length;return s.some(by)&&(d+=YA),r&&(d+=jA),s.filter(v=>!by(v)).reduce((v,m)=>v+(HA.test(m)?GA:m===""?KA:zA),d)}function XA(a,r){return a.length===r.length&&a.slice(0,-1).every((d,v)=>d===r[v])?a[a.length-1]-r[r.length-1]:0}function ZA(a,r,s=!1){let{routesMeta:d}=a,v={},m="/",A=[];for(let p=0;p<d.length;++p){let E=d[p],C=p===d.length-1,D=m==="/"?r:r.slice(m.length)||"/",R=Jc({path:E.relativePath,caseSensitive:E.caseSensitive,end:C},D),L=E.route;if(!R&&C&&s&&!d[d.length-1].route.index&&(R=Jc({path:E.relativePath,caseSensitive:E.caseSensitive,end:!1},D)),!R)return null;Object.assign(v,R.params),A.push({params:v,pathname:Mi([m,R.pathname]),pathnameBase:nC(Mi([m,R.pathnameBase])),route:L}),R.pathnameBase!=="/"&&(m=Mi([m,R.pathnameBase]))}return A}function Jc(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,d]=WA(a.path,a.caseSensitive,a.end),v=r.match(s);if(!v)return null;let m=v[0],A=m.replace(/(.)\/+$/,"$1"),p=v.slice(1);return{params:d.reduce((C,{paramName:D,isOptional:R},L)=>{if(D==="*"){let V=p[L]||"";A=m.slice(0,m.length-V.length).replace(/(.)\/+$/,"$1")}const _=p[L];return R&&!_?C[D]=void 0:C[D]=(_||"").replace(/%2F/g,"/"),C},{}),pathname:m,pathnameBase:A,pattern:a}}function WA(a,r=!1,s=!0){mi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let d=[],v="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,p,E,C,D)=>{if(d.push({paramName:p,isOptional:E!=null}),E){let R=D.charAt(C+A.length);return R&&R!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(d.push({paramName:"*"}),v+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?v+="\\/*$":a!==""&&a!=="/"&&(v+="(?:(?=\\/|$))"),[new RegExp(v,r?void 0:"i"),d]}function JA(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return mi(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),a}}function gs(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,d=a.charAt(s);return d&&d!=="/"?null:a.slice(s)||"/"}var $A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function eC(a,r="/"){let{pathname:s,search:d="",hash:v=""}=typeof a=="string"?bl(a):a,m;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?m=wy(s.substring(1),"/"):m=wy(s,r)):m=r,{pathname:m,search:rC(d),hash:aC(v)}}function wy(a,r){let s=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(v=>{v===".."?s.length>1&&s.pop():v!=="."&&s.push(v)}),s.length>1?s.join("/"):"/"}function yd(a,r,s,d){return`Cannot include a '${a}' character in a manually specified \`to.${r}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tC(a){return a.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Mh(a){let r=tC(a);return r.map((s,d)=>d===r.length-1?s.pathname:s.pathnameBase)}function cf(a,r,s,d=!1){let v;typeof a=="string"?v=bl(a):(v={...a},wr(!v.pathname||!v.pathname.includes("?"),yd("?","pathname","search",v)),wr(!v.pathname||!v.pathname.includes("#"),yd("#","pathname","hash",v)),wr(!v.search||!v.search.includes("#"),yd("#","search","hash",v)));let m=a===""||v.pathname==="",A=m?"/":v.pathname,p;if(A==null)p=s;else{let R=r.length-1;if(!d&&A.startsWith("..")){let L=A.split("/");for(;L[0]==="..";)L.shift(),R-=1;v.pathname=L.join("/")}p=R>=0?r[R]:"/"}let E=eC(v,p),C=A&&A!=="/"&&A.endsWith("/"),D=(m||A===".")&&s.endsWith("/");return!E.pathname.endsWith("/")&&(C||D)&&(E.pathname+="/"),E}var Mi=a=>a.join("/").replace(/\/\/+/g,"/"),nC=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),rC=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,aC=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,iC=class{constructor(a,r,s,d=!1){this.status=a,this.statusText=r||"",this.internal=d,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function sC(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function oC(a){return a.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function m2(a,r){let s=a;if(typeof s!="string"||!$A.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let d=s,v=!1;if(y2)try{let m=new URL(window.location.href),A=s.startsWith("//")?new URL(m.protocol+s):new URL(s),p=gs(A.pathname,r);A.origin===m.origin&&p!=null?s=p+A.search+A.hash:v=!0}catch{mi(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:d,isExternal:v,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x2=["POST","PUT","PATCH","DELETE"];new Set(x2);var lC=["GET",...x2];new Set(lC);var wl=ie.createContext(null);wl.displayName="DataRouter";var ff=ie.createContext(null);ff.displayName="DataRouterState";var uC=ie.createContext(!1),v2=ie.createContext({isTransitioning:!1});v2.displayName="ViewTransition";var cC=ie.createContext(new Map);cC.displayName="Fetchers";var fC=ie.createContext(null);fC.displayName="Await";var Wa=ie.createContext(null);Wa.displayName="Navigation";var _u=ie.createContext(null);_u.displayName="Location";var vi=ie.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var Lh=ie.createContext(null);Lh.displayName="RouteError";var A2="REACT_ROUTER_ERROR",dC="REDIRECT",hC="ROUTE_ERROR_RESPONSE";function gC(a){if(a.startsWith(`${A2}:${dC}:{`))try{let r=JSON.parse(a.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function pC(a){if(a.startsWith(`${A2}:${hC}:{`))try{let r=JSON.parse(a.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new iC(r.status,r.statusText,r.data)}catch{}}function yC(a,{relative:r}={}){wr(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:d}=ie.useContext(Wa),{hash:v,pathname:m,search:A}=Du(a,{relative:r}),p=m;return s!=="/"&&(p=m==="/"?s:Mi([s,m])),d.createHref({pathname:p,search:A,hash:v})}function El(){return ie.useContext(_u)!=null}function ps(){return wr(El(),"useLocation() may be used only in the context of a <Router> component."),ie.useContext(_u).location}var C2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b2(a){ie.useContext(Wa).static||ie.useLayoutEffect(a)}function w2(){let{isDataRoute:a}=ie.useContext(vi);return a?DC():mC()}function mC(){wr(El(),"useNavigate() may be used only in the context of a <Router> component.");let a=ie.useContext(wl),{basename:r,navigator:s}=ie.useContext(Wa),{matches:d}=ie.useContext(vi),{pathname:v}=ps(),m=JSON.stringify(Mh(d)),A=ie.useRef(!1);return b2(()=>{A.current=!0}),ie.useCallback((E,C={})=>{if(mi(A.current,C2),!A.current)return;if(typeof E=="number"){s.go(E);return}let D=cf(E,JSON.parse(m),v,C.relative==="path");a==null&&r!=="/"&&(D.pathname=D.pathname==="/"?r:Mi([r,D.pathname])),(C.replace?s.replace:s.push)(D,C.state,C)},[r,s,m,v,a])}var xC=ie.createContext(null);function vC(a){let r=ie.useContext(vi).outlet;return ie.useMemo(()=>r&&ie.createElement(xC.Provider,{value:a},r),[r,a])}function Du(a,{relative:r}={}){let{matches:s}=ie.useContext(vi),{pathname:d}=ps(),v=JSON.stringify(Mh(s));return ie.useMemo(()=>cf(a,JSON.parse(v),d,r==="path"),[a,v,d,r])}function AC(a,r){return E2(a,r)}function E2(a,r,s){var H;wr(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=ie.useContext(Wa),{matches:v}=ie.useContext(vi),m=v[v.length-1],A=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",C=m&&m.route;{let T=C&&C.path||"";S2(p,!C||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let D=ps(),R;if(r){let T=typeof r=="string"?bl(r):r;wr(E==="/"||((H=T.pathname)==null?void 0:H.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${T.pathname}" was given in the \`location\` prop.`),R=T}else R=D;let L=R.pathname||"/",_=L;if(E!=="/"){let T=E.replace(/^\//,"").split("/");_="/"+L.replace(/^\//,"").split("/").slice(T.length).join("/")}let V=h2(a,{pathname:_});mi(C||V!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),mi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=IC(V&&V.map(T=>Object.assign({},T,{params:Object.assign({},A,T.params),pathname:Mi([E,d.encodeLocation?d.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?E:Mi([E,d.encodeLocation?d.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),v,s);return r&&P?ie.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...R},navigationType:"POP"}},P):P}function CC(){let a=_C(),r=sC(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,d="rgba(200,200,200, 0.5)",v={padding:"0.5rem",backgroundColor:d},m={padding:"2px 4px",backgroundColor:d},A=null;return console.error("Error handled by React Router default ErrorBoundary:",a),A=ie.createElement(ie.Fragment,null,ie.createElement("p",null," Hey developer "),ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ie.createElement("code",{style:m},"ErrorBoundary")," or"," ",ie.createElement("code",{style:m},"errorElement")," prop on your route.")),ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},r),s?ie.createElement("pre",{style:v},s):null,A)}var bC=ie.createElement(CC,null),I2=class extends ie.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){this.props.onError?this.props.onError(a,r):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const s=pC(a.digest);s&&(a=s)}let r=a!==void 0?ie.createElement(vi.Provider,{value:this.props.routeContext},ie.createElement(Lh.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?ie.createElement(wC,{error:a},r):r}};I2.contextType=uC;var md=new WeakMap;function wC({children:a,error:r}){let{basename:s}=ie.useContext(Wa);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let d=gC(r.digest);if(d){let v=md.get(r);if(v)throw v;let m=m2(d.location,s);if(y2&&!md.get(r))if(m.isExternal||d.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const A=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:d.replace}));throw md.set(r,A),A}return ie.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return a}function EC({routeContext:a,match:r,children:s}){let d=ie.useContext(wl);return d&&d.static&&d.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=r.route.id),ie.createElement(vi.Provider,{value:a},s)}function IC(a,r=[],s){let d=s==null?void 0:s.state;if(a==null){if(!d)return null;if(d.errors)a=d.matches;else if(r.length===0&&!d.initialized&&d.matches.length>0)a=d.matches;else return null}let v=a,m=d==null?void 0:d.errors;if(m!=null){let D=v.findIndex(R=>R.route.id&&(m==null?void 0:m[R.route.id])!==void 0);wr(D>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),v=v.slice(0,Math.min(v.length,D+1))}let A=!1,p=-1;if(s&&d){A=d.renderFallback;for(let D=0;D<v.length;D++){let R=v[D];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(p=D),R.route.id){let{loaderData:L,errors:_}=d,V=R.route.loader&&!L.hasOwnProperty(R.route.id)&&(!_||_[R.route.id]===void 0);if(R.route.lazy||V){s.isStatic&&(A=!0),p>=0?v=v.slice(0,p+1):v=[v[0]];break}}}}let E=s==null?void 0:s.onError,C=d&&E?(D,R)=>{var L,_;E(D,{location:d.location,params:((_=(L=d.matches)==null?void 0:L[0])==null?void 0:_.params)??{},unstable_pattern:oC(d.matches),errorInfo:R})}:void 0;return v.reduceRight((D,R,L)=>{let _,V=!1,P=null,H=null;d&&(_=m&&R.route.id?m[R.route.id]:void 0,P=R.route.errorElement||bC,A&&(p<0&&L===0?(S2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,H=null):p===L&&(V=!0,H=R.route.hydrateFallbackElement||null)));let T=r.concat(v.slice(0,L+1)),F=()=>{let U;return _?U=P:V?U=H:R.route.Component?U=ie.createElement(R.route.Component,null):R.route.element?U=R.route.element:U=D,ie.createElement(EC,{match:R,routeContext:{outlet:D,matches:T,isDataRoute:d!=null},children:U})};return d&&(R.route.ErrorBoundary||R.route.errorElement||L===0)?ie.createElement(I2,{location:d.location,revalidation:d.revalidation,component:P,error:_,children:F(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:C}):F()},null)}function Uh(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SC(a){let r=ie.useContext(wl);return wr(r,Uh(a)),r}function TC(a){let r=ie.useContext(ff);return wr(r,Uh(a)),r}function BC(a){let r=ie.useContext(vi);return wr(r,Uh(a)),r}function Fh(a){let r=BC(a),s=r.matches[r.matches.length-1];return wr(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function NC(){return Fh("useRouteId")}function _C(){var d;let a=ie.useContext(Lh),r=TC("useRouteError"),s=Fh("useRouteError");return a!==void 0?a:(d=r.errors)==null?void 0:d[s]}function DC(){let{router:a}=SC("useNavigate"),r=Fh("useNavigate"),s=ie.useRef(!1);return b2(()=>{s.current=!0}),ie.useCallback(async(v,m={})=>{mi(s.current,C2),s.current&&(typeof v=="number"?await a.navigate(v):await a.navigate(v,{fromRouteId:r,...m}))},[a,r])}var Ey={};function S2(a,r,s){!r&&!Ey[a]&&(Ey[a]=!0,mi(!1,s))}ie.memo(RC);function RC({routes:a,future:r,state:s,isStatic:d,onError:v}){return E2(a,void 0,{state:s,isStatic:d,onError:v})}function OC({to:a,replace:r,state:s,relative:d}){wr(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:v}=ie.useContext(Wa);mi(!v,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=ie.useContext(vi),{pathname:A}=ps(),p=w2(),E=cf(a,Mh(m),A,d==="path"),C=JSON.stringify(E);return ie.useEffect(()=>{p(JSON.parse(C),{replace:r,state:s,relative:d})},[p,C,d,r,s]),null}function kC(a){return vC(a.context)}function fl(a){wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MC({basename:a="/",children:r=null,location:s,navigationType:d="POP",navigator:v,static:m=!1,unstable_useTransitions:A}){wr(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),E=ie.useMemo(()=>({basename:p,navigator:v,static:m,unstable_useTransitions:A,future:{}}),[p,v,m,A]);typeof s=="string"&&(s=bl(s));let{pathname:C="/",search:D="",hash:R="",state:L=null,key:_="default",unstable_mask:V}=s,P=ie.useMemo(()=>{let H=gs(C,p);return H==null?null:{location:{pathname:H,search:D,hash:R,state:L,key:_,unstable_mask:V},navigationType:d}},[p,C,D,R,L,_,d,V]);return mi(P!=null,`<Router basename="${p}"> is not able to match the URL "${C}${D}${R}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:ie.createElement(Wa.Provider,{value:E},ie.createElement(_u.Provider,{children:r,value:P}))}function LC({children:a,location:r}){return AC(yh(a),r)}function yh(a,r=[]){let s=[];return ie.Children.forEach(a,(d,v)=>{if(!ie.isValidElement(d))return;let m=[...r,v];if(d.type===ie.Fragment){s.push.apply(s,yh(d.props.children,m));return}wr(d.type===fl,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wr(!d.props.index||!d.props.children,"An index route cannot have child routes.");let A={id:d.props.id||m.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(A.children=yh(d.props.children,m)),s.push(A)}),s}var Yc="get",qc="application/x-www-form-urlencoded";function df(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function UC(a){return df(a)&&a.tagName.toLowerCase()==="button"}function FC(a){return df(a)&&a.tagName.toLowerCase()==="form"}function PC(a){return df(a)&&a.tagName.toLowerCase()==="input"}function VC(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function QC(a,r){return a.button===0&&(!r||r==="_self")&&!VC(a)}var Mc=null;function HC(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var GC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(a){return a!=null&&!GC.has(a)?(mi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qc}"`),null):a}function jC(a,r){let s,d,v,m,A;if(FC(a)){let p=a.getAttribute("action");d=p?gs(p,r):null,s=a.getAttribute("method")||Yc,v=xd(a.getAttribute("enctype"))||qc,m=new FormData(a)}else if(UC(a)||PC(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let E=a.getAttribute("formaction")||p.getAttribute("action");if(d=E?gs(E,r):null,s=a.getAttribute("formmethod")||p.getAttribute("method")||Yc,v=xd(a.getAttribute("formenctype"))||xd(p.getAttribute("enctype"))||qc,m=new FormData(p,a),!HC()){let{name:C,type:D,value:R}=a;if(D==="image"){let L=C?`${C}.`:"";m.append(`${L}x`,"0"),m.append(`${L}y`,"0")}else C&&m.append(C,R)}}else{if(df(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Yc,d=null,v=qc,A=a}return m&&v==="text/plain"&&(A=m,m=void 0),{action:d,method:s.toLowerCase(),encType:v,formData:m,body:A}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ph(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function KC(a,r,s,d){let v=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s?v.pathname.endsWith("/")?v.pathname=`${v.pathname}_.${d}`:v.pathname=`${v.pathname}.${d}`:v.pathname==="/"?v.pathname=`_root.${d}`:r&&gs(v.pathname,r)==="/"?v.pathname=`${r.replace(/\/$/,"")}/_root.${d}`:v.pathname=`${v.pathname.replace(/\/$/,"")}.${d}`,v}async function zC(a,r){if(a.id in r)return r[a.id];try{let s=await import(a.module);return r[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YC(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function qC(a,r,s){let d=await Promise.all(a.map(async v=>{let m=r.routes[v.route.id];if(m){let A=await zC(m,s);return A.links?A.links():[]}return[]}));return JC(d.flat(1).filter(YC).filter(v=>v.rel==="stylesheet"||v.rel==="preload").map(v=>v.rel==="stylesheet"?{...v,rel:"prefetch",as:"style"}:{...v,rel:"prefetch"}))}function Iy(a,r,s,d,v,m){let A=(E,C)=>s[C]?E.route.id!==s[C].route.id:!0,p=(E,C)=>{var D;return s[C].pathname!==E.pathname||((D=s[C].route.path)==null?void 0:D.endsWith("*"))&&s[C].params["*"]!==E.params["*"]};return m==="assets"?r.filter((E,C)=>A(E,C)||p(E,C)):m==="data"?r.filter((E,C)=>{var R;let D=d.routes[E.route.id];if(!D||!D.hasLoader)return!1;if(A(E,C)||p(E,C))return!0;if(E.route.shouldRevalidate){let L=E.route.shouldRevalidate({currentUrl:new URL(v.pathname+v.search+v.hash,window.origin),currentParams:((R=s[0])==null?void 0:R.params)||{},nextUrl:new URL(a,window.origin),nextParams:E.params,defaultShouldRevalidate:!0});if(typeof L=="boolean")return L}return!0}):[]}function XC(a,r,{includeHydrateFallback:s}={}){return ZC(a.map(d=>{let v=r.routes[d.route.id];if(!v)return[];let m=[v.module];return v.clientActionModule&&(m=m.concat(v.clientActionModule)),v.clientLoaderModule&&(m=m.concat(v.clientLoaderModule)),s&&v.hydrateFallbackModule&&(m=m.concat(v.hydrateFallbackModule)),v.imports&&(m=m.concat(v.imports)),m}).flat(1))}function ZC(a){return[...new Set(a)]}function WC(a){let r={},s=Object.keys(a).sort();for(let d of s)r[d]=a[d];return r}function JC(a,r){let s=new Set;return new Set(r),a.reduce((d,v)=>{let m=JSON.stringify(WC(v));return s.has(m)||(s.add(m),d.push({key:m,link:v})),d},[])}function T2(){let a=ie.useContext(wl);return Ph(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function $C(){let a=ie.useContext(ff);return Ph(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Vh=ie.createContext(void 0);Vh.displayName="FrameworkContext";function B2(){let a=ie.useContext(Vh);return Ph(a,"You must render this element inside a <HydratedRouter> element"),a}function eb(a,r){let s=ie.useContext(Vh),[d,v]=ie.useState(!1),[m,A]=ie.useState(!1),{onFocus:p,onBlur:E,onMouseEnter:C,onMouseLeave:D,onTouchStart:R}=r,L=ie.useRef(null);ie.useEffect(()=>{if(a==="render"&&A(!0),a==="viewport"){let P=T=>{T.forEach(F=>{A(F.isIntersecting)})},H=new IntersectionObserver(P,{threshold:.5});return L.current&&H.observe(L.current),()=>{H.disconnect()}}},[a]),ie.useEffect(()=>{if(d){let P=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(P)}}},[d]);let _=()=>{v(!0)},V=()=>{v(!1),A(!1)};return s?a!=="intent"?[m,L,{}]:[m,L,{onFocus:du(p,_),onBlur:du(E,V),onMouseEnter:du(C,_),onMouseLeave:du(D,V),onTouchStart:du(R,_)}]:[!1,L,{}]}function du(a,r){return s=>{a&&a(s),s.defaultPrevented||r(s)}}function tb({page:a,...r}){let{router:s}=T2(),d=ie.useMemo(()=>h2(s.routes,a,s.basename),[s.routes,a,s.basename]);return d?ie.createElement(rb,{page:a,matches:d,...r}):null}function nb(a){let{manifest:r,routeModules:s}=B2(),[d,v]=ie.useState([]);return ie.useEffect(()=>{let m=!1;return qC(a,r,s).then(A=>{m||v(A)}),()=>{m=!0}},[a,r,s]),d}function rb({page:a,matches:r,...s}){let d=ps(),{future:v,manifest:m,routeModules:A}=B2(),{basename:p}=T2(),{loaderData:E,matches:C}=$C(),D=ie.useMemo(()=>Iy(a,r,C,m,d,"data"),[a,r,C,m,d]),R=ie.useMemo(()=>Iy(a,r,C,m,d,"assets"),[a,r,C,m,d]),L=ie.useMemo(()=>{if(a===d.pathname+d.search+d.hash)return[];let P=new Set,H=!1;if(r.forEach(F=>{var K;let U=m.routes[F.route.id];!U||!U.hasLoader||(!D.some(X=>X.route.id===F.route.id)&&F.route.id in E&&((K=A[F.route.id])!=null&&K.shouldRevalidate)||U.hasClientLoader?H=!0:P.add(F.route.id))}),P.size===0)return[];let T=KC(a,p,v.unstable_trailingSlashAwareDataRequests,"data");return H&&P.size>0&&T.searchParams.set("_routes",r.filter(F=>P.has(F.route.id)).map(F=>F.route.id).join(",")),[T.pathname+T.search]},[p,v.unstable_trailingSlashAwareDataRequests,E,d,m,D,r,a,A]),_=ie.useMemo(()=>XC(R,m),[R,m]),V=nb(R);return ie.createElement(ie.Fragment,null,L.map(P=>ie.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...s})),_.map(P=>ie.createElement("link",{key:P,rel:"modulepreload",href:P,...s})),V.map(({key:P,link:H})=>ie.createElement("link",{key:P,nonce:s.nonce,...H,crossOrigin:H.crossOrigin??s.crossOrigin})))}function ab(...a){return r=>{a.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ib&&(window.__reactRouterVersion="7.13.1")}catch{}function sb({basename:a,children:r,unstable_useTransitions:s,window:d}){let v=ie.useRef();v.current==null&&(v.current=LA({window:d,v5Compat:!0}));let m=v.current,[A,p]=ie.useState({action:m.action,location:m.location}),E=ie.useCallback(C=>{s===!1?p(C):ie.startTransition(()=>p(C))},[s]);return ie.useLayoutEffect(()=>m.listen(E),[m,E]),ie.createElement(MC,{basename:a,children:r,location:A.location,navigationType:A.action,navigator:m,unstable_useTransitions:s})}var N2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_2=ie.forwardRef(function({onClick:r,discover:s="render",prefetch:d="none",relative:v,reloadDocument:m,replace:A,unstable_mask:p,state:E,target:C,to:D,preventScrollReset:R,viewTransition:L,unstable_defaultShouldRevalidate:_,...V},P){let{basename:H,navigator:T,unstable_useTransitions:F}=ie.useContext(Wa),U=typeof D=="string"&&N2.test(D),K=m2(D,H);D=K.to;let X=yC(D,{relative:v}),M=ps(),I=null;if(p){let oe=cf(p,[],M.unstable_mask?M.unstable_mask.pathname:"/",!0);H!=="/"&&(oe.pathname=oe.pathname==="/"?H:Mi([H,oe.pathname])),I=T.createHref(oe)}let[w,j,ae]=eb(d,V),de=ub(D,{replace:A,unstable_mask:p,state:E,target:C,preventScrollReset:R,relative:v,viewTransition:L,unstable_defaultShouldRevalidate:_,unstable_useTransitions:F});function ee(oe){r&&r(oe),oe.defaultPrevented||de(oe)}let se=!(K.isExternal||m),Ae=ie.createElement("a",{...V,...ae,href:(se?I:void 0)||K.absoluteURL||X,onClick:se?ee:r,ref:ab(P,j),target:C,"data-discover":!U&&s==="render"?"true":void 0});return w&&!U?ie.createElement(ie.Fragment,null,Ae,ie.createElement(tb,{page:X})):Ae});_2.displayName="Link";var Xc=ie.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:d="",end:v=!1,style:m,to:A,viewTransition:p,children:E,...C},D){let R=Du(A,{relative:C.relative}),L=ps(),_=ie.useContext(ff),{navigator:V,basename:P}=ie.useContext(Wa),H=_!=null&&gb(R)&&p===!0,T=V.encodeLocation?V.encodeLocation(R).pathname:R.pathname,F=L.pathname,U=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(F=F.toLowerCase(),U=U?U.toLowerCase():null,T=T.toLowerCase()),U&&P&&(U=gs(U,P)||U);const K=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let X=F===T||!v&&F.startsWith(T)&&F.charAt(K)==="/",M=U!=null&&(U===T||!v&&U.startsWith(T)&&U.charAt(T.length)==="/"),I={isActive:X,isPending:M,isTransitioning:H},w=X?r:void 0,j;typeof d=="function"?j=d(I):j=[d,X?"active":null,M?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let ae=typeof m=="function"?m(I):m;return ie.createElement(_2,{...C,"aria-current":w,className:j,ref:D,style:ae,to:A,viewTransition:p},typeof E=="function"?E(I):E)});Xc.displayName="NavLink";var ob=ie.forwardRef(({discover:a="render",fetcherKey:r,navigate:s,reloadDocument:d,replace:v,state:m,method:A=Yc,action:p,onSubmit:E,relative:C,preventScrollReset:D,viewTransition:R,unstable_defaultShouldRevalidate:L,..._},V)=>{let{unstable_useTransitions:P}=ie.useContext(Wa),H=db(),T=hb(p,{relative:C}),F=A.toLowerCase()==="get"?"get":"post",U=typeof p=="string"&&N2.test(p),K=X=>{if(E&&E(X),X.defaultPrevented)return;X.preventDefault();let M=X.nativeEvent.submitter,I=(M==null?void 0:M.getAttribute("formmethod"))||A,w=()=>H(M||X.currentTarget,{fetcherKey:r,method:I,navigate:s,replace:v,state:m,relative:C,preventScrollReset:D,viewTransition:R,unstable_defaultShouldRevalidate:L});P&&s!==!1?ie.startTransition(()=>w()):w()};return ie.createElement("form",{ref:V,method:F,action:T,onSubmit:d?E:K,..._,"data-discover":!U&&a==="render"?"true":void 0})});ob.displayName="Form";function lb(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D2(a){let r=ie.useContext(wl);return wr(r,lb(a)),r}function ub(a,{target:r,replace:s,unstable_mask:d,state:v,preventScrollReset:m,relative:A,viewTransition:p,unstable_defaultShouldRevalidate:E,unstable_useTransitions:C}={}){let D=w2(),R=ps(),L=Du(a,{relative:A});return ie.useCallback(_=>{if(QC(_,r)){_.preventDefault();let V=s!==void 0?s:wu(R)===wu(L),P=()=>D(a,{replace:V,unstable_mask:d,state:v,preventScrollReset:m,relative:A,viewTransition:p,unstable_defaultShouldRevalidate:E});C?ie.startTransition(()=>P()):P()}},[R,D,L,s,d,v,r,a,m,A,p,E,C])}var cb=0,fb=()=>`__${String(++cb)}__`;function db(){let{router:a}=D2("useSubmit"),{basename:r}=ie.useContext(Wa),s=NC(),d=a.fetch,v=a.navigate;return ie.useCallback(async(m,A={})=>{let{action:p,method:E,encType:C,formData:D,body:R}=jC(m,r);if(A.navigate===!1){let L=A.fetcherKey||fb();await d(L,s,A.action||p,{unstable_defaultShouldRevalidate:A.unstable_defaultShouldRevalidate,preventScrollReset:A.preventScrollReset,formData:D,body:R,formMethod:A.method||E,formEncType:A.encType||C,flushSync:A.flushSync})}else await v(A.action||p,{unstable_defaultShouldRevalidate:A.unstable_defaultShouldRevalidate,preventScrollReset:A.preventScrollReset,formData:D,body:R,formMethod:A.method||E,formEncType:A.encType||C,replace:A.replace,state:A.state,fromRouteId:s,flushSync:A.flushSync,viewTransition:A.viewTransition})},[d,v,r,s])}function hb(a,{relative:r}={}){let{basename:s}=ie.useContext(Wa),d=ie.useContext(vi);wr(d,"useFormAction must be used inside a RouteContext");let[v]=d.matches.slice(-1),m={...Du(a||".",{relative:r})},A=ps();if(a==null){m.search=A.search;let p=new URLSearchParams(m.search),E=p.getAll("index");if(E.some(D=>D==="")){p.delete("index"),E.filter(R=>R).forEach(R=>p.append("index",R));let D=p.toString();m.search=D?`?${D}`:""}}return(!a||a===".")&&v.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(m.pathname=m.pathname==="/"?s:Mi([s,m.pathname])),wu(m)}function gb(a,{relative:r}={}){let s=ie.useContext(v2);wr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=D2("useViewTransitionState"),v=Du(a,{relative:r});if(!s.isTransitioning)return!1;let m=gs(s.currentLocation.pathname,d)||s.currentLocation.pathname,A=gs(s.nextLocation.pathname,d)||s.nextLocation.pathname;return Jc(v.pathname,A)!=null||Jc(v.pathname,m)!=null}var mu=d2(),Zc={exports:{}},pb=Zc.exports,Sy;function yb(){return Sy||(Sy=1,(function(a,r){((s,d)=>{a.exports=d()})(pb,function(){var s=function(o,f){return(s=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(x,b){x.__proto__=b}:function(x,b){for(var B in b)Object.prototype.hasOwnProperty.call(b,B)&&(x[B]=b[B])}))(o,f)},d=function(){return(d=Object.assign||function(o){for(var f,x=1,b=arguments.length;x<b;x++)for(var B in f=arguments[x])Object.prototype.hasOwnProperty.call(f,B)&&(o[B]=f[B]);return o}).apply(this,arguments)};function v(o,f,x){for(var b,B=0,k=f.length;B<k;B++)!b&&B in f||((b=b||Array.prototype.slice.call(f,0,B))[B]=f[B]);return o.concat(b||Array.prototype.slice.call(f))}var m=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:dl,A=Object.keys,p=Array.isArray;function E(o,f){return typeof f=="object"&&A(f).forEach(function(x){o[x]=f[x]}),o}typeof Promise>"u"||m.Promise||(m.Promise=Promise);var C=Object.getPrototypeOf,D={}.hasOwnProperty;function R(o,f){return D.call(o,f)}function L(o,f){typeof f=="function"&&(f=f(C(o))),(typeof Reflect>"u"?A:Reflect.ownKeys)(f).forEach(function(x){V(o,x,f[x])})}var _=Object.defineProperty;function V(o,f,x,b){_(o,f,E(x&&R(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},b))}function P(o){return{from:function(f){return o.prototype=Object.create(f.prototype),V(o.prototype,"constructor",o),{extend:L.bind(null,o.prototype)}}}}var H=Object.getOwnPropertyDescriptor,T=[].slice;function F(o,f,x){return T.call(o,f,x)}function U(o,f){return f(o)}function K(o){if(!o)throw new Error("Assertion Failed")}function X(o){m.setImmediate?setImmediate(o):setTimeout(o,0)}function M(o,f){if(typeof f=="string"&&R(o,f))return o[f];if(!f)return o;if(typeof f!="string"){for(var x=[],b=0,B=f.length;b<B;++b){var k=M(o,f[b]);x.push(k)}return x}var G,Y=f.indexOf(".");return Y===-1||(G=o[f.substr(0,Y)])==null?void 0:M(G,f.substr(Y+1))}function I(o,f,x){if(o&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof f!="string"&&"length"in f){K(typeof x!="string"&&"length"in x);for(var b=0,B=f.length;b<B;++b)I(o,f[b],x[b])}else{var k,G,Y=f.indexOf(".");Y!==-1?(k=f.substr(0,Y),(Y=f.substr(Y+1))===""?x===void 0?p(o)&&!isNaN(parseInt(k))?o.splice(k,1):delete o[k]:o[k]=x:I(G=(G=o[k])&&R(o,k)?G:o[k]={},Y,x)):x===void 0?p(o)&&!isNaN(parseInt(f))?o.splice(f,1):delete o[f]:o[f]=x}}function w(o){var f,x={};for(f in o)R(o,f)&&(x[f]=o[f]);return x}var j=[].concat;function ae(o){return j.apply([],o)}var Te="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ae([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(f){return f+o+"Array"})}))).filter(function(o){return m[o]}),de=new Set(Te.map(function(o){return m[o]})),ee=null;function se(o){return ee=new WeakMap,o=(function f(x){if(!x||typeof x!="object")return x;var b=ee.get(x);if(b)return b;if(p(x)){b=[],ee.set(x,b);for(var B=0,k=x.length;B<k;++B)b.push(f(x[B]))}else if(de.has(x.constructor))b=x;else{var G,Y=C(x);for(G in b=Y===Object.prototype?{}:Object.create(Y),ee.set(x,b),x)R(x,G)&&(b[G]=f(x[G]))}return b})(o),ee=null,o}var Ae={}.toString;function oe(o){return Ae.call(o).slice(8,-1)}var he=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ve=typeof he=="symbol"?function(o){var f;return o!=null&&(f=o[he])&&f.apply(o)}:function(){return null};function ke(o,f){f=o.indexOf(f),0<=f&&o.splice(f,1)}var Ke={};function Le(o){var f,x,b,B;if(arguments.length===1){if(p(o))return o.slice();if(this===Ke&&typeof o=="string")return[o];if(B=ve(o))for(x=[];!(b=B.next()).done;)x.push(b.value);else{if(o==null)return[o];if(typeof(f=o.length)!="number")return[o];for(x=new Array(f);f--;)x[f]=o[f]}}else for(f=arguments.length,x=new Array(f);f--;)x[f]=arguments[f];return x}var Ce=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Te=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],jt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Te),Ze={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function De(o,f){this.name=o,this.message=f}function et(o,f){return o+". Errors: "+Object.keys(f).map(function(x){return f[x].toString()}).filter(function(x,b,B){return B.indexOf(x)===b}).join(`
`)}function Ne(o,f,x,b){this.failures=f,this.failedKeys=b,this.successCount=x,this.message=et(o,f)}function bt(o,f){this.name="BulkError",this.failures=Object.keys(f).map(function(x){return f[x]}),this.failuresByPos=f,this.message=et(o,this.failures)}P(De).from(Error).extend({toString:function(){return this.name+": "+this.message}}),P(Ne).from(De),P(bt).from(De);var gt=jt.reduce(function(o,f){return o[f]=f+"Error",o},{}),Q=De,W=jt.reduce(function(o,f){var x=f+"Error";function b(B,k){this.name=x,B?typeof B=="string"?(this.message="".concat(B).concat(k?`
 `+k:""),this.inner=k||null):typeof B=="object"&&(this.message="".concat(B.name," ").concat(B.message),this.inner=B):(this.message=Ze[f]||x,this.inner=null)}return P(b).from(Q),o[f]=b,o},{}),re=(W.Syntax=SyntaxError,W.Type=TypeError,W.Range=RangeError,Te.reduce(function(o,f){return o[f+"Error"]=W[f],o},{}));Te=jt.reduce(function(o,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(o[f+"Error"]=W[f]),o},{});function O(){}function Z(o){return o}function be(o,f){return o==null||o===Z?f:function(x){return f(o(x))}}function xe(o,f){return function(){o.apply(this,arguments),f.apply(this,arguments)}}function We(o,f){return o===O?f:function(){var x=o.apply(this,arguments),b=(x!==void 0&&(arguments[0]=x),this.onsuccess),B=this.onerror,k=(this.onsuccess=null,this.onerror=null,f.apply(this,arguments));return b&&(this.onsuccess=this.onsuccess?xe(b,this.onsuccess):b),B&&(this.onerror=this.onerror?xe(B,this.onerror):B),k!==void 0?k:x}}function ht(o,f){return o===O?f:function(){o.apply(this,arguments);var x=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?xe(x,this.onsuccess):x),b&&(this.onerror=this.onerror?xe(b,this.onerror):b)}}function ft(o,f){return o===O?f:function(B){var b=o.apply(this,arguments),B=(E(B,b),this.onsuccess),k=this.onerror,G=(this.onsuccess=null,this.onerror=null,f.apply(this,arguments));return B&&(this.onsuccess=this.onsuccess?xe(B,this.onsuccess):B),k&&(this.onerror=this.onerror?xe(k,this.onerror):k),b===void 0?G===void 0?void 0:G:E(b,G)}}function Pe(o,f){return o===O?f:function(){return f.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function pt(o,f){return o===O?f:function(){var x=o.apply(this,arguments);if(x&&typeof x.then=="function"){for(var b=this,B=arguments.length,k=new Array(B);B--;)k[B]=arguments[B];return x.then(function(){return f.apply(b,k)})}return f.apply(this,arguments)}}Te.ModifyError=Ne,Te.DexieError=De,Te.BulkError=bt;var Ye=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Mt(o){Ye=o}var Et={},Kt=100,bn=typeof Promise>"u"?[]:(jt=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[bn=crypto.subtle.digest("SHA-512",new Uint8Array([0])),C(bn),jt]:[jt,C(jt),jt]),jt=bn[0],Cn=bn[1],Cn=Cn&&Cn.then,on=jt&&jt.constructor,rn=!!bn[2],qt=function(o,f){Se.push([o,f]),pn&&(queueMicrotask(St),pn=!1)},En=!0,pn=!0,Bn=[],Ht=[],rt=Z,Vt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:O,pgp:!1,env:{},finalize:O},we=Vt,Se=[],Je=0,st=[];function $e(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=we;if(typeof o!="function"){if(o!==Et)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&lt(this,this._value)}else this._state=null,this._value=null,++f.ref,(function x(b,B){try{B(function(k){if(b._state===null){if(k===b)throw new TypeError("A promise cannot be resolved with itself.");var G=b._lib&&Rt();k&&typeof k.then=="function"?x(b,function(Y,ne){k instanceof $e?k._then(Y,ne):k.then(Y,ne)}):(b._state=!0,b._value=k,an(b)),G&&Lt()}},lt.bind(null,b))}catch(k){lt(b,k)}})(this,o)}var Dt={get:function(){var o=we,f=dt;function x(b,B){var k=this,G=!o.global&&(o!==we||f!==dt),Y=G&&!Ar(),ne=new $e(function(fe,ue){It(k,new un(Gr(b,o,G,Y),Gr(B,o,G,Y),fe,ue,o))});return this._consoleTask&&(ne._consoleTask=this._consoleTask),ne}return x.prototype=Et,x},set:function(o){V(this,"then",o&&o.prototype===Et?Dt:{get:function(){return o},set:Dt.set})}};function un(o,f,x,b,B){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof f=="function"?f:null,this.resolve=x,this.reject=b,this.psd=B}function lt(o,f){var x,b;Ht.push(f),o._state===null&&(x=o._lib&&Rt(),f=rt(f),o._state=!1,o._value=f,b=o,Bn.some(function(B){return B._value===b._value})||Bn.push(b),an(o),x)&&Lt()}function an(o){var f=o._listeners;o._listeners=[];for(var x=0,b=f.length;x<b;++x)It(o,f[x]);var B=o._PSD;--B.ref||B.finalize(),Je===0&&(++Je,qt(function(){--Je==0&&Ft()},[]))}function It(o,f){if(o._state===null)o._listeners.push(f);else{var x=o._state?f.onFulfilled:f.onRejected;if(x===null)return(o._state?f.resolve:f.reject)(o._value);++f.psd.ref,++Je,qt(Qt,[x,o,f])}}function Qt(o,f,x){try{var b,B=f._value;!f._state&&Ht.length&&(Ht=[]),b=Ye&&f._consoleTask?f._consoleTask.run(function(){return o(B)}):o(B),f._state||Ht.indexOf(B)!==-1||(k=>{for(var G=Bn.length;G;)if(Bn[--G]._value===k._value)return Bn.splice(G,1)})(f),x.resolve(b)}catch(k){x.reject(k)}finally{--Je==0&&Ft(),--x.psd.ref||x.psd.finalize()}}function St(){ea(Vt,function(){Rt()&&Lt()})}function Rt(){var o=En;return pn=En=!1,o}function Lt(){var o,f,x;do for(;0<Se.length;)for(o=Se,Se=[],x=o.length,f=0;f<x;++f){var b=o[f];b[0].apply(null,b[1])}while(0<Se.length);pn=En=!0}function Ft(){for(var o=Bn,f=(Bn=[],o.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)}),st.slice(0)),x=f.length;x;)f[--x]()}function mn(o){return new $e(Et,!1,o)}function Tt(o,f){var x=we;return function(){var b=Rt(),B=we;try{return ar(x,!0),o.apply(this,arguments)}catch(k){f&&f(k)}finally{ar(B,!1),b&&Lt()}}}L($e.prototype,{then:Dt,_then:function(o,f){It(this,new un(null,null,o,f,we))},catch:function(o){var f,x;return arguments.length===1?this.then(null,o):(f=o,x=arguments[1],typeof f=="function"?this.then(null,function(b){return(b instanceof f?x:mn)(b)}):this.then(null,function(b){return(b&&b.name===f?x:mn)(b)}))},finally:function(o){return this.then(function(f){return $e.resolve(o()).then(function(){return f})},function(f){return $e.resolve(o()).then(function(){return mn(f)})})},timeout:function(o,f){var x=this;return o<1/0?new $e(function(b,B){var k=setTimeout(function(){return B(new W.Timeout(f))},o);x.then(b,B).finally(clearTimeout.bind(null,k))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&V($e.prototype,Symbol.toStringTag,"Dexie.Promise"),Vt.env=Pi(),L($e,{all:function(){var o=Le.apply(null,arguments).map(ya);return new $e(function(f,x){o.length===0&&f([]);var b=o.length;o.forEach(function(B,k){return $e.resolve(B).then(function(G){o[k]=G,--b||f(o)},x)})})},resolve:function(o){return o instanceof $e?o:o&&typeof o.then=="function"?new $e(function(f,x){o.then(f,x)}):new $e(Et,!0,o)},reject:mn,race:function(){var o=Le.apply(null,arguments).map(ya);return new $e(function(f,x){o.map(function(b){return $e.resolve(b).then(f,x)})})},PSD:{get:function(){return we},set:function(o){return we=o}},totalEchoes:{get:function(){return dt}},newPSD:cn,usePSD:ea,scheduler:{get:function(){return qt},set:function(o){qt=o}},rejectionMapper:{get:function(){return rt},set:function(o){rt=o}},follow:function(o,f){return new $e(function(x,b){return cn(function(B,k){var G=we;G.unhandleds=[],G.onunhandled=k,G.finalize=xe(function(){var Y,ne=this;Y=function(){ne.unhandleds.length===0?B():k(ne.unhandleds[0])},st.push(function fe(){Y(),st.splice(st.indexOf(fe),1)}),++Je,qt(function(){--Je==0&&Ft()},[])},G.finalize),o()},f,x,b)})}}),on&&(on.allSettled&&V($e,"allSettled",function(){var o=Le.apply(null,arguments).map(ya);return new $e(function(f){o.length===0&&f([]);var x=o.length,b=new Array(x);o.forEach(function(B,k){return $e.resolve(B).then(function(G){return b[k]={status:"fulfilled",value:G}},function(G){return b[k]={status:"rejected",reason:G}}).then(function(){return--x||f(b)})})})}),on.any&&typeof AggregateError<"u"&&V($e,"any",function(){var o=Le.apply(null,arguments).map(ya);return new $e(function(f,x){o.length===0&&x(new AggregateError([]));var b=o.length,B=new Array(b);o.forEach(function(k,G){return $e.resolve(k).then(function(Y){return f(Y)},function(Y){B[G]=Y,--b||x(new AggregateError(B))})})})}),on.withResolvers)&&($e.withResolvers=on.withResolvers);var Zt={awaits:0,echoes:0,id:0},yn=0,In=[],fn=0,dt=0,Sn=0;function cn(o,G,x,b){var B=we,k=Object.create(B),G=(k.parent=B,k.ref=0,k.global=!1,k.id=++Sn,Vt.env,k.env=rn?{Promise:$e,PromiseProp:{value:$e,configurable:!0,writable:!0},all:$e.all,race:$e.race,allSettled:$e.allSettled,any:$e.any,resolve:$e.resolve,reject:$e.reject}:{},G&&E(k,G),++B.ref,k.finalize=function(){--this.parent.ref||this.parent.finalize()},ea(k,o,x,b));return k.ref===0&&k.finalize(),G}function $t(){return Zt.id||(Zt.id=++yn),++Zt.awaits,Zt.echoes+=Kt,Zt.id}function Ar(){return!!Zt.awaits&&(--Zt.awaits==0&&(Zt.id=0),Zt.echoes=Zt.awaits*Kt,!0)}function ya(o){return Zt.echoes&&o&&o.constructor===on?($t(),o.then(function(f){return Ar(),f},function(f){return Ar(),en(f)})):o}function Ci(){var o=In[In.length-1];In.pop(),ar(o,!1)}function ar(o,f){var x,b,B=we;(f?!Zt.echoes||fn++&&o===we:!fn||--fn&&o===we)||queueMicrotask(f?(function(k){++dt,Zt.echoes&&--Zt.echoes!=0||(Zt.echoes=Zt.awaits=Zt.id=0),In.push(we),ar(k,!0)}).bind(null,o):Ci),o!==we&&(we=o,B===Vt&&(Vt.env=Pi()),rn)&&(x=Vt.env.Promise,b=o.env,B.global||o.global)&&(Object.defineProperty(m,"Promise",b.PromiseProp),x.all=b.all,x.race=b.race,x.resolve=b.resolve,x.reject=b.reject,b.allSettled&&(x.allSettled=b.allSettled),b.any)&&(x.any=b.any)}function Pi(){var o=m.Promise;return rn?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(m,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function ea(o,f,x,b,B){var k=we;try{return ar(o,!0),f(x,b,B)}finally{ar(k,!1)}}function Gr(o,f,x,b){return typeof o!="function"?o:function(){var B=we;x&&$t(),ar(f,!0);try{return o.apply(this,arguments)}finally{ar(B,!1),b&&queueMicrotask(Ar)}}}function ir(o){Promise===on&&Zt.echoes===0?fn===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Cn).indexOf("[native code]")===-1&&($t=Ar=O);var en=$e.reject,Xr="",dr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hr="String expected.",ot=[],Dr="__dbnames",Mn="readonly",jr="readwrite";function Ma(o,f){return o?f?function(){return o.apply(this,arguments)&&f.apply(this,arguments)}:o:f}var Rn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function J(o){return typeof o!="string"||/\./.test(o)?function(f){return f}:function(f){return f[o]===void 0&&o in f&&delete(f=se(f))[o],f}}function te(){throw W.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ce(o,f){try{var x=Re(o),b=Re(f);if(x!==b)return x==="Array"?1:b==="Array"?-1:x==="binary"?1:b==="binary"?-1:x==="string"?1:b==="string"?-1:x==="Date"?1:b!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return f<o?1:o<f?-1:0;case"binary":for(var B=tt(o),k=tt(f),G=B.length,Y=k.length,ne=G<Y?G:Y,fe=0;fe<ne;++fe)if(B[fe]!==k[fe])return B[fe]<k[fe]?-1:1;return G===Y?0:G<Y?-1:1;case"Array":for(var ue=o,pe=f,me=ue.length,ye=pe.length,Ie=me<ye?me:ye,Ee=0;Ee<Ie;++Ee){var Me=ce(ue[Ee],pe[Ee]);if(Me!==0)return Me}return me===ye?0:me<ye?-1:1}}catch{}return NaN}function Re(o){var f=typeof o;return f=="object"&&(ArrayBuffer.isView(o)||(f=oe(o))==="ArrayBuffer")?"binary":f}function tt(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function Xe(o,f,x){var b=o.schema.yProps;return b?(f&&0<x.numFailures&&(f=f.filter(function(B,k){return!x.failures[k]})),Promise.all(b.map(function(B){return B=B.updatesTable,f?o.db.table(B).where("k").anyOf(f).delete():o.db.table(B).clear()})).then(function(){return x})):x}Ct.prototype.execute=function(o){var f=this["@@propmod"];if(f.add!==void 0){var x=f.add;if(p(x))return v(v([],p(o)?o:[],!0),x).sort();if(typeof x=="number")return(Number(o)||0)+x;if(typeof x=="bigint")try{return BigInt(o)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(f.remove!==void 0){var b=f.remove;if(p(b))return p(o)?o.filter(function(B){return!b.includes(B)}).sort():[];if(typeof b=="number")return Number(o)-b;if(typeof b=="bigint")try{return BigInt(o)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return x=(x=f.replacePrefix)==null?void 0:x[0],x&&typeof o=="string"&&o.startsWith(x)?f.replacePrefix[1]+o.substring(x.length):o};var vt=Ct;function Ct(o){this["@@propmod"]=o}function Wt(o,f){for(var x=A(f),b=x.length,B=!1,k=0;k<b;++k){var G=x[k],Y=f[G],ne=M(o,G);Y instanceof vt?(I(o,G,Y.execute(ne)),B=!0):ne!==Y&&(I(o,G,Y),B=!0)}return B}gn.prototype._trans=function(o,f,x){var b=this._tx||we.trans,B=this.name,k=Ye&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function G(fe,ue,pe){if(pe.schema[B])return f(pe.idbtrans,pe);throw new W.NotFound("Table "+B+" not part of transaction")}var Y=Rt();try{var ne=b&&b.db._novip===this.db._novip?b===we.trans?b._promise(o,G,x):cn(function(){return b._promise(o,G,x)},{trans:b,transless:we.transless||we}):(function fe(ue,pe,me,ye){if(ue.idbdb&&(ue._state.openComplete||we.letThrough||ue._vip)){var Ie=ue._createTransaction(pe,me,ue._dbSchema);try{Ie.create(),ue._state.PR1398_maxLoop=3}catch(Ee){return Ee.name===gt.InvalidState&&ue.isOpen()&&0<--ue._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ue.close({disableAutoOpen:!1}),ue.open().then(function(){return fe(ue,pe,me,ye)})):en(Ee)}return Ie._promise(pe,function(Ee,Me){return cn(function(){return we.trans=Ie,ye(Ee,Me,Ie)})}).then(function(Ee){if(pe==="readwrite")try{Ie.idbtrans.commit()}catch{}return pe==="readonly"?Ee:Ie._completion.then(function(){return Ee})})}if(ue._state.openComplete)return en(new W.DatabaseClosed(ue._state.dbOpenError));if(!ue._state.isBeingOpened){if(!ue._state.autoOpen)return en(new W.DatabaseClosed);ue.open().catch(O)}return ue._state.dbReadyPromise.then(function(){return fe(ue,pe,me,ye)})})(this.db,o,[this.name],G);return k&&(ne._consoleTask=k,ne=ne.catch(function(fe){return console.trace(fe),en(fe)})),ne}finally{Y&&Lt()}},gn.prototype.get=function(o,f){var x=this;return o&&o.constructor===Object?this.where(o).first(f):o==null?en(new W.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return x.core.get({trans:b,key:o}).then(function(B){return x.hook.reading.fire(B)})}).then(f)},gn.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(p(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var f=A(o);if(f.length===1)return this.where(f[0]).equals(o[f[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(Y){if(Y.compound&&f.every(function(fe){return 0<=Y.keyPath.indexOf(fe)})){for(var ne=0;ne<f.length;++ne)if(f.indexOf(Y.keyPath[ne])===-1)return!1;return!0}return!1}).sort(function(Y,ne){return Y.keyPath.length-ne.keyPath.length})[0];if(x&&this.db._maxKey!==Xr)return G=x.keyPath.slice(0,f.length),this.where(G).equals(G.map(function(Y){return o[Y]}));!x&&Ye&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var b=this.schema.idxByName;function B(Y,ne){return ce(Y,ne)===0}var G=f.reduce(function(ue,ne){var fe=ue[0],ue=ue[1],pe=b[ne],me=o[ne];return[fe||pe,fe||!pe?Ma(ue,pe&&pe.multi?function(ye){return ye=M(ye,ne),p(ye)&&ye.some(function(Ie){return B(me,Ie)})}:function(ye){return B(me,M(ye,ne))}):ue]},[null,null]),k=G[0],G=G[1];return k?this.where(k.name).equals(o[k.keyPath]).filter(G):x?this.filter(G):this.where(f).equals("")},gn.prototype.filter=function(o){return this.toCollection().and(o)},gn.prototype.count=function(o){return this.toCollection().count(o)},gn.prototype.offset=function(o){return this.toCollection().offset(o)},gn.prototype.limit=function(o){return this.toCollection().limit(o)},gn.prototype.each=function(o){return this.toCollection().each(o)},gn.prototype.toArray=function(o){return this.toCollection().toArray(o)},gn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gn.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,p(o)?"[".concat(o.join("+"),"]"):o))},gn.prototype.reverse=function(){return this.toCollection().reverse()},gn.prototype.mapToClass=function(o){for(var f=this.db,x=this.name,b=((this.schema.mappedClass=o).prototype instanceof te&&(o=(G=>{var Y=ue,ne=G;if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function fe(){this.constructor=Y}function ue(){return G!==null&&G.apply(this,arguments)||this}return s(Y,ne),Y.prototype=ne===null?Object.create(ne):(fe.prototype=ne.prototype,new fe),Object.defineProperty(ue.prototype,"db",{get:function(){return f},enumerable:!1,configurable:!0}),ue.prototype.table=function(){return x},ue})(o)),new Set),B=o.prototype;B;B=C(B))Object.getOwnPropertyNames(B).forEach(function(G){return b.add(G)});function k(G){if(!G)return G;var Y,ne=Object.create(o.prototype);for(Y in G)if(!b.has(Y))try{ne[Y]=G[Y]}catch{}return ne}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=k,this.hook("reading",k),o},gn.prototype.defineClass=function(){return this.mapToClass(function(o){E(this,o)})},gn.prototype.add=function(o,f){var x=this,b=this.schema.primKey,B=b.auto,k=b.keyPath,G=o;return k&&B&&(G=J(k)(o)),this._trans("readwrite",function(Y){return x.core.mutate({trans:Y,type:"add",keys:f!=null?[f]:null,values:[G]})}).then(function(Y){return Y.numFailures?$e.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(k)try{I(o,k,Y)}catch{}return Y})},gn.prototype.upsert=function(o,f){var x=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(B){return x.core.get({trans:B,key:o}).then(function(k){var G=k??{};return Wt(G,f),b&&I(G,b,o),x.core.mutate({trans:B,type:"put",values:[G],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[f]}}).then(function(Y){return Y.numFailures?$e.reject(Y.failures[0]):!!k})})})},gn.prototype.update=function(o,f){return typeof o!="object"||p(o)?this.where(":id").equals(o).modify(f):(o=M(o,this.schema.primKey.keyPath))===void 0?en(new W.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(f)},gn.prototype.put=function(o,f){var x=this,b=this.schema.primKey,B=b.auto,k=b.keyPath,G=o;return k&&B&&(G=J(k)(o)),this._trans("readwrite",function(Y){return x.core.mutate({trans:Y,type:"put",values:[G],keys:f!=null?[f]:null})}).then(function(Y){return Y.numFailures?$e.reject(Y.failures[0]):Y.lastResult}).then(function(Y){if(k)try{I(o,k,Y)}catch{}return Y})},gn.prototype.delete=function(o){var f=this;return this._trans("readwrite",function(x){return f.core.mutate({trans:x,type:"delete",keys:[o]}).then(function(b){return Xe(f,[o],b)}).then(function(b){return b.numFailures?$e.reject(b.failures[0]):void 0})})},gn.prototype.clear=function(){var o=this;return this._trans("readwrite",function(f){return o.core.mutate({trans:f,type:"deleteRange",range:Rn}).then(function(x){return Xe(o,null,x)})}).then(function(f){return f.numFailures?$e.reject(f.failures[0]):void 0})},gn.prototype.bulkGet=function(o){var f=this;return this._trans("readonly",function(x){return f.core.getMany({keys:o,trans:x}).then(function(b){return b.map(function(B){return f.hook.reading.fire(B)})})})},gn.prototype.bulkAdd=function(o,f,x){var b=this,B=Array.isArray(f)?f:void 0,k=(x=x||(B?void 0:f))?x.allKeys:void 0;return this._trans("readwrite",function(G){var Y=b.schema.primKey,fe=Y.auto,Y=Y.keyPath;if(Y&&B)throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(B&&B.length!==o.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var ne=o.length,fe=Y&&fe?o.map(J(Y)):o;return b.core.mutate({trans:G,type:"add",keys:B,values:fe,wantResults:k}).then(function(ue){var pe=ue.numFailures,me=ue.failures;if(pe===0)return k?ue.results:ue.lastResult;throw new bt("".concat(b.name,".bulkAdd(): ").concat(pe," of ").concat(ne," operations failed"),me)})})},gn.prototype.bulkPut=function(o,f,x){var b=this,B=Array.isArray(f)?f:void 0,k=(x=x||(B?void 0:f))?x.allKeys:void 0;return this._trans("readwrite",function(G){var Y=b.schema.primKey,fe=Y.auto,Y=Y.keyPath;if(Y&&B)throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(B&&B.length!==o.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var ne=o.length,fe=Y&&fe?o.map(J(Y)):o;return b.core.mutate({trans:G,type:"put",keys:B,values:fe,wantResults:k}).then(function(ue){var pe=ue.numFailures,me=ue.failures;if(pe===0)return k?ue.results:ue.lastResult;throw new bt("".concat(b.name,".bulkPut(): ").concat(pe," of ").concat(ne," operations failed"),me)})})},gn.prototype.bulkUpdate=function(o){var f=this,x=this.core,b=o.map(function(G){return G.key}),B=o.map(function(G){return G.changes}),k=[];return this._trans("readwrite",function(G){return x.getMany({trans:G,keys:b,cache:"clone"}).then(function(Y){var ne=[],fe=[],ue=(o.forEach(function(pe,me){var ye=pe.key,Ie=pe.changes,Ee=Y[me];if(Ee){for(var Me=0,Ve=Object.keys(Ie);Me<Ve.length;Me++){var Oe=Ve[Me],Ge=Ie[Oe];if(Oe===f.schema.primKey.keyPath){if(ce(Ge,ye)!==0)throw new W.Constraint("Cannot update primary key in bulkUpdate()")}else I(Ee,Oe,Ge)}k.push(me),ne.push(ye),fe.push(Ee)}}),ne.length);return x.mutate({trans:G,type:"put",keys:ne,values:fe,updates:{keys:b,changeSpecs:B}}).then(function(pe){var me=pe.numFailures,ye=pe.failures;if(me===0)return ue;for(var Ie=0,Ee=Object.keys(ye);Ie<Ee.length;Ie++){var Me,Ve=Ee[Ie],Oe=k[Number(Ve)];Oe!=null&&(Me=ye[Ve],delete ye[Ve],ye[Oe]=Me)}throw new bt("".concat(f.name,".bulkUpdate(): ").concat(me," of ").concat(ue," operations failed"),ye)})})})},gn.prototype.bulkDelete=function(o){var f=this,x=o.length;return this._trans("readwrite",function(b){return f.core.mutate({trans:b,type:"delete",keys:o}).then(function(B){return Xe(f,o,B)})}).then(function(b){var B=b.numFailures,k=b.failures;if(B===0)return b.lastResult;throw new bt("".concat(f.name,".bulkDelete(): ").concat(B," of ").concat(x," operations failed"),k)})};var jn=gn;function gn(){}function sr(o){function f(G,Y){if(Y){for(var ne=arguments.length,fe=new Array(ne-1);--ne;)fe[ne-1]=arguments[ne];return x[G].subscribe.apply(null,fe),o}if(typeof G=="string")return x[G]}var x={};f.addEventType=k;for(var b=1,B=arguments.length;b<B;++b)k(arguments[b]);return f;function k(G,Y,ne){var fe,ue;if(typeof G!="object")return Y=Y||Pe,ue={subscribers:[],fire:ne=ne||O,subscribe:function(pe){ue.subscribers.indexOf(pe)===-1&&(ue.subscribers.push(pe),ue.fire=Y(ue.fire,pe))},unsubscribe:function(pe){ue.subscribers=ue.subscribers.filter(function(me){return me!==pe}),ue.fire=ue.subscribers.reduce(Y,ne)}},x[G]=f[G]=ue;A(fe=G).forEach(function(pe){var me=fe[pe];if(p(me))k(pe,fe[pe][0],fe[pe][1]);else{if(me!=="asap")throw new W.InvalidArgument("Invalid event config");var ye=k(pe,Z,function(){for(var Ie=arguments.length,Ee=new Array(Ie);Ie--;)Ee[Ie]=arguments[Ie];ye.subscribers.forEach(function(Me){X(function(){Me.apply(null,Ee)})})})}})}}function tn(o,f){return P(f).from({prototype:o}),f}function Yn(o,f){return!(o.filter||o.algorithm||o.or)&&(f?o.justLimit:!o.replayFilter)}function Ue(o,f){o.filter=Ma(o.filter,f)}function ge(o,f,x){var b=o.replayFilter;o.replayFilter=b?function(){return Ma(b(),f())}:f,o.justLimit=x&&!b}function Bt(o,f){if(o.isPrimKey)return f.primaryKey;var x=f.getIndexByKeyPath(o.index);if(x)return x;throw new W.Schema("KeyPath "+o.index+" on object store "+f.name+" is not indexed")}function Kn(o,f,x){var b=Bt(o,f.schema);return f.openCursor({trans:x,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:b,range:o.range}})}function Cr(o,f,x,b){var B,k,G=o.replayFilter?Ma(o.filter,o.replayFilter()):o.filter;return o.or?(B={},k=function(Y,ne,fe){var ue,pe;G&&!G(ne,fe,function(me){return ne.stop(me)},function(me){return ne.fail(me)})||((pe=""+(ue=ne.primaryKey))=="[object ArrayBuffer]"&&(pe=""+new Uint8Array(ue)),R(B,pe))||(B[pe]=!0,f(Y,ne,fe))},Promise.all([o.or._iterate(k,x),ui(Kn(o,b,x),o.algorithm,k,!o.keysOnly&&o.valueMapper)])):ui(Kn(o,b,x),Ma(o.algorithm,G),f,!o.keysOnly&&o.valueMapper)}function ui(o,f,x,b){var B=Tt(b?function(k,G,Y){return x(b(k),G,Y)}:x);return o.then(function(k){if(k)return k.start(function(){var G=function(){return k.continue()};f&&!f(k,function(Y){return G=Y},function(Y){k.stop(Y),G=O},function(Y){k.fail(Y),G=O})||B(k.value,k,function(Y){return G=Y}),G()})})}dn.prototype._read=function(o,f){var x=this._ctx;return x.error?x.table._trans(null,en.bind(null,x.error)):x.table._trans("readonly",o).then(f)},dn.prototype._write=function(o){var f=this._ctx;return f.error?f.table._trans(null,en.bind(null,f.error)):f.table._trans("readwrite",o,"locked")},dn.prototype._addAlgorithm=function(o){var f=this._ctx;f.algorithm=Ma(f.algorithm,o)},dn.prototype._iterate=function(o,f){return Cr(this._ctx,o,f,this._ctx.table.core)},dn.prototype.clone=function(o){var f=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return o&&E(x,o),f._ctx=x,f},dn.prototype.raw=function(){return this._ctx.valueMapper=null,this},dn.prototype.each=function(o){var f=this._ctx;return this._read(function(x){return Cr(f,o,x,f.table.core)})},dn.prototype.count=function(o){var f=this;return this._read(function(x){var b,B=f._ctx,k=B.table.core;return Yn(B,!0)?k.count({trans:x,query:{index:Bt(B,k.schema),range:B.range}}).then(function(G){return Math.min(G,B.limit)}):(b=0,Cr(B,function(){return++b,!1},x,k).then(function(){return b}))}).then(o)},dn.prototype.sortBy=function(o,f){var x=o.split(".").reverse(),b=x[0],B=x.length-1;function k(ne,fe){return fe?k(ne[x[fe]],fe-1):ne[b]}var G=this._ctx.dir==="next"?1:-1;function Y(ne,fe){return ce(k(ne,B),k(fe,B))*G}return this.toArray(function(ne){return ne.sort(Y)}).then(f)},dn.prototype.toArray=function(o){var f=this;return this._read(function(x){var b,B,k,G=f._ctx;return G.dir==="next"&&Yn(G,!0)&&0<G.limit?(b=G.valueMapper,B=Bt(G,G.table.core.schema),G.table.core.query({trans:x,limit:G.limit,values:!0,query:{index:B,range:G.range}}).then(function(Y){return Y=Y.result,b?Y.map(b):Y})):(k=[],Cr(G,function(Y){return k.push(Y)},x,G.table.core).then(function(){return k}))},o)},dn.prototype.offset=function(o){var f=this._ctx;return o<=0||(f.offset+=o,Yn(f)?ge(f,function(){var x=o;return function(b,B){return x===0||(x===1?--x:B(function(){b.advance(x),x=0}),!1)}}):ge(f,function(){var x=o;return function(){return--x<0}})),this},dn.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),ge(this._ctx,function(){var f=o;return function(x,b,B){return--f<=0&&b(B),0<=f}},!0),this},dn.prototype.until=function(o,f){return Ue(this._ctx,function(x,b,B){return!o(x.value)||(b(B),f)}),this},dn.prototype.first=function(o){return this.limit(1).toArray(function(f){return f[0]}).then(o)},dn.prototype.last=function(o){return this.reverse().first(o)},dn.prototype.filter=function(o){var f;return Ue(this._ctx,function(x){return o(x.value)}),(f=this._ctx).isMatch=Ma(f.isMatch,o),this},dn.prototype.and=function(o){return this.filter(o)},dn.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},dn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},dn.prototype.desc=function(){return this.reverse()},dn.prototype.eachKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(x,b){o(b.key,b)})},dn.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},dn.prototype.eachPrimaryKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(x,b){o(b.primaryKey,b)})},dn.prototype.keys=function(o){var f=this._ctx,x=(f.keysOnly=!f.isMatch,[]);return this.each(function(b,B){x.push(B.key)}).then(function(){return x}).then(o)},dn.prototype.primaryKeys=function(o){var f=this._ctx;if(f.dir==="next"&&Yn(f,!0)&&0<f.limit)return this._read(function(b){var B=Bt(f,f.table.core.schema);return f.table.core.query({trans:b,values:!1,limit:f.limit,query:{index:B,range:f.range}})}).then(function(b){return b.result}).then(o);f.keysOnly=!f.isMatch;var x=[];return this.each(function(b,B){x.push(B.primaryKey)}).then(function(){return x}).then(o)},dn.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},dn.prototype.firstKey=function(o){return this.limit(1).keys(function(f){return f[0]}).then(o)},dn.prototype.lastKey=function(o){return this.reverse().firstKey(o)},dn.prototype.distinct=function(){var o,f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];return f&&f.multi&&(o={},Ue(this._ctx,function(b){var b=b.primaryKey.toString(),B=R(o,b);return o[b]=!0,!B})),this},dn.prototype.modify=function(o){var f=this,x=this._ctx;return this._write(function(b){function B(Ee,Me){var Ve=Me.failures;me+=Ee-Me.numFailures;for(var Oe=0,Ge=A(Ve);Oe<Ge.length;Oe++){var at=Ge[Oe];pe.push(Ve[at])}}var k=typeof o=="function"?o:function(Ee){return Wt(Ee,o)},G=x.table.core,ue=G.schema.primaryKey,Y=ue.outbound,ne=ue.extractKey,fe=200,ue=f.db._options.modifyChunkSize,pe=(ue&&(fe=typeof ue=="object"?ue[G.name]||ue["*"]||200:ue),[]),me=0,ye=[],Ie=o===zt;return f.clone().primaryKeys().then(function(Ee){function Me(Oe){var Ge=Math.min(fe,Ee.length-Oe),at=Ee.slice(Oe,Oe+Ge);return(Ie?Promise.resolve([]):G.getMany({trans:b,keys:at,cache:"immutable"})).then(function(mt){var xt=[],ct=[],Nt=Y?[]:null,wt=Ie?at:[];if(!Ie)for(var yt=0;yt<Ge;++yt){var _t=mt[yt],hn={value:se(_t),primKey:Ee[Oe+yt]};k.call(hn,hn.value,hn)!==!1&&(hn.value==null?wt.push(Ee[Oe+yt]):Y||ce(ne(_t),ne(hn.value))===0?(ct.push(hn.value),Y&&Nt.push(Ee[Oe+yt])):(wt.push(Ee[Oe+yt]),xt.push(hn.value)))}return Promise.resolve(0<xt.length&&G.mutate({trans:b,type:"add",values:xt}).then(function(Nn){for(var Jt in Nn.failures)wt.splice(parseInt(Jt),1);B(xt.length,Nn)})).then(function(){return(0<ct.length||Ve&&typeof o=="object")&&G.mutate({trans:b,type:"put",keys:Nt,values:ct,criteria:Ve,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<Oe}).then(function(Nn){return B(ct.length,Nn)})}).then(function(){return(0<wt.length||Ve&&Ie)&&G.mutate({trans:b,type:"delete",keys:wt,criteria:Ve,isAdditionalChunk:0<Oe}).then(function(Nn){return Xe(x.table,wt,Nn)}).then(function(Nn){return B(wt.length,Nn)})}).then(function(){return Ee.length>Oe+Ge&&Me(Oe+fe)})})}var Ve=Yn(x)&&x.limit===1/0&&(typeof o!="function"||Ie)&&{index:x.index,range:x.range};return Me(0).then(function(){if(0<pe.length)throw new Ne("Error modifying one or more objects",pe,me,ye);return Ee.length})})})},dn.prototype.delete=function(){var o=this._ctx,f=o.range;return!Yn(o)||o.table.schema.yProps||!o.isPrimKey&&f.type!==3?this.modify(zt):this._write(function(x){var b=o.table.core.schema.primaryKey,B=f;return o.table.core.count({trans:x,query:{index:b,range:B}}).then(function(k){return o.table.core.mutate({trans:x,type:"deleteRange",range:B}).then(function(ne){var Y=ne.failures,ne=ne.numFailures;if(ne)throw new Ne("Could not delete some values",Object.keys(Y).map(function(fe){return Y[fe]}),k-ne);return k-ne})})})};var lo=dn;function dn(){}var zt=function(o,f){return f.value=null};function er(o,f){return o<f?-1:o===f?0:1}function Mo(o,f){return f<o?-1:o===f?0:1}function ta(o,f,x){return o=o instanceof or?new o.Collection(o):o,o._ctx.error=new(x||TypeError)(f),o}function ma(o){return new o.Collection(o,function(){return ms("")}).limit(0)}function Kr(ye,f,x,b){var B,k,G,Y,ne,fe,ue,pe=x.length;if(!x.every(function(Ee){return typeof Ee=="string"}))return ta(ye,hr);function me(Ee){B=Ee==="next"?function(Ve){return Ve.toUpperCase()}:function(Ve){return Ve.toLowerCase()},k=Ee==="next"?function(Ve){return Ve.toLowerCase()}:function(Ve){return Ve.toUpperCase()},G=Ee==="next"?er:Mo;var Me=x.map(function(Ve){return{lower:k(Ve),upper:B(Ve)}}).sort(function(Ve,Oe){return G(Ve.lower,Oe.lower)});Y=Me.map(function(Ve){return Ve.upper}),ne=Me.map(function(Ve){return Ve.lower}),ue=(fe=Ee)==="next"?"":b}me("next");var ye=new ye.Collection(ye,function(){return oa(Y[0],ne[pe-1]+b)}),Ie=(ye._ondirectionchange=function(Ee){me(Ee)},0);return ye._addAlgorithm(function(Ee,Me,Ve){var Oe=Ee.key;if(typeof Oe=="string"){var Ge=k(Oe);if(f(Ge,ne,Ie))return!0;for(var at=null,mt=Ie;mt<pe;++mt){var xt=((ct,Nt,wt,yt,_t,hn)=>{for(var Nn=Math.min(ct.length,yt.length),Jt=-1,vn=0;vn<Nn;++vn){var lr=Nt[vn];if(lr!==yt[vn])return _t(ct[vn],wt[vn])<0?ct.substr(0,vn)+wt[vn]+wt.substr(vn+1):_t(ct[vn],yt[vn])<0?ct.substr(0,vn)+yt[vn]+wt.substr(vn+1):0<=Jt?ct.substr(0,Jt)+Nt[Jt]+wt.substr(Jt+1):null;_t(ct[vn],lr)<0&&(Jt=vn)}return Nn<yt.length&&hn==="next"?ct+wt.substr(ct.length):Nn<ct.length&&hn==="prev"?ct.substr(0,wt.length):Jt<0?null:ct.substr(0,Jt)+yt[Jt]+wt.substr(Jt+1)})(Oe,Ge,Y[mt],ne[mt],G,fe);xt===null&&at===null?Ie=mt+1:(at===null||0<G(at,xt))&&(at=xt)}Me(at!==null?function(){Ee.continue(at+ue)}:Ve)}return!1}),ye}function oa(o,f,x,b){return{type:2,lower:o,upper:f,lowerOpen:x,upperOpen:b}}function ms(o){return{type:1,lower:o,upper:o}}Object.defineProperty(Wn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Wn.prototype.between=function(o,f,x,b){x=x!==!1,b=b===!0;try{return 0<this._cmp(o,f)||this._cmp(o,f)===0&&(x||b)&&(!x||!b)?ma(this):new this.Collection(this,function(){return oa(o,f,!x,!b)})}catch{return ta(this,dr)}},Wn.prototype.equals=function(o){return o==null?ta(this,dr):new this.Collection(this,function(){return ms(o)})},Wn.prototype.above=function(o){return o==null?ta(this,dr):new this.Collection(this,function(){return oa(o,void 0,!0)})},Wn.prototype.aboveOrEqual=function(o){return o==null?ta(this,dr):new this.Collection(this,function(){return oa(o,void 0,!1)})},Wn.prototype.below=function(o){return o==null?ta(this,dr):new this.Collection(this,function(){return oa(void 0,o,!1,!0)})},Wn.prototype.belowOrEqual=function(o){return o==null?ta(this,dr):new this.Collection(this,function(){return oa(void 0,o)})},Wn.prototype.startsWith=function(o){return typeof o!="string"?ta(this,hr):this.between(o,o+Xr,!0,!0)},Wn.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Kr(this,function(f,x){return f.indexOf(x[0])===0},[o],Xr)},Wn.prototype.equalsIgnoreCase=function(o){return Kr(this,function(f,x){return f===x[0]},[o],"")},Wn.prototype.anyOfIgnoreCase=function(){var o=Le.apply(Ke,arguments);return o.length===0?ma(this):Kr(this,function(f,x){return x.indexOf(f)!==-1},o,"")},Wn.prototype.startsWithAnyOfIgnoreCase=function(){var o=Le.apply(Ke,arguments);return o.length===0?ma(this):Kr(this,function(f,x){return x.some(function(b){return f.indexOf(b)===0})},o,Xr)},Wn.prototype.anyOf=function(){var o,f,x=this,b=Le.apply(Ke,arguments),B=this._cmp;try{b.sort(B)}catch{return ta(this,dr)}return b.length===0?ma(this):((o=new this.Collection(this,function(){return oa(b[0],b[b.length-1])}))._ondirectionchange=function(k){B=k==="next"?x._ascending:x._descending,b.sort(B)},f=0,o._addAlgorithm(function(k,G,Y){for(var ne=k.key;0<B(ne,b[f]);)if(++f===b.length)return G(Y),!1;return B(ne,b[f])===0||(G(function(){k.continue(b[f])}),!1)}),o)},Wn.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Wn.prototype.noneOf=function(){var o=Le.apply(Ke,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return ta(this,dr)}var f=o.reduce(function(x,b){return x?x.concat([[x[x.length-1][1],b]]):[[-1/0,b]]},null);return f.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},Wn.prototype.inAnyRange=function(o,Ve){var x=this,b=this._cmp,B=this._ascending,k=this._descending,G=this._min,Y=this._max;if(o.length===0)return ma(this);if(!o.every(function(Oe){return Oe[0]!==void 0&&Oe[1]!==void 0&&B(Oe[0],Oe[1])<=0}))return ta(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",W.InvalidArgument);var ne=!Ve||Ve.includeLowers!==!1,fe=Ve&&Ve.includeUppers===!0,ue,pe=B;function me(Oe,Ge){return pe(Oe[0],Ge[0])}try{(ue=o.reduce(function(Oe,Ge){for(var at=0,mt=Oe.length;at<mt;++at){var xt=Oe[at];if(b(Ge[0],xt[1])<0&&0<b(Ge[1],xt[0])){xt[0]=G(xt[0],Ge[0]),xt[1]=Y(xt[1],Ge[1]);break}}return at===mt&&Oe.push(Ge),Oe},[])).sort(me)}catch{return ta(this,dr)}var ye=0,Ie=fe?function(Oe){return 0<B(Oe,ue[ye][1])}:function(Oe){return 0<=B(Oe,ue[ye][1])},Ee=ne?function(Oe){return 0<k(Oe,ue[ye][0])}:function(Oe){return 0<=k(Oe,ue[ye][0])},Me=Ie,Ve=new this.Collection(this,function(){return oa(ue[0][0],ue[ue.length-1][1],!ne,!fe)});return Ve._ondirectionchange=function(Oe){pe=Oe==="next"?(Me=Ie,B):(Me=Ee,k),ue.sort(me)},Ve._addAlgorithm(function(Oe,Ge,at){for(var mt,xt=Oe.key;Me(xt);)if(++ye===ue.length)return Ge(at),!1;return!Ie(mt=xt)&&!Ee(mt)||(x._cmp(xt,ue[ye][1])===0||x._cmp(xt,ue[ye][0])===0||Ge(function(){pe===B?Oe.continue(ue[ye][0]):Oe.continue(ue[ye][1])}),!1)}),Ve},Wn.prototype.startsWithAnyOf=function(){var o=Le.apply(Ke,arguments);return o.every(function(f){return typeof f=="string"})?o.length===0?ma(this):this.inAnyRange(o.map(function(f){return[f,f+Xr]})):ta(this,"startsWithAnyOf() only works with strings")};var or=Wn;function Wn(){}function Sr(o){return Tt(function(f){return Yt(f),o(f.target.error),!1})}function Yt(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var bi="storagemutated",ln="x-storagemutated-1",Ln=sr(null,bi),uo=(Ur.prototype._lock=function(){return K(!we.global),++this._reculock,this._reculock!==1||we.global||(we.lockOwnerFor=this),this},Ur.prototype._unlock=function(){if(K(!we.global),--this._reculock==0)for(we.global||(we.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{ea(o[1],o[0])}catch{}}return this},Ur.prototype._locked=function(){return this._reculock&&we.lockOwnerFor!==this},Ur.prototype.create=function(o){var f=this;if(this.mode){var x=this.db.idbdb,b=this.db._state.dbOpenError;if(K(!this.idbtrans),!o&&!x)switch(b&&b.name){case"DatabaseClosedError":throw new W.DatabaseClosed(b);case"MissingAPIError":throw new W.MissingAPI(b.message,b);default:throw new W.OpenFailed(b)}if(!this.active)throw new W.TransactionInactive;K(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Tt(function(B){Yt(B),f._reject(o.error)}),o.onabort=Tt(function(B){Yt(B),f.active&&f._reject(new W.Abort(o.error)),f.active=!1,f.on("abort").fire(B)}),o.oncomplete=Tt(function(){f.active=!1,f._resolve(),"mutatedParts"in o&&Ln.storagemutated.fire(o.mutatedParts)})}return this},Ur.prototype._promise=function(o,f,x){var b,B=this;return o==="readwrite"&&this.mode!=="readwrite"?en(new W.ReadOnly("Transaction is readonly")):this.active?this._locked()?new $e(function(k,G){B._blockedFuncs.push([function(){B._promise(o,f,x).then(k,G)},we])}):x?cn(function(){var k=new $e(function(G,Y){B._lock();var ne=f(G,Y,B);ne&&ne.then&&ne.then(G,Y)});return k.finally(function(){return B._unlock()}),k._lib=!0,k}):((b=new $e(function(k,G){var Y=f(k,G,B);Y&&Y.then&&Y.then(k,G)}))._lib=!0,b):en(new W.TransactionInactive)},Ur.prototype._root=function(){return this.parent?this.parent._root():this},Ur.prototype.waitFor=function(o){var f,x=this._root(),b=$e.resolve(o),B=(x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return b}):(x._waitingFor=b,x._waitingQueue=[],f=x.idbtrans.objectStore(x.storeNames[0]),(function k(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(f.get(-1/0).onsuccess=k)})()),x._waitingFor);return new $e(function(k,G){b.then(function(Y){return x._waitingQueue.push(Tt(k.bind(null,Y)))},function(Y){return x._waitingQueue.push(Tt(G.bind(null,Y)))}).finally(function(){x._waitingFor===B&&(x._waitingFor=null)})})},Ur.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new W.Abort))},Ur.prototype.table=function(o){var f=this._memoizedTables||(this._memoizedTables={});if(R(f,o))return f[o];var x=this.schema[o];if(x)return(x=new this.db.Table(o,x,this)).core=this.db.core.table(o),f[o]=x;throw new W.NotFound("Table "+o+" not part of transaction")},Ur);function Ur(){}function xa(o,f,x,b,B,k,G,Y){return{name:o,keyPath:f,unique:x,multi:b,auto:B,compound:k,src:(x&&!G?"&":"")+(b?"*":"")+(B?"++":"")+wa(f),type:Y}}function wa(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function wi(o,f,x){return{name:o,primKey:f,indexes:x,mappedClass:null,idxByName:(b=function(B){return[B.name,B]},x.reduce(function(B,k,G){return k=b(k,G),k&&(B[k[0]]=k[1]),B},{}))};var b}var Ea=function(o){try{return o.only([[]]),Ea=function(){return[[]]},[[]]}catch{return Ea=function(){return Xr},Xr}};function Ia(o){return o==null?function(){}:typeof o=="string"?(f=o).split(".").length===1?function(x){return x[f]}:function(x){return M(x,f)}:function(x){return M(x,o)};var f}function La(o){return[].slice.call(o)}var co=0;function mr(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function va(o,f,ne){function b(Ie){if(Ie.type===3)return null;if(Ie.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var pe=Ie.lower,me=Ie.upper,ye=Ie.lowerOpen,Ie=Ie.upperOpen;return pe===void 0?me===void 0?null:f.upperBound(me,!!Ie):me===void 0?f.lowerBound(pe,!!ye):f.bound(pe,me,!!ye,!!Ie)}function B(ue){var pe,me=ue.name;return{name:me,schema:ue,mutate:function(ye){var Ie=ye.trans,Ee=ye.type,Me=ye.keys,Ve=ye.values,Oe=ye.range;return new Promise(function(Ge,at){Ge=Tt(Ge);var mt=Ie.objectStore(me),xt=mt.keyPath==null,ct=Ee==="put"||Ee==="add";if(!ct&&Ee!=="delete"&&Ee!=="deleteRange")throw new Error("Invalid operation type: "+Ee);var Nt,wt=(Me||Ve||{length:1}).length;if(Me&&Ve&&Me.length!==Ve.length)throw new Error("Given keys array must have same length as given values array.");if(wt===0)return Ge({numFailures:0,failures:{},results:[],lastResult:void 0});function yt($n){++Nn,Yt($n)}var _t=[],hn=[],Nn=0;if(Ee==="deleteRange"){if(Oe.type===4)return Ge({numFailures:Nn,failures:hn,results:[],lastResult:void 0});Oe.type===3?_t.push(Nt=mt.clear()):_t.push(Nt=mt.delete(b(Oe)))}else{var xt=ct?xt?[Ve,Me]:[Ve,null]:[Me,null],Jt=xt[0],vn=xt[1];if(ct)for(var lr=0;lr<wt;++lr)_t.push(Nt=vn&&vn[lr]!==void 0?mt[Ee](Jt[lr],vn[lr]):mt[Ee](Jt[lr])),Nt.onerror=yt;else for(lr=0;lr<wt;++lr)_t.push(Nt=mt[Ee](Jt[lr])),Nt.onerror=yt}function ca($n){$n=$n.target.result,_t.forEach(function(Bi,Ts){return Bi.error!=null&&(hn[Ts]=Bi.error)}),Ge({numFailures:Nn,failures:hn,results:Ee==="delete"?Me:_t.map(function(Bi){return Bi.result}),lastResult:$n})}Nt.onerror=function($n){yt($n),ca($n)},Nt.onsuccess=ca})},getMany:function(ye){var Ie=ye.trans,Ee=ye.keys;return new Promise(function(Me,Ve){Me=Tt(Me);for(var Oe,Ge=Ie.objectStore(me),at=Ee.length,mt=new Array(at),xt=0,ct=0,Nt=function(_t){_t=_t.target,mt[_t._pos]=_t.result,++ct===xt&&Me(mt)},wt=Sr(Ve),yt=0;yt<at;++yt)Ee[yt]!=null&&((Oe=Ge.get(Ee[yt]))._pos=yt,Oe.onsuccess=Nt,Oe.onerror=wt,++xt);xt===0&&Me(mt)})},get:function(ye){var Ie=ye.trans,Ee=ye.key;return new Promise(function(Me,Ve){Me=Tt(Me);var Oe=Ie.objectStore(me).get(Ee);Oe.onsuccess=function(Ge){return Me(Ge.target.result)},Oe.onerror=Sr(Ve)})},query:(pe=Y,function(ye){return new Promise(function(Ie,Ee){Ie=Tt(Ie);var Me,Ve,Oe,ct=ye.trans,Ge=ye.values,at=ye.limit,xt=ye.query,mt=at===1/0?void 0:at,Nt=xt.index,xt=xt.range,ct=ct.objectStore(me),ct=Nt.isPrimaryKey?ct:ct.index(Nt.name),Nt=b(xt);if(at===0)return Ie({result:[]});pe?((xt=Ge?ct.getAll(Nt,mt):ct.getAllKeys(Nt,mt)).onsuccess=function(wt){return Ie({result:wt.target.result})},xt.onerror=Sr(Ee)):(Me=0,Ve=!Ge&&"openKeyCursor"in ct?ct.openKeyCursor(Nt):ct.openCursor(Nt),Oe=[],Ve.onsuccess=function(wt){var yt=Ve.result;return!yt||(Oe.push(Ge?yt.value:yt.primaryKey),++Me===at)?Ie({result:Oe}):void yt.continue()},Ve.onerror=Sr(Ee))})}),openCursor:function(ye){var Ie=ye.trans,Ee=ye.values,Me=ye.query,Ve=ye.reverse,Oe=ye.unique;return new Promise(function(Ge,at){Ge=Tt(Ge);var ct=Me.index,mt=Me.range,xt=Ie.objectStore(me),xt=ct.isPrimaryKey?xt:xt.index(ct.name),ct=Ve?Oe?"prevunique":"prev":Oe?"nextunique":"next",Nt=!Ee&&"openKeyCursor"in xt?xt.openKeyCursor(b(mt),ct):xt.openCursor(b(mt),ct);Nt.onerror=Sr(at),Nt.onsuccess=Tt(function(wt){var yt,_t,hn,Nn,Jt=Nt.result;Jt?(Jt.___id=++co,Jt.done=!1,yt=Jt.continue.bind(Jt),_t=(_t=Jt.continuePrimaryKey)&&_t.bind(Jt),hn=Jt.advance.bind(Jt),Nn=function(){throw new Error("Cursor not stopped")},Jt.trans=Ie,Jt.stop=Jt.continue=Jt.continuePrimaryKey=Jt.advance=function(){throw new Error("Cursor not started")},Jt.fail=Tt(at),Jt.next=function(){var vn=this,lr=1;return this.start(function(){return lr--?vn.continue():vn.stop()}).then(function(){return vn})},Jt.start=function(vn){function lr(){if(Nt.result)try{vn()}catch($n){Jt.fail($n)}else Jt.done=!0,Jt.start=function(){throw new Error("Cursor behind last entry")},Jt.stop()}var ca=new Promise(function($n,Bi){$n=Tt($n),Nt.onerror=Sr(Bi),Jt.fail=Bi,Jt.stop=function(Ts){Jt.stop=Jt.continue=Jt.continuePrimaryKey=Jt.advance=Nn,$n(Ts)}});return Nt.onsuccess=Tt(function($n){Nt.onsuccess=lr,lr()}),Jt.continue=yt,Jt.continuePrimaryKey=_t,Jt.advance=hn,lr(),ca},Ge(Jt)):Ge(null)},at)})},count:function(ye){var Ie=ye.query,Ee=ye.trans,Me=Ie.index,Ve=Ie.range;return new Promise(function(Oe,Ge){var at=Ee.objectStore(me),at=Me.isPrimaryKey?at:at.index(Me.name),mt=b(Ve),mt=mt?at.count(mt):at.count();mt.onsuccess=Tt(function(xt){return Oe(xt.target.result)}),mt.onerror=Sr(Ge)})}}}k=ne,G=La((ne=o).objectStoreNames);var k,ne={schema:{name:ne.name,tables:G.map(function(ue){return k.objectStore(ue)}).map(function(ue){var pe=ue.keyPath,me=ue.autoIncrement,Ie=p(pe),ye={},Ie={name:ue.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:pe==null,compound:Ie,keyPath:pe,autoIncrement:me,unique:!0,extractKey:Ia(pe)},indexes:La(ue.indexNames).map(function(Ee){return ue.index(Ee)}).map(function(Oe){var Ge=Oe.name,Me=Oe.unique,Ve=Oe.multiEntry,Oe=Oe.keyPath,Ge={name:Ge,compound:p(Oe),keyPath:Oe,unique:Me,multiEntry:Ve,extractKey:Ia(Oe)};return ye[mr(Oe)]=Ge}),getIndexByKeyPath:function(Ee){return ye[mr(Ee)]}};return ye[":id"]=Ie.primaryKey,pe!=null&&(ye[mr(pe)]=Ie.primaryKey),Ie})},hasGetAll:0<G.length&&"getAll"in k.objectStore(G[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},G=ne.schema,Y=ne.hasGetAll,ne=G.tables.map(B),fe={};return ne.forEach(function(ue){return fe[ue.name]=ue}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(ue){if(fe[ue])return fe[ue];throw new Error("Table '".concat(ue,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Ea(f),schema:G}}function Rr(o,f,x,b){return x=x.IDBKeyRange,f=va(f,x,b),{dbcore:o.dbcore.reduce(function(B,k){return k=k.create,d(d({},B),k(B))},f)}}function Ua(o,f){var x=f.db,x=Rr(o._middlewares,x,o._deps,f);o.core=x.dbcore,o.tables.forEach(function(b){var B=b.name;o.core.schema.tables.some(function(k){return k.name===B})&&(b.core=o.core.table(B),o[B]instanceof o.Table)&&(o[B].core=b.core)})}function Vi(o,f,x,b){x.forEach(function(B){var k=b[B];f.forEach(function(G){var Y=(function ne(fe,ue){return H(fe,ue)||(fe=C(fe))&&ne(fe,ue)})(G,B);(!Y||"value"in Y&&Y.value===void 0)&&(G===o.Transaction.prototype||G instanceof o.Transaction?V(G,B,{get:function(){return this.table(B)},set:function(ne){_(this,B,{value:ne,writable:!0,configurable:!0,enumerable:!0})}}):G[B]=new o.Table(B,k))})})}function Ei(o,f){f.forEach(function(x){for(var b in x)x[b]instanceof o.Table&&delete x[b]})}function fo(o,f){return o._cfg.version-f._cfg.version}function Qi(o,f,x,b){var B=o._dbSchema,k=(x.objectStoreNames.contains("$meta")&&!B.$meta&&(B.$meta=wi("$meta",xn("")[0],[]),o._storeNames.push("$meta")),o._createTransaction("readwrite",o._storeNames,B)),G=(k.create(x),k._completion.catch(b),k._reject.bind(k)),Y=we.transless||we;cn(function(){if(we.trans=k,we.transless=Y,f!==0)return Ua(o,x),fe=f,((ne=k).storeNames.includes("$meta")?ne.table("$meta").get("version").then(function(ue){return ue??fe}):$e.resolve(fe)).then(function(Me){var pe=o,me=Me,ye=k,Ie=x,Ee=[],Me=pe._versions,Ve=pe._dbSchema=Ii(0,pe.idbdb,Ie);return(Me=Me.filter(function(Oe){return Oe._cfg.version>=me})).length===0?$e.resolve():(Me.forEach(function(Oe){Ee.push(function(){var Ge,at,mt,xt=Ve,ct=Oe._cfg.dbschema,Nt=(ze(pe,xt,Ie),ze(pe,ct,Ie),Ve=pe._dbSchema=ct,Pn(xt,ct)),wt=(Nt.add.forEach(function(yt){vs(Ie,yt[0],yt[1].primKey,yt[1].indexes)}),Nt.change.forEach(function(yt){if(yt.recreate)throw new W.Upgrade("Not yet support for changing primary key");var _t=Ie.objectStore(yt.name);yt.add.forEach(function(hn){return Aa(_t,hn)}),yt.change.forEach(function(hn){_t.deleteIndex(hn.name),Aa(_t,hn)}),yt.del.forEach(function(hn){return _t.deleteIndex(hn)})}),Oe._cfg.contentUpgrade);if(wt&&Oe._cfg.version>me)return Ua(pe,Ie),ye._memoizedTables={},Ge=w(ct),Nt.del.forEach(function(yt){Ge[yt]=xt[yt]}),Ei(pe,[pe.Transaction.prototype]),Vi(pe,[pe.Transaction.prototype],A(Ge),Ge),ye.schema=Ge,(at=Ce(wt))&&$t(),ct=$e.follow(function(){var yt;(mt=wt(ye))&&at&&(yt=Ar.bind(null,null),mt.then(yt,yt))}),mt&&typeof mt.then=="function"?$e.resolve(mt):ct.then(function(){return mt})}),Ee.push(function(Ge){var at,mt,xt=Oe._cfg.dbschema;at=xt,mt=Ge,[].slice.call(mt.db.objectStoreNames).forEach(function(ct){return at[ct]==null&&mt.db.deleteObjectStore(ct)}),Ei(pe,[pe.Transaction.prototype]),Vi(pe,[pe.Transaction.prototype],pe._storeNames,pe._dbSchema),ye.schema=pe._dbSchema}),Ee.push(function(Ge){pe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(pe.idbdb.version/10)===Oe._cfg.version?(pe.idbdb.deleteObjectStore("$meta"),delete pe._dbSchema.$meta,pe._storeNames=pe._storeNames.filter(function(at){return at!=="$meta"})):Ge.objectStore("$meta").put(Oe._cfg.version,"version"))})}),(function Oe(){return Ee.length?$e.resolve(Ee.shift()(ye.idbtrans)).then(Oe):$e.resolve()})().then(function(){Hi(Ve,Ie)}))}).catch(G);var ne,fe;A(B).forEach(function(ue){vs(x,ue,B[ue].primKey,B[ue].indexes)}),Ua(o,x),$e.follow(function(){return o.on.populate.fire(k)}).catch(G)})}function xs(o,f){Hi(o._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var x=Ii(0,o.idbdb,f);ze(o,o._dbSchema,f);for(var b=0,B=Pn(x,o._dbSchema).change;b<B.length;b++){var k=(G=>{if(G.change.length||G.recreate)return console.warn("Unable to patch indexes of table ".concat(G.name," because it has changes on the type of index or primary key.")),{value:void 0};var Y=f.objectStore(G.name);G.add.forEach(function(ne){Ye&&console.debug("Dexie upgrade patch: Creating missing index ".concat(G.name,".").concat(ne.src)),Aa(Y,ne)})})(B[b]);if(typeof k=="object")return k.value}}function Pn(o,f){var x,b={del:[],add:[],change:[]};for(x in o)f[x]||b.del.push(x);for(x in f){var B=o[x],k=f[x];if(B){var G={name:x,def:k,recreate:!1,del:[],add:[],change:[]};if(""+(B.primKey.keyPath||"")!=""+(k.primKey.keyPath||"")||B.primKey.auto!==k.primKey.auto)G.recreate=!0,b.change.push(G);else{var Y=B.idxByName,ne=k.idxByName,fe=void 0;for(fe in Y)ne[fe]||G.del.push(fe);for(fe in ne){var ue=Y[fe],pe=ne[fe];ue?ue.src!==pe.src&&G.change.push(pe):G.add.push(pe)}(0<G.del.length||0<G.add.length||0<G.change.length)&&b.change.push(G)}}else b.add.push([x,k])}return b}function vs(o,f,x,b){var B=o.db.createObjectStore(f,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});b.forEach(function(k){return Aa(B,k)})}function Hi(o,f){A(o).forEach(function(x){f.db.objectStoreNames.contains(x)||(Ye&&console.debug("Dexie: Creating missing table",x),vs(f,x,o[x].primKey,o[x].indexes))})}function Aa(o,f){o.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function Ii(o,f,x){var b={};return F(f.objectStoreNames,0).forEach(function(B){for(var k=x.objectStore(B),G=xa(wa(fe=k.keyPath),fe||"",!0,!1,!!k.autoIncrement,fe&&typeof fe!="string",!0),Y=[],ne=0;ne<k.indexNames.length;++ne){var ue=k.index(k.indexNames[ne]),fe=ue.keyPath,ue=xa(ue.name,fe,!!ue.unique,!!ue.multiEntry,!1,fe&&typeof fe!="string",!1);Y.push(ue)}b[B]=wi(B,G,Y)}),b}function ze(o,f,x){for(var b=x.db.objectStoreNames,B=0;B<b.length;++B){var k=b[B],G=x.objectStore(k);o._hasGetAll="getAll"in G;for(var Y=0;Y<G.indexNames.length;++Y){var ne,fe=G.indexNames[Y],ue=G.index(fe).keyPath,ue=typeof ue=="string"?ue:"["+F(ue).join("+")+"]";f[k]&&(ne=f[k].idxByName[ue])&&(ne.name=fe,delete f[k].idxByName[ue],f[k].idxByName[fe]=ne)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&m.WorkerGlobalScope&&m instanceof m.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function xn(o){return o.split(",").map(function(f,x){var B=f.split(":"),b=(b=B[1])==null?void 0:b.trim(),B=(f=B[0].trim()).replace(/([&*]|\+\+)/g,""),k=/^\[/.test(B)?B.match(/^\[(.*)\]$/)[1].split("+"):B;return xa(B,k||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),p(k),x===0,b)})}Fa.prototype._createTableSchema=wi,Fa.prototype._parseIndexSyntax=xn,Fa.prototype._parseStoresSpec=function(o,f){var x=this;A(o).forEach(function(b){if(o[b]!==null){var B=x._parseIndexSyntax(o[b]),k=B.shift();if(!k)throw new W.Schema("Invalid schema for table "+b+": "+o[b]);if(k.unique=!0,k.multi)throw new W.Schema("Primary key cannot be multiEntry*");B.forEach(function(G){if(G.auto)throw new W.Schema("Only primary key can be marked as autoIncrement (++)");if(!G.keyPath)throw new W.Schema("Index must have a name and cannot be an empty string")}),k=x._createTableSchema(b,k,B),f[b]=k}})},Fa.prototype.stores=function(x){var f=this.db,x=(this._cfg.storesSource=this._cfg.storesSource?E(this._cfg.storesSource,x):x,f._versions),b={},B={};return x.forEach(function(k){E(b,k._cfg.storesSource),B=k._cfg.dbschema={},k._parseStoresSpec(b,B)}),f._dbSchema=B,Ei(f,[f._allTables,f,f.Transaction.prototype]),Vi(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],A(B),B),f._storeNames=A(B),this},Fa.prototype.upgrade=function(o){return this._cfg.contentUpgrade=pt(this._cfg.contentUpgrade||O,o),this};var Or=Fa;function Fa(){}function As(o,f){var x=o._dbNamesDB;return x||(x=o._dbNamesDB=new Sa(Dr,{addons:[],indexedDB:o,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function Cs(o){return o&&typeof o.databases=="function"}function ho(o){return cn(function(){return we.letThrough=!0,o()})}function go(o){return!("from"in o)}var Tr=function(o,f){var x;if(!this)return x=new Tr,o&&"d"in o&&E(x,o),x;E(this,arguments.length?{d:1,from:o,to:1<arguments.length?f:o}:{d:0})};function gr(o,f,x){var b=ce(f,x);if(!isNaN(b)){if(0<b)throw RangeError();if(go(o))return E(o,{from:f,to:x,d:1});var b=o.l,B=o.r;if(ce(x,o.from)<0)return b?gr(b,f,x):o.l={from:f,to:x,d:1,l:null,r:null},Ja(o);if(0<ce(f,o.to))return B?gr(B,f,x):o.r={from:f,to:x,d:1,l:null,r:null},Ja(o);ce(f,o.from)<0&&(o.from=f,o.l=null,o.d=B?B.d+1:1),0<ce(x,o.to)&&(o.to=x,o.r=null,o.d=o.l?o.l.d+1:1),f=!o.r,b&&!o.l&&Pa(o,b),B&&f&&Pa(o,B)}}function Pa(o,f){go(f)||(function x(b,B){var k=B.from,G=B.l,Y=B.r;gr(b,k,B.to),G&&x(b,G),Y&&x(b,Y)})(o,f)}function pr(o,f){var x=ci(f),b=x.next();if(!b.done)for(var B=b.value,k=ci(o),G=k.next(B.from),Y=G.value;!b.done&&!G.done;){if(ce(Y.from,B.to)<=0&&0<=ce(Y.to,B.from))return!0;ce(B.from,Y.from)<0?B=(b=x.next(Y.from)).value:Y=(G=k.next(B.from)).value}return!1}function ci(o){var f=go(o)?null:{s:0,n:o};return{next:function(x){for(var b=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,b)for(;f.n.l&&ce(x,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!b||ce(x,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function Ja(o){var f,x,b,B=(((B=o.r)==null?void 0:B.d)||0)-(((B=o.l)==null?void 0:B.d)||0),B=1<B?"r":B<-1?"l":"";B&&(f=B=="r"?"l":"r",x=d({},o),b=o[B],o.from=b.from,o.to=b.to,o[B]=b[B],x[B]=b[f],(o[f]=x).d=zn(x)),o.d=zn(o)}function zn(x){var f=x.r,x=x.l;return(f?x?Math.max(f.d,x.d):f.d:x?x.d:0)+1}function Xt(o,f){return A(f).forEach(function(x){o[x]?Pa(o[x],f[x]):o[x]=(function b(B){var k,G,Y={};for(k in B)R(B,k)&&(G=B[k],Y[k]=!G||typeof G!="object"||de.has(G.constructor)?G:b(G));return Y})(f[x])}),o}function po(o,f){return o.all||f.all||Object.keys(o).some(function(x){return f[x]&&pr(f[x],o[x])})}L(Tr.prototype,((jt={add:function(o){return Pa(this,o),this},addKey:function(o){return gr(this,o,o),this},addKeys:function(o){var f=this;return o.forEach(function(x){return gr(f,x,x)}),this},hasKey:function(o){var f=ci(this).next(o).value;return f&&ce(f.from,o)<=0&&0<=ce(f.to,o)}})[he]=function(){return ci(this)},jt));var Vn={},Va={},$a=!1;function bs(o){Xt(Va,o),$a||($a=!0,setTimeout(function(){$a=!1,la(Va,!(Va={}))},0))}function la(o,f){f===void 0&&(f=!1);var x=new Set;if(o.all)for(var b=0,B=Object.values(Vn);b<B.length;b++)ws(Y=B[b],o,x,f);else for(var k in o){var G,Y,k=/^idb\:\/\/(.*)\/(.*)\//.exec(k);k&&(G=k[1],k=k[2],Y=Vn["idb://".concat(G,"/").concat(k)])&&ws(Y,o,x,f)}x.forEach(function(ne){return ne()})}function ws(o,f,x,b){for(var B=[],k=0,G=Object.entries(o.queries.query);k<G.length;k++){for(var Y=G[k],ne=Y[0],fe=[],ue=0,pe=Y[1];ue<pe.length;ue++){var me=pe[ue];po(f,me.obsSet)?me.subscribers.forEach(function(Me){return x.add(Me)}):b&&fe.push(me)}b&&B.push([ne,fe])}if(b)for(var ye=0,Ie=B;ye<Ie.length;ye++){var Ee=Ie[ye],ne=Ee[0],fe=Ee[1];o.queries.query[ne]=fe}}function Lo(o){var f=o._state,x=o._deps.indexedDB;if(f.isBeingOpened||o.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?en(f.dbOpenError):o});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var b=f.openCanceller,B=Math.round(10*o.verno),k=!1;function G(){if(f.openCanceller!==b)throw new W.DatabaseClosed("db.open() was cancelled")}function Y(){return new $e(function(me,ye){if(G(),!x)throw new W.MissingAPI;var Ie=o.name,Ee=f.autoSchema||!B?x.open(Ie):x.open(Ie,B);if(!Ee)throw new W.MissingAPI;Ee.onerror=Sr(ye),Ee.onblocked=Tt(o._fireOnBlocked),Ee.onupgradeneeded=Tt(function(Me){var Ve;ue=Ee.transaction,f.autoSchema&&!o._options.allowEmptyDB?(Ee.onerror=Yt,ue.abort(),Ee.result.close(),(Ve=x.deleteDatabase(Ie)).onsuccess=Ve.onerror=Tt(function(){ye(new W.NoSuchDatabase("Database ".concat(Ie," doesnt exist")))})):(ue.onerror=Sr(ye),Ve=Me.oldVersion>Math.pow(2,62)?0:Me.oldVersion,pe=Ve<1,o.idbdb=Ee.result,k&&xs(o,ue),Qi(o,Ve/10,ue,ye))},ye),Ee.onsuccess=Tt(function(){ue=null;var Me,Ve,Oe,Ge,at,mt,xt=o.idbdb=Ee.result,ct=F(xt.objectStoreNames);if(0<ct.length)try{var Nt=xt.transaction((at=ct).length===1?at[0]:at,"readonly");if(f.autoSchema)mt=xt,Ge=Nt,(Oe=o).verno=mt.version/10,Ge=Oe._dbSchema=Ii(0,mt,Ge),Oe._storeNames=F(mt.objectStoreNames,0),Vi(Oe,[Oe._allTables],A(Ge),Ge);else if(ze(o,o._dbSchema,Nt),Ve=Nt,((Ve=Pn(Ii(0,(Me=o).idbdb,Ve),Me._dbSchema)).add.length||Ve.change.some(function(wt){return wt.add.length||wt.change.length}))&&!k)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),xt.close(),B=xt.version+1,k=!0,me(Y());Ua(o,Nt)}catch{}ot.push(o),xt.onversionchange=Tt(function(wt){f.vcFired=!0,o.on("versionchange").fire(wt)}),xt.onclose=Tt(function(){o.close({disableAutoOpen:!1})}),pe&&(ct=o._deps,at=Ie,Cs(mt=ct.indexedDB)||at===Dr||As(mt,ct.IDBKeyRange).put({name:at}).catch(O)),me()},ye)}).catch(function(me){switch(me==null?void 0:me.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Y();break;case"VersionError":if(0<B)return B=0,Y()}return $e.reject(me)})}var ne,fe=f.dbReadyResolve,ue=null,pe=!1;return $e.race([b,(typeof navigator>"u"?$e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(me){function ye(){return indexedDB.databases().finally(me)}ne=setInterval(ye,100),ye()}).finally(function(){return clearInterval(ne)}):Promise.resolve()).then(Y)]).then(function(){return G(),f.onReadyBeingFired=[],$e.resolve(ho(function(){return o.on.ready.fire(o.vip)})).then(function me(){var ye;if(0<f.onReadyBeingFired.length)return ye=f.onReadyBeingFired.reduce(pt,O),f.onReadyBeingFired=[],$e.resolve(ho(function(){return ye(o.vip)})).then(me)})}).finally(function(){f.openCanceller===b&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(me){f.dbOpenError=me;try{ue&&ue.abort()}catch{}return b===f.openCanceller&&o._close(),en(me)}).finally(function(){f.openComplete=!0,fe()}).then(function(){var me;return pe&&(me={},o.tables.forEach(function(ye){ye.schema.indexes.forEach(function(Ie){Ie.name&&(me["idb://".concat(o.name,"/").concat(ye.name,"/").concat(Ie.name)]=new Tr(-1/0,[[[]]]))}),me["idb://".concat(o.name,"/").concat(ye.name,"/")]=me["idb://".concat(o.name,"/").concat(ye.name,"/:dels")]=new Tr(-1/0,[[[]]])}),Ln(bi).fire(me),la(me,!0)),o})}function fi(o){function f(k){return o.next(k)}var x=B(f),b=B(function(k){return o.throw(k)});function B(k){return function(Y){var Y=k(Y),ne=Y.value;return Y.done?ne:ne&&typeof ne.then=="function"?ne.then(x,b):p(ne)?Promise.all(ne).then(x,b):x(ne)}}return B(f)()}function Qa(o,f,x){for(var b=p(o)?o.slice():[o],B=0;B<x;++B)b.push(f);return b}var Uo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return d(d({},o),{table:function(b){var x=o.table(b),b=x.schema,B={},k=[];function G(me,ye,Ie){var Oe=mr(me),Ee=B[Oe]=B[Oe]||[],Me=me==null?0:typeof me=="string"?1:me.length,Ve=0<ye,Oe=d(d({},Ie),{name:Ve?"".concat(Oe,"(virtual-from:").concat(Ie.name,")"):Ie.name,lowLevelIndex:Ie,isVirtual:Ve,keyTail:ye,keyLength:Me,extractKey:Ia(me),unique:!Ve&&Ie.unique});return Ee.push(Oe),Oe.isPrimaryKey||k.push(Oe),1<Me&&G(Me===2?me[0]:me.slice(0,Me-1),ye+1,Ie),Ee.sort(function(Ge,at){return Ge.keyTail-at.keyTail}),Oe}var Y=G(b.primaryKey.keyPath,0,b.primaryKey);B[":id"]=[Y];for(var ne=0,fe=b.indexes;ne<fe.length;ne++){var ue=fe[ne];G(ue.keyPath,0,ue)}function pe(me){var ye,Ie=me.query.index;return Ie.isVirtual?d(d({},me),{query:{index:Ie.lowLevelIndex,range:(ye=me.query.range,Ie=Ie.keyTail,{type:ye.type===1?2:ye.type,lower:Qa(ye.lower,ye.lowerOpen?o.MAX_KEY:o.MIN_KEY,Ie),lowerOpen:!0,upper:Qa(ye.upper,ye.upperOpen?o.MIN_KEY:o.MAX_KEY,Ie),upperOpen:!0})}}):me}return d(d({},x),{schema:d(d({},b),{primaryKey:Y,indexes:k,getIndexByKeyPath:function(me){return(me=B[mr(me)])&&me[0]}}),count:function(me){return x.count(pe(me))},query:function(me){return x.query(pe(me))},openCursor:function(me){var ye=me.query.index,Ie=ye.keyTail,Ee=ye.keyLength;return ye.isVirtual?x.openCursor(pe(me)).then(function(Ve){return Ve&&Me(Ve)}):x.openCursor(me);function Me(Ve){return Object.create(Ve,{continue:{value:function(Oe){Oe!=null?Ve.continue(Qa(Oe,me.reverse?o.MAX_KEY:o.MIN_KEY,Ie)):me.unique?Ve.continue(Ve.key.slice(0,Ee).concat(me.reverse?o.MIN_KEY:o.MAX_KEY,Ie)):Ve.continue()}},continuePrimaryKey:{value:function(Oe,Ge){Ve.continuePrimaryKey(Qa(Oe,o.MAX_KEY,Ie),Ge)}},primaryKey:{get:function(){return Ve.primaryKey}},key:{get:function(){var Oe=Ve.key;return Ee===1?Oe[0]:Oe.slice(0,Ee)}},value:{get:function(){return Ve.value}}})}}})}})}};function Es(o,f,x,b){return x=x||{},b=b||"",A(o).forEach(function(B){var k,G,Y;R(f,B)?(k=o[B],G=f[B],typeof k=="object"&&typeof G=="object"&&k&&G?(Y=oe(k))!==oe(G)?x[b+B]=f[B]:Y==="Object"?Es(k,G,x,b+B+"."):k!==G&&(x[b+B]=f[B]):k!==G&&(x[b+B]=f[B])):x[b+B]=void 0}),A(f).forEach(function(B){R(o,B)||(x[b+B]=f[B])}),x}function Ha(o,f){return f.type==="delete"?f.keys:f.keys||f.values.map(o.extractKey)}var Is={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return d(d({},o),{table:function(f){var x=o.table(f),b=x.schema.primaryKey;return d(d({},x),{mutate:function(B){var k=we.trans,G=k.table(f).hook,Y=G.deleting,ne=G.creating,fe=G.updating;switch(B.type){case"add":if(ne.fire===O)break;return k._promise("readwrite",function(){return ue(B)},!0);case"put":if(ne.fire===O&&fe.fire===O)break;return k._promise("readwrite",function(){return ue(B)},!0);case"delete":if(Y.fire===O)break;return k._promise("readwrite",function(){return ue(B)},!0);case"deleteRange":if(Y.fire===O)break;return k._promise("readwrite",function(){return(function pe(me,ye,Ie){return x.query({trans:me,values:!1,query:{index:b,range:ye},limit:Ie}).then(function(Ee){var Me=Ee.result;return ue({type:"delete",keys:Me,trans:me}).then(function(Ve){return 0<Ve.numFailures?Promise.reject(Ve.failures[0]):Me.length<Ie?{failures:[],numFailures:0,lastResult:void 0}:pe(me,d(d({},ye),{lower:Me[Me.length-1],lowerOpen:!0}),Ie)})})})(B.trans,B.range,1e4)},!0)}return x.mutate(B);function ue(pe){var me,ye,Ie,Ee=we.trans,Me=pe.keys||Ha(b,pe);if(Me)return(pe=pe.type==="add"||pe.type==="put"?d(d({},pe),{keys:Me}):d({},pe)).type!=="delete"&&(pe.values=v([],pe.values)),pe.keys&&(pe.keys=v([],pe.keys)),me=x,Ie=Me,((ye=pe).type==="add"?Promise.resolve([]):me.getMany({trans:ye.trans,keys:Ie,cache:"immutable"})).then(function(Ve){var Oe=Me.map(function(Ge,at){var mt,xt,ct,Nt=Ve[at],wt={onerror:null,onsuccess:null};return pe.type==="delete"?Y.fire.call(wt,Ge,Nt,Ee):pe.type==="add"||Nt===void 0?(mt=ne.fire.call(wt,Ge,pe.values[at],Ee),Ge==null&&mt!=null&&(pe.keys[at]=Ge=mt,b.outbound||I(pe.values[at],b.keyPath,Ge))):(mt=Es(Nt,pe.values[at]),(xt=fe.fire.call(wt,mt,Ge,Nt,Ee))&&(ct=pe.values[at],Object.keys(xt).forEach(function(yt){R(ct,yt)?ct[yt]=xt[yt]:I(ct,yt,xt[yt])}))),wt});return x.mutate(pe).then(function(Ge){for(var at=Ge.failures,mt=Ge.results,xt=Ge.numFailures,Ge=Ge.lastResult,ct=0;ct<Me.length;++ct){var Nt=(mt||Me)[ct],wt=Oe[ct];Nt==null?wt.onerror&&wt.onerror(at[ct]):wt.onsuccess&&wt.onsuccess(pe.type==="put"&&Ve[ct]?pe.values[ct]:Nt)}return{failures:at,results:mt,numFailures:xt,lastResult:Ge}}).catch(function(Ge){return Oe.forEach(function(at){return at.onerror&&at.onerror(Ge)}),Promise.reject(Ge)})});throw new Error("Keys missing")}}})}})}};function yo(o,f,x){try{if(!f||f.keys.length<o.length)return null;for(var b=[],B=0,k=0;B<f.keys.length&&k<o.length;++B)ce(f.keys[B],o[k])===0&&(b.push(x?se(f.values[B]):f.values[B]),++k);return b.length===o.length?b:null}catch{return null}}var Si={stack:"dbcore",level:-1,create:function(o){return{table:function(f){var x=o.table(f);return d(d({},x),{getMany:function(b){var B;return b.cache?(B=yo(b.keys,b.trans._cache,b.cache==="clone"))?$e.resolve(B):x.getMany(b).then(function(k){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?se(k):k},k}):x.getMany(b)},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),x.mutate(b)}})}}}};function di(o,f){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function Ga(o,f){switch(o){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ss={stack:"dbcore",level:0,name:"Observability",create:function(o){var f=o.schema.name,x=new Tr(o.MIN_KEY,o.MAX_KEY);return d(d({},o),{transaction:function(b,B,k){if(we.subscr&&B!=="readonly")throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(we.querier));return o.transaction(b,B,k)},table:function(b){function B(Me){var Ee,Me=Me.query;return[Ee=Me.index,new Tr((Ee=(Me=Me.range).lower)!=null?Ee:o.MIN_KEY,(Ee=Me.upper)!=null?Ee:o.MAX_KEY)]}var k=o.table(b),G=k.schema,Y=G.primaryKey,ne=G.indexes,fe=Y.extractKey,ue=Y.outbound,pe=Y.autoIncrement&&ne.filter(function(Ie){return Ie.compound&&Ie.keyPath.includes(Y.keyPath)}),me=d(d({},k),{mutate:function(Ie){function Ee(_t){return _t="idb://".concat(f,"/").concat(b,"/").concat(_t),at[_t]||(at[_t]=new Tr)}var Me,Ve,Oe,Ge=Ie.trans,at=Ie.mutatedParts||(Ie.mutatedParts={}),mt=Ee(""),xt=Ee(":dels"),ct=Ie.type,wt=Ie.type==="deleteRange"?[Ie.range]:Ie.type==="delete"?[Ie.keys]:Ie.values.length<50?[Ha(Y,Ie).filter(function(_t){return _t}),Ie.values]:[],Nt=wt[0],wt=wt[1],yt=Ie.trans._cache;return p(Nt)?(mt.addKeys(Nt),(ct=ct==="delete"||Nt.length===wt.length?yo(Nt,yt):null)||xt.addKeys(Nt),(ct||wt)&&(Me=Ee,Ve=ct,Oe=wt,G.indexes.forEach(function(_t){var hn=Me(_t.name||"");function Nn(vn){return vn!=null?_t.extractKey(vn):null}function Jt(vn){_t.multiEntry&&p(vn)?vn.forEach(function(lr){return hn.addKey(lr)}):hn.addKey(vn)}(Ve||Oe).forEach(function(vn,$n){var ca=Ve&&Nn(Ve[$n]),$n=Oe&&Nn(Oe[$n]);ce(ca,$n)!==0&&(ca!=null&&Jt(ca),$n!=null)&&Jt($n)})}))):Nt?(wt={from:(yt=Nt.lower)!=null?yt:o.MIN_KEY,to:(ct=Nt.upper)!=null?ct:o.MAX_KEY},xt.add(wt),mt.add(wt)):(mt.add(x),xt.add(x),G.indexes.forEach(function(_t){return Ee(_t.name).add(x)})),k.mutate(Ie).then(function(_t){return!Nt||Ie.type!=="add"&&Ie.type!=="put"||(mt.addKeys(_t.results),pe&&pe.forEach(function(hn){for(var Nn=Ie.values.map(function(ca){return hn.extractKey(ca)}),Jt=hn.keyPath.findIndex(function(ca){return ca===Y.keyPath}),vn=0,lr=_t.results.length;vn<lr;++vn)Nn[vn][Jt]=_t.results[vn];Ee(hn.name).addKeys(Nn)})),Ge.mutatedParts=Xt(Ge.mutatedParts||{},at),_t})}}),ye={get:function(Ie){return[Y,new Tr(Ie.key)]},getMany:function(Ie){return[Y,new Tr().addKeys(Ie.keys)]},count:B,query:B,openCursor:B};return A(ye).forEach(function(Ie){me[Ie]=function(Ee){var Me=we.subscr,Ve=!!Me,Oe=di(we,k)&&Ga(Ie,Ee)?Ee.obsSet={}:Me;if(Ve){var Ge,Me=function(wt){return wt="idb://".concat(f,"/").concat(b,"/").concat(wt),Oe[wt]||(Oe[wt]=new Tr)},at=Me(""),mt=Me(":dels"),Ve=ye[Ie](Ee),xt=Ve[0],Ve=Ve[1];if((Ie==="query"&&xt.isPrimaryKey&&!Ee.values?mt:Me(xt.name||"")).add(Ve),!xt.isPrimaryKey){if(Ie!=="count")return Ge=Ie==="query"&&ue&&Ee.values&&k.query(d(d({},Ee),{values:!1})),k[Ie].apply(this,arguments).then(function(wt){if(Ie==="query"){if(ue&&Ee.values)return Ge.then(function(Nn){return Nn=Nn.result,at.addKeys(Nn),wt});var yt=Ee.values?wt.result.map(fe):wt.result;(Ee.values?at:mt).addKeys(yt)}else{var _t,hn;if(Ie==="openCursor")return hn=Ee.values,(_t=wt)&&Object.create(_t,{key:{get:function(){return mt.addKey(_t.primaryKey),_t.key}},primaryKey:{get:function(){var Nn=_t.primaryKey;return mt.addKey(Nn),Nn}},value:{get:function(){return hn&&at.addKey(_t.primaryKey),_t.value}}})}return wt});mt.add(x)}}return k[Ie].apply(this,arguments)}}),me}})}};function na(o,f,x){var b;return x.numFailures===0?f:f.type==="deleteRange"||(b=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1,x.numFailures===b)?null:(b=d({},f),p(b.keys)&&(b.keys=b.keys.filter(function(B,k){return!(k in x.failures)})),"values"in b&&p(b.values)&&(b.values=b.values.filter(function(B,k){return!(k in x.failures)})),b)}function Gi(o,f){return x=o,((b=f).lower===void 0||(b.lowerOpen?0<ce(x,b.lower):0<=ce(x,b.lower)))&&(x=o,(b=f).upper===void 0||(b.upperOpen?ce(x,b.upper)<0:ce(x,b.upper)<=0));var x,b}function ua(o,f,x,b,B,k){var G,Y,ne,fe,ue,pe;return!x||x.length===0||(G=f.query.index,Y=G.multiEntry,ne=f.query.range,fe=b.schema.primaryKey.extractKey,ue=G.extractKey,pe=(G.lowLevelIndex||G).extractKey,(b=x.reduce(function(me,ye){var Ie=me,Ee=[];if(ye.type==="add"||ye.type==="put")for(var Me=new Tr,Ve=ye.values.length-1;0<=Ve;--Ve){var Oe,Ge=ye.values[Ve],at=fe(Ge);!Me.hasKey(at)&&(Oe=ue(Ge),Y&&p(Oe)?Oe.some(function(wt){return Gi(wt,ne)}):Gi(Oe,ne))&&(Me.addKey(at),Ee.push(Ge))}switch(ye.type){case"add":var mt=new Tr().addKeys(f.values?me.map(function(yt){return fe(yt)}):me),Ie=me.concat(f.values?Ee.filter(function(yt){return yt=fe(yt),!mt.hasKey(yt)&&(mt.addKey(yt),!0)}):Ee.map(function(yt){return fe(yt)}).filter(function(yt){return!mt.hasKey(yt)&&(mt.addKey(yt),!0)}));break;case"put":var xt=new Tr().addKeys(ye.values.map(function(yt){return fe(yt)}));Ie=me.filter(function(yt){return!xt.hasKey(f.values?fe(yt):yt)}).concat(f.values?Ee:Ee.map(function(yt){return fe(yt)}));break;case"delete":var ct=new Tr().addKeys(ye.keys);Ie=me.filter(function(yt){return!ct.hasKey(f.values?fe(yt):yt)});break;case"deleteRange":var Nt=ye.range;Ie=me.filter(function(yt){return!Gi(fe(yt),Nt)})}return Ie},o))===o)?o:(b.sort(function(me,ye){return ce(pe(me),pe(ye))||ce(fe(me),fe(ye))}),f.limit&&f.limit<1/0&&(b.length>f.limit?b.length=f.limit:o.length===f.limit&&b.length<f.limit&&(B.dirty=!0)),k?Object.freeze(b):b)}function Ti(o,f){return ce(o.lower,f.lower)===0&&ce(o.upper,f.upper)===0&&!!o.lowerOpen==!!f.lowerOpen&&!!o.upperOpen==!!f.upperOpen}function hi(o,f){return((x,b,B,k)=>{if(x===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((x=ce(x,b))===0){if(B&&k)return 0;if(B)return 1;if(k)return-1}return x})(o.lower,f.lower,o.lowerOpen,f.lowerOpen)<=0&&0<=((x,b,B,k)=>{if(x===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((x=ce(x,b))===0){if(B&&k)return 0;if(B)return-1;if(k)return 1}return x})(o.upper,f.upper,o.upperOpen,f.upperOpen)}function Dl(o,f,x,b){o.subscribers.add(x),b.addEventListener("abort",function(){var B,k;o.subscribers.delete(x),o.subscribers.size===0&&(B=o,k=f,setTimeout(function(){B.subscribers.size===0&&ke(k,B)},3e3))})}var ji={stack:"dbcore",level:0,name:"Cache",create:function(o){var f=o.schema.name;return d(d({},o),{transaction:function(x,b,B){var k,G,Y=o.transaction(x,b,B);return b==="readwrite"&&(B=(k=new AbortController).signal,Y.addEventListener("abort",(G=function(ne){return function(){if(k.abort(),b==="readwrite"){for(var fe=new Set,ue=0,pe=x;ue<pe.length;ue++){var me=pe[ue],ye=Vn["idb://".concat(f,"/").concat(me)];if(ye){var Ie=o.table(me),Ee=ye.optimisticOps.filter(function(_t){return _t.trans===Y});if(Y._explicit&&ne&&Y.mutatedParts)for(var Me=0,Ve=Object.values(ye.queries.query);Me<Ve.length;Me++)for(var Oe=0,Ge=(xt=Ve[Me]).slice();Oe<Ge.length;Oe++)po((ct=Ge[Oe]).obsSet,Y.mutatedParts)&&(ke(xt,ct),ct.subscribers.forEach(function(_t){return fe.add(_t)}));else if(0<Ee.length){ye.optimisticOps=ye.optimisticOps.filter(function(_t){return _t.trans!==Y});for(var at=0,mt=Object.values(ye.queries.query);at<mt.length;at++)for(var xt,ct,Nt,wt=0,yt=(xt=mt[at]).slice();wt<yt.length;wt++)(ct=yt[wt]).res!=null&&Y.mutatedParts&&(ne&&!ct.dirty?(Nt=Object.isFrozen(ct.res),Nt=ua(ct.res,ct.req,Ee,Ie,ct,Nt),ct.dirty?(ke(xt,ct),ct.subscribers.forEach(function(_t){return fe.add(_t)})):Nt!==ct.res&&(ct.res=Nt,ct.promise=$e.resolve({result:Nt}))):(ct.dirty&&ke(xt,ct),ct.subscribers.forEach(function(_t){return fe.add(_t)})))}}}fe.forEach(function(_t){return _t()})}}})(!1),{signal:B}),Y.addEventListener("error",G(!1),{signal:B}),Y.addEventListener("complete",G(!0),{signal:B})),Y},table:function(x){var b=o.table(x),B=b.schema.primaryKey;return d(d({},b),{mutate:function(k){var G,Y=we.trans;return!B.outbound&&Y.db._options.cache!=="disabled"&&!Y.explicit&&Y.idbtrans.mode==="readwrite"&&(G=Vn["idb://".concat(f,"/").concat(x)])?(Y=b.mutate(k),k.type!=="add"&&k.type!=="put"||!(50<=k.values.length||Ha(B,k).some(function(ne){return ne==null}))?(G.optimisticOps.push(k),k.mutatedParts&&bs(k.mutatedParts),Y.then(function(ne){0<ne.numFailures&&(ke(G.optimisticOps,k),(ne=na(0,k,ne))&&G.optimisticOps.push(ne),k.mutatedParts)&&bs(k.mutatedParts)}),Y.catch(function(){ke(G.optimisticOps,k),k.mutatedParts&&bs(k.mutatedParts)})):Y.then(function(ne){var fe=na(0,d(d({},k),{values:k.values.map(function(ue,pe){var me;return ne.failures[pe]?ue:(I(me=(me=B.keyPath)!=null&&me.includes(".")?se(ue):d({},ue),B.keyPath,ne.results[pe]),me)})}),ne);G.optimisticOps.push(fe),queueMicrotask(function(){return k.mutatedParts&&bs(k.mutatedParts)})}),Y):b.mutate(k)},query:function(k){var G,Y,ne,fe,ue,pe,me;return di(we,b)&&Ga("query",k)?(G=((ne=we.trans)==null?void 0:ne.db._options.cache)==="immutable",Y=(ne=we).requery,ne=ne.signal,pe=((ye,Ie,Ee,Me)=>{var Ve=Vn["idb://".concat(ye,"/").concat(Ie)];if(!Ve)return[];if(!(ye=Ve.queries[Ee]))return[null,!1,Ve,null];var Oe=ye[(Me.query?Me.query.index.name:null)||""];if(!Oe)return[null,!1,Ve,null];switch(Ee){case"query":var Ge=Oe.find(function(at){return at.req.limit===Me.limit&&at.req.values===Me.values&&Ti(at.req.query.range,Me.query.range)});return Ge?[Ge,!0,Ve,Oe]:[Oe.find(function(at){return("limit"in at.req?at.req.limit:1/0)>=Me.limit&&(!Me.values||at.req.values)&&hi(at.req.query.range,Me.query.range)}),!1,Ve,Oe];case"count":return Ge=Oe.find(function(at){return Ti(at.req.query.range,Me.query.range)}),[Ge,!!Ge,Ve,Oe]}})(f,x,"query",k),me=pe[0],fe=pe[2],ue=pe[3],me&&pe[1]?me.obsSet=k.obsSet:(pe=b.query(k).then(function(ye){var Ie=ye.result;if(me&&(me.res=Ie),G){for(var Ee=0,Me=Ie.length;Ee<Me;++Ee)Object.freeze(Ie[Ee]);Object.freeze(Ie)}else ye.result=se(Ie);return ye}).catch(function(ye){return ue&&me&&ke(ue,me),Promise.reject(ye)}),me={obsSet:k.obsSet,promise:pe,subscribers:new Set,type:"query",req:k,dirty:!1},ue?ue.push(me):(ue=[me],(fe=fe||(Vn["idb://".concat(f,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[k.query.index.name||""]=ue)),Dl(me,ue,Y,ne),me.promise.then(function(ye){return{result:ua(ye.result,k,fe==null?void 0:fe.optimisticOps,b,me,G)}})):b.query(k)}})}})}};function Zr(o,f){return new Proxy(o,{get:function(x,b,B){return b==="db"?f:Reflect.get(x,b,B)}})}tr.prototype.version=function(o){if(isNaN(o)||o<.1)throw new W.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new W.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var f=this._versions,x=f.filter(function(b){return b._cfg.version===o})[0];return x||(x=new this.Version(o),f.push(x),f.sort(fo),x.stores({}),this._state.autoSchema=!1),x},tr.prototype._whenReady=function(o){var f=this;return this.idbdb&&(this._state.openComplete||we.letThrough||this._vip)?o():new $e(function(x,b){if(f._state.openComplete)return b(new W.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void b(new W.DatabaseClosed);f.open().catch(O)}f._state.dbReadyPromise.then(x,b)}).then(o)},tr.prototype.use=function(B){var f=B.stack,x=B.create,b=B.level,B=B.name,k=(B&&this.unuse({stack:f,name:B}),this._middlewares[f]||(this._middlewares[f]=[]));return k.push({stack:f,create:x,level:b??10,name:B}),k.sort(function(G,Y){return G.level-Y.level}),this},tr.prototype.unuse=function(o){var f=o.stack,x=o.name,b=o.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(B){return b?B.create!==b:!!x&&B.name!==x})),this},tr.prototype.open=function(){var o=this;return ea(Vt,function(){return Lo(o)})},tr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,f=ot.indexOf(this);if(0<=f&&ot.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new $e(function(x){o.dbReadyResolve=x}),o.openCanceller=new $e(function(x,b){o.cancelOpen=b}))},tr.prototype.close=function(f){var f=(f===void 0?{disableAutoOpen:!0}:f).disableAutoOpen,x=this._state;f?(x.isBeingOpened&&x.cancelOpen(new W.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new W.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},tr.prototype.delete=function(o){var f=this,x=(o===void 0&&(o={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),b=this._state;return new $e(function(B,k){function G(){f.close(o);var Y=f._deps.indexedDB.deleteDatabase(f.name);Y.onsuccess=Tt(function(){var ne,fe,ue;ne=f._deps,fe=f.name,Cs(ue=ne.indexedDB)||fe===Dr||As(ue,ne.IDBKeyRange).delete(fe).catch(O),B()}),Y.onerror=Sr(k),Y.onblocked=f._fireOnBlocked}if(x)throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(G):G()})},tr.prototype.backendDB=function(){return this.idbdb},tr.prototype.isOpen=function(){return this.idbdb!==null},tr.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},tr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},tr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(tr.prototype,"tables",{get:function(){var o=this;return A(this._allTables).map(function(f){return o._allTables[f]})},enumerable:!1,configurable:!0}),tr.prototype.transaction=function(){var o=(function(f,x,b){var B=arguments.length;if(B<2)throw new W.InvalidArgument("Too few arguments");for(var k=new Array(B-1);--B;)k[B-1]=arguments[B];return b=k.pop(),[f,ae(k),b]}).apply(this,arguments);return this._transaction.apply(this,o)},tr.prototype._transaction=function(o,f,x){var b,B,k=this,G=we.trans,Y=(G&&G.db===this&&o.indexOf("!")===-1||(G=null),o.indexOf("?")!==-1);o=o.replace("!","").replace("?","");try{if(B=f.map(function(fe){if(fe=fe instanceof k.Table?fe.name:fe,typeof fe!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return fe}),o=="r"||o===Mn)b=Mn;else{if(o!="rw"&&o!=jr)throw new W.InvalidArgument("Invalid transaction mode: "+o);b=jr}if(G){if(G.mode===Mn&&b===jr){if(!Y)throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");G=null}G&&B.forEach(function(fe){if(G&&G.storeNames.indexOf(fe)===-1){if(!Y)throw new W.SubTransaction("Table "+fe+" not included in parent transaction.");G=null}}),Y&&G&&!G.active&&(G=null)}}catch(fe){return G?G._promise(null,function(ue,pe){pe(fe)}):en(fe)}var ne=(function fe(ue,pe,me,ye,Ie){return $e.resolve().then(function(){var Oe=we.transless||we,Ee=ue._createTransaction(pe,me,ue._dbSchema,ye),Oe=(Ee.explicit=!0,{trans:Ee,transless:Oe});if(ye)Ee.idbtrans=ye.idbtrans;else try{Ee.create(),Ee.idbtrans._explicit=!0,ue._state.PR1398_maxLoop=3}catch(Ge){return Ge.name===gt.InvalidState&&ue.isOpen()&&0<--ue._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ue.close({disableAutoOpen:!1}),ue.open().then(function(){return fe(ue,pe,me,null,Ie)})):en(Ge)}var Me,Ve=Ce(Ie),Oe=(Ve&&$t(),$e.follow(function(){var Ge;(Me=Ie.call(Ee,Ee))&&(Ve?(Ge=Ar.bind(null,null),Me.then(Ge,Ge)):typeof Me.next=="function"&&typeof Me.throw=="function"&&(Me=fi(Me)))},Oe));return(Me&&typeof Me.then=="function"?$e.resolve(Me).then(function(Ge){return Ee.active?Ge:en(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Oe.then(function(){return Me})).then(function(Ge){return ye&&Ee._resolve(),Ee._completion.then(function(){return Ge})}).catch(function(Ge){return Ee._reject(Ge),en(Ge)})})}).bind(null,this,b,B,G,x);return G?G._promise(b,ne,"lock"):we.trans?ea(we.transless,function(){return k._whenReady(ne)}):this._whenReady(ne)},tr.prototype.table=function(o){if(R(this._allTables,o))return this._allTables[o];throw new W.InvalidTable("Table ".concat(o," does not exist"))};var Sa=tr;function tr(o,f){var x,b,B,k,G,Y=this,ne=(this._middlewares={},this.verno=0,tr.dependencies),ne=(this._options=f=d({addons:tr.addons,autoOpen:!0,indexedDB:ne.indexedDB,IDBKeyRange:ne.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},f.addons),fe=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:O,dbReadyPromise:null,cancelOpen:O,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen}),ue=(fe.dbReadyPromise=new $e(function(pe){fe.dbReadyResolve=pe}),fe.openCanceller=new $e(function(pe,me){fe.cancelOpen=me}),this._state=fe,this.name=o,this.on=sr(this,"populate","blocked","versionchange","close",{ready:[pt,O]}),this.once=function(pe,me){var ye=function(){for(var Ie=[],Ee=0;Ee<arguments.length;Ee++)Ie[Ee]=arguments[Ee];Y.on(pe).unsubscribe(ye),me.apply(Y,Ie)};return Y.on(pe,ye)},this.on.ready.subscribe=U(this.on.ready.subscribe,function(pe){return function(me,ye){tr.vip(function(){var Ie,Ee=Y._state;Ee.openComplete?(Ee.dbOpenError||$e.resolve().then(me),ye&&pe(me)):Ee.onReadyBeingFired?(Ee.onReadyBeingFired.push(me),ye&&pe(me)):(pe(me),Ie=Y,ye||pe(function Me(){Ie.on.ready.unsubscribe(me),Ie.on.ready.unsubscribe(Me)}))})}}),this.Collection=(x=this,tn(lo.prototype,function(Me,Ee){this.db=x;var ye=Rn,Ie=null;if(Ee)try{ye=Ee()}catch(Oe){Ie=Oe}var Ee=Me._ctx,Me=Ee.table,Ve=Me.hook.reading.fire;this._ctx={table:Me,index:Ee.index,isPrimKey:!Ee.index||Me.schema.primKey.keyPath&&Ee.index===Me.schema.primKey.name,range:ye,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Ie,or:Ee.or,valueMapper:Ve!==Z?Ve:null}})),this.Table=(b=this,tn(jn.prototype,function(pe,me,ye){this.db=b,this._tx=ye,this.name=pe,this.schema=me,this.hook=b._allTables[pe]?b._allTables[pe].hook:sr(null,{creating:[We,O],reading:[be,Z],updating:[ft,O],deleting:[ht,O]})})),this.Transaction=(B=this,tn(uo.prototype,function(pe,me,ye,Ie,Ee){var Me=this;pe!=="readonly"&&me.forEach(function(Ve){Ve=(Ve=ye[Ve])==null?void 0:Ve.yProps,Ve&&(me=me.concat(Ve.map(function(Oe){return Oe.updatesTable})))}),this.db=B,this.mode=pe,this.storeNames=me,this.schema=ye,this.chromeTransactionDurability=Ie,this.idbtrans=null,this.on=sr(this,"complete","error","abort"),this.parent=Ee||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new $e(function(Ve,Oe){Me._resolve=Ve,Me._reject=Oe}),this._completion.then(function(){Me.active=!1,Me.on.complete.fire()},function(Ve){var Oe=Me.active;return Me.active=!1,Me.on.error.fire(Ve),Me.parent?Me.parent._reject(Ve):Oe&&Me.idbtrans&&Me.idbtrans.abort(),en(Ve)})})),this.Version=(k=this,tn(Or.prototype,function(pe){this.db=k,this._cfg={version:pe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(G=this,tn(or.prototype,function(pe,me,ye){if(this.db=G,this._ctx={table:pe,index:me===":id"?null:me,or:ye},this._cmp=this._ascending=ce,this._descending=function(Ie,Ee){return ce(Ee,Ie)},this._max=function(Ie,Ee){return 0<ce(Ie,Ee)?Ie:Ee},this._min=function(Ie,Ee){return ce(Ie,Ee)<0?Ie:Ee},this._IDBKeyRange=G._deps.IDBKeyRange,!this._IDBKeyRange)throw new W.MissingAPI})),this.on("versionchange",function(pe){0<pe.newVersion?console.warn("Another connection wants to upgrade database '".concat(Y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(Y.name,"'. Closing db now to resume the delete request.")),Y.close({disableAutoOpen:!1})}),this.on("blocked",function(pe){!pe.newVersion||pe.newVersion<pe.oldVersion?console.warn("Dexie.delete('".concat(Y.name,"') was blocked")):console.warn("Upgrade '".concat(Y.name,"' blocked by other connection holding version ").concat(pe.oldVersion/10))}),this._maxKey=Ea(f.IDBKeyRange),this._createTransaction=function(pe,me,ye,Ie){return new Y.Transaction(pe,me,ye,Y._options.chromeTransactionDurability,Ie)},this._fireOnBlocked=function(pe){Y.on("blocked").fire(pe),ot.filter(function(me){return me.name===Y.name&&me!==Y&&!me._state.vcFired}).map(function(me){return me.on("versionchange").fire(pe)})},this.use(Si),this.use(ji),this.use(Ss),this.use(Uo),this.use(Is),new Proxy(this,{get:function(pe,me,ye){var Ie;return me==="_vip"||(me==="table"?function(Ee){return Zr(Y.table(Ee),ue)}:(Ie=Reflect.get(pe,me,ye))instanceof jn?Zr(Ie,ue):me==="tables"?Ie.map(function(Ee){return Zr(Ee,ue)}):me==="_createTransaction"?function(){return Zr(Ie.apply(this,arguments),ue)}:Ie)}}));this.vip=ue,ne.forEach(function(pe){return pe(Y)})}var Ta,Cn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ki=($.prototype.subscribe=function(o,f,x){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:f,complete:x})},$.prototype[Cn]=function(){return this},$);function $(o){this._subscribe=o}try{Ta={indexedDB:m.indexedDB||m.mozIndexedDB||m.webkitIndexedDB||m.msIndexedDB,IDBKeyRange:m.IDBKeyRange||m.webkitIDBKeyRange}}catch{Ta={indexedDB:null,IDBKeyRange:null}}function t(o){var f,x=!1,b=new Ki(function(B){var k=Ce(o),G,Y=!1,ne={},fe={},ue={get closed(){return Y},unsubscribe:function(){Y||(Y=!0,G&&G.abort(),pe&&Ln.storagemutated.unsubscribe(ye))}},pe=(B.start&&B.start(ue),!1),me=function(){return ir(Ie)},ye=function(Ee){Xt(ne,Ee),po(fe,ne)&&me()},Ie=function(){var Ee,Me,Ve;!Y&&Ta.indexedDB&&(ne={},Ee={},G&&G.abort(),G=new AbortController,Ve=(Oe=>{var Ge=Rt();try{k&&$t();var at=cn(o,Oe);return at=k?at.finally(Ar):at}finally{Ge&&Lt()}})(Me={subscr:Ee,signal:G.signal,requery:me,querier:o,trans:null}),Promise.resolve(Ve).then(function(Oe){x=!0,f=Oe,Y||Me.signal.aborted||(ne={},(Ge=>{for(var at in Ge)if(R(Ge,at))return;return 1})(fe=Ee)||pe||(Ln(bi,ye),pe=!0),ir(function(){return!Y&&B.next&&B.next(Oe)}))},function(Oe){x=!1,["DatabaseClosedError","AbortError"].includes(Oe==null?void 0:Oe.name)||Y||ir(function(){Y||B.error&&B.error(Oe)})}))};return setTimeout(me,0),ue});return b.hasValue=function(){return x},b.getValue=function(){return f},b}var i=Sa;function l(o){var f=h;try{h=!0,Ln.storagemutated.fire(o),la(o,!0)}finally{h=f}}L(i,d(d({},Te),{delete:function(o){return new i(o,{addons:[]}).delete()},exists:function(o){return new i(o,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return f=i.dependencies,x=f.indexedDB,f=f.IDBKeyRange,(Cs(x)?Promise.resolve(x.databases()).then(function(b){return b.map(function(B){return B.name}).filter(function(B){return B!==Dr})}):As(x,f).toCollection().primaryKeys()).then(o)}catch{return en(new W.MissingAPI)}var f,x},defineClass:function(){return function(o){E(this,o)}},ignoreTransaction:function(o){return we.trans?ea(we.transless,o):o()},vip:ho,async:function(o){return function(){try{var f=fi(o.apply(this,arguments));return f&&typeof f.then=="function"?f:$e.resolve(f)}catch(x){return en(x)}}},spawn:function(o,f,x){try{var b=fi(o.apply(x,f||[]));return b&&typeof b.then=="function"?b:$e.resolve(b)}catch(B){return en(B)}},currentTransaction:{get:function(){return we.trans||null}},waitFor:function(o,f){return o=$e.resolve(typeof o=="function"?i.ignoreTransaction(o):o).timeout(f||6e4),we.trans?we.trans.waitFor(o):o},Promise:$e,debug:{get:function(){return Ye},set:function(o){Mt(o)}},derive:P,extend:E,props:L,override:U,Events:sr,on:Ln,liveQuery:t,extendObservabilitySet:Xt,getByKeyPath:M,setByKeyPath:I,delByKeyPath:function(o,f){typeof f=="string"?I(o,f,void 0):"length"in f&&[].map.call(f,function(x){I(o,x,void 0)})},shallowClone:w,deepClone:se,getObjectDiff:Es,cmp:ce,asap:X,minKey:-1/0,addons:[],connections:ot,errnames:gt,dependencies:Ta,cache:Vn,semVer:"4.3.0",version:"4.3.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,f,x){return o+f/Math.pow(10,2*x)})})),i.maxKey=Ea(i.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ln(bi,function(o){h||(o=new CustomEvent(ln,{detail:o}),h=!0,dispatchEvent(o),h=!1)}),addEventListener(ln,function(o){o=o.detail,h||l(o)}));var c,h=!1,y=function(){};return typeof BroadcastChannel<"u"&&((y=function(){(c=new BroadcastChannel(ln)).onmessage=function(o){return o.data&&l(o.data)}})(),typeof c.unref=="function"&&c.unref(),Ln(bi,function(o){h||c.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Sa.disableBfCache&&o.persisted){Ye&&console.debug("Dexie: handling persisted pagehide"),c!=null&&c.close();for(var f=0,x=ot;f<x.length;f++)x[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Sa.disableBfCache&&o.persisted&&(Ye&&console.debug("Dexie: handling persisted pageshow"),y(),l({all:new Tr(-1/0,[[]])}))})),$e.rejectionMapper=function(o,f){return!o||o instanceof De||o instanceof TypeError||o instanceof SyntaxError||!o.name||!re[o.name]?o:(f=new re[o.name](f||o.message,o),"stack"in o&&V(f,"stack",{get:function(){return this.inner.stack}}),f)},Mt(Ye),d(Sa,Object.freeze({__proto__:null,Dexie:Sa,Entity:te,PropModification:vt,RangeSet:Tr,add:function(o){return new vt({add:o})},cmp:ce,default:Sa,liveQuery:t,mergeRanges:Pa,rangesOverlap:pr,remove:function(o){return new vt({remove:o})},replacePrefix:function(o,f){return new vt({replacePrefix:[o,f]})}}),{default:Sa}),Sa})})(Zc)),Zc.exports}var mb=yb();const mh=Oh(mb),Ty=Symbol.for("Dexie"),$c=globalThis[Ty]||(globalThis[Ty]=mh);if(mh.semVer!==$c.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${mh.semVer} and ${$c.semVer}`);const{liveQuery:w4,mergeRanges:E4,rangesOverlap:I4,RangeSet:S4,cmp:T4,Entity:B4,PropModification:N4,replacePrefix:_4,add:D4,remove:R4,DexieYProvider:O4}=$c;class xb extends $c{constructor(){super("CipherVaultDB"),this.version(4).stores({baseData:"id",securityData:"id",tags:"++id, label, rank",totps:"id, name, favorite, rank, delFlag",accounts:"id, name, favorite, delFlag",syncData:"id",biometricData:"id"})}}const At=new xb;/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */function Do(a,r,s,d){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(d.next(D))}catch(R){A(R)}}function E(D){try{C(d.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,E)}C((d=d.apply(a,[])).next())})}class Ir{constructor(){this.mutex=Promise.resolve()}lock(){let r=()=>{};return this.mutex=this.mutex.then(()=>new Promise(r)),new Promise(s=>{r=s})}dispatch(r){return Do(this,void 0,void 0,function*(){const s=yield this.lock();try{return yield Promise.resolve(r())}finally{s()}})}}var vd;function vb(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global}const xh=vb(),Ad=(vd=xh.Buffer)!==null&&vd!==void 0?vd:null,Ab=xh.TextEncoder?new xh.TextEncoder:null;function R2(a,r){return(a&15)+(a>>6|a>>3&8)<<4|(r&15)+(r>>6|r>>3&8)}function O2(a,r){const s=r.length>>1;for(let d=0;d<s;d++){const v=d<<1;a[d]=R2(r.charCodeAt(v),r.charCodeAt(v+1))}}function Cb(a,r){if(a.length!==r.length*2)return!1;for(let s=0;s<r.length;s++){const d=s<<1;if(r[s]!==R2(a.charCodeAt(d),a.charCodeAt(d+1)))return!1}return!0}const By=87,Ny=48;function vh(a,r,s){let d=0;for(let v=0;v<s;v++){let m=r[v]>>>4;a[d++]=m>9?m+By:m+Ny,m=r[v]&15,a[d++]=m>9?m+By:m+Ny}return String.fromCharCode.apply(null,a)}const hs=Ad!==null?a=>{if(typeof a=="string"){const r=Ad.from(a,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.length)}if(Ad.isBuffer(a))return new Uint8Array(a.buffer,a.byteOffset,a.length);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Invalid data type!")}:a=>{if(typeof a=="string")return Ab.encode(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Invalid data type!")},yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xu=new Uint8Array(256);for(let a=0;a<yi.length;a++)xu[yi.charCodeAt(a)]=a;function _y(a,r=!0){const s=a.length,d=s%3,v=[],m=s-d;for(let A=0;A<m;A+=3){const p=(a[A]<<16&16711680)+(a[A+1]<<8&65280)+(a[A+2]&255),E=yi.charAt(p>>18&63)+yi.charAt(p>>12&63)+yi.charAt(p>>6&63)+yi.charAt(p&63);v.push(E)}if(d===1){const A=a[s-1],p=yi.charAt(A>>2),E=yi.charAt(A<<4&63);v.push(`${p}${E}`),r&&v.push("==")}else if(d===2){const A=(a[s-2]<<8)+a[s-1],p=yi.charAt(A>>10),E=yi.charAt(A>>4&63),C=yi.charAt(A<<2&63);v.push(`${p}${E}${C}`),r&&v.push("=")}return v.join("")}function bb(a){let r=Math.floor(a.length*.75);const s=a.length;return a[s-1]==="="&&(r-=1,a[s-2]==="="&&(r-=1)),r}function wb(a){const r=bb(a),s=a.length,d=new Uint8Array(r);let v=0;for(let m=0;m<s;m+=4){const A=xu[a.charCodeAt(m)],p=xu[a.charCodeAt(m+1)],E=xu[a.charCodeAt(m+2)],C=xu[a.charCodeAt(m+3)];d[v]=A<<2|p>>4,v+=1,d[v]=(p&15)<<4|E>>2,v+=1,d[v]=(E&3)<<6|C&63,v+=1}return d}const Lc=16*1024,hu=4,Eb=new Ir,Cd=new Map;function k2(a,r){return Do(this,void 0,void 0,function*(){let s=null,d=null,v=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const m=(M,I=0)=>{d.set(M,I)},A=()=>d,p=()=>s.exports,E=M=>{s.exports.Hash_SetMemorySize(M);const I=s.exports.Hash_GetBuffer(),w=s.exports.memory.buffer;d=new Uint8Array(w,I,M)},C=()=>new DataView(s.exports.memory.buffer).getUint32(s.exports.STATE_SIZE,!0),D=Eb.dispatch(()=>Do(this,void 0,void 0,function*(){if(!Cd.has(a.name)){const I=wb(a.data),w=WebAssembly.compile(I);Cd.set(a.name,w)}const M=yield Cd.get(a.name);s=yield WebAssembly.instantiate(M,{})})),R=()=>Do(this,void 0,void 0,function*(){s||(yield D);const M=s.exports.Hash_GetBuffer(),I=s.exports.memory.buffer;d=new Uint8Array(I,M,Lc)}),L=(M=null)=>{v=!0,s.exports.Hash_Init(M)},_=M=>{let I=0;for(;I<M.length;){const w=M.subarray(I,I+Lc);I+=w.length,d.set(w),s.exports.Hash_Update(w.length)}},V=M=>{if(!v)throw new Error("update() called before init()");const I=hs(M);_(I)},P=new Uint8Array(r*2),H=(M,I=null)=>{if(!v)throw new Error("digest() called before init()");return v=!1,s.exports.Hash_Final(I),M==="binary"?d.slice(0,r):vh(P,d,r)},T=()=>{if(!v)throw new Error("save() can only be called after init() and before digest()");const M=s.exports.Hash_GetState(),I=C(),w=s.exports.memory.buffer,j=new Uint8Array(w,M,I),ae=new Uint8Array(hu+I);return O2(ae,a.hash),ae.set(j,hu),ae},F=M=>{if(!(M instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const I=s.exports.Hash_GetState(),w=C(),j=hu+w,ae=s.exports.memory.buffer;if(M.length!==j)throw new Error(`Bad state length (expected ${j} bytes, got ${M.length})`);if(!Cb(a.hash,M.subarray(0,hu)))throw new Error("This state was written by an incompatible hash implementation");const de=M.subarray(hu);new Uint8Array(ae,I,w).set(de),v=!0},U=M=>typeof M=="string"?M.length<Lc/4:M.byteLength<Lc;let K=U;switch(a.name){case"argon2":case"scrypt":K=()=>!0;break;case"blake2b":case"blake2s":K=(M,I)=>I<=512&&U(M);break;case"blake3":K=(M,I)=>I===0&&U(M);break;case"xxhash64":case"xxhash3":case"xxhash128":case"crc64":K=()=>!1;break}const X=(M,I=null,w=null)=>{if(!K(M,I))return L(I),V(M),H("hex",w);const j=hs(M);return d.set(j),s.exports.Hash_Calculate(j.length,I,w),vh(P,d,r)};return yield R(),{getMemory:A,writeMemory:m,getExports:p,setMemorySize:E,init:L,update:V,digest:H,save:T,load:F,calculate:X,hashLength:r}})}new Ir;var Ib="argon2",Sb="AGFzbQEAAAABKQVgAX8Bf2AAAX9gEH9/f39/f39/f39/f39/f38AYAR/f39/AGACf38AAwYFAAECAwQFBgEBAoCAAgYIAX8BQZCoBAsHQQQGbWVtb3J5AgASSGFzaF9TZXRNZW1vcnlTaXplAAAOSGFzaF9HZXRCdWZmZXIAAQ5IYXNoX0NhbGN1bGF0ZQAECvEyBVgBAn9BACEBAkAgAEEAKAKICCICRg0AAkAgACACayIAQRB2IABBgIB8cSAASWoiAEAAQX9HDQBB/wHADwtBACEBQQBBACkDiAggAEEQdK18NwOICAsgAcALcAECfwJAQQAoAoAIIgANAEEAPwBBEHQiADYCgAhBACgCiAgiAUGAgCBGDQACQEGAgCAgAWsiAEEQdiAAQYCAfHEgAElqIgBAAEF/Rw0AQQAPC0EAQQApA4gIIABBEHStfDcDiAhBACgCgAghAAsgAAvcDgECfiAAIAQpAwAiECAAKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAMIBAgDCkDAIVCIIkiEDcDACAIIBAgCCkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgBCAQIAQpAwCFQiiJIhA3AwAgACAQIAApAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAwgECAMKQMAhUIwiSIQNwMAIAggECAIKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwAgASAFKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFQiCJIhA3AwAgCSAQIAkpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAUgECAFKQMAhUIoiSIQNwMAIAEgECABKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIVCMIkiEDcDACAJIBAgCSkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBSAQIAUpAwCFQgGJNwMAIAIgBikDACIQIAIpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIA4gECAOKQMAhUIgiSIQNwMAIAogECAKKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAGIBAgBikDAIVCKIkiEDcDACACIBAgAikDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgDiAQIA4pAwCFQjCJIhA3AwAgCiAQIAopAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAYgECAGKQMAhUIBiTcDACADIAcpAwAiECADKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAPIBAgDykDAIVCIIkiEDcDACALIBAgCykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgByAQIAcpAwCFQiiJIhA3AwAgAyAQIAMpAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIA8gECAPKQMAhUIwiSIQNwMAIAsgECALKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgACAFKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFQiCJIhA3AwAgCiAQIAopAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAUgECAFKQMAhUIoiSIQNwMAIAAgECAAKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIVCMIkiEDcDACAKIBAgCikDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBSAQIAUpAwCFQgGJNwMAIAEgBikDACIQIAEpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAwgECAMKQMAhUIgiSIQNwMAIAsgECALKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACAGIBAgBikDAIVCKIkiEDcDACABIBAgASkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgDCAQIAwpAwCFQjCJIhA3AwAgCyAQIAspAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIAYgECAGKQMAhUIBiTcDACACIAcpAwAiECACKQMAIhF8IBFCAYZC/v///x+DIBBC/////w+DfnwiEDcDACANIBAgDSkDAIVCIIkiEDcDACAIIBAgCCkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgByAQIAcpAwCFQiiJIhA3AwAgAiAQIAIpAwAiEXwgEEL/////D4MgEUIBhkL+////H4N+fCIQNwMAIA0gECANKQMAhUIwiSIQNwMAIAggECAIKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgAyAEKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFQiCJIhA3AwAgCSAQIAkpAwAiEXwgEUIBhkL+////H4MgEEL/////D4N+fCIQNwMAIAQgECAEKQMAhUIoiSIQNwMAIAMgECADKQMAIhF8IBBC/////w+DIBFCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIVCMIkiEDcDACAJIBAgCSkDACIRfCAQQv////8PgyARQgGGQv7///8fg358IhA3AwAgBCAQIAQpAwCFQgGJNwMAC98aAQN/QQAhBEEAIAIpAwAgASkDAIU3A5AIQQAgAikDCCABKQMIhTcDmAhBACACKQMQIAEpAxCFNwOgCEEAIAIpAxggASkDGIU3A6gIQQAgAikDICABKQMghTcDsAhBACACKQMoIAEpAyiFNwO4CEEAIAIpAzAgASkDMIU3A8AIQQAgAikDOCABKQM4hTcDyAhBACACKQNAIAEpA0CFNwPQCEEAIAIpA0ggASkDSIU3A9gIQQAgAikDUCABKQNQhTcD4AhBACACKQNYIAEpA1iFNwPoCEEAIAIpA2AgASkDYIU3A/AIQQAgAikDaCABKQNohTcD+AhBACACKQNwIAEpA3CFNwOACUEAIAIpA3ggASkDeIU3A4gJQQAgAikDgAEgASkDgAGFNwOQCUEAIAIpA4gBIAEpA4gBhTcDmAlBACACKQOQASABKQOQAYU3A6AJQQAgAikDmAEgASkDmAGFNwOoCUEAIAIpA6ABIAEpA6ABhTcDsAlBACACKQOoASABKQOoAYU3A7gJQQAgAikDsAEgASkDsAGFNwPACUEAIAIpA7gBIAEpA7gBhTcDyAlBACACKQPAASABKQPAAYU3A9AJQQAgAikDyAEgASkDyAGFNwPYCUEAIAIpA9ABIAEpA9ABhTcD4AlBACACKQPYASABKQPYAYU3A+gJQQAgAikD4AEgASkD4AGFNwPwCUEAIAIpA+gBIAEpA+gBhTcD+AlBACACKQPwASABKQPwAYU3A4AKQQAgAikD+AEgASkD+AGFNwOICkEAIAIpA4ACIAEpA4AChTcDkApBACACKQOIAiABKQOIAoU3A5gKQQAgAikDkAIgASkDkAKFNwOgCkEAIAIpA5gCIAEpA5gChTcDqApBACACKQOgAiABKQOgAoU3A7AKQQAgAikDqAIgASkDqAKFNwO4CkEAIAIpA7ACIAEpA7AChTcDwApBACACKQO4AiABKQO4AoU3A8gKQQAgAikDwAIgASkDwAKFNwPQCkEAIAIpA8gCIAEpA8gChTcD2ApBACACKQPQAiABKQPQAoU3A+AKQQAgAikD2AIgASkD2AKFNwPoCkEAIAIpA+ACIAEpA+AChTcD8ApBACACKQPoAiABKQPoAoU3A/gKQQAgAikD8AIgASkD8AKFNwOAC0EAIAIpA/gCIAEpA/gChTcDiAtBACACKQOAAyABKQOAA4U3A5ALQQAgAikDiAMgASkDiAOFNwOYC0EAIAIpA5ADIAEpA5ADhTcDoAtBACACKQOYAyABKQOYA4U3A6gLQQAgAikDoAMgASkDoAOFNwOwC0EAIAIpA6gDIAEpA6gDhTcDuAtBACACKQOwAyABKQOwA4U3A8ALQQAgAikDuAMgASkDuAOFNwPIC0EAIAIpA8ADIAEpA8ADhTcD0AtBACACKQPIAyABKQPIA4U3A9gLQQAgAikD0AMgASkD0AOFNwPgC0EAIAIpA9gDIAEpA9gDhTcD6AtBACACKQPgAyABKQPgA4U3A/ALQQAgAikD6AMgASkD6AOFNwP4C0EAIAIpA/ADIAEpA/ADhTcDgAxBACACKQP4AyABKQP4A4U3A4gMQQAgAikDgAQgASkDgASFNwOQDEEAIAIpA4gEIAEpA4gEhTcDmAxBACACKQOQBCABKQOQBIU3A6AMQQAgAikDmAQgASkDmASFNwOoDEEAIAIpA6AEIAEpA6AEhTcDsAxBACACKQOoBCABKQOoBIU3A7gMQQAgAikDsAQgASkDsASFNwPADEEAIAIpA7gEIAEpA7gEhTcDyAxBACACKQPABCABKQPABIU3A9AMQQAgAikDyAQgASkDyASFNwPYDEEAIAIpA9AEIAEpA9AEhTcD4AxBACACKQPYBCABKQPYBIU3A+gMQQAgAikD4AQgASkD4ASFNwPwDEEAIAIpA+gEIAEpA+gEhTcD+AxBACACKQPwBCABKQPwBIU3A4ANQQAgAikD+AQgASkD+ASFNwOIDUEAIAIpA4AFIAEpA4AFhTcDkA1BACACKQOIBSABKQOIBYU3A5gNQQAgAikDkAUgASkDkAWFNwOgDUEAIAIpA5gFIAEpA5gFhTcDqA1BACACKQOgBSABKQOgBYU3A7ANQQAgAikDqAUgASkDqAWFNwO4DUEAIAIpA7AFIAEpA7AFhTcDwA1BACACKQO4BSABKQO4BYU3A8gNQQAgAikDwAUgASkDwAWFNwPQDUEAIAIpA8gFIAEpA8gFhTcD2A1BACACKQPQBSABKQPQBYU3A+ANQQAgAikD2AUgASkD2AWFNwPoDUEAIAIpA+AFIAEpA+AFhTcD8A1BACACKQPoBSABKQPoBYU3A/gNQQAgAikD8AUgASkD8AWFNwOADkEAIAIpA/gFIAEpA/gFhTcDiA5BACACKQOABiABKQOABoU3A5AOQQAgAikDiAYgASkDiAaFNwOYDkEAIAIpA5AGIAEpA5AGhTcDoA5BACACKQOYBiABKQOYBoU3A6gOQQAgAikDoAYgASkDoAaFNwOwDkEAIAIpA6gGIAEpA6gGhTcDuA5BACACKQOwBiABKQOwBoU3A8AOQQAgAikDuAYgASkDuAaFNwPIDkEAIAIpA8AGIAEpA8AGhTcD0A5BACACKQPIBiABKQPIBoU3A9gOQQAgAikD0AYgASkD0AaFNwPgDkEAIAIpA9gGIAEpA9gGhTcD6A5BACACKQPgBiABKQPgBoU3A/AOQQAgAikD6AYgASkD6AaFNwP4DkEAIAIpA/AGIAEpA/AGhTcDgA9BACACKQP4BiABKQP4BoU3A4gPQQAgAikDgAcgASkDgAeFNwOQD0EAIAIpA4gHIAEpA4gHhTcDmA9BACACKQOQByABKQOQB4U3A6APQQAgAikDmAcgASkDmAeFNwOoD0EAIAIpA6AHIAEpA6AHhTcDsA9BACACKQOoByABKQOoB4U3A7gPQQAgAikDsAcgASkDsAeFNwPAD0EAIAIpA7gHIAEpA7gHhTcDyA9BACACKQPAByABKQPAB4U3A9APQQAgAikDyAcgASkDyAeFNwPYD0EAIAIpA9AHIAEpA9AHhTcD4A9BACACKQPYByABKQPYB4U3A+gPQQAgAikD4AcgASkD4AeFNwPwD0EAIAIpA+gHIAEpA+gHhTcD+A9BACACKQPwByABKQPwB4U3A4AQQQAgAikD+AcgASkD+AeFNwOIEEGQCEGYCEGgCEGoCEGwCEG4CEHACEHICEHQCEHYCEHgCEHoCEHwCEH4CEGACUGICRACQZAJQZgJQaAJQagJQbAJQbgJQcAJQcgJQdAJQdgJQeAJQegJQfAJQfgJQYAKQYgKEAJBkApBmApBoApBqApBsApBuApBwApByApB0ApB2ApB4ApB6ApB8ApB+ApBgAtBiAsQAkGQC0GYC0GgC0GoC0GwC0G4C0HAC0HIC0HQC0HYC0HgC0HoC0HwC0H4C0GADEGIDBACQZAMQZgMQaAMQagMQbAMQbgMQcAMQcgMQdAMQdgMQeAMQegMQfAMQfgMQYANQYgNEAJBkA1BmA1BoA1BqA1BsA1BuA1BwA1ByA1B0A1B2A1B4A1B6A1B8A1B+A1BgA5BiA4QAkGQDkGYDkGgDkGoDkGwDkG4DkHADkHIDkHQDkHYDkHgDkHoDkHwDkH4DkGAD0GIDxACQZAPQZgPQaAPQagPQbAPQbgPQcAPQcgPQdAPQdgPQeAPQegPQfAPQfgPQYAQQYgQEAJBkAhBmAhBkAlBmAlBkApBmApBkAtBmAtBkAxBmAxBkA1BmA1BkA5BmA5BkA9BmA8QAkGgCEGoCEGgCUGoCUGgCkGoCkGgC0GoC0GgDEGoDEGgDUGoDUGgDkGoDkGgD0GoDxACQbAIQbgIQbAJQbgJQbAKQbgKQbALQbgLQbAMQbgMQbANQbgNQbAOQbgOQbAPQbgPEAJBwAhByAhBwAlByAlBwApByApBwAtByAtBwAxByAxBwA1ByA1BwA5ByA5BwA9ByA8QAkHQCEHYCEHQCUHYCUHQCkHYCkHQC0HYC0HQDEHYDEHQDUHYDUHQDkHYDkHQD0HYDxACQeAIQegIQeAJQegJQeAKQegKQeALQegLQeAMQegMQeANQegNQeAOQegOQeAPQegPEAJB8AhB+AhB8AlB+AlB8ApB+ApB8AtB+AtB8AxB+AxB8A1B+A1B8A5B+A5B8A9B+A8QAkGACUGICUGACkGICkGAC0GIC0GADEGIDEGADUGIDUGADkGIDkGAD0GID0GAEEGIEBACAkACQCADRQ0AA0AgACAEaiIDIAIgBGoiBSkDACABIARqIgYpAwCFIARBkAhqKQMAhSADKQMAhTcDACADQQhqIgMgBUEIaikDACAGQQhqKQMAhSAEQZgIaikDAIUgAykDAIU3AwAgBEEQaiIEQYAIRw0ADAILC0EAIQQDQCAAIARqIgMgAiAEaiIFKQMAIAEgBGoiBikDAIUgBEGQCGopAwCFNwMAIANBCGogBUEIaikDACAGQQhqKQMAhSAEQZgIaikDAIU3AwAgBEEQaiIEQYAIRw0ACwsL5QcMBX8BfgR/An4BfwF+AX8Bfgd/AX4DfwF+AkBBACgCgAgiAiABQQp0aiIDKAIIIAFHDQAgAygCDCEEIAMoAgAhBUEAIAMoAhQiBq03A7gQQQAgBK0iBzcDsBBBACAFIAEgBUECdG4iCGwiCUECdK03A6gQAkACQAJAAkAgBEUNAEF/IQogBUUNASAIQQNsIQsgCEECdCIErSEMIAWtIQ0gBkF/akECSSEOQgAhDwNAQQAgDzcDkBAgD6chEEIAIRFBACEBA0BBACARNwOgECAPIBGEUCIDIA5xIRIgBkEBRiAPUCITIAZBAkYgEUICVHFxciEUQX8gAUEBakEDcSAIbEF/aiATGyEVIAEgEHIhFiABIAhsIRcgA0EBdCEYQgAhGQNAQQBCADcDwBBBACAZNwOYECAYIQECQCASRQ0AQQBCATcDwBBBkBhBkBBBkCBBABADQZAYQZAYQZAgQQAQA0ECIQELAkAgASAITw0AIAQgGaciGmwgF2ogAWohAwNAIANBACAEIAEbQQAgEVAiGxtqQX9qIRwCQAJAIBQNAEEAKAKACCICIBxBCnQiHGohCgwBCwJAIAFB/wBxIgINAEEAQQApA8AQQgF8NwPAEEGQGEGQEEGQIEEAEANBkBhBkBhBkCBBABADCyAcQQp0IRwgAkEDdEGQGGohCkEAKAKACCECCyACIANBCnRqIAIgHGogAiAKKQMAIh1CIIinIAVwIBogFhsiHCAEbCABIAFBACAZIBytUSIcGyIKIBsbIBdqIAogC2ogExsgAUUgHHJrIhsgFWqtIB1C/////w+DIh0gHX5CIIggG61+QiCIfSAMgqdqQQp0akEBEAMgA0EBaiEDIAggAUEBaiIBRw0ACwsgGUIBfCIZIA1SDQALIBFCAXwiEachASARQgRSDQALIA9CAXwiDyAHUg0AC0EAKAKACCECCyAJQQx0QYB4aiEXIAVBf2oiCkUNAgwBC0EAQgM3A6AQQQAgBEF/aq03A5AQQYB4IRcLIAIgF2ohGyAIQQx0IQhBACEcA0AgCCAcQQFqIhxsQYB4aiEEQQAhAQNAIBsgAWoiAyADKQMAIAIgBCABamopAwCFNwMAIANBCGoiAyADKQMAIAIgBCABQQhyamopAwCFNwMAIAFBCGohAyABQRBqIQEgA0H4B0kNAAsgHCAKRw0ACwsgAiAXaiEbQXghAQNAIAIgAWoiA0EIaiAbIAFqIgRBCGopAwA3AwAgA0EQaiAEQRBqKQMANwMAIANBGGogBEEYaikDADcDACADQSBqIARBIGopAwA3AwAgAUEgaiIBQfgHSQ0ACwsL",Tb="e4cdc523",Bb={name:Ib,data:Sb,hash:Tb},Nb="blake2b",_b="AGFzbQEAAAABEQRgAAF/YAJ/fwBgAX8AYAAAAwoJAAECAwECAgABBQQBAQICBg4CfwFBsIsFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACkhhc2hfRmluYWwAAwlIYXNoX0luaXQABQtIYXNoX1VwZGF0ZQAGDUhhc2hfR2V0U3RhdGUABw5IYXNoX0NhbGN1bGF0ZQAIClNUQVRFX1NJWkUDAQrTOAkFAEGACQvrAgIFfwF+AkAgAUEBSA0AAkACQAJAIAFBgAFBACgC4IoBIgJrIgNKDQAgASEEDAELQQBBADYC4IoBAkAgAkH/AEoNACACQeCJAWohBSAAIQRBACEGA0AgBSAELQAAOgAAIARBAWohBCAFQQFqIQUgAyAGQQFqIgZB/wFxSg0ACwtBAEEAKQPAiQEiB0KAAXw3A8CJAUEAQQApA8iJASAHQv9+Vq18NwPIiQFB4IkBEAIgACADaiEAAkAgASADayIEQYEBSA0AIAIgAWohBQNAQQBBACkDwIkBIgdCgAF8NwPAiQFBAEEAKQPIiQEgB0L/flatfDcDyIkBIAAQAiAAQYABaiEAIAVBgH9qIgVBgAJLDQALIAVBgH9qIQQMAQsgBEEATA0BC0EAIQUDQCAFQQAoAuCKAWpB4IkBaiAAIAVqLQAAOgAAIAQgBUEBaiIFQf8BcUoNAAsLQQBBACgC4IoBIARqNgLgigELC78uASR+QQBBACkD0IkBQQApA7CJASIBQQApA5CJAXwgACkDICICfCIDhULr+obav7X2wR+FQiCJIgRCq/DT9K/uvLc8fCIFIAGFQiiJIgYgA3wgACkDKCIBfCIHIASFQjCJIgggBXwiCSAGhUIBiSIKQQApA8iJAUEAKQOoiQEiBEEAKQOIiQF8IAApAxAiA3wiBYVCn9j52cKR2oKbf4VCIIkiC0K7zqqm2NDrs7t/fCIMIASFQiiJIg0gBXwgACkDGCIEfCIOfCAAKQNQIgV8Ig9BACkDwIkBQQApA6CJASIQQQApA4CJASIRfCAAKQMAIgZ8IhKFQtGFmu/6z5SH0QCFQiCJIhNCiJLznf/M+YTqAHwiFCAQhUIoiSIVIBJ8IAApAwgiEHwiFiAThUIwiSIXhUIgiSIYQQApA9iJAUEAKQO4iQEiE0EAKQOYiQF8IAApAzAiEnwiGYVC+cL4m5Gjs/DbAIVCIIkiGkLx7fT4paf9p6V/fCIbIBOFQiiJIhwgGXwgACkDOCITfCIZIBqFQjCJIhogG3wiG3wiHSAKhUIoiSIeIA98IAApA1giCnwiDyAYhUIwiSIYIB18Ih0gDiALhUIwiSIOIAx8Ih8gDYVCAYkiDCAWfCAAKQNAIgt8Ig0gGoVCIIkiFiAJfCIaIAyFQiiJIiAgDXwgACkDSCIJfCIhIBaFQjCJIhYgGyAchUIBiSIMIAd8IAApA2AiB3wiDSAOhUIgiSIOIBcgFHwiFHwiFyAMhUIoiSIbIA18IAApA2giDHwiHCAOhUIwiSIOIBd8IhcgG4VCAYkiGyAZIBQgFYVCAYkiFHwgACkDcCINfCIVIAiFQiCJIhkgH3wiHyAUhUIoiSIUIBV8IAApA3giCHwiFXwgDHwiIoVCIIkiI3wiJCAbhUIoiSIbICJ8IBJ8IiIgFyAYIBUgGYVCMIkiFSAffCIZIBSFQgGJIhQgIXwgDXwiH4VCIIkiGHwiFyAUhUIoiSIUIB98IAV8Ih8gGIVCMIkiGCAXfCIXIBSFQgGJIhR8IAF8IiEgFiAafCIWIBUgHSAehUIBiSIaIBx8IAl8IhyFQiCJIhV8Ih0gGoVCKIkiGiAcfCAIfCIcIBWFQjCJIhWFQiCJIh4gGSAOIBYgIIVCAYkiFiAPfCACfCIPhUIgiSIOfCIZIBaFQiiJIhYgD3wgC3wiDyAOhUIwiSIOIBl8Ihl8IiAgFIVCKIkiFCAhfCAEfCIhIB6FQjCJIh4gIHwiICAiICOFQjCJIiIgJHwiIyAbhUIBiSIbIBx8IAp8IhwgDoVCIIkiDiAXfCIXIBuFQiiJIhsgHHwgE3wiHCAOhUIwiSIOIBkgFoVCAYkiFiAffCAQfCIZICKFQiCJIh8gFSAdfCIVfCIdIBaFQiiJIhYgGXwgB3wiGSAfhUIwiSIfIB18Ih0gFoVCAYkiFiAVIBqFQgGJIhUgD3wgBnwiDyAYhUIgiSIYICN8IhogFYVCKIkiFSAPfCADfCIPfCAHfCIihUIgiSIjfCIkIBaFQiiJIhYgInwgBnwiIiAjhUIwiSIjICR8IiQgFoVCAYkiFiAOIBd8Ig4gDyAYhUIwiSIPICAgFIVCAYkiFCAZfCAKfCIXhUIgiSIYfCIZIBSFQiiJIhQgF3wgC3wiF3wgBXwiICAPIBp8Ig8gHyAOIBuFQgGJIg4gIXwgCHwiGoVCIIkiG3wiHyAOhUIoiSIOIBp8IAx8IhogG4VCMIkiG4VCIIkiISAdIB4gDyAVhUIBiSIPIBx8IAF8IhWFQiCJIhx8Ih0gD4VCKIkiDyAVfCADfCIVIByFQjCJIhwgHXwiHXwiHiAWhUIoiSIWICB8IA18IiAgIYVCMIkiISAefCIeIBogFyAYhUIwiSIXIBl8IhggFIVCAYkiFHwgCXwiGSAchUIgiSIaICR8IhwgFIVCKIkiFCAZfCACfCIZIBqFQjCJIhogHSAPhUIBiSIPICJ8IAR8Ih0gF4VCIIkiFyAbIB98Iht8Ih8gD4VCKIkiDyAdfCASfCIdIBeFQjCJIhcgH3wiHyAPhUIBiSIPIBsgDoVCAYkiDiAVfCATfCIVICOFQiCJIhsgGHwiGCAOhUIoiSIOIBV8IBB8IhV8IAx8IiKFQiCJIiN8IiQgD4VCKIkiDyAifCAHfCIiICOFQjCJIiMgJHwiJCAPhUIBiSIPIBogHHwiGiAVIBuFQjCJIhUgHiAWhUIBiSIWIB18IAR8IhuFQiCJIhx8Ih0gFoVCKIkiFiAbfCAQfCIbfCABfCIeIBUgGHwiFSAXIBogFIVCAYkiFCAgfCATfCIYhUIgiSIXfCIaIBSFQiiJIhQgGHwgCXwiGCAXhUIwiSIXhUIgiSIgIB8gISAVIA6FQgGJIg4gGXwgCnwiFYVCIIkiGXwiHyAOhUIoiSIOIBV8IA18IhUgGYVCMIkiGSAffCIffCIhIA+FQiiJIg8gHnwgBXwiHiAghUIwiSIgICF8IiEgGyAchUIwiSIbIB18IhwgFoVCAYkiFiAYfCADfCIYIBmFQiCJIhkgJHwiHSAWhUIoiSIWIBh8IBJ8IhggGYVCMIkiGSAfIA6FQgGJIg4gInwgAnwiHyAbhUIgiSIbIBcgGnwiF3wiGiAOhUIoiSIOIB98IAZ8Ih8gG4VCMIkiGyAafCIaIA6FQgGJIg4gFSAXIBSFQgGJIhR8IAh8IhUgI4VCIIkiFyAcfCIcIBSFQiiJIhQgFXwgC3wiFXwgBXwiIoVCIIkiI3wiJCAOhUIoiSIOICJ8IAh8IiIgGiAgIBUgF4VCMIkiFSAcfCIXIBSFQgGJIhQgGHwgCXwiGIVCIIkiHHwiGiAUhUIoiSIUIBh8IAZ8IhggHIVCMIkiHCAafCIaIBSFQgGJIhR8IAR8IiAgGSAdfCIZIBUgISAPhUIBiSIPIB98IAN8Ih2FQiCJIhV8Ih8gD4VCKIkiDyAdfCACfCIdIBWFQjCJIhWFQiCJIiEgFyAbIBkgFoVCAYkiFiAefCABfCIZhUIgiSIbfCIXIBaFQiiJIhYgGXwgE3wiGSAbhUIwiSIbIBd8Ihd8Ih4gFIVCKIkiFCAgfCAMfCIgICGFQjCJIiEgHnwiHiAiICOFQjCJIiIgJHwiIyAOhUIBiSIOIB18IBJ8Ih0gG4VCIIkiGyAafCIaIA6FQiiJIg4gHXwgC3wiHSAbhUIwiSIbIBcgFoVCAYkiFiAYfCANfCIXICKFQiCJIhggFSAffCIVfCIfIBaFQiiJIhYgF3wgEHwiFyAYhUIwiSIYIB98Ih8gFoVCAYkiFiAVIA+FQgGJIg8gGXwgCnwiFSAchUIgiSIZICN8IhwgD4VCKIkiDyAVfCAHfCIVfCASfCIihUIgiSIjfCIkIBaFQiiJIhYgInwgBXwiIiAjhUIwiSIjICR8IiQgFoVCAYkiFiAbIBp8IhogFSAZhUIwiSIVIB4gFIVCAYkiFCAXfCADfCIXhUIgiSIZfCIbIBSFQiiJIhQgF3wgB3wiF3wgAnwiHiAVIBx8IhUgGCAaIA6FQgGJIg4gIHwgC3wiGoVCIIkiGHwiHCAOhUIoiSIOIBp8IAR8IhogGIVCMIkiGIVCIIkiICAfICEgFSAPhUIBiSIPIB18IAZ8IhWFQiCJIh18Ih8gD4VCKIkiDyAVfCAKfCIVIB2FQjCJIh0gH3wiH3wiISAWhUIoiSIWIB58IAx8Ih4gIIVCMIkiICAhfCIhIBogFyAZhUIwiSIXIBt8IhkgFIVCAYkiFHwgEHwiGiAdhUIgiSIbICR8Ih0gFIVCKIkiFCAafCAJfCIaIBuFQjCJIhsgHyAPhUIBiSIPICJ8IBN8Ih8gF4VCIIkiFyAYIBx8Ihh8IhwgD4VCKIkiDyAffCABfCIfIBeFQjCJIhcgHHwiHCAPhUIBiSIPIBggDoVCAYkiDiAVfCAIfCIVICOFQiCJIhggGXwiGSAOhUIoiSIOIBV8IA18IhV8IA18IiKFQiCJIiN8IiQgD4VCKIkiDyAifCAMfCIiICOFQjCJIiMgJHwiJCAPhUIBiSIPIBsgHXwiGyAVIBiFQjCJIhUgISAWhUIBiSIWIB98IBB8IhiFQiCJIh18Ih8gFoVCKIkiFiAYfCAIfCIYfCASfCIhIBUgGXwiFSAXIBsgFIVCAYkiFCAefCAHfCIZhUIgiSIXfCIbIBSFQiiJIhQgGXwgAXwiGSAXhUIwiSIXhUIgiSIeIBwgICAVIA6FQgGJIg4gGnwgAnwiFYVCIIkiGnwiHCAOhUIoiSIOIBV8IAV8IhUgGoVCMIkiGiAcfCIcfCIgIA+FQiiJIg8gIXwgBHwiISAehUIwiSIeICB8IiAgGCAdhUIwiSIYIB98Ih0gFoVCAYkiFiAZfCAGfCIZIBqFQiCJIhogJHwiHyAWhUIoiSIWIBl8IBN8IhkgGoVCMIkiGiAcIA6FQgGJIg4gInwgCXwiHCAYhUIgiSIYIBcgG3wiF3wiGyAOhUIoiSIOIBx8IAN8IhwgGIVCMIkiGCAbfCIbIA6FQgGJIg4gFSAXIBSFQgGJIhR8IAt8IhUgI4VCIIkiFyAdfCIdIBSFQiiJIhQgFXwgCnwiFXwgBHwiIoVCIIkiI3wiJCAOhUIoiSIOICJ8IAl8IiIgGyAeIBUgF4VCMIkiFSAdfCIXIBSFQgGJIhQgGXwgDHwiGYVCIIkiHXwiGyAUhUIoiSIUIBl8IAp8IhkgHYVCMIkiHSAbfCIbIBSFQgGJIhR8IAN8Ih4gGiAffCIaIBUgICAPhUIBiSIPIBx8IAd8IhyFQiCJIhV8Ih8gD4VCKIkiDyAcfCAQfCIcIBWFQjCJIhWFQiCJIiAgFyAYIBogFoVCAYkiFiAhfCATfCIahUIgiSIYfCIXIBaFQiiJIhYgGnwgDXwiGiAYhUIwiSIYIBd8Ihd8IiEgFIVCKIkiFCAefCAFfCIeICCFQjCJIiAgIXwiISAiICOFQjCJIiIgJHwiIyAOhUIBiSIOIBx8IAt8IhwgGIVCIIkiGCAbfCIbIA6FQiiJIg4gHHwgEnwiHCAYhUIwiSIYIBcgFoVCAYkiFiAZfCABfCIXICKFQiCJIhkgFSAffCIVfCIfIBaFQiiJIhYgF3wgBnwiFyAZhUIwiSIZIB98Ih8gFoVCAYkiFiAVIA+FQgGJIg8gGnwgCHwiFSAdhUIgiSIaICN8Ih0gD4VCKIkiDyAVfCACfCIVfCANfCIihUIgiSIjfCIkIBaFQiiJIhYgInwgCXwiIiAjhUIwiSIjICR8IiQgFoVCAYkiFiAYIBt8IhggFSAahUIwiSIVICEgFIVCAYkiFCAXfCASfCIXhUIgiSIafCIbIBSFQiiJIhQgF3wgCHwiF3wgB3wiISAVIB18IhUgGSAYIA6FQgGJIg4gHnwgBnwiGIVCIIkiGXwiHSAOhUIoiSIOIBh8IAt8IhggGYVCMIkiGYVCIIkiHiAfICAgFSAPhUIBiSIPIBx8IAp8IhWFQiCJIhx8Ih8gD4VCKIkiDyAVfCAEfCIVIByFQjCJIhwgH3wiH3wiICAWhUIoiSIWICF8IAN8IiEgHoVCMIkiHiAgfCIgIBggFyAahUIwiSIXIBt8IhogFIVCAYkiFHwgBXwiGCAchUIgiSIbICR8IhwgFIVCKIkiFCAYfCABfCIYIBuFQjCJIhsgHyAPhUIBiSIPICJ8IAx8Ih8gF4VCIIkiFyAZIB18Ihl8Ih0gD4VCKIkiDyAffCATfCIfIBeFQjCJIhcgHXwiHSAPhUIBiSIPIBkgDoVCAYkiDiAVfCAQfCIVICOFQiCJIhkgGnwiGiAOhUIoiSIOIBV8IAJ8IhV8IBN8IiKFQiCJIiN8IiQgD4VCKIkiDyAifCASfCIiICOFQjCJIiMgJHwiJCAPhUIBiSIPIBsgHHwiGyAVIBmFQjCJIhUgICAWhUIBiSIWIB98IAt8IhmFQiCJIhx8Ih8gFoVCKIkiFiAZfCACfCIZfCAJfCIgIBUgGnwiFSAXIBsgFIVCAYkiFCAhfCAFfCIahUIgiSIXfCIbIBSFQiiJIhQgGnwgA3wiGiAXhUIwiSIXhUIgiSIhIB0gHiAVIA6FQgGJIg4gGHwgEHwiFYVCIIkiGHwiHSAOhUIoiSIOIBV8IAF8IhUgGIVCMIkiGCAdfCIdfCIeIA+FQiiJIg8gIHwgDXwiICAhhUIwiSIhIB58Ih4gGSAchUIwiSIZIB98IhwgFoVCAYkiFiAafCAIfCIaIBiFQiCJIhggJHwiHyAWhUIoiSIWIBp8IAp8IhogGIVCMIkiGCAdIA6FQgGJIg4gInwgBHwiHSAZhUIgiSIZIBcgG3wiF3wiGyAOhUIoiSIOIB18IAd8Ih0gGYVCMIkiGSAbfCIbIA6FQgGJIg4gFSAXIBSFQgGJIhR8IAx8IhUgI4VCIIkiFyAcfCIcIBSFQiiJIhQgFXwgBnwiFXwgEnwiIoVCIIkiI3wiJCAOhUIoiSIOICJ8IBN8IiIgGyAhIBUgF4VCMIkiFSAcfCIXIBSFQgGJIhQgGnwgBnwiGoVCIIkiHHwiGyAUhUIoiSIUIBp8IBB8IhogHIVCMIkiHCAbfCIbIBSFQgGJIhR8IA18IiEgGCAffCIYIBUgHiAPhUIBiSIPIB18IAJ8Ih2FQiCJIhV8Ih4gD4VCKIkiDyAdfCABfCIdIBWFQjCJIhWFQiCJIh8gFyAZIBggFoVCAYkiFiAgfCADfCIYhUIgiSIZfCIXIBaFQiiJIhYgGHwgBHwiGCAZhUIwiSIZIBd8Ihd8IiAgFIVCKIkiFCAhfCAIfCIhIB+FQjCJIh8gIHwiICAiICOFQjCJIiIgJHwiIyAOhUIBiSIOIB18IAd8Ih0gGYVCIIkiGSAbfCIbIA6FQiiJIg4gHXwgDHwiHSAZhUIwiSIZIBcgFoVCAYkiFiAafCALfCIXICKFQiCJIhogFSAefCIVfCIeIBaFQiiJIhYgF3wgCXwiFyAahUIwiSIaIB58Ih4gFoVCAYkiFiAVIA+FQgGJIg8gGHwgBXwiFSAchUIgiSIYICN8IhwgD4VCKIkiDyAVfCAKfCIVfCACfCIChUIgiSIifCIjIBaFQiiJIhYgAnwgC3wiAiAihUIwiSILICN8IiIgFoVCAYkiFiAZIBt8IhkgFSAYhUIwiSIVICAgFIVCAYkiFCAXfCANfCINhUIgiSIXfCIYIBSFQiiJIhQgDXwgBXwiBXwgEHwiECAVIBx8Ig0gGiAZIA6FQgGJIg4gIXwgDHwiDIVCIIkiFXwiGSAOhUIoiSIOIAx8IBJ8IhIgFYVCMIkiDIVCIIkiFSAeIB8gDSAPhUIBiSINIB18IAl8IgmFQiCJIg98IhogDYVCKIkiDSAJfCAIfCIJIA+FQjCJIgggGnwiD3wiGiAWhUIoiSIWIBB8IAd8IhAgEYUgDCAZfCIHIA6FQgGJIgwgCXwgCnwiCiALhUIgiSILIAUgF4VCMIkiBSAYfCIJfCIOIAyFQiiJIgwgCnwgE3wiEyALhUIwiSIKIA58IguFNwOAiQFBACADIAYgDyANhUIBiSINIAJ8fCICIAWFQiCJIgUgB3wiBiANhUIoiSIHIAJ8fCICQQApA4iJAYUgBCABIBIgCSAUhUIBiSIDfHwiASAIhUIgiSISICJ8IgkgA4VCKIkiAyABfHwiASAShUIwiSIEIAl8IhKFNwOIiQFBACATQQApA5CJAYUgECAVhUIwiSIQIBp8IhOFNwOQiQFBACABQQApA5iJAYUgAiAFhUIwiSICIAZ8IgGFNwOYiQFBACASIAOFQgGJQQApA6CJAYUgAoU3A6CJAUEAIBMgFoVCAYlBACkDqIkBhSAKhTcDqIkBQQAgASAHhUIBiUEAKQOwiQGFIASFNwOwiQFBACALIAyFQgGJQQApA7iJAYUgEIU3A7iJAQvdAgUBfwF+AX8BfgJ/IwBBwABrIgAkAAJAQQApA9CJAUIAUg0AQQBBACkDwIkBIgFBACgC4IoBIgKsfCIDNwPAiQFBAEEAKQPIiQEgAyABVK18NwPIiQECQEEALQDoigFFDQBBAEJ/NwPYiQELQQBCfzcD0IkBAkAgAkH/AEoNAEEAIQQDQCACIARqQeCJAWpBADoAACAEQQFqIgRBgAFBACgC4IoBIgJrSA0ACwtB4IkBEAIgAEEAKQOAiQE3AwAgAEEAKQOIiQE3AwggAEEAKQOQiQE3AxAgAEEAKQOYiQE3AxggAEEAKQOgiQE3AyAgAEEAKQOoiQE3AyggAEEAKQOwiQE3AzAgAEEAKQO4iQE3AzhBACgC5IoBIgVBAUgNAEEAIQRBACECA0AgBEGACWogACAEai0AADoAACAEQQFqIQQgBSACQQFqIgJB/wFxSg0ACwsgAEHAAGokAAv9AwMBfwF+AX8jAEGAAWsiAiQAQQBBgQI7AfKKAUEAIAE6APGKAUEAIAA6APCKAUGQfiEAA0AgAEGAiwFqQgA3AAAgAEH4igFqQgA3AAAgAEHwigFqQgA3AAAgAEEYaiIADQALQQAhAEEAQQApA/CKASIDQoiS853/zPmE6gCFNwOAiQFBAEEAKQP4igFCu86qptjQ67O7f4U3A4iJAUEAQQApA4CLAUKr8NP0r+68tzyFNwOQiQFBAEEAKQOIiwFC8e30+KWn/aelf4U3A5iJAUEAQQApA5CLAULRhZrv+s+Uh9EAhTcDoIkBQQBBACkDmIsBQp/Y+dnCkdqCm3+FNwOoiQFBAEEAKQOgiwFC6/qG2r+19sEfhTcDsIkBQQBBACkDqIsBQvnC+JuRo7Pw2wCFNwO4iQFBACADp0H/AXE2AuSKAQJAIAFBAUgNACACQgA3A3ggAkIANwNwIAJCADcDaCACQgA3A2AgAkIANwNYIAJCADcDUCACQgA3A0ggAkIANwNAIAJCADcDOCACQgA3AzAgAkIANwMoIAJCADcDICACQgA3AxggAkIANwMQIAJCADcDCCACQgA3AwBBACEEA0AgAiAAaiAAQYAJai0AADoAACAAQQFqIQAgBEEBaiIEQf8BcSABSA0ACyACQYABEAELIAJBgAFqJAALEgAgAEEDdkH/P3EgAEEQdhAECwkAQYAJIAAQAQsGAEGAiQELGwAgAUEDdkH/P3EgAUEQdhAEQYAJIAAQARADCwsLAQBBgAgLBPAAAAA=",Db="c6f286e6",Rb={name:Nb,data:_b,hash:Db};new Ir;function Dy(a){return!Number.isInteger(a)||a<8||a>512||a%8!==0?new Error("Invalid variant! Valid values: 8, 16, ..., 512"):null}function Ob(a,r){return a|r<<16}function Ah(a=512,r=null){if(Dy(a))return Promise.reject(Dy(a));let s=null,d=a;if(r!==null){if(s=hs(r),s.length>64)return Promise.reject(new Error("Max key length is 64 bytes"));d=Ob(a,s.length)}const v=a/8;return k2(Rb,v).then(m=>{d>512&&m.writeMemory(s),m.init(d);const A={init:d>512?()=>(m.writeMemory(s),m.init(d),A):()=>(m.init(d),A),update:p=>(m.update(p),A),digest:p=>m.digest(p),save:()=>m.save(),load:p=>(m.load(p),A),blockSize:128,digestSize:v};return A})}function kb(a,r,s){const d=[`m=${r.memorySize}`,`t=${r.iterations}`,`p=${r.parallelism}`].join(",");return`$argon2${r.hashType}$v=19$${d}$${_y(a,!1)}$${_y(s,!1)}`}const Ry=new DataView(new ArrayBuffer(4));function cs(a){return Ry.setInt32(0,a,!0),new Uint8Array(Ry.buffer)}function bd(a,r,s){return Do(this,void 0,void 0,function*(){if(s<=64){const E=yield Ah(s*8);return E.update(cs(s)),E.update(r),E.digest("binary")}const d=Math.ceil(s/32)-2,v=new Uint8Array(s);a.init(),a.update(cs(s)),a.update(r);let m=a.digest("binary");v.set(m.subarray(0,32),0);for(let E=1;E<d;E++)a.init(),a.update(m),m=a.digest("binary"),v.set(m.subarray(0,32),E*32);const A=s-32*d;let p;return A===64?(p=a,p.init()):p=yield Ah(A*8),p.update(m),m=p.digest("binary"),v.set(m.subarray(0,A),d*32),v})}function Mb(a){switch(a){case"d":return 0;case"i":return 1;default:return 2}}function Lb(a){return Do(this,void 0,void 0,function*(){var r;const{parallelism:s,iterations:d,hashLength:v}=a,m=hs(a.password),A=hs(a.salt),p=19,E=Mb(a.hashType),{memorySize:C}=a,D=hs((r=a.secret)!==null&&r!==void 0?r:""),[R,L]=yield Promise.all([k2(Bb,1024),Ah(512)]);R.setMemorySize(C*1024+1024);const _=new Uint8Array(24),V=new DataView(_.buffer);V.setInt32(0,s,!0),V.setInt32(4,v,!0),V.setInt32(8,C,!0),V.setInt32(12,d,!0),V.setInt32(16,p,!0),V.setInt32(20,E,!0),R.writeMemory(_,C*1024),L.init(),L.update(_),L.update(cs(m.length)),L.update(m),L.update(cs(A.length)),L.update(A),L.update(cs(D.length)),L.update(D),L.update(cs(0));const H=Math.floor(C/(s*4))*4,T=new Uint8Array(72),F=L.digest("binary");T.set(F);for(let X=0;X<s;X++){T.set(cs(0),64),T.set(cs(X),68);let M=X*H,I=yield bd(L,T,1024);R.writeMemory(I,M*1024),M+=1,T.set(cs(1),64),I=yield bd(L,T,1024),R.writeMemory(I,M*1024)}const U=new Uint8Array(1024);O2(U,R.calculate(new Uint8Array([]),C));const K=yield bd(L,U,v);if(a.outputType==="hex"){const X=new Uint8Array(v*2);return vh(X,K,v)}return a.outputType==="encoded"?kb(A,a,K):K})}const Ub=a=>{var r;if(!a||typeof a!="object")throw new Error("Invalid options parameter. It requires an object.");if(!a.password)throw new Error("Password must be specified");if(a.password=hs(a.password),a.password.length<1)throw new Error("Password must be specified");if(!a.salt)throw new Error("Salt must be specified");if(a.salt=hs(a.salt),a.salt.length<8)throw new Error("Salt should be at least 8 bytes long");if(a.secret=hs((r=a.secret)!==null&&r!==void 0?r:""),!Number.isInteger(a.iterations)||a.iterations<1)throw new Error("Iterations should be a positive number");if(!Number.isInteger(a.parallelism)||a.parallelism<1)throw new Error("Parallelism should be a positive number");if(!Number.isInteger(a.hashLength)||a.hashLength<4)throw new Error("Hash length should be at least 4 bytes.");if(!Number.isInteger(a.memorySize))throw new Error("Memory size should be specified.");if(a.memorySize<8*a.parallelism)throw new Error("Memory size should be at least 8 * parallelism.");if(a.outputType===void 0&&(a.outputType="hex"),!["hex","binary","encoded"].includes(a.outputType))throw new Error(`Insupported output type ${a.outputType}. Valid values: ['hex', 'binary', 'encoded']`)};function Fb(a){return Do(this,void 0,void 0,function*(){return Ub(a),Lb(Object.assign(Object.assign({},a),{hashType:"id"}))})}new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;new Ir;var wd,Oy;function Dn(){return Oy||(Oy=1,wd={options:{usePureJavaScript:!1}}),wd}var Ed={exports:{}},Id,ky;function Pb(){if(ky)return Id;ky=1;var a={};Id=a;var r={};a.encode=function(d,v,m){if(typeof v!="string")throw new TypeError('"alphabet" must be a string.');if(m!==void 0&&typeof m!="number")throw new TypeError('"maxline" must be a number.');var A="";if(!(d instanceof Uint8Array))A=s(d,v);else{var p=0,E=v.length,C=v.charAt(0),D=[0];for(p=0;p<d.length;++p){for(var R=0,L=d[p];R<D.length;++R)L+=D[R]<<8,D[R]=L%E,L=L/E|0;for(;L>0;)D.push(L%E),L=L/E|0}for(p=0;d[p]===0&&p<d.length-1;++p)A+=C;for(p=D.length-1;p>=0;--p)A+=v[D[p]]}if(m){var _=new RegExp(".{1,"+m+"}","g");A=A.match(_).join(`\r
`)}return A},a.decode=function(d,v){if(typeof d!="string")throw new TypeError('"input" must be a string.');if(typeof v!="string")throw new TypeError('"alphabet" must be a string.');var m=r[v];if(!m){m=r[v]=[];for(var A=0;A<v.length;++A)m[v.charCodeAt(A)]=A}d=d.replace(/\s/g,"");for(var p=v.length,E=v.charAt(0),C=[0],A=0;A<d.length;A++){var D=m[d.charCodeAt(A)];if(D===void 0)return;for(var R=0,L=D;R<C.length;++R)L+=C[R]*p,C[R]=L&255,L>>=8;for(;L>0;)C.push(L&255),L>>=8}for(var _=0;d[_]===E&&_<d.length-1;++_)C.push(0);return typeof Buffer<"u"?Buffer.from(C.reverse()):new Uint8Array(C.reverse())};function s(d,v){var m=0,A=v.length,p=v.charAt(0),E=[0];for(m=0;m<d.length();++m){for(var C=0,D=d.at(m);C<E.length;++C)D+=E[C]<<8,E[C]=D%A,D=D/A|0;for(;D>0;)E.push(D%A),D=D/A|0}var R="";for(m=0;d.at(m)===0&&m<d.length()-1;++m)R+=p;for(m=E.length-1;m>=0;--m)R+=v[E[m]];return R}return Id}var My;function Zn(){if(My)return Ed.exports;My=1;var a=Dn(),r=Pb(),s=Ed.exports=a.util=a.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){s.nextTick=process.nextTick,typeof setImmediate=="function"?s.setImmediate=setImmediate:s.setImmediate=s.nextTick;return}if(typeof setImmediate=="function"){s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},s.nextTick=function(w){return setImmediate(w)};return}if(s.setImmediate=function(w){setTimeout(w,0)},typeof window<"u"&&typeof window.postMessage=="function"){let w=function(j){if(j.source===window&&j.data===T){j.stopPropagation();var ae=F.slice();F.length=0,ae.forEach(function(de){de()})}};var I=w,T="forge.setImmediate",F=[];s.setImmediate=function(j){F.push(j),F.length===1&&window.postMessage(T,"*")},window.addEventListener("message",w,!0)}if(typeof MutationObserver<"u"){var U=Date.now(),K=!0,X=document.createElement("div"),F=[];new MutationObserver(function(){var j=F.slice();F.length=0,j.forEach(function(ae){ae()})}).observe(X,{attributes:!0});var M=s.setImmediate;s.setImmediate=function(j){Date.now()-U>15?(U=Date.now(),M(j)):(F.push(j),F.length===1&&X.setAttribute("a",K=!K))}}s.nextTick=s.setImmediate})(),s.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,s.globalScope=(function(){return s.isNodejs?dl:typeof self>"u"?window:self})(),s.isArray=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},s.isArrayBuffer=function(T){return typeof ArrayBuffer<"u"&&T instanceof ArrayBuffer},s.isArrayBufferView=function(T){return T&&s.isArrayBuffer(T.buffer)&&T.byteLength!==void 0};function d(T){if(!(T===8||T===16||T===24||T===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+T)}s.ByteBuffer=v;function v(T){if(this.data="",this.read=0,typeof T=="string")this.data=T;else if(s.isArrayBuffer(T)||s.isArrayBufferView(T))if(typeof Buffer<"u"&&T instanceof Buffer)this.data=T.toString("binary");else{var F=new Uint8Array(T);try{this.data=String.fromCharCode.apply(null,F)}catch{for(var U=0;U<F.length;++U)this.putByte(F[U])}}else(T instanceof v||typeof T=="object"&&typeof T.data=="string"&&typeof T.read=="number")&&(this.data=T.data,this.read=T.read);this._constructedStringLength=0}s.ByteStringBuffer=v;var m=4096;s.ByteStringBuffer.prototype._optimizeConstructedString=function(T){this._constructedStringLength+=T,this._constructedStringLength>m&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(T){return this.putBytes(String.fromCharCode(T))},s.ByteStringBuffer.prototype.fillWithByte=function(T,F){T=String.fromCharCode(T);for(var U=this.data;F>0;)F&1&&(U+=T),F>>>=1,F>0&&(T+=T);return this.data=U,this._optimizeConstructedString(F),this},s.ByteStringBuffer.prototype.putBytes=function(T){return this.data+=T,this._optimizeConstructedString(T.length),this},s.ByteStringBuffer.prototype.putString=function(T){return this.putBytes(s.encodeUtf8(T))},s.ByteStringBuffer.prototype.putInt16=function(T){return this.putBytes(String.fromCharCode(T>>8&255)+String.fromCharCode(T&255))},s.ByteStringBuffer.prototype.putInt24=function(T){return this.putBytes(String.fromCharCode(T>>16&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T&255))},s.ByteStringBuffer.prototype.putInt32=function(T){return this.putBytes(String.fromCharCode(T>>24&255)+String.fromCharCode(T>>16&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T&255))},s.ByteStringBuffer.prototype.putInt16Le=function(T){return this.putBytes(String.fromCharCode(T&255)+String.fromCharCode(T>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(T){return this.putBytes(String.fromCharCode(T&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(T){return this.putBytes(String.fromCharCode(T&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T>>16&255)+String.fromCharCode(T>>24&255))},s.ByteStringBuffer.prototype.putInt=function(T,F){d(F);var U="";do F-=8,U+=String.fromCharCode(T>>F&255);while(F>0);return this.putBytes(U)},s.ByteStringBuffer.prototype.putSignedInt=function(T,F){return T<0&&(T+=2<<F-1),this.putInt(T,F)},s.ByteStringBuffer.prototype.putBuffer=function(T){return this.putBytes(T.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var T=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,T},s.ByteStringBuffer.prototype.getInt24=function(){var T=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,T},s.ByteStringBuffer.prototype.getInt32=function(){var T=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,T},s.ByteStringBuffer.prototype.getInt16Le=function(){var T=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,T},s.ByteStringBuffer.prototype.getInt24Le=function(){var T=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,T},s.ByteStringBuffer.prototype.getInt32Le=function(){var T=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,T},s.ByteStringBuffer.prototype.getInt=function(T){d(T);var F=0;do F=(F<<8)+this.data.charCodeAt(this.read++),T-=8;while(T>0);return F},s.ByteStringBuffer.prototype.getSignedInt=function(T){var F=this.getInt(T),U=2<<T-2;return F>=U&&(F-=U<<1),F},s.ByteStringBuffer.prototype.getBytes=function(T){var F;return T?(T=Math.min(this.length(),T),F=this.data.slice(this.read,this.read+T),this.read+=T):T===0?F="":(F=this.read===0?this.data:this.data.slice(this.read),this.clear()),F},s.ByteStringBuffer.prototype.bytes=function(T){return typeof T>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+T)},s.ByteStringBuffer.prototype.at=function(T){return this.data.charCodeAt(this.read+T)},s.ByteStringBuffer.prototype.setAt=function(T,F){return this.data=this.data.substr(0,this.read+T)+String.fromCharCode(F)+this.data.substr(this.read+T+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var T=s.createBuffer(this.data);return T.read=this.read,T},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(T){var F=Math.max(0,this.length()-T);return this.data=this.data.substr(this.read,F),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var T="",F=this.read;F<this.data.length;++F){var U=this.data.charCodeAt(F);U<16&&(T+="0"),T+=U.toString(16)}return T},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())};function A(T,F){F=F||{},this.read=F.readOffset||0,this.growSize=F.growSize||1024;var U=s.isArrayBuffer(T),K=s.isArrayBufferView(T);if(U||K){U?this.data=new DataView(T):this.data=new DataView(T.buffer,T.byteOffset,T.byteLength),this.write="writeOffset"in F?F.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,T!=null&&this.putBytes(T),"writeOffset"in F&&(this.write=F.writeOffset)}s.DataBuffer=A,s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(T,F){if(this.length()>=T)return this;F=Math.max(F||this.growSize,T);var U=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),K=new Uint8Array(this.length()+F);return K.set(U),this.data=new DataView(K.buffer),this},s.DataBuffer.prototype.putByte=function(T){return this.accommodate(1),this.data.setUint8(this.write++,T),this},s.DataBuffer.prototype.fillWithByte=function(T,F){this.accommodate(F);for(var U=0;U<F;++U)this.data.setUint8(T);return this},s.DataBuffer.prototype.putBytes=function(T,F){if(s.isArrayBufferView(T)){var U=new Uint8Array(T.buffer,T.byteOffset,T.byteLength),K=U.byteLength-U.byteOffset;this.accommodate(K);var X=new Uint8Array(this.data.buffer,this.write);return X.set(U),this.write+=K,this}if(s.isArrayBuffer(T)){var U=new Uint8Array(T);this.accommodate(U.byteLength);var X=new Uint8Array(this.data.buffer);return X.set(U,this.write),this.write+=U.byteLength,this}if(T instanceof s.DataBuffer||typeof T=="object"&&typeof T.read=="number"&&typeof T.write=="number"&&s.isArrayBufferView(T.data)){var U=new Uint8Array(T.data.byteLength,T.read,T.length());this.accommodate(U.byteLength);var X=new Uint8Array(T.data.byteLength,this.write);return X.set(U),this.write+=U.byteLength,this}if(T instanceof s.ByteStringBuffer&&(T=T.data,F="binary"),F=F||"binary",typeof T=="string"){var M;if(F==="hex")return this.accommodate(Math.ceil(T.length/2)),M=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(T,M,this.write),this;if(F==="base64")return this.accommodate(Math.ceil(T.length/4)*3),M=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(T,M,this.write),this;if(F==="utf8"&&(T=s.encodeUtf8(T),F="binary"),F==="binary"||F==="raw")return this.accommodate(T.length),M=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(M),this;if(F==="utf16")return this.accommodate(T.length*2),M=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(M),this;throw new Error("Invalid encoding: "+F)}throw Error("Invalid parameter: "+T)},s.DataBuffer.prototype.putBuffer=function(T){return this.putBytes(T),T.clear(),this},s.DataBuffer.prototype.putString=function(T){return this.putBytes(T,"utf16")},s.DataBuffer.prototype.putInt16=function(T){return this.accommodate(2),this.data.setInt16(this.write,T),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(T){return this.accommodate(3),this.data.setInt16(this.write,T>>8&65535),this.data.setInt8(this.write,T>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(T){return this.accommodate(4),this.data.setInt32(this.write,T),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(T){return this.accommodate(2),this.data.setInt16(this.write,T,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(T){return this.accommodate(3),this.data.setInt8(this.write,T>>16&255),this.data.setInt16(this.write,T>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(T){return this.accommodate(4),this.data.setInt32(this.write,T,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(T,F){d(F),this.accommodate(F/8);do F-=8,this.data.setInt8(this.write++,T>>F&255);while(F>0);return this},s.DataBuffer.prototype.putSignedInt=function(T,F){return d(F),this.accommodate(F/8),T<0&&(T+=2<<F-1),this.putInt(T,F)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var T=this.data.getInt16(this.read);return this.read+=2,T},s.DataBuffer.prototype.getInt24=function(){var T=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,T},s.DataBuffer.prototype.getInt32=function(){var T=this.data.getInt32(this.read);return this.read+=4,T},s.DataBuffer.prototype.getInt16Le=function(){var T=this.data.getInt16(this.read,!0);return this.read+=2,T},s.DataBuffer.prototype.getInt24Le=function(){var T=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,T},s.DataBuffer.prototype.getInt32Le=function(){var T=this.data.getInt32(this.read,!0);return this.read+=4,T},s.DataBuffer.prototype.getInt=function(T){d(T);var F=0;do F=(F<<8)+this.data.getInt8(this.read++),T-=8;while(T>0);return F},s.DataBuffer.prototype.getSignedInt=function(T){var F=this.getInt(T),U=2<<T-2;return F>=U&&(F-=U<<1),F},s.DataBuffer.prototype.getBytes=function(T){var F;return T?(T=Math.min(this.length(),T),F=this.data.slice(this.read,this.read+T),this.read+=T):T===0?F="":(F=this.read===0?this.data:this.data.slice(this.read),this.clear()),F},s.DataBuffer.prototype.bytes=function(T){return typeof T>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+T)},s.DataBuffer.prototype.at=function(T){return this.data.getUint8(this.read+T)},s.DataBuffer.prototype.setAt=function(T,F){return this.data.setUint8(T,F),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var T=new Uint8Array(this.data.buffer,this.read),F=new Uint8Array(T.byteLength);F.set(T),this.data=new DataView(F),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(T){return this.write=Math.max(0,this.length()-T),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var T="",F=this.read;F<this.data.byteLength;++F){var U=this.data.getUint8(F);U<16&&(T+="0"),T+=U.toString(16)}return T},s.DataBuffer.prototype.toString=function(T){var F=new Uint8Array(this.data,this.read,this.length());if(T=T||"utf8",T==="binary"||T==="raw")return s.binary.raw.encode(F);if(T==="hex")return s.binary.hex.encode(F);if(T==="base64")return s.binary.base64.encode(F);if(T==="utf8")return s.text.utf8.decode(F);if(T==="utf16")return s.text.utf16.decode(F);throw new Error("Invalid encoding: "+T)},s.createBuffer=function(T,F){return F=F||"raw",T!==void 0&&F==="utf8"&&(T=s.encodeUtf8(T)),new s.ByteBuffer(T)},s.fillString=function(T,F){for(var U="";F>0;)F&1&&(U+=T),F>>>=1,F>0&&(T+=T);return U},s.xorBytes=function(T,F,U){for(var K="",X="",M="",I=0,w=0;U>0;--U,++I)X=T.charCodeAt(I)^F.charCodeAt(I),w>=10&&(K+=M,M="",w=0),M+=String.fromCharCode(X),++w;return K+=M,K},s.hexToBytes=function(T){var F="",U=0;for(T.length&!0&&(U=1,F+=String.fromCharCode(parseInt(T[0],16)));U<T.length;U+=2)F+=String.fromCharCode(parseInt(T.substr(U,2),16));return F},s.bytesToHex=function(T){return s.createBuffer(T).toHex()},s.int32ToBytes=function(T){return String.fromCharCode(T>>24&255)+String.fromCharCode(T>>16&255)+String.fromCharCode(T>>8&255)+String.fromCharCode(T&255)};var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",E=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],C="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(T,F){for(var U="",K="",X,M,I,w=0;w<T.length;)X=T.charCodeAt(w++),M=T.charCodeAt(w++),I=T.charCodeAt(w++),U+=p.charAt(X>>2),U+=p.charAt((X&3)<<4|M>>4),isNaN(M)?U+="==":(U+=p.charAt((M&15)<<2|I>>6),U+=isNaN(I)?"=":p.charAt(I&63)),F&&U.length>F&&(K+=U.substr(0,F)+`\r
`,U=U.substr(F));return K+=U,K},s.decode64=function(T){T=T.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var F="",U,K,X,M,I=0;I<T.length;)U=E[T.charCodeAt(I++)-43],K=E[T.charCodeAt(I++)-43],X=E[T.charCodeAt(I++)-43],M=E[T.charCodeAt(I++)-43],F+=String.fromCharCode(U<<2|K>>4),X!==64&&(F+=String.fromCharCode((K&15)<<4|X>>2),M!==64&&(F+=String.fromCharCode((X&3)<<6|M)));return F},s.encodeUtf8=function(T){return unescape(encodeURIComponent(T))},s.decodeUtf8=function(T){return decodeURIComponent(escape(T))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:r.encode,decode:r.decode}},s.binary.raw.encode=function(T){return String.fromCharCode.apply(null,T)},s.binary.raw.decode=function(T,F,U){var K=F;K||(K=new Uint8Array(T.length)),U=U||0;for(var X=U,M=0;M<T.length;++M)K[X++]=T.charCodeAt(M);return F?X-U:K},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(T,F,U){var K=F;K||(K=new Uint8Array(Math.ceil(T.length/2))),U=U||0;var X=0,M=U;for(T.length&1&&(X=1,K[M++]=parseInt(T[0],16));X<T.length;X+=2)K[M++]=parseInt(T.substr(X,2),16);return F?M-U:K},s.binary.base64.encode=function(T,F){for(var U="",K="",X,M,I,w=0;w<T.byteLength;)X=T[w++],M=T[w++],I=T[w++],U+=p.charAt(X>>2),U+=p.charAt((X&3)<<4|M>>4),isNaN(M)?U+="==":(U+=p.charAt((M&15)<<2|I>>6),U+=isNaN(I)?"=":p.charAt(I&63)),F&&U.length>F&&(K+=U.substr(0,F)+`\r
`,U=U.substr(F));return K+=U,K},s.binary.base64.decode=function(T,F,U){var K=F;K||(K=new Uint8Array(Math.ceil(T.length/4)*3)),T=T.replace(/[^A-Za-z0-9\+\/\=]/g,""),U=U||0;for(var X,M,I,w,j=0,ae=U;j<T.length;)X=E[T.charCodeAt(j++)-43],M=E[T.charCodeAt(j++)-43],I=E[T.charCodeAt(j++)-43],w=E[T.charCodeAt(j++)-43],K[ae++]=X<<2|M>>4,I!==64&&(K[ae++]=(M&15)<<4|I>>2,w!==64&&(K[ae++]=(I&3)<<6|w));return F?ae-U:K.subarray(0,ae)},s.binary.base58.encode=function(T,F){return s.binary.baseN.encode(T,C,F)},s.binary.base58.decode=function(T,F){return s.binary.baseN.decode(T,C,F)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(T,F,U){T=s.encodeUtf8(T);var K=F;K||(K=new Uint8Array(T.length)),U=U||0;for(var X=U,M=0;M<T.length;++M)K[X++]=T.charCodeAt(M);return F?X-U:K},s.text.utf8.decode=function(T){return s.decodeUtf8(String.fromCharCode.apply(null,T))},s.text.utf16.encode=function(T,F,U){var K=F;K||(K=new Uint8Array(T.length*2));var X=new Uint16Array(K.buffer);U=U||0;for(var M=U,I=U,w=0;w<T.length;++w)X[I++]=T.charCodeAt(w),M+=2;return F?M-U:K},s.text.utf16.decode=function(T){return String.fromCharCode.apply(null,new Uint16Array(T.buffer))},s.deflate=function(T,F,U){if(F=s.decode64(T.deflate(s.encode64(F)).rval),U){var K=2,X=F.charCodeAt(1);X&32&&(K=6),F=F.substring(K,F.length-4)}return F},s.inflate=function(T,F,U){var K=T.inflate(s.encode64(F)).rval;return K===null?null:s.decode64(K)};var D=function(T,F,U){if(!T)throw new Error("WebStorage not available.");var K;if(U===null?K=T.removeItem(F):(U=s.encode64(JSON.stringify(U)),K=T.setItem(F,U)),typeof K<"u"&&K.rval!==!0){var X=new Error(K.error.message);throw X.id=K.error.id,X.name=K.error.name,X}},R=function(T,F){if(!T)throw new Error("WebStorage not available.");var U=T.getItem(F);if(T.init)if(U.rval===null){if(U.error){var K=new Error(U.error.message);throw K.id=U.error.id,K.name=U.error.name,K}U=null}else U=U.rval;return U!==null&&(U=JSON.parse(s.decode64(U))),U},L=function(T,F,U,K){var X=R(T,F);X===null&&(X={}),X[U]=K,D(T,F,X)},_=function(T,F,U){var K=R(T,F);return K!==null&&(K=U in K?K[U]:null),K},V=function(T,F,U){var K=R(T,F);if(K!==null&&U in K){delete K[U];var X=!0;for(var M in K){X=!1;break}X&&(K=null),D(T,F,K)}},P=function(T,F){D(T,F,null)},H=function(T,F,U){var K=null;typeof U>"u"&&(U=["web","flash"]);var X,M=!1,I=null;for(var w in U){X=U[w];try{if(X==="flash"||X==="both"){if(F[0]===null)throw new Error("Flash local storage not available.");K=T.apply(this,F),M=X==="flash"}(X==="web"||X==="both")&&(F[0]=localStorage,K=T.apply(this,F),M=!0)}catch(j){I=j}if(M)break}if(!M)throw I;return K};return s.setItem=function(T,F,U,K,X){H(L,arguments,X)},s.getItem=function(T,F,U,K){return H(_,arguments,K)},s.removeItem=function(T,F,U,K){H(V,arguments,K)},s.clearItems=function(T,F,U){H(P,arguments,U)},s.isEmpty=function(T){for(var F in T)if(T.hasOwnProperty(F))return!1;return!0},s.format=function(T){for(var F=/%./g,U,K,X=0,M=[],I=0;U=F.exec(T);){K=T.substring(I,F.lastIndex-2),K.length>0&&M.push(K),I=F.lastIndex;var w=U[0][1];switch(w){case"s":case"o":X<arguments.length?M.push(arguments[X+++1]):M.push("<?>");break;case"%":M.push("%");break;default:M.push("<%"+w+"?>")}}return M.push(T.substring(I)),M.join("")},s.formatNumber=function(T,F,U,K){var X=T,M=isNaN(F=Math.abs(F))?2:F,I=U===void 0?",":U,w=K===void 0?".":K,j=X<0?"-":"",ae=parseInt(X=Math.abs(+X||0).toFixed(M),10)+"",de=ae.length>3?ae.length%3:0;return j+(de?ae.substr(0,de)+w:"")+ae.substr(de).replace(/(\d{3})(?=\d)/g,"$1"+w)+(M?I+Math.abs(X-ae).toFixed(M).slice(2):"")},s.formatSize=function(T){return T>=1073741824?T=s.formatNumber(T/1073741824,2,".","")+" GiB":T>=1048576?T=s.formatNumber(T/1048576,2,".","")+" MiB":T>=1024?T=s.formatNumber(T/1024,0)+" KiB":T=s.formatNumber(T,0)+" bytes",T},s.bytesFromIP=function(T){return T.indexOf(".")!==-1?s.bytesFromIPv4(T):T.indexOf(":")!==-1?s.bytesFromIPv6(T):null},s.bytesFromIPv4=function(T){if(T=T.split("."),T.length!==4)return null;for(var F=s.createBuffer(),U=0;U<T.length;++U){var K=parseInt(T[U],10);if(isNaN(K))return null;F.putByte(K)}return F.getBytes()},s.bytesFromIPv6=function(T){var F=0;T=T.split(":").filter(function(I){return I.length===0&&++F,!0});for(var U=(8-T.length+F)*2,K=s.createBuffer(),X=0;X<8;++X){if(!T[X]||T[X].length===0){K.fillWithByte(0,U),U=0;continue}var M=s.hexToBytes(T[X]);M.length<2&&K.putByte(0),K.putBytes(M)}return K.getBytes()},s.bytesToIP=function(T){return T.length===4?s.bytesToIPv4(T):T.length===16?s.bytesToIPv6(T):null},s.bytesToIPv4=function(T){if(T.length!==4)return null;for(var F=[],U=0;U<T.length;++U)F.push(T.charCodeAt(U));return F.join(".")},s.bytesToIPv6=function(T){if(T.length!==16)return null;for(var F=[],U=[],K=0,X=0;X<T.length;X+=2){for(var M=s.bytesToHex(T[X]+T[X+1]);M[0]==="0"&&M!=="0";)M=M.substr(1);if(M==="0"){var I=U[U.length-1],w=F.length;!I||w!==I.end+1?U.push({start:w,end:w}):(I.end=w,I.end-I.start>U[K].end-U[K].start&&(K=U.length-1))}F.push(M)}if(U.length>0){var j=U[K];j.end-j.start>0&&(F.splice(j.start,j.end-j.start+1,""),j.start===0&&F.unshift(""),j.end===7&&F.push(""))}return F.join(":")},s.estimateCores=function(T,F){if(typeof T=="function"&&(F=T,T={}),T=T||{},"cores"in s&&!T.update)return F(null,s.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,F(null,s.cores);if(typeof Worker>"u")return s.cores=1,F(null,s.cores);if(typeof Blob>"u")return s.cores=2,F(null,s.cores);var U=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(I){var w=Date.now(),j=w+4;self.postMessage({st:w,et:j})})}).toString(),")()"],{type:"application/javascript"}));K([],5,16);function K(I,w,j){if(w===0){var ae=Math.floor(I.reduce(function(de,ee){return de+ee},0)/I.length);return s.cores=Math.max(1,ae),URL.revokeObjectURL(U),F(null,s.cores)}X(j,function(de,ee){I.push(M(j,ee)),K(I,w-1,j)})}function X(I,w){for(var j=[],ae=[],de=0;de<I;++de){var ee=new Worker(U);ee.addEventListener("message",function(se){if(ae.push(se.data),ae.length===I){for(var Ae=0;Ae<I;++Ae)j[Ae].terminate();w(null,ae)}}),j.push(ee)}for(var de=0;de<I;++de)j[de].postMessage(de)}function M(I,w){for(var j=[],ae=0;ae<I;++ae)for(var de=w[ae],ee=j[ae]=[],se=0;se<I;++se)if(ae!==se){var Ae=w[se];(de.st>Ae.st&&de.st<Ae.et||Ae.st>de.st&&Ae.st<de.et)&&ee.push(se)}return j.reduce(function(oe,he){return Math.max(oe,he.length)},0)}},Ed.exports}var Sd,Ly;function Qh(){if(Ly)return Sd;Ly=1;var a=Dn();Zn(),Sd=a.cipher=a.cipher||{},a.cipher.algorithms=a.cipher.algorithms||{},a.cipher.createCipher=function(s,d){var v=s;if(typeof v=="string"&&(v=a.cipher.getAlgorithm(v),v&&(v=v())),!v)throw new Error("Unsupported algorithm: "+s);return new a.cipher.BlockCipher({algorithm:v,key:d,decrypt:!1})},a.cipher.createDecipher=function(s,d){var v=s;if(typeof v=="string"&&(v=a.cipher.getAlgorithm(v),v&&(v=v())),!v)throw new Error("Unsupported algorithm: "+s);return new a.cipher.BlockCipher({algorithm:v,key:d,decrypt:!0})},a.cipher.registerAlgorithm=function(s,d){s=s.toUpperCase(),a.cipher.algorithms[s]=d},a.cipher.getAlgorithm=function(s){return s=s.toUpperCase(),s in a.cipher.algorithms?a.cipher.algorithms[s]:null};var r=a.cipher.BlockCipher=function(s){this.algorithm=s.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=s.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=s.decrypt,this.algorithm.initialize(s)};return r.prototype.start=function(s){s=s||{};var d={};for(var v in s)d[v]=s[v];d.decrypt=this._decrypt,this._finish=!1,this._input=a.util.createBuffer(),this.output=s.output||a.util.createBuffer(),this.mode.start(d)},r.prototype.update=function(s){for(s&&this._input.putBuffer(s);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(s){s&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(v){return s(this.blockSize,v,!1)},this.mode.unpad=function(v){return s(this.blockSize,v,!0)});var d={};return d.decrypt=this._decrypt,d.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,d)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,d))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,d))},Sd}var Td={exports:{}},Uy;function M2(){if(Uy)return Td.exports;Uy=1;var a=Dn();Zn(),a.cipher=a.cipher||{};var r=Td.exports=a.cipher.modes=a.cipher.modes||{};r.ecb=function(m){m=m||{},this.name="ECB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(m){},r.ecb.prototype.encrypt=function(m,A,p){if(m.length()<this.blockSize&&!(p&&m.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=m.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var E=0;E<this._ints;++E)A.putInt32(this._outBlock[E])},r.ecb.prototype.decrypt=function(m,A,p){if(m.length()<this.blockSize&&!(p&&m.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=m.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var E=0;E<this._ints;++E)A.putInt32(this._outBlock[E])},r.ecb.prototype.pad=function(m,A){var p=m.length()===this.blockSize?this.blockSize:this.blockSize-m.length();return m.fillWithByte(p,p),!0},r.ecb.prototype.unpad=function(m,A){if(A.overflow>0)return!1;var p=m.length(),E=m.at(p-1);return E>this.blockSize<<2?!1:(m.truncate(E),!0)},r.cbc=function(m){m=m||{},this.name="CBC",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(m){if(m.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in m)this._iv=s(m.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},r.cbc.prototype.encrypt=function(m,A,p){if(m.length()<this.blockSize&&!(p&&m.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=this._prev[E]^m.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var E=0;E<this._ints;++E)A.putInt32(this._outBlock[E]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(m,A,p){if(m.length()<this.blockSize&&!(p&&m.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=m.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var E=0;E<this._ints;++E)A.putInt32(this._prev[E]^this._outBlock[E]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(m,A){var p=m.length()===this.blockSize?this.blockSize:this.blockSize-m.length();return m.fillWithByte(p,p),!0},r.cbc.prototype.unpad=function(m,A){if(A.overflow>0)return!1;var p=m.length(),E=m.at(p-1);return E>this.blockSize<<2?!1:(m.truncate(E),!0)},r.cfb=function(m){m=m||{},this.name="CFB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=s(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(m,A,p){var E=m.length();if(E===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&E>=this.blockSize){for(var C=0;C<this._ints;++C)this._inBlock[C]=m.getInt32()^this._outBlock[C],A.putInt32(this._inBlock[C]);return}var D=(this.blockSize-E)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialBlock[C]=m.getInt32()^this._outBlock[C],this._partialOutput.putInt32(this._partialBlock[C]);if(D>0)m.read-=this.blockSize;else for(var C=0;C<this._ints;++C)this._inBlock[C]=this._partialBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0},r.cfb.prototype.decrypt=function(m,A,p){var E=m.length();if(E===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&E>=this.blockSize){for(var C=0;C<this._ints;++C)this._inBlock[C]=m.getInt32(),A.putInt32(this._inBlock[C]^this._outBlock[C]);return}var D=(this.blockSize-E)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialBlock[C]=m.getInt32(),this._partialOutput.putInt32(this._partialBlock[C]^this._outBlock[C]);if(D>0)m.read-=this.blockSize;else for(var C=0;C<this._ints;++C)this._inBlock[C]=this._partialBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0},r.ofb=function(m){m=m||{},this.name="OFB",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=s(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(m,A,p){var E=m.length();if(m.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&E>=this.blockSize){for(var C=0;C<this._ints;++C)A.putInt32(m.getInt32()^this._outBlock[C]),this._inBlock[C]=this._outBlock[C];return}var D=(this.blockSize-E)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialOutput.putInt32(m.getInt32()^this._outBlock[C]);if(D>0)m.read-=this.blockSize;else for(var C=0;C<this._ints;++C)this._inBlock[C]=this._outBlock[C];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(m){m=m||{},this.name="CTR",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");this._iv=s(m.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(m,A,p){var E=m.length();if(E===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&E>=this.blockSize)for(var C=0;C<this._ints;++C)A.putInt32(m.getInt32()^this._outBlock[C]);else{var D=(this.blockSize-E)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialOutput.putInt32(m.getInt32()^this._outBlock[C]);if(D>0&&(m.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}d(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(m){m=m||{},this.name="GCM",this.cipher=m.cipher,this.blockSize=m.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(m){if(!("iv"in m))throw new Error("Invalid IV parameter.");var A=a.util.createBuffer(m.iv);this._cipherLength=0;var p;if("additionalData"in m?p=a.util.createBuffer(m.additionalData):p=a.util.createBuffer(),"tagLength"in m?this._tagLength=m.tagLength:this._tagLength=128,this._tag=null,m.decrypt&&(this._tag=a.util.createBuffer(m.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var E=A.length();if(E===12)this._j0=[A.getInt32(),A.getInt32(),A.getInt32(),1];else{for(this._j0=[0,0,0,0];A.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[A.getInt32(),A.getInt32(),A.getInt32(),A.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(v(E*8)))}this._inBlock=this._j0.slice(0),d(this._inBlock),this._partialBytes=0,p=a.util.createBuffer(p),this._aDataLength=v(p.length()*8);var C=p.length()%this.blockSize;for(C&&p.fillWithByte(0,this.blockSize-C),this._s=[0,0,0,0];p.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[p.getInt32(),p.getInt32(),p.getInt32(),p.getInt32()])},r.gcm.prototype.encrypt=function(m,A,p){var E=m.length();if(E===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&E>=this.blockSize){for(var C=0;C<this._ints;++C)A.putInt32(this._outBlock[C]^=m.getInt32());this._cipherLength+=this.blockSize}else{var D=(this.blockSize-E)%this.blockSize;D>0&&(D=this.blockSize-D),this._partialOutput.clear();for(var C=0;C<this._ints;++C)this._partialOutput.putInt32(m.getInt32()^this._outBlock[C]);if(D<=0||p){if(p){var R=E%this.blockSize;this._cipherLength+=R,this._partialOutput.truncate(this.blockSize-R)}else this._cipherLength+=this.blockSize;for(var C=0;C<this._ints;++C)this._outBlock[C]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),D>0&&!p)return m.read-=this.blockSize,A.putBytes(this._partialOutput.getBytes(D-this._partialBytes)),this._partialBytes=D,!0;A.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),d(this._inBlock)},r.gcm.prototype.decrypt=function(m,A,p){var E=m.length();if(E<this.blockSize&&!(p&&E>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),d(this._inBlock),this._hashBlock[0]=m.getInt32(),this._hashBlock[1]=m.getInt32(),this._hashBlock[2]=m.getInt32(),this._hashBlock[3]=m.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var C=0;C<this._ints;++C)A.putInt32(this._outBlock[C]^this._hashBlock[C]);E<this.blockSize?this._cipherLength+=E%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(m,A){var p=!0;A.decrypt&&A.overflow&&m.truncate(this.blockSize-A.overflow),this.tag=a.util.createBuffer();var E=this._aDataLength.concat(v(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,E);var C=[];this.cipher.encrypt(this._j0,C);for(var D=0;D<this._ints;++D)this.tag.putInt32(this._s[D]^C[D]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),A.decrypt&&this.tag.bytes()!==this._tag&&(p=!1),p},r.gcm.prototype.multiply=function(m,A){for(var p=[0,0,0,0],E=A.slice(0),C=0;C<128;++C){var D=m[C/32|0]&1<<31-C%32;D&&(p[0]^=E[0],p[1]^=E[1],p[2]^=E[2],p[3]^=E[3]),this.pow(E,E)}return p},r.gcm.prototype.pow=function(m,A){for(var p=m[3]&1,E=3;E>0;--E)A[E]=m[E]>>>1|(m[E-1]&1)<<31;A[0]=m[0]>>>1,p&&(A[0]^=this._R)},r.gcm.prototype.tableMultiply=function(m){for(var A=[0,0,0,0],p=0;p<32;++p){var E=p/8|0,C=m[E]>>>(7-p%8)*4&15,D=this._m[p][C];A[0]^=D[0],A[1]^=D[1],A[2]^=D[2],A[3]^=D[3]}return A},r.gcm.prototype.ghash=function(m,A,p){return A[0]^=p[0],A[1]^=p[1],A[2]^=p[2],A[3]^=p[3],this.tableMultiply(A)},r.gcm.prototype.generateHashTable=function(m,A){for(var p=8/A,E=4*p,C=16*p,D=new Array(C),R=0;R<C;++R){var L=[0,0,0,0],_=R/E|0,V=(E-1-R%E)*A;L[_]=1<<A-1<<V,D[R]=this.generateSubHashTable(this.multiply(L,m),A)}return D},r.gcm.prototype.generateSubHashTable=function(m,A){var p=1<<A,E=p>>>1,C=new Array(p);C[E]=m.slice(0);for(var D=E>>>1;D>0;)this.pow(C[2*D],C[D]=[]),D>>=1;for(D=2;D<E;){for(var R=1;R<D;++R){var L=C[D],_=C[R];C[D+R]=[L[0]^_[0],L[1]^_[1],L[2]^_[2],L[3]^_[3]]}D*=2}for(C[0]=[0,0,0,0],D=E+1;D<p;++D){var V=C[D^E];C[D]=[m[0]^V[0],m[1]^V[1],m[2]^V[2],m[3]^V[3]]}return C};function s(m,A){if(typeof m=="string"&&(m=a.util.createBuffer(m)),a.util.isArray(m)&&m.length>4){var p=m;m=a.util.createBuffer();for(var E=0;E<p.length;++E)m.putByte(p[E])}if(m.length()<A)throw new Error("Invalid IV length; got "+m.length()+" bytes and expected "+A+" bytes.");if(!a.util.isArray(m)){for(var C=[],D=A/4,E=0;E<D;++E)C.push(m.getInt32());m=C}return m}function d(m){m[m.length-1]=m[m.length-1]+1&4294967295}function v(m){return[m/4294967296|0,m&4294967295]}return Td.exports}var Bd,Fy;function Ro(){if(Fy)return Bd;Fy=1;var a=Dn();Qh(),M2(),Zn(),Bd=a.aes=a.aes||{},a.aes.startEncrypting=function(_,V,P,H){var T=L({key:_,output:P,decrypt:!1,mode:H});return T.start(V),T},a.aes.createEncryptionCipher=function(_,V){return L({key:_,output:null,decrypt:!1,mode:V})},a.aes.startDecrypting=function(_,V,P,H){var T=L({key:_,output:P,decrypt:!0,mode:H});return T.start(V),T},a.aes.createDecryptionCipher=function(_,V){return L({key:_,output:null,decrypt:!0,mode:V})},a.aes.Algorithm=function(_,V){s||C();var P=this;P.name=_,P.mode=new V({blockSize:16,cipher:{encrypt:function(H,T){return R(P._w,H,T,!1)},decrypt:function(H,T){return R(P._w,H,T,!0)}}}),P._init=!1},a.aes.Algorithm.prototype.initialize=function(_){if(!this._init){var V=_.key,P;if(typeof V=="string"&&(V.length===16||V.length===24||V.length===32))V=a.util.createBuffer(V);else if(a.util.isArray(V)&&(V.length===16||V.length===24||V.length===32)){P=V,V=a.util.createBuffer();for(var H=0;H<P.length;++H)V.putByte(P[H])}if(!a.util.isArray(V)){P=V,V=[];var T=P.length();if(T===16||T===24||T===32){T=T>>>2;for(var H=0;H<T;++H)V.push(P.getInt32())}}if(!a.util.isArray(V)||!(V.length===4||V.length===6||V.length===8))throw new Error("Invalid key parameter.");var F=this.mode.name,U=["CFB","OFB","CTR","GCM"].indexOf(F)!==-1;this._w=D(V,_.decrypt&&!U),this._init=!0}},a.aes._expandKey=function(_,V){return s||C(),D(_,V)},a.aes._updateBlock=R,r("AES-ECB",a.cipher.modes.ecb),r("AES-CBC",a.cipher.modes.cbc),r("AES-CFB",a.cipher.modes.cfb),r("AES-OFB",a.cipher.modes.ofb),r("AES-CTR",a.cipher.modes.ctr),r("AES-GCM",a.cipher.modes.gcm);function r(_,V){var P=function(){return new a.aes.Algorithm(_,V)};a.cipher.registerAlgorithm(_,P)}var s=!1,d=4,v,m,A,p,E;function C(){s=!0,A=[0,1,2,4,8,16,32,64,128,27,54];for(var _=new Array(256),V=0;V<128;++V)_[V]=V<<1,_[V+128]=V+128<<1^283;v=new Array(256),m=new Array(256),p=new Array(4),E=new Array(4);for(var V=0;V<4;++V)p[V]=new Array(256),E[V]=new Array(256);for(var P=0,H=0,T,F,U,K,X,M,I,V=0;V<256;++V){K=H^H<<1^H<<2^H<<3^H<<4,K=K>>8^K&255^99,v[P]=K,m[K]=P,X=_[K],T=_[P],F=_[T],U=_[F],M=X<<24^K<<16^K<<8^(K^X),I=(T^F^U)<<24^(P^U)<<16^(P^F^U)<<8^(P^T^U);for(var w=0;w<4;++w)p[w][P]=M,E[w][K]=I,M=M<<24|M>>>8,I=I<<24|I>>>8;P===0?P=H=1:(P=T^_[_[_[T^U]]],H^=_[_[H]])}}function D(_,V){for(var P=_.slice(0),H,T=1,F=P.length,U=F+6+1,K=d*U,X=F;X<K;++X)H=P[X-1],X%F===0?(H=v[H>>>16&255]<<24^v[H>>>8&255]<<16^v[H&255]<<8^v[H>>>24]^A[T]<<24,T++):F>6&&X%F===4&&(H=v[H>>>24]<<24^v[H>>>16&255]<<16^v[H>>>8&255]<<8^v[H&255]),P[X]=P[X-F]^H;if(V){var M,I=E[0],w=E[1],j=E[2],ae=E[3],de=P.slice(0);K=P.length;for(var X=0,ee=K-d;X<K;X+=d,ee-=d)if(X===0||X===K-d)de[X]=P[ee],de[X+1]=P[ee+3],de[X+2]=P[ee+2],de[X+3]=P[ee+1];else for(var se=0;se<d;++se)M=P[ee+se],de[X+(3&-se)]=I[v[M>>>24]]^w[v[M>>>16&255]]^j[v[M>>>8&255]]^ae[v[M&255]];P=de}return P}function R(_,V,P,H){var T=_.length/4-1,F,U,K,X,M;H?(F=E[0],U=E[1],K=E[2],X=E[3],M=m):(F=p[0],U=p[1],K=p[2],X=p[3],M=v);var I,w,j,ae,de,ee,se;I=V[0]^_[0],w=V[H?3:1]^_[1],j=V[2]^_[2],ae=V[H?1:3]^_[3];for(var Ae=3,oe=1;oe<T;++oe)de=F[I>>>24]^U[w>>>16&255]^K[j>>>8&255]^X[ae&255]^_[++Ae],ee=F[w>>>24]^U[j>>>16&255]^K[ae>>>8&255]^X[I&255]^_[++Ae],se=F[j>>>24]^U[ae>>>16&255]^K[I>>>8&255]^X[w&255]^_[++Ae],ae=F[ae>>>24]^U[I>>>16&255]^K[w>>>8&255]^X[j&255]^_[++Ae],I=de,w=ee,j=se;P[0]=M[I>>>24]<<24^M[w>>>16&255]<<16^M[j>>>8&255]<<8^M[ae&255]^_[++Ae],P[H?3:1]=M[w>>>24]<<24^M[j>>>16&255]<<16^M[ae>>>8&255]<<8^M[I&255]^_[++Ae],P[2]=M[j>>>24]<<24^M[ae>>>16&255]<<16^M[I>>>8&255]<<8^M[w&255]^_[++Ae],P[H?1:3]=M[ae>>>24]<<24^M[I>>>16&255]<<16^M[w>>>8&255]<<8^M[j&255]^_[++Ae]}function L(_){_=_||{};var V=(_.mode||"CBC").toUpperCase(),P="AES-"+V,H;_.decrypt?H=a.cipher.createDecipher(P,_.key):H=a.cipher.createCipher(P,_.key);var T=H.start;return H.start=function(F,U){var K=null;U instanceof a.util.ByteBuffer&&(K=U,U={}),U=U||{},U.output=K,U.iv=F,T.call(H,U)},H}return Bd}var Nd={exports:{}},_d={exports:{}},Dd={exports:{}},Py;function Oo(){if(Py)return Dd.exports;Py=1;var a=Dn();a.pki=a.pki||{};var r=Dd.exports=a.pki.oids=a.oids=a.oids||{};function s(v,m){r[v]=m,r[m]=v}function d(v,m){r[v]=m}return s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("1.3.14.3.2.29","sha1WithRSASignature"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("2.16.840.1.101.3.4.2.4","sha224"),s("2.16.840.1.101.3.4.2.5","sha512-224"),s("2.16.840.1.101.3.4.2.6","sha512-256"),s("1.2.840.113549.2.2","md2"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.4","surname"),s("2.5.4.5","serialNumber"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.12","title"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("2.5.4.42","givenName"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),d("2.5.29.1","authorityKeyIdentifier"),d("2.5.29.2","keyAttributes"),d("2.5.29.3","certificatePolicies"),d("2.5.29.4","keyUsageRestriction"),d("2.5.29.5","policyMapping"),d("2.5.29.6","subtreesConstraint"),d("2.5.29.7","subjectAltName"),d("2.5.29.8","issuerAltName"),d("2.5.29.9","subjectDirectoryAttributes"),d("2.5.29.10","basicConstraints"),d("2.5.29.11","nameConstraints"),d("2.5.29.12","policyConstraints"),d("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),d("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),d("2.5.29.20","cRLNumber"),d("2.5.29.21","cRLReason"),d("2.5.29.22","expirationDate"),d("2.5.29.23","instructionCode"),d("2.5.29.24","invalidityDate"),d("2.5.29.25","cRLDistributionPoints"),d("2.5.29.26","issuingDistributionPoint"),d("2.5.29.27","deltaCRLIndicator"),d("2.5.29.28","issuingDistributionPoint"),d("2.5.29.29","certificateIssuer"),d("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),d("2.5.29.33","policyMappings"),d("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),d("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),d("2.5.29.46","freshestCRL"),d("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping"),Dd.exports}var Vy;function Fi(){if(Vy)return _d.exports;Vy=1;var a=Dn();Zn(),Oo();var r=_d.exports=a.asn1=a.asn1||{};r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.maxDepth=256,r.create=function(A,p,E,C,D){if(a.util.isArray(C)){for(var R=[],L=0;L<C.length;++L)C[L]!==void 0&&R.push(C[L]);C=R}var _={tagClass:A,type:p,constructed:E,composed:E||a.util.isArray(C),value:C};return D&&"bitStringContents"in D&&(_.bitStringContents=D.bitStringContents,_.original=r.copy(_)),_},r.copy=function(A,p){var E;if(a.util.isArray(A)){E=[];for(var C=0;C<A.length;++C)E.push(r.copy(A[C],p));return E}return typeof A=="string"?A:(E={tagClass:A.tagClass,type:A.type,constructed:A.constructed,composed:A.composed,value:r.copy(A.value,p)},p&&!p.excludeBitStringContents&&(E.bitStringContents=A.bitStringContents),E)},r.equals=function(A,p,E){if(a.util.isArray(A)){if(!a.util.isArray(p)||A.length!==p.length)return!1;for(var C=0;C<A.length;++C)if(!r.equals(A[C],p[C]))return!1;return!0}if(typeof A!=typeof p)return!1;if(typeof A=="string")return A===p;var D=A.tagClass===p.tagClass&&A.type===p.type&&A.constructed===p.constructed&&A.composed===p.composed&&r.equals(A.value,p.value);return E&&E.includeBitStringContents&&(D=D&&A.bitStringContents===p.bitStringContents),D},r.getBerValueLength=function(A){var p=A.getByte();if(p!==128){var E,C=p&128;return C?E=A.getInt((p&127)<<3):E=p,E}};function s(A,p,E){if(E>p){var C=new Error("Too few bytes to parse DER.");throw C.available=A.length(),C.remaining=p,C.requested=E,C}}var d=function(A,p){var E=A.getByte();if(p--,E!==128){var C,D=E&128;if(!D)C=E;else{var R=E&127;s(A,p,R),C=A.getInt(R<<3)}if(C<0)throw new Error("Negative length: "+C);return C}};r.fromDer=function(A,p){p===void 0&&(p={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof p=="boolean"&&(p={strict:p,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in p||(p.strict=!0),"parseAllBytes"in p||(p.parseAllBytes=!0),"decodeBitStrings"in p||(p.decodeBitStrings=!0),"maxDepth"in p||(p.maxDepth=r.maxDepth),typeof A=="string"&&(A=a.util.createBuffer(A));var E=A.length(),C=v(A,A.length(),0,p);if(p.parseAllBytes&&A.length()!==0){var D=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw D.byteCount=E,D.remaining=A.length(),D}return C};function v(A,p,E,C){if(E>=C.maxDepth)throw new Error("ASN.1 parsing error: Max depth exceeded.");var D;s(A,p,2);var R=A.getByte();p--;var L=R&192,_=R&31;D=A.length();var V=d(A,p);if(p-=D-A.length(),V!==void 0&&V>p){if(C.strict){var P=new Error("Too few bytes to read ASN.1 value.");throw P.available=A.length(),P.remaining=p,P.requested=V,P}V=p}var H,T,F=(R&32)===32;if(F)if(H=[],V===void 0)for(;;){if(s(A,p,2),A.bytes(2)==="\0\0"){A.getBytes(2),p-=2;break}D=A.length(),H.push(v(A,p,E+1,C)),p-=D-A.length()}else for(;V>0;)D=A.length(),H.push(v(A,V,E+1,C)),p-=D-A.length(),V-=D-A.length();if(H===void 0&&L===r.Class.UNIVERSAL&&_===r.Type.BITSTRING&&(T=A.bytes(V)),H===void 0&&C.decodeBitStrings&&L===r.Class.UNIVERSAL&&_===r.Type.BITSTRING&&V>1){var U=A.read,K=p,X=0;if(_===r.Type.BITSTRING&&(s(A,p,1),X=A.getByte(),p--),X===0)try{D=A.length();var M={strict:!0,decodeBitStrings:!0},I=v(A,p,E+1,M),w=D-A.length();p-=w,_==r.Type.BITSTRING&&w++;var j=I.tagClass;w===V&&(j===r.Class.UNIVERSAL||j===r.Class.CONTEXT_SPECIFIC)&&(H=[I])}catch{}H===void 0&&(A.read=U,p=K)}if(H===void 0){if(V===void 0){if(C.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");V=p}if(_===r.Type.BMPSTRING)for(H="";V>0;V-=2)s(A,p,2),H+=String.fromCharCode(A.getInt16()),p-=2;else H=A.getBytes(V),p-=V}var ae=T===void 0?null:{bitStringContents:T};return r.create(L,_,F,H,ae)}r.toDer=function(A){var p=a.util.createBuffer(),E=A.tagClass|A.type,C=a.util.createBuffer(),D=!1;if("bitStringContents"in A&&(D=!0,A.original&&(D=r.equals(A,A.original))),D)C.putBytes(A.bitStringContents);else if(A.composed){A.constructed?E|=32:C.putByte(0);for(var R=0;R<A.value.length;++R)A.value[R]!==void 0&&C.putBuffer(r.toDer(A.value[R]))}else if(A.type===r.Type.BMPSTRING)for(var R=0;R<A.value.length;++R)C.putInt16(A.value.charCodeAt(R));else A.type===r.Type.INTEGER&&A.value.length>1&&(A.value.charCodeAt(0)===0&&(A.value.charCodeAt(1)&128)===0||A.value.charCodeAt(0)===255&&(A.value.charCodeAt(1)&128)===128)?C.putBytes(A.value.substr(1)):C.putBytes(A.value);if(p.putByte(E),C.length()<=127)p.putByte(C.length()&127);else{var L=C.length(),_="";do _+=String.fromCharCode(L&255),L=L>>>8;while(L>0);p.putByte(_.length|128);for(var R=_.length-1;R>=0;--R)p.putByte(_.charCodeAt(R))}return p.putBuffer(C),p},r.oidToDer=function(A){var p=A.split("."),E=a.util.createBuffer();E.putByte(40*parseInt(p[0],10)+parseInt(p[1],10));for(var C,D,R,L,_=2;_<p.length;++_){if(C=!0,D=[],R=parseInt(p[_],10),R>4294967295)throw new Error("OID value too large; max is 32-bits.");do L=R&127,R=R>>>7,C||(L|=128),D.push(L),C=!1;while(R>0);for(var V=D.length-1;V>=0;--V)E.putByte(D[V])}return E},r.derToOid=function(A){var p;typeof A=="string"&&(A=a.util.createBuffer(A));var E=A.getByte();p=Math.floor(E/40)+"."+E%40;for(var C=0;A.length()>0;){if(C>70368744177663)throw new Error("OID value too large; max is 53-bits.");E=A.getByte(),C=C*128,E&128?C+=E&127:(p+="."+(C+E),C=0)}return p},r.utcTimeToDate=function(A){var p=new Date,E=parseInt(A.substr(0,2),10);E=E>=50?1900+E:2e3+E;var C=parseInt(A.substr(2,2),10)-1,D=parseInt(A.substr(4,2),10),R=parseInt(A.substr(6,2),10),L=parseInt(A.substr(8,2),10),_=0;if(A.length>11){var V=A.charAt(10),P=10;V!=="+"&&V!=="-"&&(_=parseInt(A.substr(10,2),10),P+=2)}if(p.setUTCFullYear(E,C,D),p.setUTCHours(R,L,_,0),P&&(V=A.charAt(P),V==="+"||V==="-")){var H=parseInt(A.substr(P+1,2),10),T=parseInt(A.substr(P+4,2),10),F=H*60+T;F*=6e4,V==="+"?p.setTime(+p-F):p.setTime(+p+F)}return p},r.generalizedTimeToDate=function(A){var p=new Date,E=parseInt(A.substr(0,4),10),C=parseInt(A.substr(4,2),10)-1,D=parseInt(A.substr(6,2),10),R=parseInt(A.substr(8,2),10),L=parseInt(A.substr(10,2),10),_=parseInt(A.substr(12,2),10),V=0,P=0,H=!1;A.charAt(A.length-1)==="Z"&&(H=!0);var T=A.length-5,F=A.charAt(T);if(F==="+"||F==="-"){var U=parseInt(A.substr(T+1,2),10),K=parseInt(A.substr(T+4,2),10);P=U*60+K,P*=6e4,F==="+"&&(P*=-1),H=!0}return A.charAt(14)==="."&&(V=parseFloat(A.substr(14),10)*1e3),H?(p.setUTCFullYear(E,C,D),p.setUTCHours(R,L,_,V),p.setTime(+p+P)):(p.setFullYear(E,C,D),p.setHours(R,L,_,V)),p},r.dateToUtcTime=function(A){if(typeof A=="string")return A;var p="",E=[];E.push((""+A.getUTCFullYear()).substr(2)),E.push(""+(A.getUTCMonth()+1)),E.push(""+A.getUTCDate()),E.push(""+A.getUTCHours()),E.push(""+A.getUTCMinutes()),E.push(""+A.getUTCSeconds());for(var C=0;C<E.length;++C)E[C].length<2&&(p+="0"),p+=E[C];return p+="Z",p},r.dateToGeneralizedTime=function(A){if(typeof A=="string")return A;var p="",E=[];E.push(""+A.getUTCFullYear()),E.push(""+(A.getUTCMonth()+1)),E.push(""+A.getUTCDate()),E.push(""+A.getUTCHours()),E.push(""+A.getUTCMinutes()),E.push(""+A.getUTCSeconds());for(var C=0;C<E.length;++C)E[C].length<2&&(p+="0"),p+=E[C];return p+="Z",p},r.integerToDer=function(A){var p=a.util.createBuffer();if(A>=-128&&A<128)return p.putSignedInt(A,8);if(A>=-32768&&A<32768)return p.putSignedInt(A,16);if(A>=-8388608&&A<8388608)return p.putSignedInt(A,24);if(A>=-2147483648&&A<2147483648)return p.putSignedInt(A,32);var E=new Error("Integer too large; max is 32-bits.");throw E.integer=A,E},r.derToInteger=function(A){typeof A=="string"&&(A=a.util.createBuffer(A));var p=A.length()*8;if(p>32)throw new Error("Integer too large; max is 32-bits.");return A.getSignedInt(p)},r.validate=function(A,p,E,C){var D=!1;if((A.tagClass===p.tagClass||typeof p.tagClass>"u")&&(A.type===p.type||typeof p.type>"u"))if(A.constructed===p.constructed||typeof p.constructed>"u"){if(D=!0,p.value&&a.util.isArray(p.value))for(var R=0,L=0;D&&L<p.value.length;++L){var _=p.value[L];D=!!_.optional;var V=A.value[R];if(!V){_.optional||(D=!1,C&&C.push("["+p.name+'] Missing required element. Expected tag class "'+_.tagClass+'", type "'+_.type+'"'));continue}var P=typeof _.tagClass<"u"&&typeof _.type<"u";if(P&&(V.tagClass!==_.tagClass||V.type!==_.type))if(_.optional){D=!0;continue}else{D=!1,C&&C.push("["+p.name+"] Tag mismatch. Expected ("+_.tagClass+","+_.type+"), got ("+V.tagClass+","+V.type+")");break}var H=r.validate(V,_,E,C);if(H)++R,D=!0;else if(_.optional)D=!0;else{D=!1;break}}if(D&&E&&(p.capture&&(E[p.capture]=A.value),p.captureAsn1&&(E[p.captureAsn1]=A),p.captureBitStringContents&&"bitStringContents"in A&&(E[p.captureBitStringContents]=A.bitStringContents),p.captureBitStringValue&&"bitStringContents"in A))if(A.bitStringContents.length<2)E[p.captureBitStringValue]="";else{var T=A.bitStringContents.charCodeAt(0);if(T!==0)throw new Error("captureBitStringValue only supported for zero unused bits");E[p.captureBitStringValue]=A.bitStringContents.slice(1)}}else C&&C.push("["+p.name+'] Expected constructed "'+p.constructed+'", got "'+A.constructed+'"');else C&&(A.tagClass!==p.tagClass&&C.push("["+p.name+'] Expected tag class "'+p.tagClass+'", got "'+A.tagClass+'"'),A.type!==p.type&&C.push("["+p.name+'] Expected type "'+p.type+'", got "'+A.type+'"'));return D};var m=/[^\\u0000-\\u00ff]/;return r.prettyPrint=function(A,p,E){var C="";p=p||0,E=E||2,p>0&&(C+=`
`);for(var D="",R=0;R<p*E;++R)D+=" ";switch(C+=D+"Tag: ",A.tagClass){case r.Class.UNIVERSAL:C+="Universal:";break;case r.Class.APPLICATION:C+="Application:";break;case r.Class.CONTEXT_SPECIFIC:C+="Context-Specific:";break;case r.Class.PRIVATE:C+="Private:";break}if(A.tagClass===r.Class.UNIVERSAL)switch(C+=A.type,A.type){case r.Type.NONE:C+=" (None)";break;case r.Type.BOOLEAN:C+=" (Boolean)";break;case r.Type.INTEGER:C+=" (Integer)";break;case r.Type.BITSTRING:C+=" (Bit string)";break;case r.Type.OCTETSTRING:C+=" (Octet string)";break;case r.Type.NULL:C+=" (Null)";break;case r.Type.OID:C+=" (Object Identifier)";break;case r.Type.ODESC:C+=" (Object Descriptor)";break;case r.Type.EXTERNAL:C+=" (External or Instance of)";break;case r.Type.REAL:C+=" (Real)";break;case r.Type.ENUMERATED:C+=" (Enumerated)";break;case r.Type.EMBEDDED:C+=" (Embedded PDV)";break;case r.Type.UTF8:C+=" (UTF8)";break;case r.Type.ROID:C+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:C+=" (Sequence)";break;case r.Type.SET:C+=" (Set)";break;case r.Type.PRINTABLESTRING:C+=" (Printable String)";break;case r.Type.IA5String:C+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:C+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:C+=" (Generalized time)";break;case r.Type.BMPSTRING:C+=" (BMP String)";break}else C+=A.type;if(C+=`
`,C+=D+"Constructed: "+A.constructed+`
`,A.composed){for(var L=0,_="",R=0;R<A.value.length;++R)A.value[R]!==void 0&&(L+=1,_+=r.prettyPrint(A.value[R],p+1,E),R+1<A.value.length&&(_+=","));C+=D+"Sub values: "+L+_}else{if(C+=D+"Value: ",A.type===r.Type.OID){var V=r.derToOid(A.value);C+=V,a.pki&&a.pki.oids&&V in a.pki.oids&&(C+=" ("+a.pki.oids[V]+") ")}if(A.type===r.Type.INTEGER)try{C+=r.derToInteger(A.value)}catch{C+="0x"+a.util.bytesToHex(A.value)}else if(A.type===r.Type.BITSTRING){if(A.value.length>1?C+="0x"+a.util.bytesToHex(A.value.slice(1)):C+="(none)",A.value.length>0){var P=A.value.charCodeAt(0);P==1?C+=" (1 unused bit shown)":P>1&&(C+=" ("+P+" unused bits shown)")}}else if(A.type===r.Type.OCTETSTRING)m.test(A.value)||(C+="("+A.value+") "),C+="0x"+a.util.bytesToHex(A.value);else if(A.type===r.Type.UTF8)try{C+=a.util.decodeUtf8(A.value)}catch(H){if(H.message==="URI malformed")C+="0x"+a.util.bytesToHex(A.value)+" (malformed UTF8)";else throw H}else A.type===r.Type.PRINTABLESTRING||A.type===r.Type.IA5String?C+=A.value:m.test(A.value)?C+="0x"+a.util.bytesToHex(A.value):A.value.length===0?C+="[null]":C+=A.value}return C},_d.exports}var Rd={exports:{}},Od,Qy;function ys(){if(Qy)return Od;Qy=1;var a=Dn();return Od=a.md=a.md||{},a.md.algorithms=a.md.algorithms||{},Od}var Hy;function Ru(){if(Hy)return Rd.exports;Hy=1;var a=Dn();ys(),Zn();var r=Rd.exports=a.hmac=a.hmac||{};return r.create=function(){var s=null,d=null,v=null,m=null,A={};return A.start=function(p,E){if(p!==null)if(typeof p=="string")if(p=p.toLowerCase(),p in a.md.algorithms)d=a.md.algorithms[p].create();else throw new Error('Unknown hash algorithm "'+p+'"');else d=p;if(E===null)E=s;else{if(typeof E=="string")E=a.util.createBuffer(E);else if(a.util.isArray(E)){var C=E;E=a.util.createBuffer();for(var D=0;D<C.length;++D)E.putByte(C[D])}var R=E.length();R>d.blockLength&&(d.start(),d.update(E.bytes()),E=d.digest()),v=a.util.createBuffer(),m=a.util.createBuffer(),R=E.length();for(var D=0;D<R;++D){var C=E.at(D);v.putByte(54^C),m.putByte(92^C)}if(R<d.blockLength)for(var C=d.blockLength-R,D=0;D<C;++D)v.putByte(54),m.putByte(92);s=E,v=v.bytes(),m=m.bytes()}d.start(),d.update(v)},A.update=function(p){d.update(p)},A.getMac=function(){var p=d.digest().bytes();return d.start(),d.update(m),d.update(p),d.digest()},A.digest=A.getMac,A},Rd.exports}var kd={exports:{}},Gy;function Hh(){if(Gy)return kd.exports;Gy=1;var a=Dn();ys(),Zn();var r=kd.exports=a.md5=a.md5||{};a.md.md5=a.md.algorithms.md5=r,r.create=function(){A||p();var C=null,D=a.util.createBuffer(),R=new Array(16),L={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return L.start=function(){L.messageLength=0,L.fullMessageLength=L.messageLength64=[];for(var _=L.messageLengthSize/4,V=0;V<_;++V)L.fullMessageLength.push(0);return D=a.util.createBuffer(),C={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},L},L.start(),L.update=function(_,V){V==="utf8"&&(_=a.util.encodeUtf8(_));var P=_.length;L.messageLength+=P,P=[P/4294967296>>>0,P>>>0];for(var H=L.fullMessageLength.length-1;H>=0;--H)L.fullMessageLength[H]+=P[1],P[1]=P[0]+(L.fullMessageLength[H]/4294967296>>>0),L.fullMessageLength[H]=L.fullMessageLength[H]>>>0,P[0]=P[1]/4294967296>>>0;return D.putBytes(_),E(C,R,D),(D.read>2048||D.length()===0)&&D.compact(),L},L.digest=function(){var _=a.util.createBuffer();_.putBytes(D.bytes());var V=L.fullMessageLength[L.fullMessageLength.length-1]+L.messageLengthSize,P=V&L.blockLength-1;_.putBytes(s.substr(0,L.blockLength-P));for(var H,T=0,F=L.fullMessageLength.length-1;F>=0;--F)H=L.fullMessageLength[F]*8+T,T=H/4294967296>>>0,_.putInt32Le(H>>>0);var U={h0:C.h0,h1:C.h1,h2:C.h2,h3:C.h3};E(U,R,_);var K=a.util.createBuffer();return K.putInt32Le(U.h0),K.putInt32Le(U.h1),K.putInt32Le(U.h2),K.putInt32Le(U.h3),K},L};var s=null,d=null,v=null,m=null,A=!1;function p(){s="",s+=a.util.fillString("\0",64),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],v=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],m=new Array(64);for(var C=0;C<64;++C)m[C]=Math.floor(Math.abs(Math.sin(C+1))*4294967296);A=!0}function E(C,D,R){for(var L,_,V,P,H,T,F,U,K=R.length();K>=64;){for(_=C.h0,V=C.h1,P=C.h2,H=C.h3,U=0;U<16;++U)D[U]=R.getInt32Le(),T=H^V&(P^H),L=_+T+m[U]+D[U],F=v[U],_=H,H=P,P=V,V+=L<<F|L>>>32-F;for(;U<32;++U)T=P^H&(V^P),L=_+T+m[U]+D[d[U]],F=v[U],_=H,H=P,P=V,V+=L<<F|L>>>32-F;for(;U<48;++U)T=V^P^H,L=_+T+m[U]+D[d[U]],F=v[U],_=H,H=P,P=V,V+=L<<F|L>>>32-F;for(;U<64;++U)T=P^(V|~H),L=_+T+m[U]+D[d[U]],F=v[U],_=H,H=P,P=V,V+=L<<F|L>>>32-F;C.h0=C.h0+_|0,C.h1=C.h1+V|0,C.h2=C.h2+P|0,C.h3=C.h3+H|0,K-=64}}return kd.exports}var Md={exports:{}},jy;function Il(){if(jy)return Md.exports;jy=1;var a=Dn();Zn();var r=Md.exports=a.pem=a.pem||{};r.encode=function(v,m){m=m||{};var A="-----BEGIN "+v.type+`-----\r
`,p;if(v.procType&&(p={name:"Proc-Type",values:[String(v.procType.version),v.procType.type]},A+=s(p)),v.contentDomain&&(p={name:"Content-Domain",values:[v.contentDomain]},A+=s(p)),v.dekInfo&&(p={name:"DEK-Info",values:[v.dekInfo.algorithm]},v.dekInfo.parameters&&p.values.push(v.dekInfo.parameters),A+=s(p)),v.headers)for(var E=0;E<v.headers.length;++E)A+=s(v.headers[E]);return v.procType&&(A+=`\r
`),A+=a.util.encode64(v.body,m.maxline||64)+`\r
`,A+="-----END "+v.type+`-----\r
`,A},r.decode=function(v){for(var m=[],A=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,p=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,E=/\r?\n/,C;C=A.exec(v),!!C;){var D=C[1];D==="NEW CERTIFICATE REQUEST"&&(D="CERTIFICATE REQUEST");var R={type:D,procType:null,contentDomain:null,dekInfo:null,headers:[],body:a.util.decode64(C[3])};if(m.push(R),!!C[2]){for(var L=C[2].split(E),_=0;C&&_<L.length;){for(var V=L[_].replace(/\s+$/,""),P=_+1;P<L.length;++P){var H=L[P];if(!/\s/.test(H[0]))break;V+=H,_=P}if(C=V.match(p),C){for(var T={name:C[1],values:[]},F=C[2].split(","),U=0;U<F.length;++U)T.values.push(d(F[U]));if(R.procType)if(!R.contentDomain&&T.name==="Content-Domain")R.contentDomain=F[0]||"";else if(!R.dekInfo&&T.name==="DEK-Info"){if(T.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');R.dekInfo={algorithm:F[0],parameters:F[1]||null}}else R.headers.push(T);else{if(T.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(T.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');R.procType={version:F[0],type:F[1]}}}++_}if(R.procType==="ENCRYPTED"&&!R.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(m.length===0)throw new Error("Invalid PEM formatted message.");return m};function s(v){for(var m=v.name+": ",A=[],p=function(L,_){return" "+_},E=0;E<v.values.length;++E)A.push(v.values[E].replace(/^(\S+\r\n)/,p));m+=A.join(",")+`\r
`;for(var C=0,D=-1,E=0;E<m.length;++E,++C)if(C>65&&D!==-1){var R=m[D];R===","?(++D,m=m.substr(0,D)+`\r
 `+m.substr(D)):m=m.substr(0,D)+`\r
`+R+m.substr(D+1),C=E-D-1,D=-1,++E}else(m[E]===" "||m[E]==="	"||m[E]===",")&&(D=E);return m}function d(v){return v.replace(/^\s+/,"")}return Md.exports}var Ld={exports:{}},Ud,Ky;function hf(){if(Ky)return Ud;Ky=1;var a=Dn();Qh(),M2(),Zn(),Ud=a.des=a.des||{},a.des.startEncrypting=function(_,V,P,H){var T=L({key:_,output:P,decrypt:!1,mode:H||(V===null?"ECB":"CBC")});return T.start(V),T},a.des.createEncryptionCipher=function(_,V){return L({key:_,output:null,decrypt:!1,mode:V})},a.des.startDecrypting=function(_,V,P,H){var T=L({key:_,output:P,decrypt:!0,mode:H||(V===null?"ECB":"CBC")});return T.start(V),T},a.des.createDecryptionCipher=function(_,V){return L({key:_,output:null,decrypt:!0,mode:V})},a.des.Algorithm=function(_,V){var P=this;P.name=_,P.mode=new V({blockSize:8,cipher:{encrypt:function(H,T){return R(P._keys,H,T,!1)},decrypt:function(H,T){return R(P._keys,H,T,!0)}}}),P._init=!1},a.des.Algorithm.prototype.initialize=function(_){if(!this._init){var V=a.util.createBuffer(_.key);if(this.name.indexOf("3DES")===0&&V.length()!==24)throw new Error("Invalid Triple-DES key size: "+V.length()*8);this._keys=D(V),this._init=!0}},r("DES-ECB",a.cipher.modes.ecb),r("DES-CBC",a.cipher.modes.cbc),r("DES-CFB",a.cipher.modes.cfb),r("DES-OFB",a.cipher.modes.ofb),r("DES-CTR",a.cipher.modes.ctr),r("3DES-ECB",a.cipher.modes.ecb),r("3DES-CBC",a.cipher.modes.cbc),r("3DES-CFB",a.cipher.modes.cfb),r("3DES-OFB",a.cipher.modes.ofb),r("3DES-CTR",a.cipher.modes.ctr);function r(_,V){var P=function(){return new a.des.Algorithm(_,V)};a.cipher.registerAlgorithm(_,P)}var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],d=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],v=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],m=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],A=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],p=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],E=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],C=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function D(_){for(var V=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],P=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],H=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],T=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],F=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],U=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],K=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],X=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],M=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],I=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],w=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],j=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],ae=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],de=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],ee=_.length()>8?3:1,se=[],Ae=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],oe=0,he,ve=0;ve<ee;ve++){var ke=_.getInt32(),Ke=_.getInt32();he=(ke>>>4^Ke)&252645135,Ke^=he,ke^=he<<4,he=(Ke>>>-16^ke)&65535,ke^=he,Ke^=he<<-16,he=(ke>>>2^Ke)&858993459,Ke^=he,ke^=he<<2,he=(Ke>>>-16^ke)&65535,ke^=he,Ke^=he<<-16,he=(ke>>>1^Ke)&1431655765,Ke^=he,ke^=he<<1,he=(Ke>>>8^ke)&16711935,ke^=he,Ke^=he<<8,he=(ke>>>1^Ke)&1431655765,Ke^=he,ke^=he<<1,he=ke<<8|Ke>>>20&240,ke=Ke<<24|Ke<<8&16711680|Ke>>>8&65280|Ke>>>24&240,Ke=he;for(var Le=0;Le<Ae.length;++Le){Ae[Le]?(ke=ke<<2|ke>>>26,Ke=Ke<<2|Ke>>>26):(ke=ke<<1|ke>>>27,Ke=Ke<<1|Ke>>>27),ke&=-15,Ke&=-15;var Ce=V[ke>>>28]|P[ke>>>24&15]|H[ke>>>20&15]|T[ke>>>16&15]|F[ke>>>12&15]|U[ke>>>8&15]|K[ke>>>4&15],Te=X[Ke>>>28]|M[Ke>>>24&15]|I[Ke>>>20&15]|w[Ke>>>16&15]|j[Ke>>>12&15]|ae[Ke>>>8&15]|de[Ke>>>4&15];he=(Te>>>16^Ce)&65535,se[oe++]=Ce^he,se[oe++]=Te^he<<16}}return se}function R(_,V,P,H){var T=_.length===32?3:9,F;T===3?F=H?[30,-2,-2]:[0,32,2]:F=H?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var U,K=V[0],X=V[1];U=(K>>>4^X)&252645135,X^=U,K^=U<<4,U=(K>>>16^X)&65535,X^=U,K^=U<<16,U=(X>>>2^K)&858993459,K^=U,X^=U<<2,U=(X>>>8^K)&16711935,K^=U,X^=U<<8,U=(K>>>1^X)&1431655765,X^=U,K^=U<<1,K=K<<1|K>>>31,X=X<<1|X>>>31;for(var M=0;M<T;M+=3){for(var I=F[M+1],w=F[M+2],j=F[M];j!=I;j+=w){var ae=X^_[j],de=(X>>>4|X<<28)^_[j+1];U=K,K=X,X=U^(d[ae>>>24&63]|m[ae>>>16&63]|p[ae>>>8&63]|C[ae&63]|s[de>>>24&63]|v[de>>>16&63]|A[de>>>8&63]|E[de&63])}U=K,K=X,X=U}K=K>>>1|K<<31,X=X>>>1|X<<31,U=(K>>>1^X)&1431655765,X^=U,K^=U<<1,U=(X>>>8^K)&16711935,K^=U,X^=U<<8,U=(X>>>2^K)&858993459,K^=U,X^=U<<2,U=(K>>>16^X)&65535,X^=U,K^=U<<16,U=(K>>>4^X)&252645135,X^=U,K^=U<<4,P[0]=K,P[1]=X}function L(_){_=_||{};var V=(_.mode||"CBC").toUpperCase(),P="DES-"+V,H;_.decrypt?H=a.cipher.createDecipher(P,_.key):H=a.cipher.createCipher(P,_.key);var T=H.start;return H.start=function(F,U){var K=null;U instanceof a.util.ByteBuffer&&(K=U,U={}),U=U||{},U.output=K,U.iv=F,T.call(H,U)},H}return Ud}const Vb={},Qb=Object.freeze(Object.defineProperty({__proto__:null,default:Vb},Symbol.toStringTag,{value:"Module"})),Gh=SA(Qb);var Fd,zy;function jh(){if(zy)return Fd;zy=1;var a=Dn();Ru(),ys(),Zn();var r=a.pkcs5=a.pkcs5||{},s;return a.util.isNodejs&&!a.options.usePureJavaScript&&(s=Gh),Fd=a.pbkdf2=r.pbkdf2=function(d,v,m,A,p,E){if(typeof p=="function"&&(E=p,p=null),a.util.isNodejs&&!a.options.usePureJavaScript&&s.pbkdf2&&(p===null||typeof p!="object")&&(s.pbkdf2Sync.length>4||!p||p==="sha1"))return typeof p!="string"&&(p="sha1"),d=Buffer.from(d,"binary"),v=Buffer.from(v,"binary"),E?s.pbkdf2Sync.length===4?s.pbkdf2(d,v,m,A,function(M,I){if(M)return E(M);E(null,I.toString("binary"))}):s.pbkdf2(d,v,m,A,p,function(M,I){if(M)return E(M);E(null,I.toString("binary"))}):s.pbkdf2Sync.length===4?s.pbkdf2Sync(d,v,m,A).toString("binary"):s.pbkdf2Sync(d,v,m,A,p).toString("binary");if((typeof p>"u"||p===null)&&(p="sha1"),typeof p=="string"){if(!(p in a.md.algorithms))throw new Error("Unknown hash algorithm: "+p);p=a.md[p].create()}var C=p.digestLength;if(A>4294967295*C){var D=new Error("Derived key is too long.");if(E)return E(D);throw D}var R=Math.ceil(A/C),L=A-(R-1)*C,_=a.hmac.create();_.start(p,d);var V="",P,H,T;if(!E){for(var F=1;F<=R;++F){_.start(null,null),_.update(v),_.update(a.util.int32ToBytes(F)),P=T=_.digest().getBytes();for(var U=2;U<=m;++U)_.start(null,null),_.update(T),H=_.digest().getBytes(),P=a.util.xorBytes(P,H,C),T=H;V+=F<R?P:P.substr(0,L)}return V}var F=1,U;function K(){if(F>R)return E(null,V);_.start(null,null),_.update(v),_.update(a.util.int32ToBytes(F)),P=T=_.digest().getBytes(),U=2,X()}function X(){if(U<=m)return _.start(null,null),_.update(T),H=_.digest().getBytes(),P=a.util.xorBytes(P,H,C),T=H,++U,a.util.setImmediate(X);V+=F<R?P:P.substr(0,L),++F,K()}K()},Fd}var Uc={exports:{}},Pd={exports:{}},Yy;function L2(){if(Yy)return Pd.exports;Yy=1;var a=Dn();ys(),Zn();var r=Pd.exports=a.sha256=a.sha256||{};a.md.sha256=a.md.algorithms.sha256=r,r.create=function(){d||m();var p=null,E=a.util.createBuffer(),C=new Array(64),D={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return D.start=function(){D.messageLength=0,D.fullMessageLength=D.messageLength64=[];for(var R=D.messageLengthSize/4,L=0;L<R;++L)D.fullMessageLength.push(0);return E=a.util.createBuffer(),p={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},D},D.start(),D.update=function(R,L){L==="utf8"&&(R=a.util.encodeUtf8(R));var _=R.length;D.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var V=D.fullMessageLength.length-1;V>=0;--V)D.fullMessageLength[V]+=_[1],_[1]=_[0]+(D.fullMessageLength[V]/4294967296>>>0),D.fullMessageLength[V]=D.fullMessageLength[V]>>>0,_[0]=_[1]/4294967296>>>0;return E.putBytes(R),A(p,C,E),(E.read>2048||E.length()===0)&&E.compact(),D},D.digest=function(){var R=a.util.createBuffer();R.putBytes(E.bytes());var L=D.fullMessageLength[D.fullMessageLength.length-1]+D.messageLengthSize,_=L&D.blockLength-1;R.putBytes(s.substr(0,D.blockLength-_));for(var V,P,H=D.fullMessageLength[0]*8,T=0;T<D.fullMessageLength.length-1;++T)V=D.fullMessageLength[T+1]*8,P=V/4294967296>>>0,H+=P,R.putInt32(H>>>0),H=V>>>0;R.putInt32(H);var F={h0:p.h0,h1:p.h1,h2:p.h2,h3:p.h3,h4:p.h4,h5:p.h5,h6:p.h6,h7:p.h7};A(F,C,R);var U=a.util.createBuffer();return U.putInt32(F.h0),U.putInt32(F.h1),U.putInt32(F.h2),U.putInt32(F.h3),U.putInt32(F.h4),U.putInt32(F.h5),U.putInt32(F.h6),U.putInt32(F.h7),U},D};var s=null,d=!1,v=null;function m(){s="",s+=a.util.fillString("\0",64),v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=!0}function A(p,E,C){for(var D,R,L,_,V,P,H,T,F,U,K,X,M,I,w,j=C.length();j>=64;){for(H=0;H<16;++H)E[H]=C.getInt32();for(;H<64;++H)D=E[H-2],D=(D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10,R=E[H-15],R=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,E[H]=D+E[H-7]+R+E[H-16]|0;for(T=p.h0,F=p.h1,U=p.h2,K=p.h3,X=p.h4,M=p.h5,I=p.h6,w=p.h7,H=0;H<64;++H)_=(X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7),V=I^X&(M^I),L=(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10),P=T&F|U&(T^F),D=w+_+V+v[H]+E[H],R=L+P,w=I,I=M,M=X,X=K+D>>>0,K=U,U=F,F=T,T=D+R>>>0;p.h0=p.h0+T|0,p.h1=p.h1+F|0,p.h2=p.h2+U|0,p.h3=p.h3+K|0,p.h4=p.h4+X|0,p.h5=p.h5+M|0,p.h6=p.h6+I|0,p.h7=p.h7+w|0,j-=64}}return Pd.exports}var Vd={exports:{}},qy;function U2(){if(qy)return Vd.exports;qy=1;var a=Dn();Zn();var r=null;a.util.isNodejs&&!a.options.usePureJavaScript&&!process.versions["node-webkit"]&&(r=Gh);var s=Vd.exports=a.prng=a.prng||{};return s.create=function(d){for(var v={plugin:d,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},m=d.md,A=new Array(32),p=0;p<32;++p)A[p]=m.create();v.pools=A,v.pool=0,v.generate=function(L,_){if(!_)return v.generateSync(L);var V=v.plugin.cipher,P=v.plugin.increment,H=v.plugin.formatKey,T=v.plugin.formatSeed,F=a.util.createBuffer();v.key=null,U();function U(K){if(K)return _(K);if(F.length()>=L)return _(null,F.getBytes(L));if(v.generated>1048575&&(v.key=null),v.key===null)return a.util.nextTick(function(){E(U)});var X=V(v.key,v.seed);v.generated+=X.length,F.putBytes(X),v.key=H(V(v.key,P(v.seed))),v.seed=T(V(v.key,v.seed)),a.util.setImmediate(U)}},v.generateSync=function(L){var _=v.plugin.cipher,V=v.plugin.increment,P=v.plugin.formatKey,H=v.plugin.formatSeed;v.key=null;for(var T=a.util.createBuffer();T.length()<L;){v.generated>1048575&&(v.key=null),v.key===null&&C();var F=_(v.key,v.seed);v.generated+=F.length,T.putBytes(F),v.key=P(_(v.key,V(v.seed))),v.seed=H(_(v.key,v.seed))}return T.getBytes(L)};function E(L){if(v.pools[0].messageLength>=32)return D(),L();var _=32-v.pools[0].messageLength<<5;v.seedFile(_,function(V,P){if(V)return L(V);v.collect(P),D(),L()})}function C(){if(v.pools[0].messageLength>=32)return D();var L=32-v.pools[0].messageLength<<5;v.collect(v.seedFileSync(L)),D()}function D(){v.reseeds=v.reseeds===4294967295?0:v.reseeds+1;var L=v.plugin.md.create();L.update(v.keyBytes);for(var _=1,V=0;V<32;++V)v.reseeds%_===0&&(L.update(v.pools[V].digest().getBytes()),v.pools[V].start()),_=_<<1;v.keyBytes=L.digest().getBytes(),L.start(),L.update(v.keyBytes);var P=L.digest().getBytes();v.key=v.plugin.formatKey(v.keyBytes),v.seed=v.plugin.formatSeed(P),v.generated=0}function R(L){var _=null,V=a.util.globalScope,P=V.crypto||V.msCrypto;P&&P.getRandomValues&&(_=function(w){return P.getRandomValues(w)});var H=a.util.createBuffer();if(_)for(;H.length()<L;){var T=Math.max(1,Math.min(L-H.length(),65536)/4),F=new Uint32Array(Math.floor(T));try{_(F);for(var U=0;U<F.length;++U)H.putInt32(F[U])}catch(w){if(!(typeof QuotaExceededError<"u"&&w instanceof QuotaExceededError))throw w}}if(H.length()<L)for(var K,X,M,I=Math.floor(Math.random()*65536);H.length()<L;){X=16807*(I&65535),K=16807*(I>>16),X+=(K&32767)<<16,X+=K>>15,X=(X&2147483647)+(X>>31),I=X&4294967295;for(var U=0;U<3;++U)M=I>>>(U<<3),M^=Math.floor(Math.random()*256),H.putByte(M&255)}return H.getBytes(L)}return r?(v.seedFile=function(L,_){r.randomBytes(L,function(V,P){if(V)return _(V);_(null,P.toString())})},v.seedFileSync=function(L){return r.randomBytes(L).toString()}):(v.seedFile=function(L,_){try{_(null,R(L))}catch(V){_(V)}},v.seedFileSync=R),v.collect=function(L){for(var _=L.length,V=0;V<_;++V)v.pools[v.pool].update(L.substr(V,1)),v.pool=v.pool===31?0:v.pool+1},v.collectInt=function(L,_){for(var V="",P=0;P<_;P+=8)V+=String.fromCharCode(L>>P&255);v.collect(V)},v.registerWorker=function(L){if(L===self)v.seedFile=function(V,P){function H(T){var F=T.data;F.forge&&F.forge.prng&&(self.removeEventListener("message",H),P(F.forge.prng.err,F.forge.prng.bytes))}self.addEventListener("message",H),self.postMessage({forge:{prng:{needed:V}}})};else{var _=function(V){var P=V.data;P.forge&&P.forge.prng&&v.seedFile(P.forge.prng.needed,function(H,T){L.postMessage({forge:{prng:{err:H,bytes:T}}})})};L.addEventListener("message",_)}},v},Vd.exports}var Xy;function Ai(){if(Xy)return Uc.exports;Xy=1;var a=Dn();return Ro(),L2(),U2(),Zn(),(function(){if(a.random&&a.random.getBytes){Uc.exports=a.random;return}(function(r){var s={},d=new Array(4),v=a.util.createBuffer();s.formatKey=function(L){var _=a.util.createBuffer(L);return L=new Array(4),L[0]=_.getInt32(),L[1]=_.getInt32(),L[2]=_.getInt32(),L[3]=_.getInt32(),a.aes._expandKey(L,!1)},s.formatSeed=function(L){var _=a.util.createBuffer(L);return L=new Array(4),L[0]=_.getInt32(),L[1]=_.getInt32(),L[2]=_.getInt32(),L[3]=_.getInt32(),L},s.cipher=function(L,_){return a.aes._updateBlock(L,_,d,!1),v.putInt32(d[0]),v.putInt32(d[1]),v.putInt32(d[2]),v.putInt32(d[3]),v.getBytes()},s.increment=function(L){return++L[3],L},s.md=a.md.sha256;function m(){var L=a.prng.create(s);return L.getBytes=function(_,V){return L.generate(_,V)},L.getBytesSync=function(_){return L.generate(_)},L}var A=m(),p=null,E=a.util.globalScope,C=E.crypto||E.msCrypto;if(C&&C.getRandomValues&&(p=function(L){return C.getRandomValues(L)}),a.options.usePureJavaScript||!a.util.isNodejs&&!p){if(A.collectInt(+new Date,32),typeof navigator<"u"){var D="";for(var R in navigator)try{typeof navigator[R]=="string"&&(D+=navigator[R])}catch{}A.collect(D),D=null}r&&(r().mousemove(function(L){A.collectInt(L.clientX,16),A.collectInt(L.clientY,16)}),r().keypress(function(L){A.collectInt(L.charCode,8)}))}if(!a.random)a.random=A;else for(var R in A)a.random[R]=A[R];a.random.createInstance=m,Uc.exports=a.random})(typeof jQuery<"u"?jQuery:null)})(),Uc.exports}var Qd,Zy;function F2(){if(Zy)return Qd;Zy=1;var a=Dn();Zn();var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],d=function(A,p){return A<<p&65535|(A&65535)>>16-p},v=function(A,p){return(A&65535)>>p|A<<16-p&65535};Qd=a.rc2=a.rc2||{},a.rc2.expandKey=function(A,p){typeof A=="string"&&(A=a.util.createBuffer(A)),p=p||128;var E=A,C=A.length(),D=p,R=Math.ceil(D/8),L=255>>(D&7),_;for(_=C;_<128;_++)E.putByte(r[E.at(_-1)+E.at(_-C)&255]);for(E.setAt(128-R,r[E.at(128-R)&L]),_=127-R;_>=0;_--)E.setAt(_,r[E.at(_+1)^E.at(_+R)]);return E};var m=function(A,p,E){var C=!1,D=null,R=null,L=null,_,V,P,H,T=[];for(A=a.rc2.expandKey(A,p),P=0;P<64;P++)T.push(A.getInt16Le());E?(_=function(K){for(P=0;P<4;P++)K[P]+=T[H]+(K[(P+3)%4]&K[(P+2)%4])+(~K[(P+3)%4]&K[(P+1)%4]),K[P]=d(K[P],s[P]),H++},V=function(K){for(P=0;P<4;P++)K[P]+=T[K[(P+3)%4]&63]}):(_=function(K){for(P=3;P>=0;P--)K[P]=v(K[P],s[P]),K[P]-=T[H]+(K[(P+3)%4]&K[(P+2)%4])+(~K[(P+3)%4]&K[(P+1)%4]),H--},V=function(K){for(P=3;P>=0;P--)K[P]-=T[K[(P+3)%4]&63]});var F=function(K){var X=[];for(P=0;P<4;P++){var M=D.getInt16Le();L!==null&&(E?M^=L.getInt16Le():L.putInt16Le(M)),X.push(M&65535)}H=E?0:63;for(var I=0;I<K.length;I++)for(var w=0;w<K[I][0];w++)K[I][1](X);for(P=0;P<4;P++)L!==null&&(E?L.putInt16Le(X[P]):X[P]^=L.getInt16Le()),R.putInt16Le(X[P])},U=null;return U={start:function(K,X){K&&typeof K=="string"&&(K=a.util.createBuffer(K)),C=!1,D=a.util.createBuffer(),R=X||new a.util.createBuffer,L=K,U.output=R},update:function(K){for(C||D.putBuffer(K);D.length()>=8;)F([[5,_],[1,V],[6,_],[1,V],[5,_]])},finish:function(K){var X=!0;if(E)if(K)X=K(8,D,!E);else{var M=D.length()===8?8:8-D.length();D.fillWithByte(M,M)}if(X&&(C=!0,U.update()),!E&&(X=D.length()===0,X))if(K)X=K(8,R,!E);else{var I=R.length(),w=R.at(I-1);w>I?X=!1:R.truncate(w)}return X}},U};return a.rc2.startEncrypting=function(A,p,E){var C=a.rc2.createEncryptionCipher(A,128);return C.start(p,E),C},a.rc2.createEncryptionCipher=function(A,p){return m(A,p,!0)},a.rc2.startDecrypting=function(A,p,E){var C=a.rc2.createDecryptionCipher(A,128);return C.start(p,E),C},a.rc2.createDecryptionCipher=function(A,p){return m(A,p,!1)},Qd}var Hd,Wy;function gf(){if(Wy)return Hd;Wy=1;var a=Dn();Hd=a.jsbn=a.jsbn||{};var r;function s(J,te,ce){this.data=[],J!=null&&(typeof J=="number"?this.fromNumber(J,te,ce):te==null&&typeof J!="string"?this.fromString(J,256):this.fromString(J,te))}a.jsbn.BigInteger=s;function d(){return new s(null)}function v(J,te,ce,Re,tt,Xe){for(;--Xe>=0;){var vt=te*this.data[J++]+ce.data[Re]+tt;tt=Math.floor(vt/67108864),ce.data[Re++]=vt&67108863}return tt}function m(J,te,ce,Re,tt,Xe){for(var vt=te&32767,Ct=te>>15;--Xe>=0;){var Wt=this.data[J]&32767,jn=this.data[J++]>>15,gn=Ct*Wt+jn*vt;Wt=vt*Wt+((gn&32767)<<15)+ce.data[Re]+(tt&1073741823),tt=(Wt>>>30)+(gn>>>15)+Ct*jn+(tt>>>30),ce.data[Re++]=Wt&1073741823}return tt}function A(J,te,ce,Re,tt,Xe){for(var vt=te&16383,Ct=te>>14;--Xe>=0;){var Wt=this.data[J]&16383,jn=this.data[J++]>>14,gn=Ct*Wt+jn*vt;Wt=vt*Wt+((gn&16383)<<14)+ce.data[Re]+tt,tt=(Wt>>28)+(gn>>14)+Ct*jn,ce.data[Re++]=Wt&268435455}return tt}typeof navigator>"u"?(s.prototype.am=A,r=28):navigator.appName=="Microsoft Internet Explorer"?(s.prototype.am=m,r=30):navigator.appName!="Netscape"?(s.prototype.am=v,r=26):(s.prototype.am=A,r=28),s.prototype.DB=r,s.prototype.DM=(1<<r)-1,s.prototype.DV=1<<r;var p=52;s.prototype.FV=Math.pow(2,p),s.prototype.F1=p-r,s.prototype.F2=2*r-p;var E="0123456789abcdefghijklmnopqrstuvwxyz",C=new Array,D,R;for(D=48,R=0;R<=9;++R)C[D++]=R;for(D=97,R=10;R<36;++R)C[D++]=R;for(D=65,R=10;R<36;++R)C[D++]=R;function L(J){return E.charAt(J)}function _(J,te){var ce=C[J.charCodeAt(te)];return ce??-1}function V(J){for(var te=this.t-1;te>=0;--te)J.data[te]=this.data[te];J.t=this.t,J.s=this.s}function P(J){this.t=1,this.s=J<0?-1:0,J>0?this.data[0]=J:J<-1?this.data[0]=J+this.DV:this.t=0}function H(J){var te=d();return te.fromInt(J),te}function T(J,te){var ce;if(te==16)ce=4;else if(te==8)ce=3;else if(te==256)ce=8;else if(te==2)ce=1;else if(te==32)ce=5;else if(te==4)ce=2;else{this.fromRadix(J,te);return}this.t=0,this.s=0;for(var Re=J.length,tt=!1,Xe=0;--Re>=0;){var vt=ce==8?J[Re]&255:_(J,Re);if(vt<0){J.charAt(Re)=="-"&&(tt=!0);continue}tt=!1,Xe==0?this.data[this.t++]=vt:Xe+ce>this.DB?(this.data[this.t-1]|=(vt&(1<<this.DB-Xe)-1)<<Xe,this.data[this.t++]=vt>>this.DB-Xe):this.data[this.t-1]|=vt<<Xe,Xe+=ce,Xe>=this.DB&&(Xe-=this.DB)}ce==8&&(J[0]&128)!=0&&(this.s=-1,Xe>0&&(this.data[this.t-1]|=(1<<this.DB-Xe)-1<<Xe)),this.clamp(),tt&&s.ZERO.subTo(this,this)}function F(){for(var J=this.s&this.DM;this.t>0&&this.data[this.t-1]==J;)--this.t}function U(J){if(this.s<0)return"-"+this.negate().toString(J);var te;if(J==16)te=4;else if(J==8)te=3;else if(J==2)te=1;else if(J==32)te=5;else if(J==4)te=2;else return this.toRadix(J);var ce=(1<<te)-1,Re,tt=!1,Xe="",vt=this.t,Ct=this.DB-vt*this.DB%te;if(vt-- >0)for(Ct<this.DB&&(Re=this.data[vt]>>Ct)>0&&(tt=!0,Xe=L(Re));vt>=0;)Ct<te?(Re=(this.data[vt]&(1<<Ct)-1)<<te-Ct,Re|=this.data[--vt]>>(Ct+=this.DB-te)):(Re=this.data[vt]>>(Ct-=te)&ce,Ct<=0&&(Ct+=this.DB,--vt)),Re>0&&(tt=!0),tt&&(Xe+=L(Re));return tt?Xe:"0"}function K(){var J=d();return s.ZERO.subTo(this,J),J}function X(){return this.s<0?this.negate():this}function M(J){var te=this.s-J.s;if(te!=0)return te;var ce=this.t;if(te=ce-J.t,te!=0)return this.s<0?-te:te;for(;--ce>=0;)if((te=this.data[ce]-J.data[ce])!=0)return te;return 0}function I(J){var te=1,ce;return(ce=J>>>16)!=0&&(J=ce,te+=16),(ce=J>>8)!=0&&(J=ce,te+=8),(ce=J>>4)!=0&&(J=ce,te+=4),(ce=J>>2)!=0&&(J=ce,te+=2),(ce=J>>1)!=0&&(J=ce,te+=1),te}function w(){return this.t<=0?0:this.DB*(this.t-1)+I(this.data[this.t-1]^this.s&this.DM)}function j(J,te){var ce;for(ce=this.t-1;ce>=0;--ce)te.data[ce+J]=this.data[ce];for(ce=J-1;ce>=0;--ce)te.data[ce]=0;te.t=this.t+J,te.s=this.s}function ae(J,te){for(var ce=J;ce<this.t;++ce)te.data[ce-J]=this.data[ce];te.t=Math.max(this.t-J,0),te.s=this.s}function de(J,te){var ce=J%this.DB,Re=this.DB-ce,tt=(1<<Re)-1,Xe=Math.floor(J/this.DB),vt=this.s<<ce&this.DM,Ct;for(Ct=this.t-1;Ct>=0;--Ct)te.data[Ct+Xe+1]=this.data[Ct]>>Re|vt,vt=(this.data[Ct]&tt)<<ce;for(Ct=Xe-1;Ct>=0;--Ct)te.data[Ct]=0;te.data[Xe]=vt,te.t=this.t+Xe+1,te.s=this.s,te.clamp()}function ee(J,te){te.s=this.s;var ce=Math.floor(J/this.DB);if(ce>=this.t){te.t=0;return}var Re=J%this.DB,tt=this.DB-Re,Xe=(1<<Re)-1;te.data[0]=this.data[ce]>>Re;for(var vt=ce+1;vt<this.t;++vt)te.data[vt-ce-1]|=(this.data[vt]&Xe)<<tt,te.data[vt-ce]=this.data[vt]>>Re;Re>0&&(te.data[this.t-ce-1]|=(this.s&Xe)<<tt),te.t=this.t-ce,te.clamp()}function se(J,te){for(var ce=0,Re=0,tt=Math.min(J.t,this.t);ce<tt;)Re+=this.data[ce]-J.data[ce],te.data[ce++]=Re&this.DM,Re>>=this.DB;if(J.t<this.t){for(Re-=J.s;ce<this.t;)Re+=this.data[ce],te.data[ce++]=Re&this.DM,Re>>=this.DB;Re+=this.s}else{for(Re+=this.s;ce<J.t;)Re-=J.data[ce],te.data[ce++]=Re&this.DM,Re>>=this.DB;Re-=J.s}te.s=Re<0?-1:0,Re<-1?te.data[ce++]=this.DV+Re:Re>0&&(te.data[ce++]=Re),te.t=ce,te.clamp()}function Ae(J,te){var ce=this.abs(),Re=J.abs(),tt=ce.t;for(te.t=tt+Re.t;--tt>=0;)te.data[tt]=0;for(tt=0;tt<Re.t;++tt)te.data[tt+ce.t]=ce.am(0,Re.data[tt],te,tt,0,ce.t);te.s=0,te.clamp(),this.s!=J.s&&s.ZERO.subTo(te,te)}function oe(J){for(var te=this.abs(),ce=J.t=2*te.t;--ce>=0;)J.data[ce]=0;for(ce=0;ce<te.t-1;++ce){var Re=te.am(ce,te.data[ce],J,2*ce,0,1);(J.data[ce+te.t]+=te.am(ce+1,2*te.data[ce],J,2*ce+1,Re,te.t-ce-1))>=te.DV&&(J.data[ce+te.t]-=te.DV,J.data[ce+te.t+1]=1)}J.t>0&&(J.data[J.t-1]+=te.am(ce,te.data[ce],J,2*ce,0,1)),J.s=0,J.clamp()}function he(J,te,ce){var Re=J.abs();if(!(Re.t<=0)){var tt=this.abs();if(tt.t<Re.t){te!=null&&te.fromInt(0),ce!=null&&this.copyTo(ce);return}ce==null&&(ce=d());var Xe=d(),vt=this.s,Ct=J.s,Wt=this.DB-I(Re.data[Re.t-1]);Wt>0?(Re.lShiftTo(Wt,Xe),tt.lShiftTo(Wt,ce)):(Re.copyTo(Xe),tt.copyTo(ce));var jn=Xe.t,gn=Xe.data[jn-1];if(gn!=0){var sr=gn*(1<<this.F1)+(jn>1?Xe.data[jn-2]>>this.F2:0),tn=this.FV/sr,Yn=(1<<this.F1)/sr,Ue=1<<this.F2,ge=ce.t,Bt=ge-jn,Kn=te??d();for(Xe.dlShiftTo(Bt,Kn),ce.compareTo(Kn)>=0&&(ce.data[ce.t++]=1,ce.subTo(Kn,ce)),s.ONE.dlShiftTo(jn,Kn),Kn.subTo(Xe,Xe);Xe.t<jn;)Xe.data[Xe.t++]=0;for(;--Bt>=0;){var Cr=ce.data[--ge]==gn?this.DM:Math.floor(ce.data[ge]*tn+(ce.data[ge-1]+Ue)*Yn);if((ce.data[ge]+=Xe.am(0,Cr,ce,Bt,0,jn))<Cr)for(Xe.dlShiftTo(Bt,Kn),ce.subTo(Kn,ce);ce.data[ge]<--Cr;)ce.subTo(Kn,ce)}te!=null&&(ce.drShiftTo(jn,te),vt!=Ct&&s.ZERO.subTo(te,te)),ce.t=jn,ce.clamp(),Wt>0&&ce.rShiftTo(Wt,ce),vt<0&&s.ZERO.subTo(ce,ce)}}}function ve(J){var te=d();return this.abs().divRemTo(J,null,te),this.s<0&&te.compareTo(s.ZERO)>0&&J.subTo(te,te),te}function ke(J){this.m=J}function Ke(J){return J.s<0||J.compareTo(this.m)>=0?J.mod(this.m):J}function Le(J){return J}function Ce(J){J.divRemTo(this.m,null,J)}function Te(J,te,ce){J.multiplyTo(te,ce),this.reduce(ce)}function Ze(J,te){J.squareTo(te),this.reduce(te)}ke.prototype.convert=Ke,ke.prototype.revert=Le,ke.prototype.reduce=Ce,ke.prototype.mulTo=Te,ke.prototype.sqrTo=Ze;function De(){if(this.t<1)return 0;var J=this.data[0];if((J&1)==0)return 0;var te=J&3;return te=te*(2-(J&15)*te)&15,te=te*(2-(J&255)*te)&255,te=te*(2-((J&65535)*te&65535))&65535,te=te*(2-J*te%this.DV)%this.DV,te>0?this.DV-te:-te}function et(J){this.m=J,this.mp=J.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<J.DB-15)-1,this.mt2=2*J.t}function Ne(J){var te=d();return J.abs().dlShiftTo(this.m.t,te),te.divRemTo(this.m,null,te),J.s<0&&te.compareTo(s.ZERO)>0&&this.m.subTo(te,te),te}function bt(J){var te=d();return J.copyTo(te),this.reduce(te),te}function gt(J){for(;J.t<=this.mt2;)J.data[J.t++]=0;for(var te=0;te<this.m.t;++te){var ce=J.data[te]&32767,Re=ce*this.mpl+((ce*this.mph+(J.data[te]>>15)*this.mpl&this.um)<<15)&J.DM;for(ce=te+this.m.t,J.data[ce]+=this.m.am(0,Re,J,te,0,this.m.t);J.data[ce]>=J.DV;)J.data[ce]-=J.DV,J.data[++ce]++}J.clamp(),J.drShiftTo(this.m.t,J),J.compareTo(this.m)>=0&&J.subTo(this.m,J)}function Q(J,te){J.squareTo(te),this.reduce(te)}function W(J,te,ce){J.multiplyTo(te,ce),this.reduce(ce)}et.prototype.convert=Ne,et.prototype.revert=bt,et.prototype.reduce=gt,et.prototype.mulTo=W,et.prototype.sqrTo=Q;function re(){return(this.t>0?this.data[0]&1:this.s)==0}function O(J,te){if(J>4294967295||J<1)return s.ONE;var ce=d(),Re=d(),tt=te.convert(this),Xe=I(J)-1;for(tt.copyTo(ce);--Xe>=0;)if(te.sqrTo(ce,Re),(J&1<<Xe)>0)te.mulTo(Re,tt,ce);else{var vt=ce;ce=Re,Re=vt}return te.revert(ce)}function Z(J,te){var ce;return J<256||te.isEven()?ce=new ke(te):ce=new et(te),this.exp(J,ce)}s.prototype.copyTo=V,s.prototype.fromInt=P,s.prototype.fromString=T,s.prototype.clamp=F,s.prototype.dlShiftTo=j,s.prototype.drShiftTo=ae,s.prototype.lShiftTo=de,s.prototype.rShiftTo=ee,s.prototype.subTo=se,s.prototype.multiplyTo=Ae,s.prototype.squareTo=oe,s.prototype.divRemTo=he,s.prototype.invDigit=De,s.prototype.isEven=re,s.prototype.exp=O,s.prototype.toString=U,s.prototype.negate=K,s.prototype.abs=X,s.prototype.compareTo=M,s.prototype.bitLength=w,s.prototype.mod=ve,s.prototype.modPowInt=Z,s.ZERO=H(0),s.ONE=H(1);function be(){var J=d();return this.copyTo(J),J}function xe(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function We(){return this.t==0?this.s:this.data[0]<<24>>24}function ht(){return this.t==0?this.s:this.data[0]<<16>>16}function ft(J){return Math.floor(Math.LN2*this.DB/Math.log(J))}function Pe(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function pt(J){if(J==null&&(J=10),this.signum()==0||J<2||J>36)return"0";var te=this.chunkSize(J),ce=Math.pow(J,te),Re=H(ce),tt=d(),Xe=d(),vt="";for(this.divRemTo(Re,tt,Xe);tt.signum()>0;)vt=(ce+Xe.intValue()).toString(J).substr(1)+vt,tt.divRemTo(Re,tt,Xe);return Xe.intValue().toString(J)+vt}function Ye(J,te){this.fromInt(0),te==null&&(te=10);for(var ce=this.chunkSize(te),Re=Math.pow(te,ce),tt=!1,Xe=0,vt=0,Ct=0;Ct<J.length;++Ct){var Wt=_(J,Ct);if(Wt<0){J.charAt(Ct)=="-"&&this.signum()==0&&(tt=!0);continue}vt=te*vt+Wt,++Xe>=ce&&(this.dMultiply(Re),this.dAddOffset(vt,0),Xe=0,vt=0)}Xe>0&&(this.dMultiply(Math.pow(te,Xe)),this.dAddOffset(vt,0)),tt&&s.ZERO.subTo(this,this)}function Mt(J,te,ce){if(typeof te=="number")if(J<2)this.fromInt(1);else for(this.fromNumber(J,ce),this.testBit(J-1)||this.bitwiseTo(s.ONE.shiftLeft(J-1),En,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(te);)this.dAddOffset(2,0),this.bitLength()>J&&this.subTo(s.ONE.shiftLeft(J-1),this);else{var Re=new Array,tt=J&7;Re.length=(J>>3)+1,te.nextBytes(Re),tt>0?Re[0]&=(1<<tt)-1:Re[0]=0,this.fromString(Re,256)}}function Et(){var J=this.t,te=new Array;te[0]=this.s;var ce=this.DB-J*this.DB%8,Re,tt=0;if(J-- >0)for(ce<this.DB&&(Re=this.data[J]>>ce)!=(this.s&this.DM)>>ce&&(te[tt++]=Re|this.s<<this.DB-ce);J>=0;)ce<8?(Re=(this.data[J]&(1<<ce)-1)<<8-ce,Re|=this.data[--J]>>(ce+=this.DB-8)):(Re=this.data[J]>>(ce-=8)&255,ce<=0&&(ce+=this.DB,--J)),(Re&128)!=0&&(Re|=-256),tt==0&&(this.s&128)!=(Re&128)&&++tt,(tt>0||Re!=this.s)&&(te[tt++]=Re);return te}function Kt(J){return this.compareTo(J)==0}function bn(J){return this.compareTo(J)<0?this:J}function jt(J){return this.compareTo(J)>0?this:J}function on(J,te,ce){var Re,tt,Xe=Math.min(J.t,this.t);for(Re=0;Re<Xe;++Re)ce.data[Re]=te(this.data[Re],J.data[Re]);if(J.t<this.t){for(tt=J.s&this.DM,Re=Xe;Re<this.t;++Re)ce.data[Re]=te(this.data[Re],tt);ce.t=this.t}else{for(tt=this.s&this.DM,Re=Xe;Re<J.t;++Re)ce.data[Re]=te(tt,J.data[Re]);ce.t=J.t}ce.s=te(this.s,J.s),ce.clamp()}function rn(J,te){return J&te}function qt(J){var te=d();return this.bitwiseTo(J,rn,te),te}function En(J,te){return J|te}function pn(J){var te=d();return this.bitwiseTo(J,En,te),te}function Bn(J,te){return J^te}function Ht(J){var te=d();return this.bitwiseTo(J,Bn,te),te}function rt(J,te){return J&~te}function Vt(J){var te=d();return this.bitwiseTo(J,rt,te),te}function we(){for(var J=d(),te=0;te<this.t;++te)J.data[te]=this.DM&~this.data[te];return J.t=this.t,J.s=~this.s,J}function Se(J){var te=d();return J<0?this.rShiftTo(-J,te):this.lShiftTo(J,te),te}function Je(J){var te=d();return J<0?this.lShiftTo(-J,te):this.rShiftTo(J,te),te}function st(J){if(J==0)return-1;var te=0;return(J&65535)==0&&(J>>=16,te+=16),(J&255)==0&&(J>>=8,te+=8),(J&15)==0&&(J>>=4,te+=4),(J&3)==0&&(J>>=2,te+=2),(J&1)==0&&++te,te}function $e(){for(var J=0;J<this.t;++J)if(this.data[J]!=0)return J*this.DB+st(this.data[J]);return this.s<0?this.t*this.DB:-1}function Dt(J){for(var te=0;J!=0;)J&=J-1,++te;return te}function un(){for(var J=0,te=this.s&this.DM,ce=0;ce<this.t;++ce)J+=Dt(this.data[ce]^te);return J}function lt(J){var te=Math.floor(J/this.DB);return te>=this.t?this.s!=0:(this.data[te]&1<<J%this.DB)!=0}function an(J,te){var ce=s.ONE.shiftLeft(J);return this.bitwiseTo(ce,te,ce),ce}function It(J){return this.changeBit(J,En)}function Qt(J){return this.changeBit(J,rt)}function St(J){return this.changeBit(J,Bn)}function Rt(J,te){for(var ce=0,Re=0,tt=Math.min(J.t,this.t);ce<tt;)Re+=this.data[ce]+J.data[ce],te.data[ce++]=Re&this.DM,Re>>=this.DB;if(J.t<this.t){for(Re+=J.s;ce<this.t;)Re+=this.data[ce],te.data[ce++]=Re&this.DM,Re>>=this.DB;Re+=this.s}else{for(Re+=this.s;ce<J.t;)Re+=J.data[ce],te.data[ce++]=Re&this.DM,Re>>=this.DB;Re+=J.s}te.s=Re<0?-1:0,Re>0?te.data[ce++]=Re:Re<-1&&(te.data[ce++]=this.DV+Re),te.t=ce,te.clamp()}function Lt(J){var te=d();return this.addTo(J,te),te}function Ft(J){var te=d();return this.subTo(J,te),te}function mn(J){var te=d();return this.multiplyTo(J,te),te}function Tt(J){var te=d();return this.divRemTo(J,te,null),te}function Zt(J){var te=d();return this.divRemTo(J,null,te),te}function yn(J){var te=d(),ce=d();return this.divRemTo(J,te,ce),new Array(te,ce)}function In(J){this.data[this.t]=this.am(0,J-1,this,0,0,this.t),++this.t,this.clamp()}function fn(J,te){if(J!=0){for(;this.t<=te;)this.data[this.t++]=0;for(this.data[te]+=J;this.data[te]>=this.DV;)this.data[te]-=this.DV,++te>=this.t&&(this.data[this.t++]=0),++this.data[te]}}function dt(){}function Sn(J){return J}function cn(J,te,ce){J.multiplyTo(te,ce)}function $t(J,te){J.squareTo(te)}dt.prototype.convert=Sn,dt.prototype.revert=Sn,dt.prototype.mulTo=cn,dt.prototype.sqrTo=$t;function Ar(J){return this.exp(J,new dt)}function ya(J,te,ce){var Re=Math.min(this.t+J.t,te);for(ce.s=0,ce.t=Re;Re>0;)ce.data[--Re]=0;var tt;for(tt=ce.t-this.t;Re<tt;++Re)ce.data[Re+this.t]=this.am(0,J.data[Re],ce,Re,0,this.t);for(tt=Math.min(J.t,te);Re<tt;++Re)this.am(0,J.data[Re],ce,Re,0,te-Re);ce.clamp()}function Ci(J,te,ce){--te;var Re=ce.t=this.t+J.t-te;for(ce.s=0;--Re>=0;)ce.data[Re]=0;for(Re=Math.max(te-this.t,0);Re<J.t;++Re)ce.data[this.t+Re-te]=this.am(te-Re,J.data[Re],ce,0,0,this.t+Re-te);ce.clamp(),ce.drShiftTo(1,ce)}function ar(J){this.r2=d(),this.q3=d(),s.ONE.dlShiftTo(2*J.t,this.r2),this.mu=this.r2.divide(J),this.m=J}function Pi(J){if(J.s<0||J.t>2*this.m.t)return J.mod(this.m);if(J.compareTo(this.m)<0)return J;var te=d();return J.copyTo(te),this.reduce(te),te}function ea(J){return J}function Gr(J){for(J.drShiftTo(this.m.t-1,this.r2),J.t>this.m.t+1&&(J.t=this.m.t+1,J.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);J.compareTo(this.r2)<0;)J.dAddOffset(1,this.m.t+1);for(J.subTo(this.r2,J);J.compareTo(this.m)>=0;)J.subTo(this.m,J)}function ir(J,te){J.squareTo(te),this.reduce(te)}function en(J,te,ce){J.multiplyTo(te,ce),this.reduce(ce)}ar.prototype.convert=Pi,ar.prototype.revert=ea,ar.prototype.reduce=Gr,ar.prototype.mulTo=en,ar.prototype.sqrTo=ir;function Xr(J,te){var ce=J.bitLength(),Re,tt=H(1),Xe;if(ce<=0)return tt;ce<18?Re=1:ce<48?Re=3:ce<144?Re=4:ce<768?Re=5:Re=6,ce<8?Xe=new ke(te):te.isEven()?Xe=new ar(te):Xe=new et(te);var vt=new Array,Ct=3,Wt=Re-1,jn=(1<<Re)-1;if(vt[1]=Xe.convert(this),Re>1){var gn=d();for(Xe.sqrTo(vt[1],gn);Ct<=jn;)vt[Ct]=d(),Xe.mulTo(gn,vt[Ct-2],vt[Ct]),Ct+=2}var sr=J.t-1,tn,Yn=!0,Ue=d(),ge;for(ce=I(J.data[sr])-1;sr>=0;){for(ce>=Wt?tn=J.data[sr]>>ce-Wt&jn:(tn=(J.data[sr]&(1<<ce+1)-1)<<Wt-ce,sr>0&&(tn|=J.data[sr-1]>>this.DB+ce-Wt)),Ct=Re;(tn&1)==0;)tn>>=1,--Ct;if((ce-=Ct)<0&&(ce+=this.DB,--sr),Yn)vt[tn].copyTo(tt),Yn=!1;else{for(;Ct>1;)Xe.sqrTo(tt,Ue),Xe.sqrTo(Ue,tt),Ct-=2;Ct>0?Xe.sqrTo(tt,Ue):(ge=tt,tt=Ue,Ue=ge),Xe.mulTo(Ue,vt[tn],tt)}for(;sr>=0&&(J.data[sr]&1<<ce)==0;)Xe.sqrTo(tt,Ue),ge=tt,tt=Ue,Ue=ge,--ce<0&&(ce=this.DB-1,--sr)}return Xe.revert(tt)}function dr(J){var te=this.s<0?this.negate():this.clone(),ce=J.s<0?J.negate():J.clone();if(te.compareTo(ce)<0){var Re=te;te=ce,ce=Re}var tt=te.getLowestSetBit(),Xe=ce.getLowestSetBit();if(Xe<0)return te;for(tt<Xe&&(Xe=tt),Xe>0&&(te.rShiftTo(Xe,te),ce.rShiftTo(Xe,ce));te.signum()>0;)(tt=te.getLowestSetBit())>0&&te.rShiftTo(tt,te),(tt=ce.getLowestSetBit())>0&&ce.rShiftTo(tt,ce),te.compareTo(ce)>=0?(te.subTo(ce,te),te.rShiftTo(1,te)):(ce.subTo(te,ce),ce.rShiftTo(1,ce));return Xe>0&&ce.lShiftTo(Xe,ce),ce}function hr(J){if(J<=0)return 0;var te=this.DV%J,ce=this.s<0?J-1:0;if(this.t>0)if(te==0)ce=this.data[0]%J;else for(var Re=this.t-1;Re>=0;--Re)ce=(te*ce+this.data[Re])%J;return ce}function ot(J){var te=J.isEven();if(this.isEven()&&te||J.signum()==0)return s.ZERO;for(var ce=J.clone(),Re=this.clone(),tt=H(1),Xe=H(0),vt=H(0),Ct=H(1);ce.signum()!=0;){for(;ce.isEven();)ce.rShiftTo(1,ce),te?((!tt.isEven()||!Xe.isEven())&&(tt.addTo(this,tt),Xe.subTo(J,Xe)),tt.rShiftTo(1,tt)):Xe.isEven()||Xe.subTo(J,Xe),Xe.rShiftTo(1,Xe);for(;Re.isEven();)Re.rShiftTo(1,Re),te?((!vt.isEven()||!Ct.isEven())&&(vt.addTo(this,vt),Ct.subTo(J,Ct)),vt.rShiftTo(1,vt)):Ct.isEven()||Ct.subTo(J,Ct),Ct.rShiftTo(1,Ct);ce.compareTo(Re)>=0?(ce.subTo(Re,ce),te&&tt.subTo(vt,tt),Xe.subTo(Ct,Xe)):(Re.subTo(ce,Re),te&&vt.subTo(tt,vt),Ct.subTo(Xe,Ct))}if(Re.compareTo(s.ONE)!=0)return s.ZERO;if(Ct.compareTo(J)>=0)return Ct.subtract(J);if(Ct.signum()<0)Ct.addTo(J,Ct);else return Ct;return Ct.signum()<0?Ct.add(J):Ct}var Dr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Mn=(1<<26)/Dr[Dr.length-1];function jr(J){var te,ce=this.abs();if(ce.t==1&&ce.data[0]<=Dr[Dr.length-1]){for(te=0;te<Dr.length;++te)if(ce.data[0]==Dr[te])return!0;return!1}if(ce.isEven())return!1;for(te=1;te<Dr.length;){for(var Re=Dr[te],tt=te+1;tt<Dr.length&&Re<Mn;)Re*=Dr[tt++];for(Re=ce.modInt(Re);te<tt;)if(Re%Dr[te++]==0)return!1}return ce.millerRabin(J)}function Ma(J){var te=this.subtract(s.ONE),ce=te.getLowestSetBit();if(ce<=0)return!1;for(var Re=te.shiftRight(ce),tt=Rn(),Xe,vt=0;vt<J;++vt){do Xe=new s(this.bitLength(),tt);while(Xe.compareTo(s.ONE)<=0||Xe.compareTo(te)>=0);var Ct=Xe.modPow(Re,this);if(Ct.compareTo(s.ONE)!=0&&Ct.compareTo(te)!=0){for(var Wt=1;Wt++<ce&&Ct.compareTo(te)!=0;)if(Ct=Ct.modPowInt(2,this),Ct.compareTo(s.ONE)==0)return!1;if(Ct.compareTo(te)!=0)return!1}}return!0}function Rn(){return{nextBytes:function(J){for(var te=0;te<J.length;++te)J[te]=Math.floor(Math.random()*256)}}}return s.prototype.chunkSize=ft,s.prototype.toRadix=pt,s.prototype.fromRadix=Ye,s.prototype.fromNumber=Mt,s.prototype.bitwiseTo=on,s.prototype.changeBit=an,s.prototype.addTo=Rt,s.prototype.dMultiply=In,s.prototype.dAddOffset=fn,s.prototype.multiplyLowerTo=ya,s.prototype.multiplyUpperTo=Ci,s.prototype.modInt=hr,s.prototype.millerRabin=Ma,s.prototype.clone=be,s.prototype.intValue=xe,s.prototype.byteValue=We,s.prototype.shortValue=ht,s.prototype.signum=Pe,s.prototype.toByteArray=Et,s.prototype.equals=Kt,s.prototype.min=bn,s.prototype.max=jt,s.prototype.and=qt,s.prototype.or=pn,s.prototype.xor=Ht,s.prototype.andNot=Vt,s.prototype.not=we,s.prototype.shiftLeft=Se,s.prototype.shiftRight=Je,s.prototype.getLowestSetBit=$e,s.prototype.bitCount=un,s.prototype.testBit=lt,s.prototype.setBit=It,s.prototype.clearBit=Qt,s.prototype.flipBit=St,s.prototype.add=Lt,s.prototype.subtract=Ft,s.prototype.multiply=mn,s.prototype.divide=Tt,s.prototype.remainder=Zt,s.prototype.divideAndRemainder=yn,s.prototype.modPow=Xr,s.prototype.modInverse=ot,s.prototype.pow=Ar,s.prototype.gcd=dr,s.prototype.isProbablePrime=jr,Hd}var Gd={exports:{}},jd={exports:{}},Jy;function Ou(){if(Jy)return jd.exports;Jy=1;var a=Dn();ys(),Zn();var r=jd.exports=a.sha1=a.sha1||{};a.md.sha1=a.md.algorithms.sha1=r,r.create=function(){d||v();var A=null,p=a.util.createBuffer(),E=new Array(80),C={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return C.start=function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var D=C.messageLengthSize/4,R=0;R<D;++R)C.fullMessageLength.push(0);return p=a.util.createBuffer(),A={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},C},C.start(),C.update=function(D,R){R==="utf8"&&(D=a.util.encodeUtf8(D));var L=D.length;C.messageLength+=L,L=[L/4294967296>>>0,L>>>0];for(var _=C.fullMessageLength.length-1;_>=0;--_)C.fullMessageLength[_]+=L[1],L[1]=L[0]+(C.fullMessageLength[_]/4294967296>>>0),C.fullMessageLength[_]=C.fullMessageLength[_]>>>0,L[0]=L[1]/4294967296>>>0;return p.putBytes(D),m(A,E,p),(p.read>2048||p.length()===0)&&p.compact(),C},C.digest=function(){var D=a.util.createBuffer();D.putBytes(p.bytes());var R=C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize,L=R&C.blockLength-1;D.putBytes(s.substr(0,C.blockLength-L));for(var _,V,P=C.fullMessageLength[0]*8,H=0;H<C.fullMessageLength.length-1;++H)_=C.fullMessageLength[H+1]*8,V=_/4294967296>>>0,P+=V,D.putInt32(P>>>0),P=_>>>0;D.putInt32(P);var T={h0:A.h0,h1:A.h1,h2:A.h2,h3:A.h3,h4:A.h4};m(T,E,D);var F=a.util.createBuffer();return F.putInt32(T.h0),F.putInt32(T.h1),F.putInt32(T.h2),F.putInt32(T.h3),F.putInt32(T.h4),F},C};var s=null,d=!1;function v(){s="",s+=a.util.fillString("\0",64),d=!0}function m(A,p,E){for(var C,D,R,L,_,V,P,H,T=E.length();T>=64;){for(D=A.h0,R=A.h1,L=A.h2,_=A.h3,V=A.h4,H=0;H<16;++H)C=E.getInt32(),p[H]=C,P=_^R&(L^_),C=(D<<5|D>>>27)+P+V+1518500249+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<20;++H)C=p[H-3]^p[H-8]^p[H-14]^p[H-16],C=C<<1|C>>>31,p[H]=C,P=_^R&(L^_),C=(D<<5|D>>>27)+P+V+1518500249+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<32;++H)C=p[H-3]^p[H-8]^p[H-14]^p[H-16],C=C<<1|C>>>31,p[H]=C,P=R^L^_,C=(D<<5|D>>>27)+P+V+1859775393+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<40;++H)C=p[H-6]^p[H-16]^p[H-28]^p[H-32],C=C<<2|C>>>30,p[H]=C,P=R^L^_,C=(D<<5|D>>>27)+P+V+1859775393+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<60;++H)C=p[H-6]^p[H-16]^p[H-28]^p[H-32],C=C<<2|C>>>30,p[H]=C,P=R&L|_&(R^L),C=(D<<5|D>>>27)+P+V+2400959708+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;for(;H<80;++H)C=p[H-6]^p[H-16]^p[H-28]^p[H-32],C=C<<2|C>>>30,p[H]=C,P=R^L^_,C=(D<<5|D>>>27)+P+V+3395469782+C,V=_,_=L,L=(R<<30|R>>>2)>>>0,R=D,D=C;A.h0=A.h0+D|0,A.h1=A.h1+R|0,A.h2=A.h2+L|0,A.h3=A.h3+_|0,A.h4=A.h4+V|0,T-=64}}return jd.exports}var $y;function P2(){if($y)return Gd.exports;$y=1;var a=Dn();Zn(),Ai(),Ou();var r=Gd.exports=a.pkcs1=a.pkcs1||{};r.encode_rsa_oaep=function(d,v,m){var A,p,E,C;typeof m=="string"?(A=m,p=arguments[3]||void 0,E=arguments[4]||void 0):m&&(A=m.label||void 0,p=m.seed||void 0,E=m.md||void 0,m.mgf1&&m.mgf1.md&&(C=m.mgf1.md)),E?E.start():E=a.md.sha1.create(),C||(C=E);var D=Math.ceil(d.n.bitLength()/8),R=D-2*E.digestLength-2;if(v.length>R){var L=new Error("RSAES-OAEP input message length is too long.");throw L.length=v.length,L.maxLength=R,L}A||(A=""),E.update(A,"raw");for(var _=E.digest(),V="",P=R-v.length,H=0;H<P;H++)V+="\0";var T=_.getBytes()+V+""+v;if(!p)p=a.random.getBytes(E.digestLength);else if(p.length!==E.digestLength){var L=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw L.seedLength=p.length,L.digestLength=E.digestLength,L}var F=s(p,D-E.digestLength-1,C),U=a.util.xorBytes(T,F,T.length),K=s(U,E.digestLength,C),X=a.util.xorBytes(p,K,p.length);return"\0"+X+U},r.decode_rsa_oaep=function(d,v,m){var A,p,E;typeof m=="string"?(A=m,p=arguments[3]||void 0):m&&(A=m.label||void 0,p=m.md||void 0,m.mgf1&&m.mgf1.md&&(E=m.mgf1.md));var C=Math.ceil(d.n.bitLength()/8);if(v.length!==C){var U=new Error("RSAES-OAEP encoded message length is invalid.");throw U.length=v.length,U.expectedLength=C,U}if(p===void 0?p=a.md.sha1.create():p.start(),E||(E=p),C<2*p.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");A||(A=""),p.update(A,"raw");for(var D=p.digest().getBytes(),R=v.charAt(0),L=v.substring(1,p.digestLength+1),_=v.substring(1+p.digestLength),V=s(_,p.digestLength,E),P=a.util.xorBytes(L,V,L.length),H=s(P,C-p.digestLength-1,E),T=a.util.xorBytes(_,H,_.length),F=T.substring(0,p.digestLength),U=R!=="\0",K=0;K<p.digestLength;++K)U|=D.charAt(K)!==F.charAt(K);for(var X=1,M=p.digestLength,I=p.digestLength;I<T.length;I++){var w=T.charCodeAt(I),j=w&1^1,ae=X?65534:0;U|=w&ae,X=X&j,M+=X}if(U||T.charCodeAt(M)!==1)throw new Error("Invalid RSAES-OAEP padding.");return T.substring(M+1)};function s(d,v,m){m||(m=a.md.sha1.create());for(var A="",p=Math.ceil(v/m.digestLength),E=0;E<p;++E){var C=String.fromCharCode(E>>24&255,E>>16&255,E>>8&255,E&255);m.start(),m.update(d+C),A+=m.digest().getBytes()}return A.substring(0,v)}return Gd.exports}var Fc={exports:{}},em;function V2(){if(em)return Fc.exports;em=1;var a=Dn();return Zn(),gf(),Ai(),(function(){if(a.prime){Fc.exports=a.prime;return}var r=Fc.exports=a.prime=a.prime||{},s=a.jsbn.BigInteger,d=[6,4,2,4,2,4,6,2],v=new s(null);v.fromInt(30);var m=function(L,_){return L|_};r.generateProbablePrime=function(L,_,V){typeof _=="function"&&(V=_,_={}),_=_||{};var P=_.algorithm||"PRIMEINC";typeof P=="string"&&(P={name:P}),P.options=P.options||{};var H=_.prng||a.random,T={nextBytes:function(F){for(var U=H.getBytesSync(F.length),K=0;K<F.length;++K)F[K]=U.charCodeAt(K)}};if(P.name==="PRIMEINC")return A(L,T,P.options,V);throw new Error("Invalid prime generation algorithm: "+P.name)};function A(L,_,V,P){return"workers"in V?C(L,_,V,P):p(L,_,V,P)}function p(L,_,V,P){var H=D(L,_),T=0,F=R(H.bitLength());"millerRabinTests"in V&&(F=V.millerRabinTests);var U=10;"maxBlockTime"in V&&(U=V.maxBlockTime),E(H,L,_,T,F,U,P)}function E(L,_,V,P,H,T,F){var U=+new Date;do{if(L.bitLength()>_&&(L=D(_,V)),L.isProbablePrime(H))return F(null,L);L.dAddOffset(d[P++%8],0)}while(T<0||+new Date-U<T);a.util.setImmediate(function(){E(L,_,V,P,H,T,F)})}function C(L,_,V,P){if(typeof Worker>"u")return p(L,_,V,P);var H=D(L,_),T=V.workers,F=V.workLoad||100,U=F*30/8,K=V.workerScript||"forge/prime.worker.js";if(T===-1)return a.util.estimateCores(function(M,I){M&&(I=2),T=I-1,X()});X();function X(){T=Math.max(1,T);for(var M=[],I=0;I<T;++I)M[I]=new Worker(K);for(var I=0;I<T;++I)M[I].addEventListener("message",j);var w=!1;function j(ae){if(!w){var de=ae.data;if(de.found){for(var ee=0;ee<M.length;++ee)M[ee].terminate();return w=!0,P(null,new s(de.prime,16))}H.bitLength()>L&&(H=D(L,_));var se=H.toString(16);ae.target.postMessage({hex:se,workLoad:F}),H.dAddOffset(U,0)}}}}function D(L,_){var V=new s(L,_),P=L-1;return V.testBit(P)||V.bitwiseTo(s.ONE.shiftLeft(P),m,V),V.dAddOffset(31-V.mod(v).byteValue(),0),V}function R(L){return L<=100?27:L<=150?18:L<=200?15:L<=250?12:L<=300?9:L<=350?8:L<=400?7:L<=500?6:L<=600?5:L<=800?4:L<=1250?3:2}})(),Fc.exports}var Kd,tm;function pf(){if(tm)return Kd;tm=1;var a=Dn();if(Fi(),gf(),Oo(),P2(),V2(),Ai(),Zn(),typeof r>"u")var r=a.jsbn.BigInteger;var s=a.util.isNodejs?Gh:null,d=a.asn1,v=a.util;a.pki=a.pki||{},Kd=a.pki.rsa=a.rsa=a.rsa||{};var m=a.pki,A=[6,4,2,4,2,4,6,2],p={name:"PrivateKeyInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},E={name:"RSAPrivateKey",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},C={name:"RSAPublicKey",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},D=a.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:d.Class.UNIVERSAL,type:d.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},R={name:"DigestInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:d.Class.UNIVERSAL,type:d.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:d.Class.UNIVERSAL,type:d.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},L=function(I){var w;if(I.algorithm in m.oids)w=m.oids[I.algorithm];else{var j=new Error("Unknown message digest algorithm.");throw j.algorithm=I.algorithm,j}var ae=d.oidToDer(w).getBytes(),de=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[]),ee=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[]);ee.value.push(d.create(d.Class.UNIVERSAL,d.Type.OID,!1,ae)),ee.value.push(d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,""));var se=d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,I.digest().getBytes());return de.value.push(ee),de.value.push(se),d.toDer(de).getBytes()},_=function(I,w,j){if(j)return I.modPow(w.e,w.n);if(!w.p||!w.q)return I.modPow(w.d,w.n);w.dP||(w.dP=w.d.mod(w.p.subtract(r.ONE))),w.dQ||(w.dQ=w.d.mod(w.q.subtract(r.ONE))),w.qInv||(w.qInv=w.q.modInverse(w.p));var ae;do ae=new r(a.util.bytesToHex(a.random.getBytes(w.n.bitLength()/8)),16);while(ae.compareTo(w.n)>=0||!ae.gcd(w.n).equals(r.ONE));I=I.multiply(ae.modPow(w.e,w.n)).mod(w.n);for(var de=I.mod(w.p).modPow(w.dP,w.p),ee=I.mod(w.q).modPow(w.dQ,w.q);de.compareTo(ee)<0;)de=de.add(w.p);var se=de.subtract(ee).multiply(w.qInv).mod(w.p).multiply(w.q).add(ee);return se=se.multiply(ae.modInverse(w.n)).mod(w.n),se};m.rsa.encrypt=function(I,w,j){var ae=j,de,ee=Math.ceil(w.n.bitLength()/8);j!==!1&&j!==!0?(ae=j===2,de=V(I,w,j)):(de=a.util.createBuffer(),de.putBytes(I));for(var se=new r(de.toHex(),16),Ae=_(se,w,ae),oe=Ae.toString(16),he=a.util.createBuffer(),ve=ee-Math.ceil(oe.length/2);ve>0;)he.putByte(0),--ve;return he.putBytes(a.util.hexToBytes(oe)),he.getBytes()},m.rsa.decrypt=function(I,w,j,ae){var de=Math.ceil(w.n.bitLength()/8);if(I.length!==de){var ee=new Error("Encrypted message length is invalid.");throw ee.length=I.length,ee.expected=de,ee}var se=new r(a.util.createBuffer(I).toHex(),16);if(se.compareTo(w.n)>=0)throw new Error("Encrypted message is invalid.");for(var Ae=_(se,w,j),oe=Ae.toString(16),he=a.util.createBuffer(),ve=de-Math.ceil(oe.length/2);ve>0;)he.putByte(0),--ve;return he.putBytes(a.util.hexToBytes(oe)),ae!==!1?P(he.getBytes(),w,j):he.getBytes()},m.rsa.createKeyPairGenerationState=function(I,w,j){typeof I=="string"&&(I=parseInt(I,10)),I=I||2048,j=j||{};var ae=j.prng||a.random,de={nextBytes:function(Ae){for(var oe=ae.getBytesSync(Ae.length),he=0;he<Ae.length;++he)Ae[he]=oe.charCodeAt(he)}},ee=j.algorithm||"PRIMEINC",se;if(ee==="PRIMEINC")se={algorithm:ee,state:0,bits:I,rng:de,eInt:w||65537,e:new r(null),p:null,q:null,qBits:I>>1,pBits:I-(I>>1),pqState:0,num:null,keys:null},se.e.fromInt(se.eInt);else throw new Error("Invalid key generation algorithm: "+ee);return se},m.rsa.stepKeyPairGenerationState=function(I,w){"algorithm"in I||(I.algorithm="PRIMEINC");var j=new r(null);j.fromInt(30);for(var ae=0,de=function(ke,Ke){return ke|Ke},ee=+new Date,se,Ae=0;I.keys===null&&(w<=0||Ae<w);){if(I.state===0){var oe=I.p===null?I.pBits:I.qBits,he=oe-1;I.pqState===0?(I.num=new r(oe,I.rng),I.num.testBit(he)||I.num.bitwiseTo(r.ONE.shiftLeft(he),de,I.num),I.num.dAddOffset(31-I.num.mod(j).byteValue(),0),ae=0,++I.pqState):I.pqState===1?I.num.bitLength()>oe?I.pqState=0:I.num.isProbablePrime(F(I.num.bitLength()))?++I.pqState:I.num.dAddOffset(A[ae++%8],0):I.pqState===2?I.pqState=I.num.subtract(r.ONE).gcd(I.e).compareTo(r.ONE)===0?3:0:I.pqState===3&&(I.pqState=0,I.p===null?I.p=I.num:I.q=I.num,I.p!==null&&I.q!==null&&++I.state,I.num=null)}else if(I.state===1)I.p.compareTo(I.q)<0&&(I.num=I.p,I.p=I.q,I.q=I.num),++I.state;else if(I.state===2)I.p1=I.p.subtract(r.ONE),I.q1=I.q.subtract(r.ONE),I.phi=I.p1.multiply(I.q1),++I.state;else if(I.state===3)I.phi.gcd(I.e).compareTo(r.ONE)===0?++I.state:(I.p=null,I.q=null,I.state=0);else if(I.state===4)I.n=I.p.multiply(I.q),I.n.bitLength()===I.bits?++I.state:(I.q=null,I.state=0);else if(I.state===5){var ve=I.e.modInverse(I.phi);I.keys={privateKey:m.rsa.setPrivateKey(I.n,I.e,ve,I.p,I.q,ve.mod(I.p1),ve.mod(I.q1),I.q.modInverse(I.p)),publicKey:m.rsa.setPublicKey(I.n,I.e)}}se=+new Date,Ae+=se-ee,ee=se}return I.keys!==null},m.rsa.generateKeyPair=function(I,w,j,ae){if(arguments.length===1?typeof I=="object"?(j=I,I=void 0):typeof I=="function"&&(ae=I,I=void 0):arguments.length===2?typeof I=="number"?typeof w=="function"?(ae=w,w=void 0):typeof w!="number"&&(j=w,w=void 0):(j=I,ae=w,I=void 0,w=void 0):arguments.length===3&&(typeof w=="number"?typeof j=="function"&&(ae=j,j=void 0):(ae=j,j=w,w=void 0)),j=j||{},I===void 0&&(I=j.bits||2048),w===void 0&&(w=j.e||65537),!a.options.usePureJavaScript&&!j.prng&&I>=256&&I<=16384&&(w===65537||w===3)){if(ae){if(U("generateKeyPair"))return s.generateKeyPair("rsa",{modulusLength:I,publicExponent:w,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Ae,oe,he){if(Ae)return ae(Ae);ae(null,{privateKey:m.privateKeyFromPem(he),publicKey:m.publicKeyFromPem(oe)})});if(K("generateKey")&&K("exportKey"))return v.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:M(w),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Ae){return v.globalScope.crypto.subtle.exportKey("pkcs8",Ae.privateKey)}).then(void 0,function(Ae){ae(Ae)}).then(function(Ae){if(Ae){var oe=m.privateKeyFromAsn1(d.fromDer(a.util.createBuffer(Ae)));ae(null,{privateKey:oe,publicKey:m.setRsaPublicKey(oe.n,oe.e)})}});if(X("generateKey")&&X("exportKey")){var de=v.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:M(w),hash:{name:"SHA-256"}},!0,["sign","verify"]);de.oncomplete=function(Ae){var oe=Ae.target.result,he=v.globalScope.msCrypto.subtle.exportKey("pkcs8",oe.privateKey);he.oncomplete=function(ve){var ke=ve.target.result,Ke=m.privateKeyFromAsn1(d.fromDer(a.util.createBuffer(ke)));ae(null,{privateKey:Ke,publicKey:m.setRsaPublicKey(Ke.n,Ke.e)})},he.onerror=function(ve){ae(ve)}},de.onerror=function(Ae){ae(Ae)};return}}else if(U("generateKeyPairSync")){var ee=s.generateKeyPairSync("rsa",{modulusLength:I,publicExponent:w,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:m.privateKeyFromPem(ee.privateKey),publicKey:m.publicKeyFromPem(ee.publicKey)}}}var se=m.rsa.createKeyPairGenerationState(I,w,j);if(!ae)return m.rsa.stepKeyPairGenerationState(se,0),se.keys;H(se,j,ae)},m.setRsaPublicKey=m.rsa.setPublicKey=function(I,w){var j={n:I,e:w};return j.encrypt=function(ae,de,ee){if(typeof de=="string"?de=de.toUpperCase():de===void 0&&(de="RSAES-PKCS1-V1_5"),de==="RSAES-PKCS1-V1_5")de={encode:function(Ae,oe,he){return V(Ae,oe,2).getBytes()}};else if(de==="RSA-OAEP"||de==="RSAES-OAEP")de={encode:function(Ae,oe){return a.pkcs1.encode_rsa_oaep(oe,Ae,ee)}};else if(["RAW","NONE","NULL",null].indexOf(de)!==-1)de={encode:function(Ae){return Ae}};else if(typeof de=="string")throw new Error('Unsupported encryption scheme: "'+de+'".');var se=de.encode(ae,j,!0);return m.rsa.encrypt(se,j,!0)},j.verify=function(ae,de,ee,se){typeof ee=="string"?ee=ee.toUpperCase():ee===void 0&&(ee="RSASSA-PKCS1-V1_5"),se===void 0&&(se={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in se||(se._parseAllDigestBytes=!0),ee==="RSASSA-PKCS1-V1_5"?ee={verify:function(oe,he){he=P(he,j,!0);var ve=d.fromDer(he,{parseAllBytes:se._parseAllDigestBytes}),ke={},Ke=[];if(!d.validate(ve,R,ke,Ke)){var Le=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw Le.errors=Ke,Le}var Ce=d.derToOid(ke.algorithmIdentifier);if(!(Ce===a.oids.md2||Ce===a.oids.md5||Ce===a.oids.sha1||Ce===a.oids.sha224||Ce===a.oids.sha256||Ce===a.oids.sha384||Ce===a.oids.sha512||Ce===a.oids["sha512-224"]||Ce===a.oids["sha512-256"])){var Le=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw Le.oid=Ce,Le}if((Ce===a.oids.md2||Ce===a.oids.md5)&&!("parameters"in ke))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifier NULL parameters.");return oe===ke.digest}}:(ee==="NONE"||ee==="NULL"||ee===null)&&(ee={verify:function(oe,he){return he=P(he,j,!0),oe===he}});var Ae=m.rsa.decrypt(de,j,!0,!1);return ee.verify(ae,Ae,j.n.bitLength())},j},m.setRsaPrivateKey=m.rsa.setPrivateKey=function(I,w,j,ae,de,ee,se,Ae){var oe={n:I,e:w,d:j,p:ae,q:de,dP:ee,dQ:se,qInv:Ae};return oe.decrypt=function(he,ve,ke){typeof ve=="string"?ve=ve.toUpperCase():ve===void 0&&(ve="RSAES-PKCS1-V1_5");var Ke=m.rsa.decrypt(he,oe,!1,!1);if(ve==="RSAES-PKCS1-V1_5")ve={decode:P};else if(ve==="RSA-OAEP"||ve==="RSAES-OAEP")ve={decode:function(Le,Ce){return a.pkcs1.decode_rsa_oaep(Ce,Le,ke)}};else if(["RAW","NONE","NULL",null].indexOf(ve)!==-1)ve={decode:function(Le){return Le}};else throw new Error('Unsupported encryption scheme: "'+ve+'".');return ve.decode(Ke,oe,!1)},oe.sign=function(he,ve){var ke=!1;typeof ve=="string"&&(ve=ve.toUpperCase()),ve===void 0||ve==="RSASSA-PKCS1-V1_5"?(ve={encode:L},ke=1):(ve==="NONE"||ve==="NULL"||ve===null)&&(ve={encode:function(){return he}},ke=1);var Ke=ve.encode(he,oe.n.bitLength());return m.rsa.encrypt(Ke,oe,ke)},oe},m.wrapRsaPrivateKey=function(I){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(0).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(m.oids.rsaEncryption).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(I).getBytes())])},m.privateKeyFromAsn1=function(I){var w={},j=[];if(d.validate(I,p,w,j)&&(I=d.fromDer(a.util.createBuffer(w.privateKey))),w={},j=[],!d.validate(I,E,w,j)){var ae=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw ae.errors=j,ae}var de,ee,se,Ae,oe,he,ve,ke;return de=a.util.createBuffer(w.privateKeyModulus).toHex(),ee=a.util.createBuffer(w.privateKeyPublicExponent).toHex(),se=a.util.createBuffer(w.privateKeyPrivateExponent).toHex(),Ae=a.util.createBuffer(w.privateKeyPrime1).toHex(),oe=a.util.createBuffer(w.privateKeyPrime2).toHex(),he=a.util.createBuffer(w.privateKeyExponent1).toHex(),ve=a.util.createBuffer(w.privateKeyExponent2).toHex(),ke=a.util.createBuffer(w.privateKeyCoefficient).toHex(),m.setRsaPrivateKey(new r(de,16),new r(ee,16),new r(se,16),new r(Ae,16),new r(oe,16),new r(he,16),new r(ve,16),new r(ke,16))},m.privateKeyToAsn1=m.privateKeyToRSAPrivateKey=function(I){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(0).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.n)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.e)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.d)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.p)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.q)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.dP)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.dQ)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.qInv))])},m.publicKeyFromAsn1=function(I){var w={},j=[];if(d.validate(I,D,w,j)){var ae=d.derToOid(w.publicKeyOid);if(ae!==m.oids.rsaEncryption){var de=new Error("Cannot read public key. Unknown OID.");throw de.oid=ae,de}I=w.rsaPublicKey}if(j=[],!d.validate(I,C,w,j)){var de=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw de.errors=j,de}var ee=a.util.createBuffer(w.publicKeyModulus).toHex(),se=a.util.createBuffer(w.publicKeyExponent).toHex();return m.setRsaPublicKey(new r(ee,16),new r(se,16))},m.publicKeyToAsn1=m.publicKeyToSubjectPublicKeyInfo=function(I){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(m.oids.rsaEncryption).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]),d.create(d.Class.UNIVERSAL,d.Type.BITSTRING,!1,[m.publicKeyToRSAPublicKey(I)])])},m.publicKeyToRSAPublicKey=function(I){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.n)),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,T(I.e))])};function V(I,w,j){var ae=a.util.createBuffer(),de=Math.ceil(w.n.bitLength()/8);if(I.length>de-11){var ee=new Error("Message is too long for PKCS#1 v1.5 padding.");throw ee.length=I.length,ee.max=de-11,ee}ae.putByte(0),ae.putByte(j);var se=de-3-I.length,Ae;if(j===0||j===1){Ae=j===0?0:255;for(var oe=0;oe<se;++oe)ae.putByte(Ae)}else for(;se>0;){for(var he=0,ve=a.random.getBytes(se),oe=0;oe<se;++oe)Ae=ve.charCodeAt(oe),Ae===0?++he:ae.putByte(Ae);se=he}return ae.putByte(0),ae.putBytes(I),ae}function P(I,w,j,ae){var de=Math.ceil(w.n.bitLength()/8),ee=a.util.createBuffer(I),se=ee.getByte(),Ae=ee.getByte();if(se!==0||j&&Ae!==0&&Ae!==1||!j&&Ae!=2||j&&Ae===0&&typeof ae>"u")throw new Error("Encryption block is invalid.");var oe=0;if(Ae===0){oe=de-3-ae;for(var he=0;he<oe;++he)if(ee.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(Ae===1)for(oe=0;ee.length()>1;){if(ee.getByte()!==255){--ee.read;break}++oe}else if(Ae===2)for(oe=0;ee.length()>1;){if(ee.getByte()===0){--ee.read;break}++oe}var ve=ee.getByte();if(ve!==0||oe!==de-3-ee.length())throw new Error("Encryption block is invalid.");return ee.getBytes()}function H(I,w,j){typeof w=="function"&&(j=w,w={}),w=w||{};var ae={algorithm:{name:w.algorithm||"PRIMEINC",options:{workers:w.workers||2,workLoad:w.workLoad||100,workerScript:w.workerScript}}};"prng"in w&&(ae.prng=w.prng),de();function de(){ee(I.pBits,function(Ae,oe){if(Ae)return j(Ae);if(I.p=oe,I.q!==null)return se(Ae,I.q);ee(I.qBits,se)})}function ee(Ae,oe){a.prime.generateProbablePrime(Ae,ae,oe)}function se(Ae,oe){if(Ae)return j(Ae);if(I.q=oe,I.p.compareTo(I.q)<0){var he=I.p;I.p=I.q,I.q=he}if(I.p.subtract(r.ONE).gcd(I.e).compareTo(r.ONE)!==0){I.p=null,de();return}if(I.q.subtract(r.ONE).gcd(I.e).compareTo(r.ONE)!==0){I.q=null,ee(I.qBits,se);return}if(I.p1=I.p.subtract(r.ONE),I.q1=I.q.subtract(r.ONE),I.phi=I.p1.multiply(I.q1),I.phi.gcd(I.e).compareTo(r.ONE)!==0){I.p=I.q=null,de();return}if(I.n=I.p.multiply(I.q),I.n.bitLength()!==I.bits){I.q=null,ee(I.qBits,se);return}var ve=I.e.modInverse(I.phi);I.keys={privateKey:m.rsa.setPrivateKey(I.n,I.e,ve,I.p,I.q,ve.mod(I.p1),ve.mod(I.q1),I.q.modInverse(I.p)),publicKey:m.rsa.setPublicKey(I.n,I.e)},j(null,I.keys)}}function T(I){var w=I.toString(16);w[0]>="8"&&(w="00"+w);var j=a.util.hexToBytes(w);return j.length>1&&(j.charCodeAt(0)===0&&(j.charCodeAt(1)&128)===0||j.charCodeAt(0)===255&&(j.charCodeAt(1)&128)===128)?j.substr(1):j}function F(I){return I<=100?27:I<=150?18:I<=200?15:I<=250?12:I<=300?9:I<=350?8:I<=400?7:I<=500?6:I<=600?5:I<=800?4:I<=1250?3:2}function U(I){return a.util.isNodejs&&typeof s[I]=="function"}function K(I){return typeof v.globalScope<"u"&&typeof v.globalScope.crypto=="object"&&typeof v.globalScope.crypto.subtle=="object"&&typeof v.globalScope.crypto.subtle[I]=="function"}function X(I){return typeof v.globalScope<"u"&&typeof v.globalScope.msCrypto=="object"&&typeof v.globalScope.msCrypto.subtle=="object"&&typeof v.globalScope.msCrypto.subtle[I]=="function"}function M(I){for(var w=a.util.hexToBytes(I.toString(16)),j=new Uint8Array(w.length),ae=0;ae<w.length;++ae)j[ae]=w.charCodeAt(ae);return j}return Kd}var zd,nm;function Q2(){if(nm)return zd;nm=1;var a=Dn();if(Ro(),Fi(),hf(),ys(),Oo(),jh(),Il(),Ai(),F2(),pf(),Zn(),typeof r>"u")var r=a.jsbn.BigInteger;var s=a.asn1,d=a.pki=a.pki||{};zd=d.pbe=a.pbe=a.pbe||{};var v=d.oids,m={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},A={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},p={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};d.encryptPrivateKeyInfo=function(L,_,V){V=V||{},V.saltSize=V.saltSize||8,V.count=V.count||2048,V.algorithm=V.algorithm||"aes128",V.prfAlgorithm=V.prfAlgorithm||"sha1";var P=a.random.getBytesSync(V.saltSize),H=V.count,T=s.integerToDer(H),F,U,K;if(V.algorithm.indexOf("aes")===0||V.algorithm==="des"){var X,M,I;switch(V.algorithm){case"aes128":F=16,X=16,M=v["aes128-CBC"],I=a.aes.createEncryptionCipher;break;case"aes192":F=24,X=16,M=v["aes192-CBC"],I=a.aes.createEncryptionCipher;break;case"aes256":F=32,X=16,M=v["aes256-CBC"],I=a.aes.createEncryptionCipher;break;case"des":F=8,X=8,M=v.desCBC,I=a.des.createEncryptionCipher;break;default:var w=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw w.algorithm=V.algorithm,w}var j="hmacWith"+V.prfAlgorithm.toUpperCase(),ae=D(j),de=a.pkcs5.pbkdf2(_,P,H,F,ae),ee=a.random.getBytesSync(X),se=I(de);se.start(ee),se.update(s.toDer(L)),se.finish(),K=se.output.getBytes();var Ae=R(P,T,F,j);U=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(v.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(v.pkcs5PBKDF2).getBytes()),Ae]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(M).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,ee)])])])}else if(V.algorithm==="3des"){F=24;var oe=new a.util.ByteBuffer(P),de=d.pbe.generatePkcs12Key(_,oe,1,H,F),ee=d.pbe.generatePkcs12Key(_,oe,2,H,F),se=a.des.createEncryptionCipher(de);se.start(ee),se.update(s.toDer(L)),se.finish(),K=se.output.getBytes(),U=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(v["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,P),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,T.getBytes())])])}else{var w=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw w.algorithm=V.algorithm,w}var he=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[U,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,K)]);return he},d.decryptPrivateKeyInfo=function(L,_){var V=null,P={},H=[];if(!s.validate(L,m,P,H)){var T=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw T.errors=H,T}var F=s.derToOid(P.encryptionOid),U=d.pbe.getCipher(F,P.encryptionParams,_),K=a.util.createBuffer(P.encryptedData);return U.update(K),U.finish()&&(V=s.fromDer(U.output)),V},d.encryptedPrivateKeyToPem=function(L,_){var V={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(L).getBytes()};return a.pem.encode(V,{maxline:_})},d.encryptedPrivateKeyFromPem=function(L){var _=a.pem.decode(L)[0];if(_.type!=="ENCRYPTED PRIVATE KEY"){var V=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw V.headerType=_.type,V}if(_.procType&&_.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(_.body)},d.encryptRsaPrivateKey=function(L,_,V){if(V=V||{},!V.legacy){var P=d.wrapRsaPrivateKey(d.privateKeyToAsn1(L));return P=d.encryptPrivateKeyInfo(P,_,V),d.encryptedPrivateKeyToPem(P)}var H,T,F,U;switch(V.algorithm){case"aes128":H="AES-128-CBC",F=16,T=a.random.getBytesSync(16),U=a.aes.createEncryptionCipher;break;case"aes192":H="AES-192-CBC",F=24,T=a.random.getBytesSync(16),U=a.aes.createEncryptionCipher;break;case"aes256":H="AES-256-CBC",F=32,T=a.random.getBytesSync(16),U=a.aes.createEncryptionCipher;break;case"3des":H="DES-EDE3-CBC",F=24,T=a.random.getBytesSync(8),U=a.des.createEncryptionCipher;break;case"des":H="DES-CBC",F=8,T=a.random.getBytesSync(8),U=a.des.createEncryptionCipher;break;default:var K=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+V.algorithm+'".');throw K.algorithm=V.algorithm,K}var X=a.pbe.opensslDeriveBytes(_,T.substr(0,8),F),M=U(X);M.start(T),M.update(s.toDer(d.privateKeyToAsn1(L))),M.finish();var I={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:H,parameters:a.util.bytesToHex(T).toUpperCase()},body:M.output.getBytes()};return a.pem.encode(I)},d.decryptRsaPrivateKey=function(L,_){var V=null,P=a.pem.decode(L)[0];if(P.type!=="ENCRYPTED PRIVATE KEY"&&P.type!=="PRIVATE KEY"&&P.type!=="RSA PRIVATE KEY"){var H=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw H.headerType=H,H}if(P.procType&&P.procType.type==="ENCRYPTED"){var T,F;switch(P.dekInfo.algorithm){case"DES-CBC":T=8,F=a.des.createDecryptionCipher;break;case"DES-EDE3-CBC":T=24,F=a.des.createDecryptionCipher;break;case"AES-128-CBC":T=16,F=a.aes.createDecryptionCipher;break;case"AES-192-CBC":T=24,F=a.aes.createDecryptionCipher;break;case"AES-256-CBC":T=32,F=a.aes.createDecryptionCipher;break;case"RC2-40-CBC":T=5,F=function(I){return a.rc2.createDecryptionCipher(I,40)};break;case"RC2-64-CBC":T=8,F=function(I){return a.rc2.createDecryptionCipher(I,64)};break;case"RC2-128-CBC":T=16,F=function(I){return a.rc2.createDecryptionCipher(I,128)};break;default:var H=new Error('Could not decrypt private key; unsupported encryption algorithm "'+P.dekInfo.algorithm+'".');throw H.algorithm=P.dekInfo.algorithm,H}var U=a.util.hexToBytes(P.dekInfo.parameters),K=a.pbe.opensslDeriveBytes(_,U.substr(0,8),T),X=F(K);if(X.start(U),X.update(a.util.createBuffer(P.body)),X.finish())V=X.output.getBytes();else return V}else V=P.body;return P.type==="ENCRYPTED PRIVATE KEY"?V=d.decryptPrivateKeyInfo(s.fromDer(V),_):V=s.fromDer(V),V!==null&&(V=d.privateKeyFromAsn1(V)),V},d.pbe.generatePkcs12Key=function(L,_,V,P,H,T){var F,U;if(typeof T>"u"||T===null){if(!("sha1"in a.md))throw new Error('"sha1" hash algorithm unavailable.');T=a.md.sha1.create()}var K=T.digestLength,X=T.blockLength,M=new a.util.ByteBuffer,I=new a.util.ByteBuffer;if(L!=null){for(U=0;U<L.length;U++)I.putInt16(L.charCodeAt(U));I.putInt16(0)}var w=I.length(),j=_.length(),ae=new a.util.ByteBuffer;ae.fillWithByte(V,X);var de=X*Math.ceil(j/X),ee=new a.util.ByteBuffer;for(U=0;U<de;U++)ee.putByte(_.at(U%j));var se=X*Math.ceil(w/X),Ae=new a.util.ByteBuffer;for(U=0;U<se;U++)Ae.putByte(I.at(U%w));var oe=ee;oe.putBuffer(Ae);for(var he=Math.ceil(H/K),ve=1;ve<=he;ve++){var ke=new a.util.ByteBuffer;ke.putBytes(ae.bytes()),ke.putBytes(oe.bytes());for(var Ke=0;Ke<P;Ke++)T.start(),T.update(ke.getBytes()),ke=T.digest();var Le=new a.util.ByteBuffer;for(U=0;U<X;U++)Le.putByte(ke.at(U%K));var Ce=Math.ceil(j/X)+Math.ceil(w/X),Te=new a.util.ByteBuffer;for(F=0;F<Ce;F++){var Ze=new a.util.ByteBuffer(oe.getBytes(X)),De=511;for(U=Le.length()-1;U>=0;U--)De=De>>8,De+=Le.at(U)+Ze.at(U),Ze.setAt(U,De&255);Te.putBuffer(Ze)}oe=Te,M.putBuffer(ke)}return M.truncate(M.length()-H),M},d.pbe.getCipher=function(L,_,V){switch(L){case d.oids.pkcs5PBES2:return d.pbe.getCipherForPBES2(L,_,V);case d.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case d.oids["pbewithSHAAnd40BitRC2-CBC"]:return d.pbe.getCipherForPKCS12PBE(L,_,V);default:var P=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw P.oid=L,P.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],P}},d.pbe.getCipherForPBES2=function(L,_,V){var P={},H=[];if(!s.validate(_,A,P,H)){var T=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw T.errors=H,T}if(L=s.derToOid(P.kdfOid),L!==d.oids.pkcs5PBKDF2){var T=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw T.oid=L,T.supportedOids=["pkcs5PBKDF2"],T}if(L=s.derToOid(P.encOid),L!==d.oids["aes128-CBC"]&&L!==d.oids["aes192-CBC"]&&L!==d.oids["aes256-CBC"]&&L!==d.oids["des-EDE3-CBC"]&&L!==d.oids.desCBC){var T=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw T.oid=L,T.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],T}var F=P.kdfSalt,U=a.util.createBuffer(P.kdfIterationCount);U=U.getInt(U.length()<<3);var K,X;switch(d.oids[L]){case"aes128-CBC":K=16,X=a.aes.createDecryptionCipher;break;case"aes192-CBC":K=24,X=a.aes.createDecryptionCipher;break;case"aes256-CBC":K=32,X=a.aes.createDecryptionCipher;break;case"des-EDE3-CBC":K=24,X=a.des.createDecryptionCipher;break;case"desCBC":K=8,X=a.des.createDecryptionCipher;break}var M=C(P.prfOid),I=a.pkcs5.pbkdf2(V,F,U,K,M),w=P.encIv,j=X(I);return j.start(w),j},d.pbe.getCipherForPKCS12PBE=function(L,_,V){var P={},H=[];if(!s.validate(_,p,P,H)){var T=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw T.errors=H,T}var F=a.util.createBuffer(P.salt),U=a.util.createBuffer(P.iterations);U=U.getInt(U.length()<<3);var K,X,M;switch(L){case d.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:K=24,X=8,M=a.des.startDecrypting;break;case d.oids["pbewithSHAAnd40BitRC2-CBC"]:K=5,X=8,M=function(de,ee){var se=a.rc2.createDecryptionCipher(de,40);return se.start(ee,null),se};break;default:var T=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw T.oid=L,T}var I=C(P.prfOid),w=d.pbe.generatePkcs12Key(V,F,1,U,K,I);I.start();var j=d.pbe.generatePkcs12Key(V,F,2,U,X,I);return M(w,j)},d.pbe.opensslDeriveBytes=function(L,_,V,P){if(typeof P>"u"||P===null){if(!("md5"in a.md))throw new Error('"md5" hash algorithm unavailable.');P=a.md.md5.create()}_===null&&(_="");for(var H=[E(P,L+_)],T=16,F=1;T<V;++F,T+=16)H.push(E(P,H[F-1]+L+_));return H.join("").substr(0,V)};function E(L,_){return L.start().update(_).digest().getBytes()}function C(L){var _;if(!L)_="hmacWithSHA1";else if(_=d.oids[s.derToOid(L)],!_){var V=new Error("Unsupported PRF OID.");throw V.oid=L,V.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],V}return D(_)}function D(L){var _=a.md;switch(L){case"hmacWithSHA224":_=a.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":L=L.substr(8).toLowerCase();break;default:var V=new Error("Unsupported PRF algorithm.");throw V.algorithm=L,V.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],V}if(!_||!(L in _))throw new Error("Unknown hash algorithm: "+L);return _[L].create()}function R(L,_,V,P){var H=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,L),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,_.getBytes())]);return P!=="hmacWithSHA1"&&H.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,a.util.hexToBytes(V.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(d.oids[P]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])),H}return zd}var Yd={exports:{}},qd={exports:{}},rm;function H2(){if(rm)return qd.exports;rm=1;var a=Dn();Fi(),Zn();var r=a.asn1,s=qd.exports=a.pkcs7asn1=a.pkcs7asn1||{};a.pkcs7=a.pkcs7||{},a.pkcs7.asn1=s;var d={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=d;var v={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(v)},s.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(v)};var m={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};return s.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},d,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[m]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]},qd.exports}var Xd={exports:{}},Zd={exports:{}},am;function G2(){if(am)return Zd.exports;am=1;var a=Dn();Zn(),a.mgf=a.mgf||{};var r=Zd.exports=a.mgf.mgf1=a.mgf1=a.mgf1||{};return r.create=function(s){var d={generate:function(v,m){for(var A=new a.util.ByteBuffer,p=Math.ceil(m/s.digestLength),E=0;E<p;E++){var C=new a.util.ByteBuffer;C.putInt32(E),s.start(),s.update(v+C.getBytes()),A.putBuffer(s.digest())}return A.truncate(A.length()-m),A.getBytes()}};return d},Zd.exports}var Wd,im;function Hb(){if(im)return Wd;im=1;var a=Dn();return G2(),Wd=a.mgf=a.mgf||{},a.mgf.mgf1=a.mgf1,Wd}var Jd={exports:{}},sm;function Kh(){if(sm)return Jd.exports;sm=1;var a=Dn();Ai(),Zn();var r=Jd.exports=a.pss=a.pss||{};return r.create=function(s){arguments.length===3&&(s={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var d=s.md,v=s.mgf,m=d.digestLength,A=s.salt||null;typeof A=="string"&&(A=a.util.createBuffer(A));var p;if("saltLength"in s)p=s.saltLength;else if(A!==null)p=A.length();else throw new Error("Salt length not specified or specific salt not given.");if(A!==null&&A.length()!==p)throw new Error("Given salt length does not match length of given salt.");var E=s.prng||a.random,C={};return C.encode=function(D,R){var L,_=R-1,V=Math.ceil(_/8),P=D.digest().getBytes();if(V<m+p+2)throw new Error("Message is too long to encrypt.");var H;A===null?H=E.getBytesSync(p):H=A.bytes();var T=new a.util.ByteBuffer;T.fillWithByte(0,8),T.putBytes(P),T.putBytes(H),d.start(),d.update(T.getBytes());var F=d.digest().getBytes(),U=new a.util.ByteBuffer;U.fillWithByte(0,V-p-m-2),U.putByte(1),U.putBytes(H);var K=U.getBytes(),X=V-m-1,M=v.generate(F,X),I="";for(L=0;L<X;L++)I+=String.fromCharCode(K.charCodeAt(L)^M.charCodeAt(L));var w=65280>>8*V-_&255;return I=String.fromCharCode(I.charCodeAt(0)&~w)+I.substr(1),I+F+""},C.verify=function(D,R,L){var _,V=L-1,P=Math.ceil(V/8);if(R=R.substr(-P),P<m+p+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(R.charCodeAt(P-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var H=P-m-1,T=R.substr(0,H),F=R.substr(H,m),U=65280>>8*P-V&255;if((T.charCodeAt(0)&U)!==0)throw new Error("Bits beyond keysize not zero as expected.");var K=v.generate(F,H),X="";for(_=0;_<H;_++)X+=String.fromCharCode(T.charCodeAt(_)^K.charCodeAt(_));X=String.fromCharCode(X.charCodeAt(0)&~U)+X.substr(1);var M=P-m-p-2;for(_=0;_<M;_++)if(X.charCodeAt(_)!==0)throw new Error("Leftmost octets not zero as expected");if(X.charCodeAt(M)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var I=X.substr(-p),w=new a.util.ByteBuffer;w.fillWithByte(0,8),w.putBytes(D),w.putBytes(I),d.start(),d.update(w.getBytes());var j=d.digest().getBytes();return F===j},C},Jd.exports}var om;function zh(){if(om)return Xd.exports;om=1;var a=Dn();Ro(),Fi(),hf(),ys(),Hb(),Oo(),Il(),Kh(),pf(),Zn();var r=a.asn1,s=Xd.exports=a.pki=a.pki||{},d=s.oids,v={};v.CN=d.commonName,v.commonName="CN",v.C=d.countryName,v.countryName="C",v.L=d.localityName,v.localityName="L",v.ST=d.stateOrProvinceName,v.stateOrProvinceName="ST",v.O=d.organizationName,v.organizationName="O",v.OU=d.organizationalUnitName,v.organizationalUnitName="OU",v.E=d.emailAddress,v.emailAddress="E";var m=a.pki.rsa.publicKeyValidator,A={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},m,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},p={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},E={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},m,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},C={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[E,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};s.RDNAttributesAsArray=function(M,I){for(var w=[],j,ae,de,ee=0;ee<M.value.length;++ee){j=M.value[ee];for(var se=0;se<j.value.length;++se)de={},ae=j.value[se],de.type=r.derToOid(ae.value[0].value),de.value=ae.value[1].value,de.valueTagClass=ae.value[1].type,de.type in d&&(de.name=d[de.type],de.name in v&&(de.shortName=v[de.name])),I&&(I.update(de.type),I.update(de.value)),w.push(de)}return w},s.CRIAttributesAsArray=function(M){for(var I=[],w=0;w<M.length;++w)for(var j=M[w],ae=r.derToOid(j.value[0].value),de=j.value[1].value,ee=0;ee<de.length;++ee){var se={};if(se.type=ae,se.value=de[ee].value,se.valueTagClass=de[ee].type,se.type in d&&(se.name=d[se.type],se.name in v&&(se.shortName=v[se.name])),se.type===d.extensionRequest){se.extensions=[];for(var Ae=0;Ae<se.value.length;++Ae)se.extensions.push(s.certificateExtensionFromAsn1(se.value[Ae]))}I.push(se)}return I};function D(M,I){typeof I=="string"&&(I={shortName:I});for(var w=null,j,ae=0;w===null&&ae<M.attributes.length;++ae)j=M.attributes[ae],(I.type&&I.type===j.type||I.name&&I.name===j.name||I.shortName&&I.shortName===j.shortName)&&(w=j);return w}var R=function(M,I,w){var j={};if(M!==d["RSASSA-PSS"])return j;w&&(j={hash:{algorithmOid:d.sha1},mgf:{algorithmOid:d.mgf1,hash:{algorithmOid:d.sha1}},saltLength:20});var ae={},de=[];if(!r.validate(I,p,ae,de)){var ee=new Error("Cannot read RSASSA-PSS parameter block.");throw ee.errors=de,ee}return ae.hashOid!==void 0&&(j.hash=j.hash||{},j.hash.algorithmOid=r.derToOid(ae.hashOid)),ae.maskGenOid!==void 0&&(j.mgf=j.mgf||{},j.mgf.algorithmOid=r.derToOid(ae.maskGenOid),j.mgf.hash=j.mgf.hash||{},j.mgf.hash.algorithmOid=r.derToOid(ae.maskGenHashOid)),ae.saltLength!==void 0&&(j.saltLength=ae.saltLength.charCodeAt(0)),j},L=function(M){switch(d[M.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return a.md.sha1.create();case"md5WithRSAEncryption":return a.md.md5.create();case"sha256WithRSAEncryption":return a.md.sha256.create();case"sha384WithRSAEncryption":return a.md.sha384.create();case"sha512WithRSAEncryption":return a.md.sha512.create();case"RSASSA-PSS":return a.md.sha256.create();default:var I=new Error("Could not compute "+M.type+" digest. Unknown signature OID.");throw I.signatureOid=M.signatureOid,I}},_=function(M){var I=M.certificate,w;switch(I.signatureOid){case d.sha1WithRSAEncryption:case d.sha1WithRSASignature:break;case d["RSASSA-PSS"]:var j,ae;if(j=d[I.signatureParameters.mgf.hash.algorithmOid],j===void 0||a.md[j]===void 0){var de=new Error("Unsupported MGF hash function.");throw de.oid=I.signatureParameters.mgf.hash.algorithmOid,de.name=j,de}if(ae=d[I.signatureParameters.mgf.algorithmOid],ae===void 0||a.mgf[ae]===void 0){var de=new Error("Unsupported MGF function.");throw de.oid=I.signatureParameters.mgf.algorithmOid,de.name=ae,de}if(ae=a.mgf[ae].create(a.md[j].create()),j=d[I.signatureParameters.hash.algorithmOid],j===void 0||a.md[j]===void 0){var de=new Error("Unsupported RSASSA-PSS hash function.");throw de.oid=I.signatureParameters.hash.algorithmOid,de.name=j,de}w=a.pss.create(a.md[j].create(),ae,I.signatureParameters.saltLength);break}return I.publicKey.verify(M.md.digest().getBytes(),M.signature,w)};s.certificateFromPem=function(M,I,w){var j=a.pem.decode(M)[0];if(j.type!=="CERTIFICATE"&&j.type!=="X509 CERTIFICATE"&&j.type!=="TRUSTED CERTIFICATE"){var ae=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw ae.headerType=j.type,ae}if(j.procType&&j.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var de=r.fromDer(j.body,w);return s.certificateFromAsn1(de,I)},s.certificateToPem=function(M,I){var w={type:"CERTIFICATE",body:r.toDer(s.certificateToAsn1(M)).getBytes()};return a.pem.encode(w,{maxline:I})},s.publicKeyFromPem=function(M){var I=a.pem.decode(M)[0];if(I.type!=="PUBLIC KEY"&&I.type!=="RSA PUBLIC KEY"){var w=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw w.headerType=I.type,w}if(I.procType&&I.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var j=r.fromDer(I.body);return s.publicKeyFromAsn1(j)},s.publicKeyToPem=function(M,I){var w={type:"PUBLIC KEY",body:r.toDer(s.publicKeyToAsn1(M)).getBytes()};return a.pem.encode(w,{maxline:I})},s.publicKeyToRSAPublicKeyPem=function(M,I){var w={type:"RSA PUBLIC KEY",body:r.toDer(s.publicKeyToRSAPublicKey(M)).getBytes()};return a.pem.encode(w,{maxline:I})},s.getPublicKeyFingerprint=function(M,I){I=I||{};var w=I.md||a.md.sha1.create(),j=I.type||"RSAPublicKey",ae;switch(j){case"RSAPublicKey":ae=r.toDer(s.publicKeyToRSAPublicKey(M)).getBytes();break;case"SubjectPublicKeyInfo":ae=r.toDer(s.publicKeyToAsn1(M)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+I.type+'".')}w.start(),w.update(ae);var de=w.digest();if(I.encoding==="hex"){var ee=de.toHex();return I.delimiter?ee.match(/.{2}/g).join(I.delimiter):ee}else{if(I.encoding==="binary")return de.getBytes();if(I.encoding)throw new Error('Unknown encoding "'+I.encoding+'".')}return de},s.certificationRequestFromPem=function(M,I,w){var j=a.pem.decode(M)[0];if(j.type!=="CERTIFICATE REQUEST"){var ae=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw ae.headerType=j.type,ae}if(j.procType&&j.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var de=r.fromDer(j.body,w);return s.certificationRequestFromAsn1(de,I)},s.certificationRequestToPem=function(M,I){var w={type:"CERTIFICATE REQUEST",body:r.toDer(s.certificationRequestToAsn1(M)).getBytes()};return a.pem.encode(w,{maxline:I})},s.createCertificate=function(){var M={};return M.version=2,M.serialNumber="00",M.signatureOid=null,M.signature=null,M.siginfo={},M.siginfo.algorithmOid=null,M.validity={},M.validity.notBefore=new Date,M.validity.notAfter=new Date,M.issuer={},M.issuer.getField=function(I){return D(M.issuer,I)},M.issuer.addField=function(I){P([I]),M.issuer.attributes.push(I)},M.issuer.attributes=[],M.issuer.hash=null,M.subject={},M.subject.getField=function(I){return D(M.subject,I)},M.subject.addField=function(I){P([I]),M.subject.attributes.push(I)},M.subject.attributes=[],M.subject.hash=null,M.extensions=[],M.publicKey=null,M.md=null,M.setSubject=function(I,w){P(I),M.subject.attributes=I,delete M.subject.uniqueId,w&&(M.subject.uniqueId=w),M.subject.hash=null},M.setIssuer=function(I,w){P(I),M.issuer.attributes=I,delete M.issuer.uniqueId,w&&(M.issuer.uniqueId=w),M.issuer.hash=null},M.setExtensions=function(I){for(var w=0;w<I.length;++w)H(I[w],{cert:M});M.extensions=I},M.getExtension=function(I){typeof I=="string"&&(I={name:I});for(var w=null,j,ae=0;w===null&&ae<M.extensions.length;++ae)j=M.extensions[ae],(I.id&&j.id===I.id||I.name&&j.name===I.name)&&(w=j);return w},M.sign=function(I,w){M.md=w||a.md.sha1.create();var j=d[M.md.algorithm+"WithRSAEncryption"];if(!j){var ae=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw ae.algorithm=M.md.algorithm,ae}M.signatureOid=M.siginfo.algorithmOid=j,M.tbsCertificate=s.getTBSCertificate(M);var de=r.toDer(M.tbsCertificate);M.md.update(de.getBytes()),M.signature=I.sign(M.md)},M.verify=function(I){var w=!1;if(!M.issued(I)){var j=I.issuer,ae=M.subject,de=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw de.expectedIssuer=ae.attributes,de.actualIssuer=j.attributes,de}var ee=I.md;if(ee===null){ee=L({signatureOid:I.signatureOid,type:"certificate"});var se=I.tbsCertificate||s.getTBSCertificate(I),Ae=r.toDer(se);ee.update(Ae.getBytes())}return ee!==null&&(w=_({certificate:M,md:ee,signature:I.signature})),w},M.isIssuer=function(I){var w=!1,j=M.issuer,ae=I.subject;if(j.hash&&ae.hash)w=j.hash===ae.hash;else if(j.attributes.length===ae.attributes.length){w=!0;for(var de,ee,se=0;w&&se<j.attributes.length;++se)de=j.attributes[se],ee=ae.attributes[se],(de.type!==ee.type||de.value!==ee.value)&&(w=!1)}return w},M.issued=function(I){return I.isIssuer(M)},M.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(M.publicKey,{type:"RSAPublicKey"})},M.verifySubjectKeyIdentifier=function(){for(var I=d.subjectKeyIdentifier,w=0;w<M.extensions.length;++w){var j=M.extensions[w];if(j.id===I){var ae=M.generateSubjectKeyIdentifier().getBytes();return a.util.hexToBytes(j.subjectKeyIdentifier)===ae}}return!1},M},s.certificateFromAsn1=function(M,I){var w={},j=[];if(!r.validate(M,A,w,j)){var ae=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw ae.errors=j,ae}var de=r.derToOid(w.publicKeyOid);if(de!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var ee=s.createCertificate();ee.version=w.certVersion?w.certVersion.charCodeAt(0):0;var se=a.util.createBuffer(w.certSerialNumber);ee.serialNumber=se.toHex(),ee.signatureOid=a.asn1.derToOid(w.certSignatureOid),ee.signatureParameters=R(ee.signatureOid,w.certSignatureParams,!0),ee.siginfo.algorithmOid=a.asn1.derToOid(w.certinfoSignatureOid),ee.siginfo.parameters=R(ee.siginfo.algorithmOid,w.certinfoSignatureParams,!1),ee.signature=w.certSignature;var Ae=[];if(w.certValidity1UTCTime!==void 0&&Ae.push(r.utcTimeToDate(w.certValidity1UTCTime)),w.certValidity2GeneralizedTime!==void 0&&Ae.push(r.generalizedTimeToDate(w.certValidity2GeneralizedTime)),w.certValidity3UTCTime!==void 0&&Ae.push(r.utcTimeToDate(w.certValidity3UTCTime)),w.certValidity4GeneralizedTime!==void 0&&Ae.push(r.generalizedTimeToDate(w.certValidity4GeneralizedTime)),Ae.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Ae.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(ee.validity.notBefore=Ae[0],ee.validity.notAfter=Ae[1],ee.tbsCertificate=w.tbsCertificate,I){ee.md=L({signatureOid:ee.signatureOid,type:"certificate"});var oe=r.toDer(ee.tbsCertificate);ee.md.update(oe.getBytes())}var he=a.md.sha1.create(),ve=r.toDer(w.certIssuer);he.update(ve.getBytes()),ee.issuer.getField=function(Le){return D(ee.issuer,Le)},ee.issuer.addField=function(Le){P([Le]),ee.issuer.attributes.push(Le)},ee.issuer.attributes=s.RDNAttributesAsArray(w.certIssuer),w.certIssuerUniqueId&&(ee.issuer.uniqueId=w.certIssuerUniqueId),ee.issuer.hash=he.digest().toHex();var ke=a.md.sha1.create(),Ke=r.toDer(w.certSubject);return ke.update(Ke.getBytes()),ee.subject.getField=function(Le){return D(ee.subject,Le)},ee.subject.addField=function(Le){P([Le]),ee.subject.attributes.push(Le)},ee.subject.attributes=s.RDNAttributesAsArray(w.certSubject),w.certSubjectUniqueId&&(ee.subject.uniqueId=w.certSubjectUniqueId),ee.subject.hash=ke.digest().toHex(),w.certExtensions?ee.extensions=s.certificateExtensionsFromAsn1(w.certExtensions):ee.extensions=[],ee.publicKey=s.publicKeyFromAsn1(w.subjectPublicKeyInfo),ee},s.certificateExtensionsFromAsn1=function(M){for(var I=[],w=0;w<M.value.length;++w)for(var j=M.value[w],ae=0;ae<j.value.length;++ae)I.push(s.certificateExtensionFromAsn1(j.value[ae]));return I},s.certificateExtensionFromAsn1=function(M){var I={};if(I.id=r.derToOid(M.value[0].value),I.critical=!1,M.value[1].type===r.Type.BOOLEAN?(I.critical=M.value[1].value.charCodeAt(0)!==0,I.value=M.value[2].value):I.value=M.value[1].value,I.id in d){if(I.name=d[I.id],I.name==="keyUsage"){var w=r.fromDer(I.value),j=0,ae=0;w.value.length>1&&(j=w.value.charCodeAt(1),ae=w.value.length>2?w.value.charCodeAt(2):0),I.digitalSignature=(j&128)===128,I.nonRepudiation=(j&64)===64,I.keyEncipherment=(j&32)===32,I.dataEncipherment=(j&16)===16,I.keyAgreement=(j&8)===8,I.keyCertSign=(j&4)===4,I.cRLSign=(j&2)===2,I.encipherOnly=(j&1)===1,I.decipherOnly=(ae&128)===128}else if(I.name==="basicConstraints"){var w=r.fromDer(I.value);w.value.length>0&&w.value[0].type===r.Type.BOOLEAN?I.cA=w.value[0].value.charCodeAt(0)!==0:I.cA=!1;var de=null;w.value.length>0&&w.value[0].type===r.Type.INTEGER?de=w.value[0].value:w.value.length>1&&(de=w.value[1].value),de!==null&&(I.pathLenConstraint=r.derToInteger(de))}else if(I.name==="extKeyUsage")for(var w=r.fromDer(I.value),ee=0;ee<w.value.length;++ee){var se=r.derToOid(w.value[ee].value);se in d?I[d[se]]=!0:I[se]=!0}else if(I.name==="nsCertType"){var w=r.fromDer(I.value),j=0;w.value.length>1&&(j=w.value.charCodeAt(1)),I.client=(j&128)===128,I.server=(j&64)===64,I.email=(j&32)===32,I.objsign=(j&16)===16,I.reserved=(j&8)===8,I.sslCA=(j&4)===4,I.emailCA=(j&2)===2,I.objCA=(j&1)===1}else if(I.name==="subjectAltName"||I.name==="issuerAltName"){I.altNames=[];for(var Ae,w=r.fromDer(I.value),oe=0;oe<w.value.length;++oe){Ae=w.value[oe];var he={type:Ae.type,value:Ae.value};switch(I.altNames.push(he),Ae.type){case 1:case 2:case 6:break;case 7:he.ip=a.util.bytesToIP(Ae.value);break;case 8:he.oid=r.derToOid(Ae.value);break}}}else if(I.name==="subjectKeyIdentifier"){var w=r.fromDer(I.value);I.subjectKeyIdentifier=a.util.bytesToHex(w.value)}}return I},s.certificationRequestFromAsn1=function(M,I){var w={},j=[];if(!r.validate(M,C,w,j)){var ae=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw ae.errors=j,ae}var de=r.derToOid(w.publicKeyOid);if(de!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var ee=s.createCertificationRequest();if(ee.version=w.csrVersion?w.csrVersion.charCodeAt(0):0,ee.signatureOid=a.asn1.derToOid(w.csrSignatureOid),ee.signatureParameters=R(ee.signatureOid,w.csrSignatureParams,!0),ee.siginfo.algorithmOid=a.asn1.derToOid(w.csrSignatureOid),ee.siginfo.parameters=R(ee.siginfo.algorithmOid,w.csrSignatureParams,!1),ee.signature=w.csrSignature,ee.certificationRequestInfo=w.certificationRequestInfo,I){ee.md=L({signatureOid:ee.signatureOid,type:"certification request"});var se=r.toDer(ee.certificationRequestInfo);ee.md.update(se.getBytes())}var Ae=a.md.sha1.create();return ee.subject.getField=function(oe){return D(ee.subject,oe)},ee.subject.addField=function(oe){P([oe]),ee.subject.attributes.push(oe)},ee.subject.attributes=s.RDNAttributesAsArray(w.certificationRequestInfoSubject,Ae),ee.subject.hash=Ae.digest().toHex(),ee.publicKey=s.publicKeyFromAsn1(w.subjectPublicKeyInfo),ee.getAttribute=function(oe){return D(ee,oe)},ee.addAttribute=function(oe){P([oe]),ee.attributes.push(oe)},ee.attributes=s.CRIAttributesAsArray(w.certificationRequestInfoAttributes||[]),ee},s.createCertificationRequest=function(){var M={};return M.version=0,M.signatureOid=null,M.signature=null,M.siginfo={},M.siginfo.algorithmOid=null,M.subject={},M.subject.getField=function(I){return D(M.subject,I)},M.subject.addField=function(I){P([I]),M.subject.attributes.push(I)},M.subject.attributes=[],M.subject.hash=null,M.publicKey=null,M.attributes=[],M.getAttribute=function(I){return D(M,I)},M.addAttribute=function(I){P([I]),M.attributes.push(I)},M.md=null,M.setSubject=function(I){P(I),M.subject.attributes=I,M.subject.hash=null},M.setAttributes=function(I){P(I),M.attributes=I},M.sign=function(I,w){M.md=w||a.md.sha1.create();var j=d[M.md.algorithm+"WithRSAEncryption"];if(!j){var ae=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw ae.algorithm=M.md.algorithm,ae}M.signatureOid=M.siginfo.algorithmOid=j,M.certificationRequestInfo=s.getCertificationRequestInfo(M);var de=r.toDer(M.certificationRequestInfo);M.md.update(de.getBytes()),M.signature=I.sign(M.md)},M.verify=function(){var I=!1,w=M.md;if(w===null){w=L({signatureOid:M.signatureOid,type:"certification request"});var j=M.certificationRequestInfo||s.getCertificationRequestInfo(M),ae=r.toDer(j);w.update(ae.getBytes())}return w!==null&&(I=_({certificate:M,md:w,signature:M.signature})),I},M};function V(M){for(var I=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),w,j,ae=M.attributes,de=0;de<ae.length;++de){w=ae[de];var ee=w.value,se=r.Type.PRINTABLESTRING;"valueTagClass"in w&&(se=w.valueTagClass,se===r.Type.UTF8&&(ee=a.util.encodeUtf8(ee))),j=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(w.type).getBytes()),r.create(r.Class.UNIVERSAL,se,!1,ee)])]),I.value.push(j)}return I}function P(M){for(var I,w=0;w<M.length;++w){if(I=M[w],typeof I.name>"u"&&(I.type&&I.type in s.oids?I.name=s.oids[I.type]:I.shortName&&I.shortName in v&&(I.name=s.oids[v[I.shortName]])),typeof I.type>"u")if(I.name&&I.name in s.oids)I.type=s.oids[I.name];else{var j=new Error("Attribute type not specified.");throw j.attribute=I,j}if(typeof I.shortName>"u"&&I.name&&I.name in v&&(I.shortName=v[I.name]),I.type===d.extensionRequest&&(I.valueConstructed=!0,I.valueTagClass=r.Type.SEQUENCE,!I.value&&I.extensions)){I.value=[];for(var ae=0;ae<I.extensions.length;++ae)I.value.push(s.certificateExtensionToAsn1(H(I.extensions[ae])))}if(typeof I.value>"u"){var j=new Error("Attribute value not specified.");throw j.attribute=I,j}}}function H(M,I){if(I=I||{},typeof M.name>"u"&&M.id&&M.id in s.oids&&(M.name=s.oids[M.id]),typeof M.id>"u")if(M.name&&M.name in s.oids)M.id=s.oids[M.name];else{var w=new Error("Extension ID not specified.");throw w.extension=M,w}if(typeof M.value<"u")return M;if(M.name==="keyUsage"){var j=0,ae=0,de=0;M.digitalSignature&&(ae|=128,j=7),M.nonRepudiation&&(ae|=64,j=6),M.keyEncipherment&&(ae|=32,j=5),M.dataEncipherment&&(ae|=16,j=4),M.keyAgreement&&(ae|=8,j=3),M.keyCertSign&&(ae|=4,j=2),M.cRLSign&&(ae|=2,j=1),M.encipherOnly&&(ae|=1,j=0),M.decipherOnly&&(de|=128,j=7);var ee=String.fromCharCode(j);de!==0?ee+=String.fromCharCode(ae)+String.fromCharCode(de):ae!==0&&(ee+=String.fromCharCode(ae)),M.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,ee)}else if(M.name==="basicConstraints")M.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),M.cA&&M.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,"")),"pathLenConstraint"in M&&M.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(M.pathLenConstraint).getBytes()));else if(M.name==="extKeyUsage"){M.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var se=M.value.value;for(var Ae in M)M[Ae]===!0&&(Ae in d?se.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(d[Ae]).getBytes())):Ae.indexOf(".")!==-1&&se.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(Ae).getBytes())))}else if(M.name==="nsCertType"){var j=0,ae=0;M.client&&(ae|=128,j=7),M.server&&(ae|=64,j=6),M.email&&(ae|=32,j=5),M.objsign&&(ae|=16,j=4),M.reserved&&(ae|=8,j=3),M.sslCA&&(ae|=4,j=2),M.emailCA&&(ae|=2,j=1),M.objCA&&(ae|=1,j=0);var ee=String.fromCharCode(j);ae!==0&&(ee+=String.fromCharCode(ae)),M.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,ee)}else if(M.name==="subjectAltName"||M.name==="issuerAltName"){M.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var oe,he=0;he<M.altNames.length;++he){oe=M.altNames[he];var ee=oe.value;if(oe.type===7&&oe.ip){if(ee=a.util.bytesFromIP(oe.ip),ee===null){var w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw w.extension=M,w}}else oe.type===8&&(oe.oid?ee=r.oidToDer(r.oidToDer(oe.oid)):ee=r.oidToDer(ee));M.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,oe.type,!1,ee))}}else if(M.name==="nsComment"&&I.cert){if(!/^[\x00-\x7F]*$/.test(M.comment)||M.comment.length<1||M.comment.length>128)throw new Error('Invalid "nsComment" content.');M.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,M.comment)}else if(M.name==="subjectKeyIdentifier"&&I.cert){var ve=I.cert.generateSubjectKeyIdentifier();M.subjectKeyIdentifier=ve.toHex(),M.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,ve.getBytes())}else if(M.name==="authorityKeyIdentifier"&&I.cert){M.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var se=M.value.value;if(M.keyIdentifier){var ke=M.keyIdentifier===!0?I.cert.generateSubjectKeyIdentifier().getBytes():M.keyIdentifier;se.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,ke))}if(M.authorityCertIssuer){var Ke=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[V(M.authorityCertIssuer===!0?I.cert.issuer:M.authorityCertIssuer)])];se.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,Ke))}if(M.serialNumber){var Le=a.util.hexToBytes(M.serialNumber===!0?I.cert.serialNumber:M.serialNumber);se.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,Le))}}else if(M.name==="cRLDistributionPoints"){M.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var se=M.value.value,Ce=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),Te=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]),oe,he=0;he<M.altNames.length;++he){oe=M.altNames[he];var ee=oe.value;if(oe.type===7&&oe.ip){if(ee=a.util.bytesFromIP(oe.ip),ee===null){var w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw w.extension=M,w}}else oe.type===8&&(oe.oid?ee=r.oidToDer(r.oidToDer(oe.oid)):ee=r.oidToDer(ee));Te.value.push(r.create(r.Class.CONTEXT_SPECIFIC,oe.type,!1,ee))}Ce.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[Te])),se.push(Ce)}if(typeof M.value>"u"){var w=new Error("Extension value not specified.");throw w.extension=M,w}return M}function T(M,I){switch(M){case d["RSASSA-PSS"]:var w=[];return I.hash.algorithmOid!==void 0&&w.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(I.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),I.mgf.algorithmOid!==void 0&&w.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(I.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(I.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),I.saltLength!==void 0&&w.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(I.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,w);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function F(M){var I=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(M.attributes.length===0)return I;for(var w=M.attributes,j=0;j<w.length;++j){var ae=w[j],de=ae.value,ee=r.Type.UTF8;"valueTagClass"in ae&&(ee=ae.valueTagClass),ee===r.Type.UTF8&&(de=a.util.encodeUtf8(de));var se=!1;"valueConstructed"in ae&&(se=ae.valueConstructed);var Ae=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(ae.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,ee,se,de)])]);I.value.push(Ae)}return I}var U=new Date("1950-01-01T00:00:00Z"),K=new Date("2050-01-01T00:00:00Z");function X(M){return M>=U&&M<K?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(M)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(M))}return s.getTBSCertificate=function(M){var I=X(M.validity.notBefore),w=X(M.validity.notAfter),j=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(M.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,a.util.hexToBytes(M.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(M.siginfo.algorithmOid).getBytes()),T(M.siginfo.algorithmOid,M.siginfo.parameters)]),V(M.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[I,w]),V(M.subject),s.publicKeyToAsn1(M.publicKey)]);return M.issuer.uniqueId&&j.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+M.issuer.uniqueId)])),M.subject.uniqueId&&j.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+M.subject.uniqueId)])),M.extensions.length>0&&j.value.push(s.certificateExtensionsToAsn1(M.extensions)),j},s.getCertificationRequestInfo=function(M){var I=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(M.version).getBytes()),V(M.subject),s.publicKeyToAsn1(M.publicKey),F(M)]);return I},s.distinguishedNameToAsn1=function(M){return V(M)},s.certificateToAsn1=function(M){var I=M.tbsCertificate||s.getTBSCertificate(M);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[I,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(M.signatureOid).getBytes()),T(M.signatureOid,M.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+M.signature)])},s.certificateExtensionsToAsn1=function(M){var I=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),w=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);I.value.push(w);for(var j=0;j<M.length;++j)w.value.push(s.certificateExtensionToAsn1(M[j]));return I},s.certificateExtensionToAsn1=function(M){var I=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);I.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(M.id).getBytes())),M.critical&&I.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,""));var w=M.value;return typeof M.value!="string"&&(w=r.toDer(w).getBytes()),I.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,w)),I},s.certificationRequestToAsn1=function(M){var I=M.certificationRequestInfo||s.getCertificationRequestInfo(M);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[I,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(M.signatureOid).getBytes()),T(M.signatureOid,M.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+M.signature)])},s.createCaStore=function(M){var I={certs:{}};I.getIssuer=function(ee){var se=w(ee.issuer);return se},I.addCertificate=function(ee){if(typeof ee=="string"&&(ee=a.pki.certificateFromPem(ee)),j(ee.subject),!I.hasCertificate(ee))if(ee.subject.hash in I.certs){var se=I.certs[ee.subject.hash];a.util.isArray(se)||(se=[se]),se.push(ee),I.certs[ee.subject.hash]=se}else I.certs[ee.subject.hash]=ee},I.hasCertificate=function(ee){typeof ee=="string"&&(ee=a.pki.certificateFromPem(ee));var se=w(ee.subject);if(!se)return!1;a.util.isArray(se)||(se=[se]);for(var Ae=r.toDer(s.certificateToAsn1(ee)).getBytes(),oe=0;oe<se.length;++oe){var he=r.toDer(s.certificateToAsn1(se[oe])).getBytes();if(Ae===he)return!0}return!1},I.listAllCertificates=function(){var ee=[];for(var se in I.certs)if(I.certs.hasOwnProperty(se)){var Ae=I.certs[se];if(!a.util.isArray(Ae))ee.push(Ae);else for(var oe=0;oe<Ae.length;++oe)ee.push(Ae[oe])}return ee},I.removeCertificate=function(ee){var se;if(typeof ee=="string"&&(ee=a.pki.certificateFromPem(ee)),j(ee.subject),!I.hasCertificate(ee))return null;var Ae=w(ee.subject);if(!a.util.isArray(Ae))return se=I.certs[ee.subject.hash],delete I.certs[ee.subject.hash],se;for(var oe=r.toDer(s.certificateToAsn1(ee)).getBytes(),he=0;he<Ae.length;++he){var ve=r.toDer(s.certificateToAsn1(Ae[he])).getBytes();oe===ve&&(se=Ae[he],Ae.splice(he,1))}return Ae.length===0&&delete I.certs[ee.subject.hash],se};function w(ee){return j(ee),I.certs[ee.hash]||null}function j(ee){if(!ee.hash){var se=a.md.sha1.create();ee.attributes=s.RDNAttributesAsArray(V(ee),se),ee.hash=se.digest().toHex()}}if(M)for(var ae=0;ae<M.length;++ae){var de=M[ae];I.addCertificate(de)}return I},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(M,I,w){typeof w=="function"&&(w={verify:w}),w=w||{},I=I.slice(0);var j=I.slice(0),ae=w.validityCheckDate;typeof ae>"u"&&(ae=new Date);var de=!0,ee=null,se=0;do{var Ae=I.shift(),oe=null,he=!1;if(ae&&(ae<Ae.validity.notBefore||ae>Ae.validity.notAfter)&&(ee={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:Ae.validity.notBefore,notAfter:Ae.validity.notAfter,now:ae}),ee===null){if(oe=I[0]||M.getIssuer(Ae),oe===null&&Ae.isIssuer(Ae)&&(he=!0,oe=Ae),oe){var ve=oe;a.util.isArray(ve)||(ve=[ve]);for(var ke=!1;!ke&&ve.length>0;){oe=ve.shift();try{ke=oe.verify(Ae)}catch{}}ke||(ee={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}ee===null&&(!oe||he)&&!M.hasCertificate(Ae)&&(ee={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(ee===null&&oe&&!Ae.isIssuer(oe)&&(ee={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),ee===null)for(var Ke={keyUsage:!0,basicConstraints:!0},Le=0;ee===null&&Le<Ae.extensions.length;++Le){var Ce=Ae.extensions[Le];Ce.critical&&!(Ce.name in Ke)&&(ee={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(ee===null&&(!de||I.length===0&&(!oe||he))){var Te=Ae.getExtension("basicConstraints"),Ze=Ae.getExtension("keyUsage");if(Ze!==null&&(!Ze.keyCertSign||Te===null)&&(ee={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate}),ee===null&&Te!==null&&!Te.cA&&(ee={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),ee===null&&Ze!==null&&"pathLenConstraint"in Te){var De=se-1;De>Te.pathLenConstraint&&(ee={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}}var et=ee===null?!0:ee.error,Ne=w.verify?w.verify(et,se,j):et;if(Ne===!0)ee=null;else throw et===!0&&(ee={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(Ne||Ne===0)&&(typeof Ne=="object"&&!a.util.isArray(Ne)?(Ne.message&&(ee.message=Ne.message),Ne.error&&(ee.error=Ne.error)):typeof Ne=="string"&&(ee.error=Ne)),ee;de=!1,++se}while(I.length>0);return!0},Xd.exports}var lm;function j2(){if(lm)return Yd.exports;lm=1;var a=Dn();Fi(),Ru(),Oo(),H2(),Q2(),Ai(),pf(),Ou(),Zn(),zh();var r=a.asn1,s=a.pki,d=Yd.exports=a.pkcs12=a.pkcs12||{},v={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},m={name:"PFX",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},v,{name:"PFX.macData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",optional:!0,tagClass:r.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},A={name:"SafeBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},p={name:"Attribute",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,capture:"values"}]},E={name:"CertBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:r.Class.UNIVERSAL,type:r.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function C(P,H,T,F){for(var U=[],K=0;K<P.length;K++)for(var X=0;X<P[K].safeBags.length;X++){var M=P[K].safeBags[X];if(!(F!==void 0&&M.type!==F)){if(H===null){U.push(M);continue}M.attributes[H]!==void 0&&M.attributes[H].indexOf(T)>=0&&U.push(M)}}return U}d.pkcs12FromAsn1=function(P,H,T){typeof H=="string"?(T=H,H=!0):H===void 0&&(H=!0);var F={},U=[];if(!r.validate(P,m,F,U)){var K=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw K.errors=K,K}var X={version:F.version.charCodeAt(0),safeContents:[],getBags:function(oe){var he={},ve;return"localKeyId"in oe?ve=oe.localKeyId:"localKeyIdHex"in oe&&(ve=a.util.hexToBytes(oe.localKeyIdHex)),ve===void 0&&!("friendlyName"in oe)&&"bagType"in oe&&(he[oe.bagType]=C(X.safeContents,null,null,oe.bagType)),ve!==void 0&&(he.localKeyId=C(X.safeContents,"localKeyId",ve,oe.bagType)),"friendlyName"in oe&&(he.friendlyName=C(X.safeContents,"friendlyName",oe.friendlyName,oe.bagType)),he},getBagsByFriendlyName:function(oe,he){return C(X.safeContents,"friendlyName",oe,he)},getBagsByLocalKeyId:function(oe,he){return C(X.safeContents,"localKeyId",oe,he)}};if(F.version.charCodeAt(0)!==3){var K=new Error("PKCS#12 PFX of version other than 3 not supported.");throw K.version=F.version.charCodeAt(0),K}if(r.derToOid(F.contentType)!==s.oids.data){var K=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw K.oid=r.derToOid(F.contentType),K}var M=F.content.value[0];if(M.tagClass!==r.Class.UNIVERSAL||M.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(M=D(M),F.mac){var I=null,w=0,j=r.derToOid(F.macAlgorithm);switch(j){case s.oids.sha1:I=a.md.sha1.create(),w=20;break;case s.oids.sha256:I=a.md.sha256.create(),w=32;break;case s.oids.sha384:I=a.md.sha384.create(),w=48;break;case s.oids.sha512:I=a.md.sha512.create(),w=64;break;case s.oids.md5:I=a.md.md5.create(),w=16;break}if(I===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+j);var ae=new a.util.ByteBuffer(F.macSalt),de="macIterations"in F?parseInt(a.util.bytesToHex(F.macIterations),16):1,ee=d.generateKey(T,ae,3,de,w,I),se=a.hmac.create();se.start(I,ee),se.update(M.value);var Ae=se.getMac();if(Ae.getBytes()!==F.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}else if(Array.isArray(P.value)&&P.value.length>2)throw new Error("Invalid PKCS#12. macData field present but MAC was not validated.");return R(X,M.value,H,T),X};function D(P){if(P.composed||P.constructed){for(var H=a.util.createBuffer(),T=0;T<P.value.length;++T)H.putBytes(P.value[T].value);P.composed=P.constructed=!1,P.value=H.getBytes()}return P}function R(P,H,T,F){if(H=r.fromDer(H,T),H.tagClass!==r.Class.UNIVERSAL||H.type!==r.Type.SEQUENCE||H.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var U=0;U<H.value.length;U++){var K=H.value[U],X={},M=[];if(!r.validate(K,v,X,M)){var I=new Error("Cannot read ContentInfo.");throw I.errors=M,I}var w={encrypted:!1},j=null,ae=X.content.value[0];switch(r.derToOid(X.contentType)){case s.oids.data:if(ae.tagClass!==r.Class.UNIVERSAL||ae.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");j=D(ae).value;break;case s.oids.encryptedData:j=L(ae,F),w.encrypted=!0;break;default:var I=new Error("Unsupported PKCS#12 contentType.");throw I.contentType=r.derToOid(X.contentType),I}w.safeBags=_(j,T,F),P.safeContents.push(w)}}function L(P,H){var T={},F=[];if(!r.validate(P,a.pkcs7.asn1.encryptedDataValidator,T,F)){var U=new Error("Cannot read EncryptedContentInfo.");throw U.errors=F,U}var K=r.derToOid(T.contentType);if(K!==s.oids.data){var U=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw U.oid=K,U}K=r.derToOid(T.encAlgorithm);var X=s.pbe.getCipher(K,T.encParameter,H),M=D(T.encryptedContentAsn1),I=a.util.createBuffer(M.value);if(X.update(I),!X.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return X.output.getBytes()}function _(P,H,T){if(!H&&P.length===0)return[];if(P=r.fromDer(P,H),P.tagClass!==r.Class.UNIVERSAL||P.type!==r.Type.SEQUENCE||P.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var F=[],U=0;U<P.value.length;U++){var K=P.value[U],X={},M=[];if(!r.validate(K,A,X,M)){var I=new Error("Cannot read SafeBag.");throw I.errors=M,I}var w={type:r.derToOid(X.bagId),attributes:V(X.bagAttributes)};F.push(w);var j,ae,de=X.bagValue.value[0];switch(w.type){case s.oids.pkcs8ShroudedKeyBag:if(de=s.decryptPrivateKeyInfo(de,T),de===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{w.key=s.privateKeyFromAsn1(de)}catch{w.key=null,w.asn1=de}continue;case s.oids.certBag:j=E,ae=function(){if(r.derToOid(X.certId)!==s.oids.x509Certificate){var se=new Error("Unsupported certificate type, only X.509 supported.");throw se.oid=r.derToOid(X.certId),se}var Ae=r.fromDer(X.cert,H);try{w.cert=s.certificateFromAsn1(Ae,!0)}catch{w.cert=null,w.asn1=Ae}};break;default:var I=new Error("Unsupported PKCS#12 SafeBag type.");throw I.oid=w.type,I}if(j!==void 0&&!r.validate(de,j,X,M)){var I=new Error("Cannot read PKCS#12 "+j.name);throw I.errors=M,I}ae()}return F}function V(P){var H={};if(P!==void 0)for(var T=0;T<P.length;++T){var F={},U=[];if(!r.validate(P[T],p,F,U)){var K=new Error("Cannot read PKCS#12 BagAttribute.");throw K.errors=U,K}var X=r.derToOid(F.oid);if(s.oids[X]!==void 0){H[s.oids[X]]=[];for(var M=0;M<F.values.length;++M)H[s.oids[X]].push(F.values[M].value)}}return H}return d.toPkcs12Asn1=function(P,H,T,F){F=F||{},F.saltSize=F.saltSize||8,F.count=F.count||2048,F.algorithm=F.algorithm||F.encAlgorithm||"aes128","useMac"in F||(F.useMac=!0),"localKeyId"in F||(F.localKeyId=null),"generateLocalKeyId"in F||(F.generateLocalKeyId=!0);var U=F.localKeyId,K;if(U!==null)U=a.util.hexToBytes(U);else if(F.generateLocalKeyId)if(H){var X=a.util.isArray(H)?H[0]:H;typeof X=="string"&&(X=s.certificateFromPem(X));var M=a.md.sha1.create();M.update(r.toDer(s.certificateToAsn1(X)).getBytes()),U=M.digest().getBytes()}else U=a.random.getBytes(20);var I=[];U!==null&&I.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.localKeyId).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,U)])])),"friendlyName"in F&&I.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.friendlyName).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.BMPSTRING,!1,F.friendlyName)])])),I.length>0&&(K=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,I));var w=[],j=[];H!==null&&(a.util.isArray(H)?j=H:j=[H]);for(var ae=[],de=0;de<j.length;++de){H=j[de],typeof H=="string"&&(H=s.certificateFromPem(H));var ee=de===0?K:void 0,se=s.certificateToAsn1(H),Ae=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.certBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.x509Certificate).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(se).getBytes())])])]),ee]);ae.push(Ae)}if(ae.length>0){var oe=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,ae),he=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(oe).getBytes())])]);w.push(he)}var ve=null;if(P!==null){var ke=s.wrapRsaPrivateKey(s.privateKeyToAsn1(P));T===null?ve=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.keyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[ke]),K]):ve=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(ke,T,F)]),K]);var Ke=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[ve]),Le=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(Ke).getBytes())])]);w.push(Le)}var Ce=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,w),Te;if(F.useMac){var M=a.md.sha1.create(),Ze=new a.util.ByteBuffer(a.random.getBytes(F.saltSize)),De=F.count,P=d.generateKey(T,Ze,3,De,20),et=a.hmac.create();et.start(M,P),et.update(r.toDer(Ce).getBytes());var Ne=et.getMac();Te=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.sha1).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Ne.getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Ze.getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(De).getBytes())])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(3).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(Ce).getBytes())])]),Te])},d.generateKey=a.pbe.generatePkcs12Key,Yd.exports}var um;function K2(){if(um)return Ld.exports;um=1;var a=Dn();Fi(),Oo(),Q2(),Il(),jh(),j2(),Kh(),pf(),Zn(),zh();var r=a.asn1,s=Ld.exports=a.pki=a.pki||{};return s.pemToDer=function(d){var v=a.pem.decode(d)[0];if(v.procType&&v.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return a.util.createBuffer(v.body)},s.privateKeyFromPem=function(d){var v=a.pem.decode(d)[0];if(v.type!=="PRIVATE KEY"&&v.type!=="RSA PRIVATE KEY"){var m=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw m.headerType=v.type,m}if(v.procType&&v.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var A=r.fromDer(v.body);return s.privateKeyFromAsn1(A)},s.privateKeyToPem=function(d,v){var m={type:"RSA PRIVATE KEY",body:r.toDer(s.privateKeyToAsn1(d)).getBytes()};return a.pem.encode(m,{maxline:v})},s.privateKeyInfoToPem=function(d,v){var m={type:"PRIVATE KEY",body:r.toDer(d).getBytes()};return a.pem.encode(m,{maxline:v})},Ld.exports}var $d,cm;function z2(){if(cm)return $d;cm=1;var a=Dn();Fi(),Ru(),Hh(),Il(),K2(),Ai(),Ou(),Zn();var r=function(Q,W,re,O){var Z=a.util.createBuffer(),be=Q.length>>1,xe=be+(Q.length&1),We=Q.substr(0,xe),ht=Q.substr(be,xe),ft=a.util.createBuffer(),Pe=a.hmac.create();re=W+re;var pt=Math.ceil(O/16),Ye=Math.ceil(O/20);Pe.start("MD5",We);var Mt=a.util.createBuffer();ft.putBytes(re);for(var Et=0;Et<pt;++Et)Pe.start(null,null),Pe.update(ft.getBytes()),ft.putBuffer(Pe.digest()),Pe.start(null,null),Pe.update(ft.bytes()+re),Mt.putBuffer(Pe.digest());Pe.start("SHA1",ht);var Kt=a.util.createBuffer();ft.clear(),ft.putBytes(re);for(var Et=0;Et<Ye;++Et)Pe.start(null,null),Pe.update(ft.getBytes()),ft.putBuffer(Pe.digest()),Pe.start(null,null),Pe.update(ft.bytes()+re),Kt.putBuffer(Pe.digest());return Z.putBytes(a.util.xorBytes(Mt.getBytes(),Kt.getBytes(),O)),Z},s=function(Q,W,re){var O=a.hmac.create();O.start("SHA1",Q);var Z=a.util.createBuffer();return Z.putInt32(W[0]),Z.putInt32(W[1]),Z.putByte(re.type),Z.putByte(re.version.major),Z.putByte(re.version.minor),Z.putInt16(re.length),Z.putBytes(re.fragment.bytes()),O.update(Z.getBytes()),O.digest().getBytes()},d=function(Q,W,re){var O=!1;try{var Z=Q.deflate(W.fragment.getBytes());W.fragment=a.util.createBuffer(Z),W.length=Z.length,O=!0}catch{}return O},v=function(Q,W,re){var O=!1;try{var Z=Q.inflate(W.fragment.getBytes());W.fragment=a.util.createBuffer(Z),W.length=Z.length,O=!0}catch{}return O},m=function(Q,W){var re=0;switch(W){case 1:re=Q.getByte();break;case 2:re=Q.getInt16();break;case 3:re=Q.getInt24();break;case 4:re=Q.getInt32();break}return a.util.createBuffer(Q.getBytes(re))},A=function(Q,W,re){Q.putInt(re.length(),W<<3),Q.putBuffer(re)},p={};p.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},p.SupportedVersions=[p.Versions.TLS_1_1,p.Versions.TLS_1_0],p.Version=p.SupportedVersions[0],p.MaxFragment=15360,p.ConnectionEnd={server:0,client:1},p.PRFAlgorithm={tls_prf_sha256:0},p.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},p.CipherType={stream:0,block:1,aead:2},p.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},p.CompressionMethod={none:0,deflate:1},p.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},p.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},p.Alert={},p.Alert.Level={warning:1,fatal:2},p.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},p.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},p.CipherSuites={},p.getCipherSuite=function(Q){var W=null;for(var re in p.CipherSuites){var O=p.CipherSuites[re];if(O.id[0]===Q.charCodeAt(0)&&O.id[1]===Q.charCodeAt(1)){W=O;break}}return W},p.handleUnexpected=function(Q,W){var re=!Q.open&&Q.entity===p.ConnectionEnd.client;re||Q.error(Q,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unexpected_message}})},p.handleHelloRequest=function(Q,W,re){!Q.handshaking&&Q.handshakes>0&&(p.queue(Q,p.createAlert(Q,{level:p.Alert.Level.warning,description:p.Alert.Description.no_renegotiation})),p.flush(Q)),Q.process()},p.parseHelloMessage=function(Q,W,re){var O=null,Z=Q.entity===p.ConnectionEnd.client;if(re<38)Q.error(Q,{message:Z?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});else{var be=W.fragment,xe=be.length();if(O={version:{major:be.getByte(),minor:be.getByte()},random:a.util.createBuffer(be.getBytes(32)),session_id:m(be,1),extensions:[]},Z?(O.cipher_suite=be.getBytes(2),O.compression_method=be.getByte()):(O.cipher_suites=m(be,2),O.compression_methods=m(be,1)),xe=re-(xe-be.length()),xe>0){for(var We=m(be,2);We.length()>0;)O.extensions.push({type:[We.getByte(),We.getByte()],data:m(We,2)});if(!Z)for(var ht=0;ht<O.extensions.length;++ht){var ft=O.extensions[ht];if(ft.type[0]===0&&ft.type[1]===0)for(var Pe=m(ft.data,2);Pe.length()>0;){var pt=Pe.getByte();if(pt!==0)break;Q.session.extensions.server_name.serverNameList.push(m(Pe,2).getBytes())}}}if(Q.session.version&&(O.version.major!==Q.session.version.major||O.version.minor!==Q.session.version.minor))return Q.error(Q,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}});if(Z)Q.session.cipherSuite=p.getCipherSuite(O.cipher_suite);else for(var Ye=a.util.createBuffer(O.cipher_suites.bytes());Ye.length()>0&&(Q.session.cipherSuite=p.getCipherSuite(Ye.getBytes(2)),Q.session.cipherSuite===null););if(Q.session.cipherSuite===null)return Q.error(Q,{message:"No cipher suites in common.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.handshake_failure},cipherSuite:a.util.bytesToHex(O.cipher_suite)});Z?Q.session.compressionMethod=O.compression_method:Q.session.compressionMethod=p.CompressionMethod.none}return O},p.createSecurityParameters=function(Q,W){var re=Q.entity===p.ConnectionEnd.client,O=W.random.bytes(),Z=re?Q.session.sp.client_random:O,be=re?O:p.createRandom().getBytes();Q.session.sp={entity:Q.entity,prf_algorithm:p.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:Q.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Z,server_random:be}},p.handleServerHello=function(Q,W,re){var O=p.parseHelloMessage(Q,W,re);if(!Q.fail){if(O.version.minor<=Q.version.minor)Q.version.minor=O.version.minor;else return Q.error(Q,{message:"Incompatible TLS version.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}});Q.session.version=Q.version;var Z=O.session_id.bytes();Z.length>0&&Z===Q.session.id?(Q.expect=_,Q.session.resuming=!0,Q.session.sp.server_random=O.random.bytes()):(Q.expect=C,Q.session.resuming=!1,p.createSecurityParameters(Q,O)),Q.session.id=Z,Q.process()}},p.handleClientHello=function(Q,W,re){var O=p.parseHelloMessage(Q,W,re);if(!Q.fail){var Z=O.session_id.bytes(),be=null;if(Q.sessionCache&&(be=Q.sessionCache.getSession(Z),be===null?Z="":(be.version.major!==O.version.major||be.version.minor>O.version.minor)&&(be=null,Z="")),Z.length===0&&(Z=a.random.getBytes(32)),Q.session.id=Z,Q.session.clientHelloVersion=O.version,Q.session.sp={},be)Q.version=Q.session.version=be.version,Q.session.sp=be.sp;else{for(var xe,We=1;We<p.SupportedVersions.length&&(xe=p.SupportedVersions[We],!(xe.minor<=O.version.minor));++We);Q.version={major:xe.major,minor:xe.minor},Q.session.version=Q.version}be!==null?(Q.expect=X,Q.session.resuming=!0,Q.session.sp.client_random=O.random.bytes()):(Q.expect=Q.verifyClient!==!1?F:U,Q.session.resuming=!1,p.createSecurityParameters(Q,O)),Q.open=!0,p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createServerHello(Q)})),Q.session.resuming?(p.queue(Q,p.createRecord(Q,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),Q.state.pending=p.createConnectionState(Q),Q.state.current.write=Q.state.pending.write,p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createFinished(Q)}))):(p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createCertificate(Q)})),Q.fail||(p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createServerKeyExchange(Q)})),Q.verifyClient!==!1&&p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createCertificateRequest(Q)})),p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createServerHelloDone(Q)})))),p.flush(Q),Q.process()}},p.handleCertificate=function(Q,W,re){if(re<3)return Q.error(Q,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var O=W.fragment,Z={certificate_list:m(O,3)},be,xe,We=[];try{for(;Z.certificate_list.length()>0;)be=m(Z.certificate_list,3),xe=a.asn1.fromDer(be),be=a.pki.certificateFromAsn1(xe,!0),We.push(be)}catch(ft){return Q.error(Q,{message:"Could not parse certificate list.",cause:ft,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate}})}var ht=Q.entity===p.ConnectionEnd.client;(ht||Q.verifyClient===!0)&&We.length===0?Q.error(Q,{message:ht?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}}):We.length===0?Q.expect=ht?D:U:(ht?Q.session.serverCertificate=We[0]:Q.session.clientCertificate=We[0],p.verifyCertificateChain(Q,We)&&(Q.expect=ht?D:U)),Q.process()},p.handleServerKeyExchange=function(Q,W,re){if(re>0)return Q.error(Q,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unsupported_certificate}});Q.expect=R,Q.process()},p.handleClientKeyExchange=function(Q,W,re){if(re<48)return Q.error(Q,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unsupported_certificate}});var O=W.fragment,Z={enc_pre_master_secret:m(O,2).getBytes()},be=null;if(Q.getPrivateKey)try{be=Q.getPrivateKey(Q,Q.session.serverCertificate),be=a.pki.privateKeyFromPem(be)}catch(ht){Q.error(Q,{message:"Could not get private key.",cause:ht,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}})}if(be===null)return Q.error(Q,{message:"No private key set.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}});try{var xe=Q.session.sp;xe.pre_master_secret=be.decrypt(Z.enc_pre_master_secret);var We=Q.session.clientHelloVersion;if(We.major!==xe.pre_master_secret.charCodeAt(0)||We.minor!==xe.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{xe.pre_master_secret=a.random.getBytes(48)}Q.expect=X,Q.session.clientCertificate!==null&&(Q.expect=K),Q.process()},p.handleCertificateRequest=function(Q,W,re){if(re<3)return Q.error(Q,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var O=W.fragment,Z={certificate_types:m(O,1),certificate_authorities:m(O,2)};Q.session.certificateRequest=Z,Q.expect=L,Q.process()},p.handleCertificateVerify=function(Q,W,re){if(re<2)return Q.error(Q,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var O=W.fragment;O.read-=4;var Z=O.bytes();O.read+=4;var be={signature:m(O,2).getBytes()},xe=a.util.createBuffer();xe.putBuffer(Q.session.md5.digest()),xe.putBuffer(Q.session.sha1.digest()),xe=xe.getBytes();try{var We=Q.session.clientCertificate;if(!We.publicKey.verify(xe,be.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");Q.session.md5.update(Z),Q.session.sha1.update(Z)}catch{return Q.error(Q,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.handshake_failure}})}Q.expect=X,Q.process()},p.handleServerHelloDone=function(Q,W,re){if(re>0)return Q.error(Q,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.record_overflow}});if(Q.serverCertificate===null){var O={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.insufficient_security}},Z=0,be=Q.verify(Q,O.alert.description,Z,[]);if(be!==!0)return(be||be===0)&&(typeof be=="object"&&!a.util.isArray(be)?(be.message&&(O.message=be.message),be.alert&&(O.alert.description=be.alert)):typeof be=="number"&&(O.alert.description=be)),Q.error(Q,O)}Q.session.certificateRequest!==null&&(W=p.createRecord(Q,{type:p.ContentType.handshake,data:p.createCertificate(Q)}),p.queue(Q,W)),W=p.createRecord(Q,{type:p.ContentType.handshake,data:p.createClientKeyExchange(Q)}),p.queue(Q,W),Q.expect=H;var xe=function(We,ht){We.session.certificateRequest!==null&&We.session.clientCertificate!==null&&p.queue(We,p.createRecord(We,{type:p.ContentType.handshake,data:p.createCertificateVerify(We,ht)})),p.queue(We,p.createRecord(We,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),We.state.pending=p.createConnectionState(We),We.state.current.write=We.state.pending.write,p.queue(We,p.createRecord(We,{type:p.ContentType.handshake,data:p.createFinished(We)})),We.expect=_,p.flush(We),We.process()};if(Q.session.certificateRequest===null||Q.session.clientCertificate===null)return xe(Q,null);p.getClientSignature(Q,xe)},p.handleChangeCipherSpec=function(Q,W){if(W.fragment.getByte()!==1)return Q.error(Q,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var re=Q.entity===p.ConnectionEnd.client;(Q.session.resuming&&re||!Q.session.resuming&&!re)&&(Q.state.pending=p.createConnectionState(Q)),Q.state.current.read=Q.state.pending.read,(!Q.session.resuming&&re||Q.session.resuming&&!re)&&(Q.state.pending=null),Q.expect=re?V:M,Q.process()},p.handleFinished=function(Q,W,re){var O=W.fragment;O.read-=4;var Z=O.bytes();O.read+=4;var be=W.fragment.getBytes();O=a.util.createBuffer(),O.putBuffer(Q.session.md5.digest()),O.putBuffer(Q.session.sha1.digest());var xe=Q.entity===p.ConnectionEnd.client,We=xe?"server finished":"client finished",ht=Q.session.sp,ft=12,Pe=r;if(O=Pe(ht.master_secret,We,O.getBytes(),ft),O.getBytes()!==be)return Q.error(Q,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.decrypt_error}});Q.session.md5.update(Z),Q.session.sha1.update(Z),(Q.session.resuming&&xe||!Q.session.resuming&&!xe)&&(p.queue(Q,p.createRecord(Q,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),Q.state.current.write=Q.state.pending.write,Q.state.pending=null,p.queue(Q,p.createRecord(Q,{type:p.ContentType.handshake,data:p.createFinished(Q)}))),Q.expect=xe?P:I,Q.handshaking=!1,++Q.handshakes,Q.peerCertificate=xe?Q.session.serverCertificate:Q.session.clientCertificate,p.flush(Q),Q.isConnected=!0,Q.connected(Q),Q.process()},p.handleAlert=function(Q,W){var re=W.fragment,O={level:re.getByte(),description:re.getByte()},Z;switch(O.description){case p.Alert.Description.close_notify:Z="Connection closed.";break;case p.Alert.Description.unexpected_message:Z="Unexpected message.";break;case p.Alert.Description.bad_record_mac:Z="Bad record MAC.";break;case p.Alert.Description.decryption_failed:Z="Decryption failed.";break;case p.Alert.Description.record_overflow:Z="Record overflow.";break;case p.Alert.Description.decompression_failure:Z="Decompression failed.";break;case p.Alert.Description.handshake_failure:Z="Handshake failure.";break;case p.Alert.Description.bad_certificate:Z="Bad certificate.";break;case p.Alert.Description.unsupported_certificate:Z="Unsupported certificate.";break;case p.Alert.Description.certificate_revoked:Z="Certificate revoked.";break;case p.Alert.Description.certificate_expired:Z="Certificate expired.";break;case p.Alert.Description.certificate_unknown:Z="Certificate unknown.";break;case p.Alert.Description.illegal_parameter:Z="Illegal parameter.";break;case p.Alert.Description.unknown_ca:Z="Unknown certificate authority.";break;case p.Alert.Description.access_denied:Z="Access denied.";break;case p.Alert.Description.decode_error:Z="Decode error.";break;case p.Alert.Description.decrypt_error:Z="Decrypt error.";break;case p.Alert.Description.export_restriction:Z="Export restriction.";break;case p.Alert.Description.protocol_version:Z="Unsupported protocol version.";break;case p.Alert.Description.insufficient_security:Z="Insufficient security.";break;case p.Alert.Description.internal_error:Z="Internal error.";break;case p.Alert.Description.user_canceled:Z="User canceled.";break;case p.Alert.Description.no_renegotiation:Z="Renegotiation not supported.";break;default:Z="Unknown error.";break}if(O.description===p.Alert.Description.close_notify)return Q.close();Q.error(Q,{message:Z,send:!1,origin:Q.entity===p.ConnectionEnd.client?"server":"client",alert:O}),Q.process()},p.handleHandshake=function(Q,W){var re=W.fragment,O=re.getByte(),Z=re.getInt24();if(Z>re.length())return Q.fragmented=W,W.fragment=a.util.createBuffer(),re.read-=4,Q.process();Q.fragmented=null,re.read-=4;var be=re.bytes(Z+4);re.read+=4,O in Te[Q.entity][Q.expect]?(Q.entity===p.ConnectionEnd.server&&!Q.open&&!Q.fail&&(Q.handshaking=!0,Q.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:a.md.md5.create(),sha1:a.md.sha1.create()}),O!==p.HandshakeType.hello_request&&O!==p.HandshakeType.certificate_verify&&O!==p.HandshakeType.finished&&(Q.session.md5.update(be),Q.session.sha1.update(be)),Te[Q.entity][Q.expect][O](Q,W,Z)):p.handleUnexpected(Q,W)},p.handleApplicationData=function(Q,W){Q.data.putBuffer(W.fragment),Q.dataReady(Q),Q.process()},p.handleHeartbeat=function(Q,W){var re=W.fragment,O=re.getByte(),Z=re.getInt16(),be=re.getBytes(Z);if(O===p.HeartbeatMessageType.heartbeat_request){if(Q.handshaking||Z>be.length)return Q.process();p.queue(Q,p.createRecord(Q,{type:p.ContentType.heartbeat,data:p.createHeartbeat(p.HeartbeatMessageType.heartbeat_response,be)})),p.flush(Q)}else if(O===p.HeartbeatMessageType.heartbeat_response){if(be!==Q.expectedHeartbeatPayload)return Q.process();Q.heartbeatReceived&&Q.heartbeatReceived(Q,a.util.createBuffer(be))}Q.process()};var E=0,C=1,D=2,R=3,L=4,_=5,V=6,P=7,H=8,T=0,F=1,U=2,K=3,X=4,M=5,I=6,w=p.handleUnexpected,j=p.handleChangeCipherSpec,ae=p.handleAlert,de=p.handleHandshake,ee=p.handleApplicationData,se=p.handleHeartbeat,Ae=[];Ae[p.ConnectionEnd.client]=[[w,ae,de,w,se],[w,ae,de,w,se],[w,ae,de,w,se],[w,ae,de,w,se],[w,ae,de,w,se],[j,ae,w,w,se],[w,ae,de,w,se],[w,ae,de,ee,se],[w,ae,de,w,se]],Ae[p.ConnectionEnd.server]=[[w,ae,de,w,se],[w,ae,de,w,se],[w,ae,de,w,se],[w,ae,de,w,se],[j,ae,w,w,se],[w,ae,de,w,se],[w,ae,de,ee,se],[w,ae,de,w,se]];var oe=p.handleHelloRequest,he=p.handleServerHello,ve=p.handleCertificate,ke=p.handleServerKeyExchange,Ke=p.handleCertificateRequest,Le=p.handleServerHelloDone,Ce=p.handleFinished,Te=[];Te[p.ConnectionEnd.client]=[[w,w,he,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w],[oe,w,w,w,w,w,w,w,w,w,w,ve,ke,Ke,Le,w,w,w,w,w,w],[oe,w,w,w,w,w,w,w,w,w,w,w,ke,Ke,Le,w,w,w,w,w,w],[oe,w,w,w,w,w,w,w,w,w,w,w,w,Ke,Le,w,w,w,w,w,w],[oe,w,w,w,w,w,w,w,w,w,w,w,w,w,Le,w,w,w,w,w,w],[oe,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w],[oe,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,Ce],[oe,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w],[oe,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w]];var Ze=p.handleClientHello,De=p.handleClientKeyExchange,et=p.handleCertificateVerify;Te[p.ConnectionEnd.server]=[[w,Ze,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w],[w,w,w,w,w,w,w,w,w,w,w,ve,w,w,w,w,w,w,w,w,w],[w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,De,w,w,w,w],[w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,et,w,w,w,w,w],[w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w],[w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,Ce],[w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w],[w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w]],p.generateKeys=function(Q,W){var re=r,O=W.client_random+W.server_random;Q.session.resuming||(W.master_secret=re(W.pre_master_secret,"master secret",O,48).bytes(),W.pre_master_secret=null),O=W.server_random+W.client_random;var Z=2*W.mac_key_length+2*W.enc_key_length,be=Q.version.major===p.Versions.TLS_1_0.major&&Q.version.minor===p.Versions.TLS_1_0.minor;be&&(Z+=2*W.fixed_iv_length);var xe=re(W.master_secret,"key expansion",O,Z),We={client_write_MAC_key:xe.getBytes(W.mac_key_length),server_write_MAC_key:xe.getBytes(W.mac_key_length),client_write_key:xe.getBytes(W.enc_key_length),server_write_key:xe.getBytes(W.enc_key_length)};return be&&(We.client_write_IV=xe.getBytes(W.fixed_iv_length),We.server_write_IV=xe.getBytes(W.fixed_iv_length)),We},p.createConnectionState=function(Q){var W=Q.entity===p.ConnectionEnd.client,re=function(){var be={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(xe){return!0},compressionState:null,compressFunction:function(xe){return!0},updateSequenceNumber:function(){be.sequenceNumber[1]===4294967295?(be.sequenceNumber[1]=0,++be.sequenceNumber[0]):++be.sequenceNumber[1]}};return be},O={read:re(),write:re()};if(O.read.update=function(be,xe){return O.read.cipherFunction(xe,O.read)?O.read.compressFunction(be,xe,O.read)||be.error(be,{message:"Could not decompress record.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.decompression_failure}}):be.error(be,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_record_mac}}),!be.fail},O.write.update=function(be,xe){return O.write.compressFunction(be,xe,O.write)?O.write.cipherFunction(xe,O.write)||be.error(be,{message:"Could not encrypt record.",send:!1,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}):be.error(be,{message:"Could not compress record.",send:!1,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}),!be.fail},Q.session){var Z=Q.session.sp;switch(Q.session.cipherSuite.initSecurityParameters(Z),Z.keys=p.generateKeys(Q,Z),O.read.macKey=W?Z.keys.server_write_MAC_key:Z.keys.client_write_MAC_key,O.write.macKey=W?Z.keys.client_write_MAC_key:Z.keys.server_write_MAC_key,Q.session.cipherSuite.initConnectionState(O,Q,Z),Z.compression_algorithm){case p.CompressionMethod.none:break;case p.CompressionMethod.deflate:O.read.compressFunction=v,O.write.compressFunction=d;break;default:throw new Error("Unsupported compression algorithm.")}}return O},p.createRandom=function(){var Q=new Date,W=+Q+Q.getTimezoneOffset()*6e4,re=a.util.createBuffer();return re.putInt32(W),re.putBytes(a.random.getBytes(28)),re},p.createRecord=function(Q,W){if(!W.data)return null;var re={type:W.type,version:{major:Q.version.major,minor:Q.version.minor},length:W.data.length(),fragment:W.data};return re},p.createAlert=function(Q,W){var re=a.util.createBuffer();return re.putByte(W.level),re.putByte(W.description),p.createRecord(Q,{type:p.ContentType.alert,data:re})},p.createClientHello=function(Q){Q.session.clientHelloVersion={major:Q.version.major,minor:Q.version.minor};for(var W=a.util.createBuffer(),re=0;re<Q.cipherSuites.length;++re){var O=Q.cipherSuites[re];W.putByte(O.id[0]),W.putByte(O.id[1])}var Z=W.length(),be=a.util.createBuffer();be.putByte(p.CompressionMethod.none);var xe=be.length(),We=a.util.createBuffer();if(Q.virtualHost){var ht=a.util.createBuffer();ht.putByte(0),ht.putByte(0);var ft=a.util.createBuffer();ft.putByte(0),A(ft,2,a.util.createBuffer(Q.virtualHost));var Pe=a.util.createBuffer();A(Pe,2,ft),A(ht,2,Pe),We.putBuffer(ht)}var pt=We.length();pt>0&&(pt+=2);var Ye=Q.session.id,Mt=Ye.length+1+2+4+28+2+Z+1+xe+pt,Et=a.util.createBuffer();return Et.putByte(p.HandshakeType.client_hello),Et.putInt24(Mt),Et.putByte(Q.version.major),Et.putByte(Q.version.minor),Et.putBytes(Q.session.sp.client_random),A(Et,1,a.util.createBuffer(Ye)),A(Et,2,W),A(Et,1,be),pt>0&&A(Et,2,We),Et},p.createServerHello=function(Q){var W=Q.session.id,re=W.length+1+2+4+28+2+1,O=a.util.createBuffer();return O.putByte(p.HandshakeType.server_hello),O.putInt24(re),O.putByte(Q.version.major),O.putByte(Q.version.minor),O.putBytes(Q.session.sp.server_random),A(O,1,a.util.createBuffer(W)),O.putByte(Q.session.cipherSuite.id[0]),O.putByte(Q.session.cipherSuite.id[1]),O.putByte(Q.session.compressionMethod),O},p.createCertificate=function(Q){var W=Q.entity===p.ConnectionEnd.client,re=null;if(Q.getCertificate){var O;W?O=Q.session.certificateRequest:O=Q.session.extensions.server_name.serverNameList,re=Q.getCertificate(Q,O)}var Z=a.util.createBuffer();if(re!==null)try{a.util.isArray(re)||(re=[re]);for(var be=null,xe=0;xe<re.length;++xe){var We=a.pem.decode(re[xe])[0];if(We.type!=="CERTIFICATE"&&We.type!=="X509 CERTIFICATE"&&We.type!=="TRUSTED CERTIFICATE"){var ht=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw ht.headerType=We.type,ht}if(We.procType&&We.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var ft=a.util.createBuffer(We.body);be===null&&(be=a.asn1.fromDer(ft.bytes(),!1));var Pe=a.util.createBuffer();A(Pe,3,ft),Z.putBuffer(Pe)}re=a.pki.certificateFromAsn1(be),W?Q.session.clientCertificate=re:Q.session.serverCertificate=re}catch(Mt){return Q.error(Q,{message:"Could not send certificate list.",cause:Mt,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate}})}var pt=3+Z.length(),Ye=a.util.createBuffer();return Ye.putByte(p.HandshakeType.certificate),Ye.putInt24(pt),A(Ye,3,Z),Ye},p.createClientKeyExchange=function(Q){var W=a.util.createBuffer();W.putByte(Q.session.clientHelloVersion.major),W.putByte(Q.session.clientHelloVersion.minor),W.putBytes(a.random.getBytes(46));var re=Q.session.sp;re.pre_master_secret=W.getBytes();var O=Q.session.serverCertificate.publicKey;W=O.encrypt(re.pre_master_secret);var Z=W.length+2,be=a.util.createBuffer();return be.putByte(p.HandshakeType.client_key_exchange),be.putInt24(Z),be.putInt16(W.length),be.putBytes(W),be},p.createServerKeyExchange=function(Q){var W=a.util.createBuffer();return W},p.getClientSignature=function(Q,W){var re=a.util.createBuffer();re.putBuffer(Q.session.md5.digest()),re.putBuffer(Q.session.sha1.digest()),re=re.getBytes(),Q.getSignature=Q.getSignature||function(O,Z,be){var xe=null;if(O.getPrivateKey)try{xe=O.getPrivateKey(O,O.session.clientCertificate),xe=a.pki.privateKeyFromPem(xe)}catch(We){O.error(O,{message:"Could not get private key.",cause:We,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}})}xe===null?O.error(O,{message:"No private key set.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}):Z=xe.sign(Z,null),be(O,Z)},Q.getSignature(Q,re,W)},p.createCertificateVerify=function(Q,W){var re=W.length+2,O=a.util.createBuffer();return O.putByte(p.HandshakeType.certificate_verify),O.putInt24(re),O.putInt16(W.length),O.putBytes(W),O},p.createCertificateRequest=function(Q){var W=a.util.createBuffer();W.putByte(1);var re=a.util.createBuffer();for(var O in Q.caStore.certs){var Z=Q.caStore.certs[O],be=a.pki.distinguishedNameToAsn1(Z.subject),xe=a.asn1.toDer(be);re.putInt16(xe.length()),re.putBuffer(xe)}var We=1+W.length()+2+re.length(),ht=a.util.createBuffer();return ht.putByte(p.HandshakeType.certificate_request),ht.putInt24(We),A(ht,1,W),A(ht,2,re),ht},p.createServerHelloDone=function(Q){var W=a.util.createBuffer();return W.putByte(p.HandshakeType.server_hello_done),W.putInt24(0),W},p.createChangeCipherSpec=function(){var Q=a.util.createBuffer();return Q.putByte(1),Q},p.createFinished=function(Q){var W=a.util.createBuffer();W.putBuffer(Q.session.md5.digest()),W.putBuffer(Q.session.sha1.digest());var re=Q.entity===p.ConnectionEnd.client,O=Q.session.sp,Z=12,be=r,xe=re?"client finished":"server finished";W=be(O.master_secret,xe,W.getBytes(),Z);var We=a.util.createBuffer();return We.putByte(p.HandshakeType.finished),We.putInt24(W.length()),We.putBuffer(W),We},p.createHeartbeat=function(Q,W,re){typeof re>"u"&&(re=W.length);var O=a.util.createBuffer();O.putByte(Q),O.putInt16(re),O.putBytes(W);var Z=O.length(),be=Math.max(16,Z-re-3);return O.putBytes(a.random.getBytes(be)),O},p.queue=function(Q,W){if(W&&!(W.fragment.length()===0&&(W.type===p.ContentType.handshake||W.type===p.ContentType.alert||W.type===p.ContentType.change_cipher_spec))){if(W.type===p.ContentType.handshake){var re=W.fragment.bytes();Q.session.md5.update(re),Q.session.sha1.update(re),re=null}var O;if(W.fragment.length()<=p.MaxFragment)O=[W];else{O=[];for(var Z=W.fragment.bytes();Z.length>p.MaxFragment;)O.push(p.createRecord(Q,{type:W.type,data:a.util.createBuffer(Z.slice(0,p.MaxFragment))})),Z=Z.slice(p.MaxFragment);Z.length>0&&O.push(p.createRecord(Q,{type:W.type,data:a.util.createBuffer(Z)}))}for(var be=0;be<O.length&&!Q.fail;++be){var xe=O[be],We=Q.state.current.write;We.update(Q,xe)&&Q.records.push(xe)}}},p.flush=function(Q){for(var W=0;W<Q.records.length;++W){var re=Q.records[W];Q.tlsData.putByte(re.type),Q.tlsData.putByte(re.version.major),Q.tlsData.putByte(re.version.minor),Q.tlsData.putInt16(re.fragment.length()),Q.tlsData.putBuffer(Q.records[W].fragment)}return Q.records=[],Q.tlsDataReady(Q)};var Ne=function(Q){switch(Q){case!0:return!0;case a.pki.certificateError.bad_certificate:return p.Alert.Description.bad_certificate;case a.pki.certificateError.unsupported_certificate:return p.Alert.Description.unsupported_certificate;case a.pki.certificateError.certificate_revoked:return p.Alert.Description.certificate_revoked;case a.pki.certificateError.certificate_expired:return p.Alert.Description.certificate_expired;case a.pki.certificateError.certificate_unknown:return p.Alert.Description.certificate_unknown;case a.pki.certificateError.unknown_ca:return p.Alert.Description.unknown_ca;default:return p.Alert.Description.bad_certificate}},bt=function(Q){switch(Q){case!0:return!0;case p.Alert.Description.bad_certificate:return a.pki.certificateError.bad_certificate;case p.Alert.Description.unsupported_certificate:return a.pki.certificateError.unsupported_certificate;case p.Alert.Description.certificate_revoked:return a.pki.certificateError.certificate_revoked;case p.Alert.Description.certificate_expired:return a.pki.certificateError.certificate_expired;case p.Alert.Description.certificate_unknown:return a.pki.certificateError.certificate_unknown;case p.Alert.Description.unknown_ca:return a.pki.certificateError.unknown_ca;default:return a.pki.certificateError.bad_certificate}};p.verifyCertificateChain=function(Q,W){try{var re={};for(var O in Q.verifyOptions)re[O]=Q.verifyOptions[O];re.verify=function(be,xe,We){var ht=Ne(be),ft=Q.verify(Q,be,xe,We);if(ft!==!0){if(typeof ft=="object"&&!a.util.isArray(ft)){var Pe=new Error("The application rejected the certificate.");throw Pe.send=!0,Pe.alert={level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate},ft.message&&(Pe.message=ft.message),ft.alert&&(Pe.alert.description=ft.alert),Pe}ft!==be&&(ft=bt(ft))}return ft},a.pki.verifyCertificateChain(Q.caStore,W,re)}catch(be){var Z=be;(typeof Z!="object"||a.util.isArray(Z))&&(Z={send:!0,alert:{level:p.Alert.Level.fatal,description:Ne(be)}}),"send"in Z||(Z.send=!0),"alert"in Z||(Z.alert={level:p.Alert.Level.fatal,description:Ne(Z.error)}),Q.error(Q,Z)}return!Q.fail},p.createSessionCache=function(Q,W){var re=null;if(Q&&Q.getSession&&Q.setSession&&Q.order)re=Q;else{re={},re.cache=Q||{},re.capacity=Math.max(W||100,1),re.order=[];for(var O in Q)re.order.length<=W?re.order.push(O):delete Q[O];re.getSession=function(Z){var be=null,xe=null;if(Z?xe=a.util.bytesToHex(Z):re.order.length>0&&(xe=re.order[0]),xe!==null&&xe in re.cache){be=re.cache[xe],delete re.cache[xe];for(var We in re.order)if(re.order[We]===xe){re.order.splice(We,1);break}}return be},re.setSession=function(Z,be){if(re.order.length===re.capacity){var xe=re.order.shift();delete re.cache[xe]}var xe=a.util.bytesToHex(Z);re.order.push(xe),re.cache[xe]=be}}return re},p.createConnection=function(Q){var W=null;Q.caStore?a.util.isArray(Q.caStore)?W=a.pki.createCaStore(Q.caStore):W=Q.caStore:W=a.pki.createCaStore();var re=Q.cipherSuites||null;if(re===null){re=[];for(var O in p.CipherSuites)re.push(p.CipherSuites[O])}var Z=Q.server?p.ConnectionEnd.server:p.ConnectionEnd.client,be=Q.sessionCache?p.createSessionCache(Q.sessionCache):null,xe={version:{major:p.Version.major,minor:p.Version.minor},entity:Z,sessionId:Q.sessionId,caStore:W,sessionCache:be,cipherSuites:re,connected:Q.connected,virtualHost:Q.virtualHost||null,verifyClient:Q.verifyClient||!1,verify:Q.verify||function(Pe,pt,Ye,Mt){return pt},verifyOptions:Q.verifyOptions||{},getCertificate:Q.getCertificate||null,getPrivateKey:Q.getPrivateKey||null,getSignature:Q.getSignature||null,input:a.util.createBuffer(),tlsData:a.util.createBuffer(),data:a.util.createBuffer(),tlsDataReady:Q.tlsDataReady,dataReady:Q.dataReady,heartbeatReceived:Q.heartbeatReceived,closed:Q.closed,error:function(Pe,pt){pt.origin=pt.origin||(Pe.entity===p.ConnectionEnd.client?"client":"server"),pt.send&&(p.queue(Pe,p.createAlert(Pe,pt.alert)),p.flush(Pe));var Ye=pt.fatal!==!1;Ye&&(Pe.fail=!0),Q.error(Pe,pt),Ye&&Pe.close(!1)},deflate:Q.deflate||null,inflate:Q.inflate||null};xe.reset=function(Pe){xe.version={major:p.Version.major,minor:p.Version.minor},xe.record=null,xe.session=null,xe.peerCertificate=null,xe.state={pending:null,current:null},xe.expect=xe.entity===p.ConnectionEnd.client?E:T,xe.fragmented=null,xe.records=[],xe.open=!1,xe.handshakes=0,xe.handshaking=!1,xe.isConnected=!1,xe.fail=!(Pe||typeof Pe>"u"),xe.input.clear(),xe.tlsData.clear(),xe.data.clear(),xe.state.current=p.createConnectionState(xe)},xe.reset();var We=function(Pe,pt){var Ye=pt.type-p.ContentType.change_cipher_spec,Mt=Ae[Pe.entity][Pe.expect];Ye in Mt?Mt[Ye](Pe,pt):p.handleUnexpected(Pe,pt)},ht=function(Pe){var pt=0,Ye=Pe.input,Mt=Ye.length();if(Mt<5)pt=5-Mt;else{Pe.record={type:Ye.getByte(),version:{major:Ye.getByte(),minor:Ye.getByte()},length:Ye.getInt16(),fragment:a.util.createBuffer(),ready:!1};var Et=Pe.record.version.major===Pe.version.major;Et&&Pe.session&&Pe.session.version&&(Et=Pe.record.version.minor===Pe.version.minor),Et||Pe.error(Pe,{message:"Incompatible TLS version.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}})}return pt},ft=function(Pe){var pt=0,Ye=Pe.input,Mt=Ye.length();if(Mt<Pe.record.length)pt=Pe.record.length-Mt;else{Pe.record.fragment.putBytes(Ye.getBytes(Pe.record.length)),Ye.compact();var Et=Pe.state.current.read;Et.update(Pe,Pe.record)&&(Pe.fragmented!==null&&(Pe.fragmented.type===Pe.record.type?(Pe.fragmented.fragment.putBuffer(Pe.record.fragment),Pe.record=Pe.fragmented):Pe.error(Pe,{message:"Invalid fragmented record.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unexpected_message}})),Pe.record.ready=!0)}return pt};return xe.handshake=function(Pe){if(xe.entity!==p.ConnectionEnd.client)xe.error(xe,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(xe.handshaking)xe.error(xe,{message:"Handshake already in progress.",fatal:!1});else{xe.fail&&!xe.open&&xe.handshakes===0&&(xe.fail=!1),xe.handshaking=!0,Pe=Pe||"";var pt=null;Pe.length>0&&(xe.sessionCache&&(pt=xe.sessionCache.getSession(Pe)),pt===null&&(Pe="")),Pe.length===0&&xe.sessionCache&&(pt=xe.sessionCache.getSession(),pt!==null&&(Pe=pt.id)),xe.session={id:Pe,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:a.md.md5.create(),sha1:a.md.sha1.create()},pt&&(xe.version=pt.version,xe.session.sp=pt.sp),xe.session.sp.client_random=p.createRandom().getBytes(),xe.open=!0,p.queue(xe,p.createRecord(xe,{type:p.ContentType.handshake,data:p.createClientHello(xe)})),p.flush(xe)}},xe.process=function(Pe){var pt=0;return Pe&&xe.input.putBytes(Pe),xe.fail||(xe.record!==null&&xe.record.ready&&xe.record.fragment.isEmpty()&&(xe.record=null),xe.record===null&&(pt=ht(xe)),!xe.fail&&xe.record!==null&&!xe.record.ready&&(pt=ft(xe)),!xe.fail&&xe.record!==null&&xe.record.ready&&We(xe,xe.record)),pt},xe.prepare=function(Pe){return p.queue(xe,p.createRecord(xe,{type:p.ContentType.application_data,data:a.util.createBuffer(Pe)})),p.flush(xe)},xe.prepareHeartbeatRequest=function(Pe,pt){return Pe instanceof a.util.ByteBuffer&&(Pe=Pe.bytes()),typeof pt>"u"&&(pt=Pe.length),xe.expectedHeartbeatPayload=Pe,p.queue(xe,p.createRecord(xe,{type:p.ContentType.heartbeat,data:p.createHeartbeat(p.HeartbeatMessageType.heartbeat_request,Pe,pt)})),p.flush(xe)},xe.close=function(Pe){if(!xe.fail&&xe.sessionCache&&xe.session){var pt={id:xe.session.id,version:xe.session.version,sp:xe.session.sp};pt.sp.keys=null,xe.sessionCache.setSession(pt.id,pt)}xe.open&&(xe.open=!1,xe.input.clear(),(xe.isConnected||xe.handshaking)&&(xe.isConnected=xe.handshaking=!1,p.queue(xe,p.createAlert(xe,{level:p.Alert.Level.warning,description:p.Alert.Description.close_notify})),p.flush(xe)),xe.closed(xe)),xe.reset(Pe)},xe},$d=a.tls=a.tls||{};for(var gt in p)typeof p[gt]!="function"&&(a.tls[gt]=p[gt]);return a.tls.prf_tls1=r,a.tls.hmac_sha1=s,a.tls.createSessionCache=p.createSessionCache,a.tls.createConnection=p.createConnection,$d}var fm;function Gb(){if(fm)return Nd.exports;fm=1;var a=Dn();Ro(),z2();var r=Nd.exports=a.tls;r.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(E){E.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,E.cipher_type=r.CipherType.block,E.enc_key_length=16,E.block_length=16,E.fixed_iv_length=16,E.record_iv_length=16,E.mac_algorithm=r.MACAlgorithm.hmac_sha1,E.mac_length=20,E.mac_key_length=20},initConnectionState:s},r.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(E){E.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,E.cipher_type=r.CipherType.block,E.enc_key_length=32,E.block_length=16,E.fixed_iv_length=16,E.record_iv_length=16,E.mac_algorithm=r.MACAlgorithm.hmac_sha1,E.mac_length=20,E.mac_key_length=20},initConnectionState:s};function s(E,C,D){var R=C.entity===a.tls.ConnectionEnd.client;E.read.cipherState={init:!1,cipher:a.cipher.createDecipher("AES-CBC",R?D.keys.server_write_key:D.keys.client_write_key),iv:R?D.keys.server_write_IV:D.keys.client_write_IV},E.write.cipherState={init:!1,cipher:a.cipher.createCipher("AES-CBC",R?D.keys.client_write_key:D.keys.server_write_key),iv:R?D.keys.client_write_IV:D.keys.server_write_IV},E.read.cipherFunction=A,E.write.cipherFunction=d,E.read.macLength=E.write.macLength=D.mac_length,E.read.macFunction=E.write.macFunction=r.hmac_sha1}function d(E,C){var D=!1,R=C.macFunction(C.macKey,C.sequenceNumber,E);E.fragment.putBytes(R),C.updateSequenceNumber();var L;E.version.minor===r.Versions.TLS_1_0.minor?L=C.cipherState.init?null:C.cipherState.iv:L=a.random.getBytesSync(16),C.cipherState.init=!0;var _=C.cipherState.cipher;return _.start({iv:L}),E.version.minor>=r.Versions.TLS_1_1.minor&&_.output.putBytes(L),_.update(E.fragment),_.finish(v)&&(E.fragment=_.output,E.length=E.fragment.length(),D=!0),D}function v(E,C,D){if(!D){var R=E-C.length()%E;C.fillWithByte(R-1,R)}return!0}function m(E,C,D){var R=!0;if(D){for(var L=C.length(),_=C.last(),V=L-1-_;V<L-1;++V)R=R&&C.at(V)==_;R&&C.truncate(_+1)}return R}function A(E,C){var D=!1,R;E.version.minor===r.Versions.TLS_1_0.minor?R=C.cipherState.init?null:C.cipherState.iv:R=E.fragment.getBytes(16),C.cipherState.init=!0;var L=C.cipherState.cipher;L.start({iv:R}),L.update(E.fragment),D=L.finish(m);var _=C.macLength,V=a.random.getBytesSync(_),P=L.output.length();P>=_?(E.fragment=L.output.getBytes(P-_),V=L.output.getBytes(_)):E.fragment=L.output.getBytes(),E.fragment=a.util.createBuffer(E.fragment),E.length=E.fragment.length();var H=C.macFunction(C.macKey,C.sequenceNumber,E);return C.updateSequenceNumber(),D=p(C.macKey,V,H)&&D,D}function p(E,C,D){var R=a.hmac.create();return R.start("SHA1",E),R.update(C),C=R.digest().getBytes(),R.start(null,null),R.update(D),D=R.digest().getBytes(),C===D}return Nd.exports}var eh={exports:{}},dm;function Y2(){if(dm)return eh.exports;dm=1;var a=Dn();ys(),Zn();var r=eh.exports=a.sha512=a.sha512||{};a.md.sha512=a.md.algorithms.sha512=r;var s=a.sha384=a.sha512.sha384=a.sha512.sha384||{};s.create=function(){return r.create("SHA-384")},a.md.sha384=a.md.algorithms.sha384=s,a.sha512.sha256=a.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},a.md["sha512/256"]=a.md.algorithms["sha512/256"]=a.sha512.sha256,a.sha512.sha224=a.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},a.md["sha512/224"]=a.md.algorithms["sha512/224"]=a.sha512.sha224,r.create=function(C){if(v||p(),typeof C>"u"&&(C="SHA-512"),!(C in A))throw new Error("Invalid SHA-512 algorithm: "+C);for(var D=A[C],R=null,L=a.util.createBuffer(),_=new Array(80),V=0;V<80;++V)_[V]=new Array(2);var P=64;switch(C){case"SHA-384":P=48;break;case"SHA-512/256":P=32;break;case"SHA-512/224":P=28;break}var H={algorithm:C.replace("-","").toLowerCase(),blockLength:128,digestLength:P,messageLength:0,fullMessageLength:null,messageLengthSize:16};return H.start=function(){H.messageLength=0,H.fullMessageLength=H.messageLength128=[];for(var T=H.messageLengthSize/4,F=0;F<T;++F)H.fullMessageLength.push(0);L=a.util.createBuffer(),R=new Array(D.length);for(var F=0;F<D.length;++F)R[F]=D[F].slice(0);return H},H.start(),H.update=function(T,F){F==="utf8"&&(T=a.util.encodeUtf8(T));var U=T.length;H.messageLength+=U,U=[U/4294967296>>>0,U>>>0];for(var K=H.fullMessageLength.length-1;K>=0;--K)H.fullMessageLength[K]+=U[1],U[1]=U[0]+(H.fullMessageLength[K]/4294967296>>>0),H.fullMessageLength[K]=H.fullMessageLength[K]>>>0,U[0]=U[1]/4294967296>>>0;return L.putBytes(T),E(R,_,L),(L.read>2048||L.length()===0)&&L.compact(),H},H.digest=function(){var T=a.util.createBuffer();T.putBytes(L.bytes());var F=H.fullMessageLength[H.fullMessageLength.length-1]+H.messageLengthSize,U=F&H.blockLength-1;T.putBytes(d.substr(0,H.blockLength-U));for(var K,X,M=H.fullMessageLength[0]*8,I=0;I<H.fullMessageLength.length-1;++I)K=H.fullMessageLength[I+1]*8,X=K/4294967296>>>0,M+=X,T.putInt32(M>>>0),M=K>>>0;T.putInt32(M);for(var w=new Array(R.length),I=0;I<R.length;++I)w[I]=R[I].slice(0);E(w,_,T);var j=a.util.createBuffer(),ae;C==="SHA-512"?ae=w.length:C==="SHA-384"?ae=w.length-2:ae=w.length-4;for(var I=0;I<ae;++I)j.putInt32(w[I][0]),(I!==ae-1||C!=="SHA-512/224")&&j.putInt32(w[I][1]);return j},H};var d=null,v=!1,m=null,A=null;function p(){d="",d+=a.util.fillString("\0",128),m=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],A={},A["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],A["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],A["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],A["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],v=!0}function E(C,D,R){for(var L,_,V,P,H,T,F,U,K,X,M,I,w,j,ae,de,ee,se,Ae,oe,he,ve,ke,Ke,Le,Ce,Te,Ze,De,et,Ne,bt,gt,Q,W,re=R.length();re>=128;){for(De=0;De<16;++De)D[De][0]=R.getInt32()>>>0,D[De][1]=R.getInt32()>>>0;for(;De<80;++De)bt=D[De-2],et=bt[0],Ne=bt[1],L=((et>>>19|Ne<<13)^(Ne>>>29|et<<3)^et>>>6)>>>0,_=((et<<13|Ne>>>19)^(Ne<<3|et>>>29)^(et<<26|Ne>>>6))>>>0,Q=D[De-15],et=Q[0],Ne=Q[1],V=((et>>>1|Ne<<31)^(et>>>8|Ne<<24)^et>>>7)>>>0,P=((et<<31|Ne>>>1)^(et<<24|Ne>>>8)^(et<<25|Ne>>>7))>>>0,gt=D[De-7],W=D[De-16],Ne=_+gt[1]+P+W[1],D[De][0]=L+gt[0]+V+W[0]+(Ne/4294967296>>>0)>>>0,D[De][1]=Ne>>>0;for(w=C[0][0],j=C[0][1],ae=C[1][0],de=C[1][1],ee=C[2][0],se=C[2][1],Ae=C[3][0],oe=C[3][1],he=C[4][0],ve=C[4][1],ke=C[5][0],Ke=C[5][1],Le=C[6][0],Ce=C[6][1],Te=C[7][0],Ze=C[7][1],De=0;De<80;++De)F=((he>>>14|ve<<18)^(he>>>18|ve<<14)^(ve>>>9|he<<23))>>>0,U=((he<<18|ve>>>14)^(he<<14|ve>>>18)^(ve<<23|he>>>9))>>>0,K=(Le^he&(ke^Le))>>>0,X=(Ce^ve&(Ke^Ce))>>>0,H=((w>>>28|j<<4)^(j>>>2|w<<30)^(j>>>7|w<<25))>>>0,T=((w<<4|j>>>28)^(j<<30|w>>>2)^(j<<25|w>>>7))>>>0,M=(w&ae|ee&(w^ae))>>>0,I=(j&de|se&(j^de))>>>0,Ne=Ze+U+X+m[De][1]+D[De][1],L=Te+F+K+m[De][0]+D[De][0]+(Ne/4294967296>>>0)>>>0,_=Ne>>>0,Ne=T+I,V=H+M+(Ne/4294967296>>>0)>>>0,P=Ne>>>0,Te=Le,Ze=Ce,Le=ke,Ce=Ke,ke=he,Ke=ve,Ne=oe+_,he=Ae+L+(Ne/4294967296>>>0)>>>0,ve=Ne>>>0,Ae=ee,oe=se,ee=ae,se=de,ae=w,de=j,Ne=_+P,w=L+V+(Ne/4294967296>>>0)>>>0,j=Ne>>>0;Ne=C[0][1]+j,C[0][0]=C[0][0]+w+(Ne/4294967296>>>0)>>>0,C[0][1]=Ne>>>0,Ne=C[1][1]+de,C[1][0]=C[1][0]+ae+(Ne/4294967296>>>0)>>>0,C[1][1]=Ne>>>0,Ne=C[2][1]+se,C[2][0]=C[2][0]+ee+(Ne/4294967296>>>0)>>>0,C[2][1]=Ne>>>0,Ne=C[3][1]+oe,C[3][0]=C[3][0]+Ae+(Ne/4294967296>>>0)>>>0,C[3][1]=Ne>>>0,Ne=C[4][1]+ve,C[4][0]=C[4][0]+he+(Ne/4294967296>>>0)>>>0,C[4][1]=Ne>>>0,Ne=C[5][1]+Ke,C[5][0]=C[5][0]+ke+(Ne/4294967296>>>0)>>>0,C[5][1]=Ne>>>0,Ne=C[6][1]+Ce,C[6][0]=C[6][0]+Le+(Ne/4294967296>>>0)>>>0,C[6][1]=Ne>>>0,Ne=C[7][1]+Ze,C[7][0]=C[7][0]+Te+(Ne/4294967296>>>0)>>>0,C[7][1]=Ne>>>0,re-=128}}return eh.exports}var Pc={},hm;function jb(){if(hm)return Pc;hm=1;var a=Dn();Fi();var r=a.asn1;return Pc.privateKeyValidator={name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Pc.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},Pc}var th,gm;function Kb(){if(gm)return th;gm=1;var a=Dn();gf(),Ai(),Y2(),Zn();var r=jb(),s=r.publicKeyValidator,d=r.privateKeyValidator;if(typeof v>"u")var v=a.jsbn.BigInteger;var m=a.util.ByteBuffer,A=typeof Buffer>"u"?Uint8Array:Buffer;a.pki=a.pki||{},th=a.pki.ed25519=a.ed25519=a.ed25519||{};var p=a.ed25519;p.constants={},p.constants.PUBLIC_KEY_BYTE_LENGTH=32,p.constants.PRIVATE_KEY_BYTE_LENGTH=64,p.constants.SEED_BYTE_LENGTH=32,p.constants.SIGN_BYTE_LENGTH=64,p.constants.HASH_BYTE_LENGTH=64,p.generateKeyPair=function(Q){Q=Q||{};var W=Q.seed;if(W===void 0)W=a.random.getBytesSync(p.constants.SEED_BYTE_LENGTH);else if(typeof W=="string"){if(W.length!==p.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+p.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(W instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');W=E({message:W,encoding:"binary"});for(var re=new A(p.constants.PUBLIC_KEY_BYTE_LENGTH),O=new A(p.constants.PRIVATE_KEY_BYTE_LENGTH),Z=0;Z<32;++Z)O[Z]=W[Z];return F(re,O),{publicKey:re,privateKey:O}},p.privateKeyFromAsn1=function(Q){var W={},re=[],O=a.asn1.validate(Q,d,W,re);if(!O){var Z=new Error("Invalid Key.");throw Z.errors=re,Z}var be=a.asn1.derToOid(W.privateKeyOid),xe=a.oids.EdDSA25519;if(be!==xe)throw new Error('Invalid OID "'+be+'"; OID must be "'+xe+'".');var We=W.privateKey,ht=E({message:a.asn1.fromDer(We).value,encoding:"binary"});return{privateKeyBytes:ht}},p.publicKeyFromAsn1=function(Q){var W={},re=[],O=a.asn1.validate(Q,s,W,re);if(!O){var Z=new Error("Invalid Key.");throw Z.errors=re,Z}var be=a.asn1.derToOid(W.publicKeyOid),xe=a.oids.EdDSA25519;if(be!==xe)throw new Error('Invalid OID "'+be+'"; OID must be "'+xe+'".');var We=W.ed25519PublicKey;if(We.length!==p.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return E({message:We,encoding:"binary"})},p.publicKeyFromPrivateKey=function(Q){Q=Q||{};var W=E({message:Q.privateKey,encoding:"binary"});if(W.length!==p.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+p.constants.PRIVATE_KEY_BYTE_LENGTH);for(var re=new A(p.constants.PUBLIC_KEY_BYTE_LENGTH),O=0;O<re.length;++O)re[O]=W[32+O];return re},p.sign=function(Q){Q=Q||{};var W=E(Q),re=E({message:Q.privateKey,encoding:"binary"});if(re.length===p.constants.SEED_BYTE_LENGTH){var O=p.generateKeyPair({seed:re});re=O.privateKey}else if(re.length!==p.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+p.constants.SEED_BYTE_LENGTH+" or "+p.constants.PRIVATE_KEY_BYTE_LENGTH);var Z=new A(p.constants.SIGN_BYTE_LENGTH+W.length);U(Z,W,W.length,re);for(var be=new A(p.constants.SIGN_BYTE_LENGTH),xe=0;xe<be.length;++xe)be[xe]=Z[xe];return be},p.verify=function(Q){Q=Q||{};var W=E(Q);if(Q.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var re=E({message:Q.signature,encoding:"binary"});if(re.length!==p.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+p.constants.SIGN_BYTE_LENGTH);var O=E({message:Q.publicKey,encoding:"binary"});if(O.length!==p.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+p.constants.PUBLIC_KEY_BYTE_LENGTH);var Z=new A(p.constants.SIGN_BYTE_LENGTH+W.length),be=new A(p.constants.SIGN_BYTE_LENGTH+W.length),xe;for(xe=0;xe<p.constants.SIGN_BYTE_LENGTH;++xe)Z[xe]=re[xe];for(xe=0;xe<W.length;++xe)Z[xe+p.constants.SIGN_BYTE_LENGTH]=W[xe];return K(be,Z,Z.length,O)>=0};function E(Q){var W=Q.message;if(W instanceof Uint8Array||W instanceof A)return W;var re=Q.encoding;if(W===void 0)if(Q.md)W=Q.md.digest().getBytes(),re="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof W=="string"&&!re)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof W=="string"){if(typeof Buffer<"u")return Buffer.from(W,re);W=new m(W,re)}else if(!(W instanceof m))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var O=new A(W.length()),Z=0;Z<O.length;++Z)O[Z]=W.at(Z);return O}var C=De(),D=De([1]),R=De([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),L=De([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=De([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),V=De([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),P=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),H=De([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(Q,W){var re=a.md.sha512.create(),O=new m(Q);re.update(O.getBytes(W),"binary");var Z=re.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(Z,"binary");for(var be=new A(p.constants.HASH_BYTE_LENGTH),xe=0;xe<64;++xe)be[xe]=Z.charCodeAt(xe);return be}function F(Q,W){var re=[De(),De(),De(),De()],O,Z=T(W,32);for(Z[0]&=248,Z[31]&=127,Z[31]|=64,Ke(re,Z),j(Q,re),O=0;O<32;++O)W[O+32]=Q[O];return 0}function U(Q,W,re,O){var Z,be,xe=new Float64Array(64),We=[De(),De(),De(),De()],ht=T(O,32);ht[0]&=248,ht[31]&=127,ht[31]|=64;var ft=re+64;for(Z=0;Z<re;++Z)Q[64+Z]=W[Z];for(Z=0;Z<32;++Z)Q[32+Z]=ht[32+Z];var Pe=T(Q.subarray(32),re+32);for(M(Pe),Ke(We,Pe),j(Q,We),Z=32;Z<64;++Z)Q[Z]=O[Z];var pt=T(Q,re+64);for(M(pt),Z=32;Z<64;++Z)xe[Z]=0;for(Z=0;Z<32;++Z)xe[Z]=Pe[Z];for(Z=0;Z<32;++Z)for(be=0;be<32;be++)xe[Z+be]+=pt[Z]*ht[be];return X(Q.subarray(32),xe),ft}function K(Q,W,re,O){var Z,be,xe=new A(32),We=[De(),De(),De(),De()],ht=[De(),De(),De(),De()];if(be=-1,re<64||de(ht,O))return-1;for(Z=0;Z<re;++Z)Q[Z]=W[Z];for(Z=0;Z<32;++Z)Q[Z+32]=O[Z];var ft=T(Q,re);if(M(ft),ke(We,ht,ft),Ke(ht,W.subarray(32)),I(We,ht),j(xe,We),re-=64,oe(W,0,xe,0)){for(Z=0;Z<re;++Z)Q[Z]=0;return-1}for(Z=0;Z<re;++Z)Q[Z]=W[Z+64];return be=re,be}function X(Q,W){var re,O,Z,be;for(O=63;O>=32;--O){for(re=0,Z=O-32,be=O-12;Z<be;++Z)W[Z]+=re-16*W[O]*P[Z-(O-32)],re=W[Z]+128>>8,W[Z]-=re*256;W[Z]+=re,W[O]=0}for(re=0,Z=0;Z<32;++Z)W[Z]+=re-(W[31]>>4)*P[Z],re=W[Z]>>8,W[Z]&=255;for(Z=0;Z<32;++Z)W[Z]-=re*P[Z];for(O=0;O<32;++O)W[O+1]+=W[O]>>8,Q[O]=W[O]&255}function M(Q){for(var W=new Float64Array(64),re=0;re<64;++re)W[re]=Q[re],Q[re]=0;X(Q,W)}function I(Q,W){var re=De(),O=De(),Z=De(),be=De(),xe=De(),We=De(),ht=De(),ft=De(),Pe=De();Ne(re,Q[1],Q[0]),Ne(Pe,W[1],W[0]),gt(re,re,Pe),et(O,Q[0],Q[1]),et(Pe,W[0],W[1]),gt(O,O,Pe),gt(Z,Q[3],W[3]),gt(Z,Z,L),gt(be,Q[2],W[2]),et(be,be,be),Ne(xe,O,re),Ne(We,be,Z),et(ht,be,Z),et(ft,O,re),gt(Q[0],xe,We),gt(Q[1],ft,ht),gt(Q[2],ht,We),gt(Q[3],xe,ft)}function w(Q,W,re){for(var O=0;O<4;++O)Ze(Q[O],W[O],re)}function j(Q,W){var re=De(),O=De(),Z=De();Ce(Z,W[2]),gt(re,W[0],Z),gt(O,W[1],Z),ae(Q,O),Q[31]^=ve(re)<<7}function ae(Q,W){var re,O,Z,be=De(),xe=De();for(re=0;re<16;++re)xe[re]=W[re];for(Te(xe),Te(xe),Te(xe),O=0;O<2;++O){for(be[0]=xe[0]-65517,re=1;re<15;++re)be[re]=xe[re]-65535-(be[re-1]>>16&1),be[re-1]&=65535;be[15]=xe[15]-32767-(be[14]>>16&1),Z=be[15]>>16&1,be[14]&=65535,Ze(xe,be,1-Z)}for(re=0;re<16;re++)Q[2*re]=xe[re]&255,Q[2*re+1]=xe[re]>>8}function de(Q,W){var re=De(),O=De(),Z=De(),be=De(),xe=De(),We=De(),ht=De();return Le(Q[2],D),ee(Q[1],W),bt(Z,Q[1]),gt(be,Z,R),Ne(Z,Z,Q[2]),et(be,Q[2],be),bt(xe,be),bt(We,xe),gt(ht,We,xe),gt(re,ht,Z),gt(re,re,be),se(re,re),gt(re,re,Z),gt(re,re,be),gt(re,re,be),gt(Q[0],re,be),bt(O,Q[0]),gt(O,O,be),Ae(O,Z)&&gt(Q[0],Q[0],H),bt(O,Q[0]),gt(O,O,be),Ae(O,Z)?-1:(ve(Q[0])===W[31]>>7&&Ne(Q[0],C,Q[0]),gt(Q[3],Q[0],Q[1]),0)}function ee(Q,W){var re;for(re=0;re<16;++re)Q[re]=W[2*re]+(W[2*re+1]<<8);Q[15]&=32767}function se(Q,W){var re=De(),O;for(O=0;O<16;++O)re[O]=W[O];for(O=250;O>=0;--O)bt(re,re),O!==1&&gt(re,re,W);for(O=0;O<16;++O)Q[O]=re[O]}function Ae(Q,W){var re=new A(32),O=new A(32);return ae(re,Q),ae(O,W),oe(re,0,O,0)}function oe(Q,W,re,O){return he(Q,W,re,O,32)}function he(Q,W,re,O,Z){var be,xe=0;for(be=0;be<Z;++be)xe|=Q[W+be]^re[O+be];return(1&xe-1>>>8)-1}function ve(Q){var W=new A(32);return ae(W,Q),W[0]&1}function ke(Q,W,re){var O,Z;for(Le(Q[0],C),Le(Q[1],D),Le(Q[2],D),Le(Q[3],C),Z=255;Z>=0;--Z)O=re[Z/8|0]>>(Z&7)&1,w(Q,W,O),I(W,Q),I(Q,Q),w(Q,W,O)}function Ke(Q,W){var re=[De(),De(),De(),De()];Le(re[0],_),Le(re[1],V),Le(re[2],D),gt(re[3],_,V),ke(Q,re,W)}function Le(Q,W){var re;for(re=0;re<16;re++)Q[re]=W[re]|0}function Ce(Q,W){var re=De(),O;for(O=0;O<16;++O)re[O]=W[O];for(O=253;O>=0;--O)bt(re,re),O!==2&&O!==4&&gt(re,re,W);for(O=0;O<16;++O)Q[O]=re[O]}function Te(Q){var W,re,O=1;for(W=0;W<16;++W)re=Q[W]+O+65535,O=Math.floor(re/65536),Q[W]=re-O*65536;Q[0]+=O-1+37*(O-1)}function Ze(Q,W,re){for(var O,Z=~(re-1),be=0;be<16;++be)O=Z&(Q[be]^W[be]),Q[be]^=O,W[be]^=O}function De(Q){var W,re=new Float64Array(16);if(Q)for(W=0;W<Q.length;++W)re[W]=Q[W];return re}function et(Q,W,re){for(var O=0;O<16;++O)Q[O]=W[O]+re[O]}function Ne(Q,W,re){for(var O=0;O<16;++O)Q[O]=W[O]-re[O]}function bt(Q,W){gt(Q,W,W)}function gt(Q,W,re){var O,Z,be=0,xe=0,We=0,ht=0,ft=0,Pe=0,pt=0,Ye=0,Mt=0,Et=0,Kt=0,bn=0,jt=0,on=0,rn=0,qt=0,En=0,pn=0,Bn=0,Ht=0,rt=0,Vt=0,we=0,Se=0,Je=0,st=0,$e=0,Dt=0,un=0,lt=0,an=0,It=re[0],Qt=re[1],St=re[2],Rt=re[3],Lt=re[4],Ft=re[5],mn=re[6],Tt=re[7],Zt=re[8],yn=re[9],In=re[10],fn=re[11],dt=re[12],Sn=re[13],cn=re[14],$t=re[15];O=W[0],be+=O*It,xe+=O*Qt,We+=O*St,ht+=O*Rt,ft+=O*Lt,Pe+=O*Ft,pt+=O*mn,Ye+=O*Tt,Mt+=O*Zt,Et+=O*yn,Kt+=O*In,bn+=O*fn,jt+=O*dt,on+=O*Sn,rn+=O*cn,qt+=O*$t,O=W[1],xe+=O*It,We+=O*Qt,ht+=O*St,ft+=O*Rt,Pe+=O*Lt,pt+=O*Ft,Ye+=O*mn,Mt+=O*Tt,Et+=O*Zt,Kt+=O*yn,bn+=O*In,jt+=O*fn,on+=O*dt,rn+=O*Sn,qt+=O*cn,En+=O*$t,O=W[2],We+=O*It,ht+=O*Qt,ft+=O*St,Pe+=O*Rt,pt+=O*Lt,Ye+=O*Ft,Mt+=O*mn,Et+=O*Tt,Kt+=O*Zt,bn+=O*yn,jt+=O*In,on+=O*fn,rn+=O*dt,qt+=O*Sn,En+=O*cn,pn+=O*$t,O=W[3],ht+=O*It,ft+=O*Qt,Pe+=O*St,pt+=O*Rt,Ye+=O*Lt,Mt+=O*Ft,Et+=O*mn,Kt+=O*Tt,bn+=O*Zt,jt+=O*yn,on+=O*In,rn+=O*fn,qt+=O*dt,En+=O*Sn,pn+=O*cn,Bn+=O*$t,O=W[4],ft+=O*It,Pe+=O*Qt,pt+=O*St,Ye+=O*Rt,Mt+=O*Lt,Et+=O*Ft,Kt+=O*mn,bn+=O*Tt,jt+=O*Zt,on+=O*yn,rn+=O*In,qt+=O*fn,En+=O*dt,pn+=O*Sn,Bn+=O*cn,Ht+=O*$t,O=W[5],Pe+=O*It,pt+=O*Qt,Ye+=O*St,Mt+=O*Rt,Et+=O*Lt,Kt+=O*Ft,bn+=O*mn,jt+=O*Tt,on+=O*Zt,rn+=O*yn,qt+=O*In,En+=O*fn,pn+=O*dt,Bn+=O*Sn,Ht+=O*cn,rt+=O*$t,O=W[6],pt+=O*It,Ye+=O*Qt,Mt+=O*St,Et+=O*Rt,Kt+=O*Lt,bn+=O*Ft,jt+=O*mn,on+=O*Tt,rn+=O*Zt,qt+=O*yn,En+=O*In,pn+=O*fn,Bn+=O*dt,Ht+=O*Sn,rt+=O*cn,Vt+=O*$t,O=W[7],Ye+=O*It,Mt+=O*Qt,Et+=O*St,Kt+=O*Rt,bn+=O*Lt,jt+=O*Ft,on+=O*mn,rn+=O*Tt,qt+=O*Zt,En+=O*yn,pn+=O*In,Bn+=O*fn,Ht+=O*dt,rt+=O*Sn,Vt+=O*cn,we+=O*$t,O=W[8],Mt+=O*It,Et+=O*Qt,Kt+=O*St,bn+=O*Rt,jt+=O*Lt,on+=O*Ft,rn+=O*mn,qt+=O*Tt,En+=O*Zt,pn+=O*yn,Bn+=O*In,Ht+=O*fn,rt+=O*dt,Vt+=O*Sn,we+=O*cn,Se+=O*$t,O=W[9],Et+=O*It,Kt+=O*Qt,bn+=O*St,jt+=O*Rt,on+=O*Lt,rn+=O*Ft,qt+=O*mn,En+=O*Tt,pn+=O*Zt,Bn+=O*yn,Ht+=O*In,rt+=O*fn,Vt+=O*dt,we+=O*Sn,Se+=O*cn,Je+=O*$t,O=W[10],Kt+=O*It,bn+=O*Qt,jt+=O*St,on+=O*Rt,rn+=O*Lt,qt+=O*Ft,En+=O*mn,pn+=O*Tt,Bn+=O*Zt,Ht+=O*yn,rt+=O*In,Vt+=O*fn,we+=O*dt,Se+=O*Sn,Je+=O*cn,st+=O*$t,O=W[11],bn+=O*It,jt+=O*Qt,on+=O*St,rn+=O*Rt,qt+=O*Lt,En+=O*Ft,pn+=O*mn,Bn+=O*Tt,Ht+=O*Zt,rt+=O*yn,Vt+=O*In,we+=O*fn,Se+=O*dt,Je+=O*Sn,st+=O*cn,$e+=O*$t,O=W[12],jt+=O*It,on+=O*Qt,rn+=O*St,qt+=O*Rt,En+=O*Lt,pn+=O*Ft,Bn+=O*mn,Ht+=O*Tt,rt+=O*Zt,Vt+=O*yn,we+=O*In,Se+=O*fn,Je+=O*dt,st+=O*Sn,$e+=O*cn,Dt+=O*$t,O=W[13],on+=O*It,rn+=O*Qt,qt+=O*St,En+=O*Rt,pn+=O*Lt,Bn+=O*Ft,Ht+=O*mn,rt+=O*Tt,Vt+=O*Zt,we+=O*yn,Se+=O*In,Je+=O*fn,st+=O*dt,$e+=O*Sn,Dt+=O*cn,un+=O*$t,O=W[14],rn+=O*It,qt+=O*Qt,En+=O*St,pn+=O*Rt,Bn+=O*Lt,Ht+=O*Ft,rt+=O*mn,Vt+=O*Tt,we+=O*Zt,Se+=O*yn,Je+=O*In,st+=O*fn,$e+=O*dt,Dt+=O*Sn,un+=O*cn,lt+=O*$t,O=W[15],qt+=O*It,En+=O*Qt,pn+=O*St,Bn+=O*Rt,Ht+=O*Lt,rt+=O*Ft,Vt+=O*mn,we+=O*Tt,Se+=O*Zt,Je+=O*yn,st+=O*In,$e+=O*fn,Dt+=O*dt,un+=O*Sn,lt+=O*cn,an+=O*$t,be+=38*En,xe+=38*pn,We+=38*Bn,ht+=38*Ht,ft+=38*rt,Pe+=38*Vt,pt+=38*we,Ye+=38*Se,Mt+=38*Je,Et+=38*st,Kt+=38*$e,bn+=38*Dt,jt+=38*un,on+=38*lt,rn+=38*an,Z=1,O=be+Z+65535,Z=Math.floor(O/65536),be=O-Z*65536,O=xe+Z+65535,Z=Math.floor(O/65536),xe=O-Z*65536,O=We+Z+65535,Z=Math.floor(O/65536),We=O-Z*65536,O=ht+Z+65535,Z=Math.floor(O/65536),ht=O-Z*65536,O=ft+Z+65535,Z=Math.floor(O/65536),ft=O-Z*65536,O=Pe+Z+65535,Z=Math.floor(O/65536),Pe=O-Z*65536,O=pt+Z+65535,Z=Math.floor(O/65536),pt=O-Z*65536,O=Ye+Z+65535,Z=Math.floor(O/65536),Ye=O-Z*65536,O=Mt+Z+65535,Z=Math.floor(O/65536),Mt=O-Z*65536,O=Et+Z+65535,Z=Math.floor(O/65536),Et=O-Z*65536,O=Kt+Z+65535,Z=Math.floor(O/65536),Kt=O-Z*65536,O=bn+Z+65535,Z=Math.floor(O/65536),bn=O-Z*65536,O=jt+Z+65535,Z=Math.floor(O/65536),jt=O-Z*65536,O=on+Z+65535,Z=Math.floor(O/65536),on=O-Z*65536,O=rn+Z+65535,Z=Math.floor(O/65536),rn=O-Z*65536,O=qt+Z+65535,Z=Math.floor(O/65536),qt=O-Z*65536,be+=Z-1+37*(Z-1),Z=1,O=be+Z+65535,Z=Math.floor(O/65536),be=O-Z*65536,O=xe+Z+65535,Z=Math.floor(O/65536),xe=O-Z*65536,O=We+Z+65535,Z=Math.floor(O/65536),We=O-Z*65536,O=ht+Z+65535,Z=Math.floor(O/65536),ht=O-Z*65536,O=ft+Z+65535,Z=Math.floor(O/65536),ft=O-Z*65536,O=Pe+Z+65535,Z=Math.floor(O/65536),Pe=O-Z*65536,O=pt+Z+65535,Z=Math.floor(O/65536),pt=O-Z*65536,O=Ye+Z+65535,Z=Math.floor(O/65536),Ye=O-Z*65536,O=Mt+Z+65535,Z=Math.floor(O/65536),Mt=O-Z*65536,O=Et+Z+65535,Z=Math.floor(O/65536),Et=O-Z*65536,O=Kt+Z+65535,Z=Math.floor(O/65536),Kt=O-Z*65536,O=bn+Z+65535,Z=Math.floor(O/65536),bn=O-Z*65536,O=jt+Z+65535,Z=Math.floor(O/65536),jt=O-Z*65536,O=on+Z+65535,Z=Math.floor(O/65536),on=O-Z*65536,O=rn+Z+65535,Z=Math.floor(O/65536),rn=O-Z*65536,O=qt+Z+65535,Z=Math.floor(O/65536),qt=O-Z*65536,be+=Z-1+37*(Z-1),Q[0]=be,Q[1]=xe,Q[2]=We,Q[3]=ht,Q[4]=ft,Q[5]=Pe,Q[6]=pt,Q[7]=Ye,Q[8]=Mt,Q[9]=Et,Q[10]=Kt,Q[11]=bn,Q[12]=jt,Q[13]=on,Q[14]=rn,Q[15]=qt}return th}var nh,pm;function zb(){if(pm)return nh;pm=1;var a=Dn();Zn(),Ai(),gf(),nh=a.kem=a.kem||{};var r=a.jsbn.BigInteger;a.kem.rsa={},a.kem.rsa.create=function(d,v){v=v||{};var m=v.prng||a.random,A={};return A.encrypt=function(p,E){var C=Math.ceil(p.n.bitLength()/8),D;do D=new r(a.util.bytesToHex(m.getBytesSync(C)),16).mod(p.n);while(D.compareTo(r.ONE)<=0);D=a.util.hexToBytes(D.toString(16));var R=C-D.length;R>0&&(D=a.util.fillString("\0",R)+D);var L=p.encrypt(D,"NONE"),_=d.generate(D,E);return{encapsulation:L,key:_}},A.decrypt=function(p,E,C){var D=p.decrypt(E,"NONE");return d.generate(D,C)},A},a.kem.kdf1=function(d,v){s(this,d,0,v||d.digestLength)},a.kem.kdf2=function(d,v){s(this,d,1,v||d.digestLength)};function s(d,v,m,A){d.generate=function(p,E){for(var C=new a.util.ByteBuffer,D=Math.ceil(E/A)+m,R=new a.util.ByteBuffer,L=m;L<D;++L){R.putInt32(L),v.start(),v.update(p+R.getBytes());var _=v.digest();C.putBytes(_.getBytes(A))}return C.truncate(C.length()-E),C.getBytes()}}return nh}var rh,ym;function Yb(){if(ym)return rh;ym=1;var a=Dn();Zn(),rh=a.log=a.log||{},a.log.levels=["none","error","warning","info","debug","verbose","max"];var r={},s=[],d=null;a.log.LEVEL_LOCKED=2,a.log.NO_LEVEL_CHECK=4,a.log.INTERPOLATE=8;for(var v=0;v<a.log.levels.length;++v){var m=a.log.levels[v];r[m]={index:v,name:m.toUpperCase()}}a.log.logMessage=function(L){for(var _=r[L.level].index,V=0;V<s.length;++V){var P=s[V];if(P.flags&a.log.NO_LEVEL_CHECK)P.f(L);else{var H=r[P.level].index;_<=H&&P.f(P,L)}}},a.log.prepareStandard=function(L){"standard"in L||(L.standard=r[L.level].name+" ["+L.category+"] "+L.message)},a.log.prepareFull=function(L){if(!("full"in L)){var _=[L.message];_=_.concat([]),L.full=a.util.format.apply(this,_)}},a.log.prepareStandardFull=function(L){"standardFull"in L||(a.log.prepareStandard(L),L.standardFull=L.standard)};for(var A=["error","warning","info","debug","verbose"],v=0;v<A.length;++v)(function(_){a.log[_]=function(V,P){var H=Array.prototype.slice.call(arguments).slice(2),T={timestamp:new Date,level:_,category:V,message:P,arguments:H};a.log.logMessage(T)}})(A[v]);if(a.log.makeLogger=function(L){var _={flags:0,f:L};return a.log.setLevel(_,"none"),_},a.log.setLevel=function(L,_){var V=!1;if(L&&!(L.flags&a.log.LEVEL_LOCKED))for(var P=0;P<a.log.levels.length;++P){var H=a.log.levels[P];if(_==H){L.level=_,V=!0;break}}return V},a.log.lock=function(L,_){typeof _>"u"||_?L.flags|=a.log.LEVEL_LOCKED:L.flags&=~a.log.LEVEL_LOCKED},a.log.addLogger=function(L){s.push(L)},typeof console<"u"&&"log"in console){var p;if(console.error&&console.warn&&console.info&&console.debug){var E={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},C=function(L,_){a.log.prepareStandard(_);var V=E[_.level],P=[_.standard];P=P.concat(_.arguments.slice()),V.apply(console,P)};p=a.log.makeLogger(C)}else{var C=function(_,V){a.log.prepareStandardFull(V),console.log(V.standardFull)};p=a.log.makeLogger(C)}a.log.setLevel(p,"debug"),a.log.addLogger(p),d=p}else console={log:function(){}};if(d!==null&&typeof window<"u"&&window.location){var D=new URL(window.location.href).searchParams;if(D.has("console.level")&&a.log.setLevel(d,D.get("console.level").slice(-1)[0]),D.has("console.lock")){var R=D.get("console.lock").slice(-1)[0];R=="true"&&a.log.lock(d)}}return a.log.consoleLogger=d,rh}var ah,mm;function qb(){return mm||(mm=1,ah=ys(),Hh(),Ou(),L2(),Y2()),ah}var ih={exports:{}},xm;function Xb(){if(xm)return ih.exports;xm=1;var a=Dn();Ro(),Fi(),hf(),Oo(),Il(),H2(),Ai(),Zn(),zh();var r=a.asn1,s=ih.exports=a.pkcs7=a.pkcs7||{};s.messageFromPem=function(_){var V=a.pem.decode(_)[0];if(V.type!=="PKCS7"){var P=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw P.headerType=V.type,P}if(V.procType&&V.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var H=r.fromDer(V.body);return s.messageFromAsn1(H)},s.messageToPem=function(_,V){var P={type:"PKCS7",body:r.toDer(_.toAsn1()).getBytes()};return a.pem.encode(P,{maxline:V})},s.messageFromAsn1=function(_){var V={},P=[];if(!r.validate(_,s.asn1.contentInfoValidator,V,P)){var H=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw H.errors=P,H}var T=r.derToOid(V.contentType),F;switch(T){case a.pki.oids.envelopedData:F=s.createEnvelopedData();break;case a.pki.oids.encryptedData:F=s.createEncryptedData();break;case a.pki.oids.signedData:F=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+T+" is not (yet) supported.")}return F.fromAsn1(V.content.value[0]),F},s.createSignedData=function(){var _=null;return _={type:a.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(H){if(R(_,H,s.asn1.signedDataValidator),_.certificates=[],_.crls=[],_.digestAlgorithmIdentifiers=[],_.contentInfo=null,_.signerInfos=[],_.rawCapture.certificates)for(var T=_.rawCapture.certificates.value,F=0;F<T.length;++F)_.certificates.push(a.pki.certificateFromAsn1(T[F]))},toAsn1:function(){_.contentInfo||_.sign();for(var H=[],T=0;T<_.certificates.length;++T)H.push(a.pki.certificateToAsn1(_.certificates[T]));var F=[],U=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,_.digestAlgorithmIdentifiers),_.contentInfo])]);return H.length>0&&U.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,H)),F.length>0&&U.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,F)),U.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,_.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),U])},addSigner:function(H){var T=H.issuer,F=H.serialNumber;if(H.certificate){var U=H.certificate;typeof U=="string"&&(U=a.pki.certificateFromPem(U)),T=U.issuer.attributes,F=U.serialNumber}var K=H.key;if(!K)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof K=="string"&&(K=a.pki.privateKeyFromPem(K));var X=H.digestAlgorithm||a.pki.oids.sha1;switch(X){case a.pki.oids.sha1:case a.pki.oids.sha256:case a.pki.oids.sha384:case a.pki.oids.sha512:case a.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+X)}var M=H.authenticatedAttributes||[];if(M.length>0){for(var I=!1,w=!1,j=0;j<M.length;++j){var ae=M[j];if(!I&&ae.type===a.pki.oids.contentType){if(I=!0,w)break;continue}if(!w&&ae.type===a.pki.oids.messageDigest){if(w=!0,I)break;continue}}if(!I||!w)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}_.signers.push({key:K,version:1,issuer:T,serialNumber:F,digestAlgorithm:X,signatureAlgorithm:a.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:M,unauthenticatedAttributes:[]})},sign:function(H){if(H=H||{},(typeof _.content!="object"||_.contentInfo===null)&&(_.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.pki.oids.data).getBytes())]),"content"in _)){var T;_.content instanceof a.util.ByteBuffer?T=_.content.bytes():typeof _.content=="string"&&(T=a.util.encodeUtf8(_.content)),H.detached?_.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,T):_.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,T)]))}if(_.signers.length!==0){var F=V();P(F)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(H){typeof H=="string"&&(H=a.pki.certificateFromPem(H)),_.certificates.push(H)},addCertificateRevokationList:function(H){throw new Error("PKCS#7 CRL support not yet implemented.")}},_;function V(){for(var H={},T=0;T<_.signers.length;++T){var F=_.signers[T],U=F.digestAlgorithm;U in H||(H[U]=a.md[a.pki.oids[U]].create()),F.authenticatedAttributes.length===0?F.md=H[U]:F.md=a.md[a.pki.oids[U]].create()}_.digestAlgorithmIdentifiers=[];for(var U in H)_.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(U).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));return H}function P(H){var T;if(_.detachedContent?T=_.detachedContent:(T=_.contentInfo.value[1],T=T.value[0]),!T)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var F=r.derToOid(_.contentInfo.value[0].value),U=r.toDer(T);U.getByte(),r.getBerValueLength(U),U=U.getBytes();for(var K in H)H[K].start().update(U);for(var X=new Date,M=0;M<_.signers.length;++M){var I=_.signers[M];if(I.authenticatedAttributes.length===0){if(F!==a.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{I.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var w=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]),j=0;j<I.authenticatedAttributes.length;++j){var ae=I.authenticatedAttributes[j];ae.type===a.pki.oids.messageDigest?ae.value=H[I.digestAlgorithm].digest():ae.type===a.pki.oids.signingTime&&(ae.value||(ae.value=X)),w.value.push(C(ae)),I.authenticatedAttributesAsn1.value.push(C(ae))}U=r.toDer(w).getBytes(),I.md.start().update(U)}I.signature=I.key.sign(I.md,"RSASSA-PKCS1-V1_5")}_.signerInfos=E(_.signers)}},s.createEncryptedData=function(){var _=null;return _={type:a.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:a.pki.oids["aes256-CBC"]},fromAsn1:function(V){R(_,V,s.asn1.encryptedDataValidator)},decrypt:function(V){V!==void 0&&(_.encryptedContent.key=V),L(_)}},_},s.createEnvelopedData=function(){var _=null;return _={type:a.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:a.pki.oids["aes256-CBC"]},fromAsn1:function(V){var P=R(_,V,s.asn1.envelopedDataValidator);_.recipients=m(P.recipientInfos.value)},toAsn1:function(){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,A(_.recipients)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,D(_.encryptedContent))])])])},findRecipient:function(V){for(var P=V.issuer.attributes,H=0;H<_.recipients.length;++H){var T=_.recipients[H],F=T.issuer;if(T.serialNumber===V.serialNumber&&F.length===P.length){for(var U=!0,K=0;K<P.length;++K)if(F[K].type!==P[K].type||F[K].value!==P[K].value){U=!1;break}if(U)return T}}return null},decrypt:function(V,P){if(_.encryptedContent.key===void 0&&V!==void 0&&P!==void 0)switch(V.encryptedContent.algorithm){case a.pki.oids.rsaEncryption:case a.pki.oids.desCBC:var H=P.decrypt(V.encryptedContent.content);_.encryptedContent.key=a.util.createBuffer(H);break;default:throw new Error("Unsupported asymmetric cipher, OID "+V.encryptedContent.algorithm)}L(_)},addRecipient:function(V){_.recipients.push({version:0,issuer:V.issuer.attributes,serialNumber:V.serialNumber,encryptedContent:{algorithm:a.pki.oids.rsaEncryption,key:V.publicKey}})},encrypt:function(V,P){if(_.encryptedContent.content===void 0){P=P||_.encryptedContent.algorithm,V=V||_.encryptedContent.key;var H,T,F;switch(P){case a.pki.oids["aes128-CBC"]:H=16,T=16,F=a.aes.createEncryptionCipher;break;case a.pki.oids["aes192-CBC"]:H=24,T=16,F=a.aes.createEncryptionCipher;break;case a.pki.oids["aes256-CBC"]:H=32,T=16,F=a.aes.createEncryptionCipher;break;case a.pki.oids["des-EDE3-CBC"]:H=24,T=8,F=a.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+P)}if(V===void 0)V=a.util.createBuffer(a.random.getBytes(H));else if(V.length()!=H)throw new Error("Symmetric key has wrong length; got "+V.length()+" bytes, expected "+H+".");_.encryptedContent.algorithm=P,_.encryptedContent.key=V,_.encryptedContent.parameter=a.util.createBuffer(a.random.getBytes(T));var U=F(V);if(U.start(_.encryptedContent.parameter.copy()),U.update(_.content),!U.finish())throw new Error("Symmetric encryption failed.");_.encryptedContent.content=U.output}for(var K=0;K<_.recipients.length;++K){var X=_.recipients[K];if(X.encryptedContent.content===void 0)switch(X.encryptedContent.algorithm){case a.pki.oids.rsaEncryption:X.encryptedContent.content=X.encryptedContent.key.encrypt(_.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+X.encryptedContent.algorithm)}}}},_};function d(_){var V={},P=[];if(!r.validate(_,s.asn1.recipientInfoValidator,V,P)){var H=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw H.errors=P,H}return{version:V.version.charCodeAt(0),issuer:a.pki.RDNAttributesAsArray(V.issuer),serialNumber:a.util.createBuffer(V.serial).toHex(),encryptedContent:{algorithm:r.derToOid(V.encAlgorithm),parameter:V.encParameter?V.encParameter.value:void 0,content:V.encKey}}}function v(_){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[a.pki.distinguishedNameToAsn1({attributes:_.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,a.util.hexToBytes(_.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.encryptedContent.content)])}function m(_){for(var V=[],P=0;P<_.length;++P)V.push(d(_[P]));return V}function A(_){for(var V=[],P=0;P<_.length;++P)V.push(v(_[P]));return V}function p(_){var V=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[a.pki.distinguishedNameToAsn1({attributes:_.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,a.util.hexToBytes(_.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]);if(_.authenticatedAttributesAsn1&&V.value.push(_.authenticatedAttributesAsn1),V.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),V.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.signature)),_.unauthenticatedAttributes.length>0){for(var P=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),H=0;H<_.unauthenticatedAttributes.length;++H){var T=_.unauthenticatedAttributes[H];P.values.push(C(T))}V.value.push(P)}return V}function E(_){for(var V=[],P=0;P<_.length;++P)V.push(p(_[P]));return V}function C(_){var V;if(_.type===a.pki.oids.contentType)V=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.value).getBytes());else if(_.type===a.pki.oids.messageDigest)V=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.value.bytes());else if(_.type===a.pki.oids.signingTime){var P=new Date("1950-01-01T00:00:00Z"),H=new Date("2050-01-01T00:00:00Z"),T=_.value;if(typeof T=="string"){var F=Date.parse(T);isNaN(F)?T.length===13?T=r.utcTimeToDate(T):T=r.generalizedTimeToDate(T):T=new Date(F)}T>=P&&T<H?V=r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(T)):V=r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(T))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[V])])}function D(_){return[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.algorithm).getBytes()),_.parameter?r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.parameter.getBytes()):void 0]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.content.getBytes())])]}function R(_,V,P){var H={},T=[];if(!r.validate(V,P,H,T)){var F=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw F.errors=F,F}var U=r.derToOid(H.contentType);if(U!==a.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(H.encryptedContent){var K="";if(a.util.isArray(H.encryptedContent))for(var X=0;X<H.encryptedContent.length;++X){if(H.encryptedContent[X].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");K+=H.encryptedContent[X].value}else K=H.encryptedContent;_.encryptedContent={algorithm:r.derToOid(H.encAlgorithm),parameter:a.util.createBuffer(H.encParameter.value),content:a.util.createBuffer(K)}}if(H.content){var K="";if(a.util.isArray(H.content))for(var X=0;X<H.content.length;++X){if(H.content[X].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");K+=H.content[X].value}else K=H.content;_.content=a.util.createBuffer(K)}return _.version=H.version.charCodeAt(0),_.rawCapture=H,H}function L(_){if(_.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(_.content===void 0){var V;switch(_.encryptedContent.algorithm){case a.pki.oids["aes128-CBC"]:case a.pki.oids["aes192-CBC"]:case a.pki.oids["aes256-CBC"]:V=a.aes.createDecryptionCipher(_.encryptedContent.key);break;case a.pki.oids.desCBC:case a.pki.oids["des-EDE3-CBC"]:V=a.des.createDecryptionCipher(_.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+_.encryptedContent.algorithm)}if(V.start(_.encryptedContent.parameter),V.update(_.encryptedContent.content),!V.finish())throw new Error("Symmetric decryption failed.");_.content=V.output}}return ih.exports}var sh={exports:{}},vm;function Zb(){if(vm)return sh.exports;vm=1;var a=Dn();Ro(),Ru(),Hh(),Ou(),Zn();var r=sh.exports=a.ssh=a.ssh||{};r.privateKeyToPutty=function(m,A,p){p=p||"",A=A||"";var E="ssh-rsa",C=A===""?"none":"aes256-cbc",D="PuTTY-User-Key-File-2: "+E+`\r
`;D+="Encryption: "+C+`\r
`,D+="Comment: "+p+`\r
`;var R=a.util.createBuffer();d(R,E),s(R,m.e),s(R,m.n);var L=a.util.encode64(R.bytes(),64),_=Math.floor(L.length/66)+1;D+="Public-Lines: "+_+`\r
`,D+=L;var V=a.util.createBuffer();s(V,m.d),s(V,m.p),s(V,m.q),s(V,m.qInv);var P;if(!A)P=a.util.encode64(V.bytes(),64);else{var H=V.length()+16-1;H-=H%16;var T=v(V.bytes());T.truncate(T.length()-H+V.length()),V.putBuffer(T);var F=a.util.createBuffer();F.putBuffer(v("\0\0\0\0",A)),F.putBuffer(v("\0\0\0",A));var U=a.aes.createEncryptionCipher(F.truncate(8),"CBC");U.start(a.util.createBuffer().fillWithByte(0,16)),U.update(V.copy()),U.finish();var K=U.output;K.truncate(16),P=a.util.encode64(K.bytes(),64)}_=Math.floor(P.length/66)+1,D+=`\r
Private-Lines: `+_+`\r
`,D+=P;var X=v("putty-private-key-file-mac-key",A),M=a.util.createBuffer();d(M,E),d(M,C),d(M,p),M.putInt32(R.length()),M.putBuffer(R),M.putInt32(V.length()),M.putBuffer(V);var I=a.hmac.create();return I.start("sha1",X),I.update(M.bytes()),D+=`\r
Private-MAC: `+I.digest().toHex()+`\r
`,D},r.publicKeyToOpenSSH=function(m,A){var p="ssh-rsa";A=A||"";var E=a.util.createBuffer();return d(E,p),s(E,m.e),s(E,m.n),p+" "+a.util.encode64(E.bytes())+" "+A},r.privateKeyToOpenSSH=function(m,A){return A?a.pki.encryptRsaPrivateKey(m,A,{legacy:!0,algorithm:"aes128"}):a.pki.privateKeyToPem(m)},r.getPublicKeyFingerprint=function(m,A){A=A||{};var p=A.md||a.md.md5.create(),E="ssh-rsa",C=a.util.createBuffer();d(C,E),s(C,m.e),s(C,m.n),p.start(),p.update(C.getBytes());var D=p.digest();if(A.encoding==="hex"){var R=D.toHex();return A.delimiter?R.match(/.{2}/g).join(A.delimiter):R}else{if(A.encoding==="binary")return D.getBytes();if(A.encoding)throw new Error('Unknown encoding "'+A.encoding+'".')}return D};function s(m,A){var p=A.toString(16);p[0]>="8"&&(p="00"+p);var E=a.util.hexToBytes(p);m.putInt32(E.length),m.putBytes(E)}function d(m,A){m.putInt32(A.length),m.putString(A)}function v(){for(var m=a.md.sha1.create(),A=arguments.length,p=0;p<A;++p)m.update(arguments[p]);return m.digest()}return sh.exports}var oh,Am;function Wb(){return Am||(Am=1,oh=Dn(),Ro(),Gb(),Fi(),Qh(),hf(),Kb(),Ru(),zb(),Yb(),qb(),G2(),jh(),Il(),P2(),j2(),Xb(),K2(),V2(),U2(),Kh(),Ai(),F2(),Zb(),z2(),Zn()),oh}var Jb=Wb();const $r=Oh(Jb);function Yh(a){let r="";for(let s=0;s<a.length;s++)r+=String.fromCharCode(a[s]);return r}function yf(a){const r=new Uint8Array(a.length);for(let s=0;s<a.length;s++)r[s]=a.charCodeAt(s);return r}async function Eu(a=16){const r=$r.random.getBytesSync(a);return yf(r)}async function fs(a,r){return await Fb({password:a,salt:r,parallelism:1,iterations:3,memorySize:65536,hashLength:32,outputType:"binary"})}async function ba(a){return Yh(a)}async function li(a,r){const s=$r.random.getBytesSync(12),d=$r.cipher.createCipher("AES-GCM",a);d.start({iv:s});const v=typeof r=="string"?$r.util.encodeUtf8(r):Yh(r);d.update($r.util.createBuffer(v)),d.finish();const m=d.output.getBytes(),A=d.mode.tag.getBytes(),p=s+m+A;return $r.util.encode64(p)}async function ds(a,r){const s=$r.util.decode64(r),d=s.slice(0,12),v=s.slice(s.length-16),m=s.slice(12,s.length-16),A=$r.cipher.createDecipher("AES-GCM",a);if(A.start({iv:d,tag:$r.util.createBuffer(v)}),A.update($r.util.createBuffer(m)),!A.finish())throw new Error("Decryption failed");return $r.util.decodeUtf8(A.output.getBytes())}async function gl(a,r){const s=$r.util.decode64(r),d=s.slice(0,12),v=s.slice(s.length-16),m=s.slice(12,s.length-16),A=$r.cipher.createDecipher("AES-GCM",a);if(A.start({iv:d,tag:$r.util.createBuffer(v)}),A.update($r.util.createBuffer(m)),!A.finish())throw new Error("Decryption failed");return yf(A.output.getBytes())}function $b(){const a=$r.random.getBytesSync(32);return yf(a)}function Iu(a){return $r.util.encode64(Yh(a))}function pl(a){return yf($r.util.decode64(a))}const Ch=()=>!(!window.crypto||!window.crypto.subtle||!window.PublicKeyCredential||document.featurePolicy&&document.featurePolicy.allowsFeature&&(!document.featurePolicy.allowsFeature("publickey-credentials-create")||!document.featurePolicy.allowsFeature("publickey-credentials-get")));function ew(a){return btoa(String.fromCharCode(...new Uint8Array(a)))}function tw(a){const r=atob(a),s=new Uint8Array(r.length);for(let d=0;d<r.length;d++)s[d]=r.charCodeAt(d);return s.buffer}async function nw(a){var v;const r=new Uint8Array(32);window.crypto.getRandomValues(r);const s=new Uint8Array(16);window.crypto.getRandomValues(s);const d={challenge:r,rp:{name:"CipherVault",id:window.location.hostname},user:{id:s,name:a,displayName:a},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4,attestation:"none"};try{const m=await navigator.credentials.create({publicKey:d});if(!m)throw new Error("Failed to create credential");return ew(m.rawId)}catch(m){throw m.name==="NotAllowedError"||(v=m.message)!=null&&v.includes("not enabled")?new Error("Biometric authentication is not enabled in this environment (Permissions Policy)."):m}}async function rw(a){var d;const r=new Uint8Array(32);window.crypto.getRandomValues(r);const s={challenge:r,allowCredentials:[{id:tw(a),type:"public-key",transports:["internal"]}],userVerification:"required",timeout:6e4};try{return!!await navigator.credentials.get({publicKey:s})}catch(v){throw v.name==="NotAllowedError"||(d=v.message)!=null&&d.includes("not enabled")?new Error("Biometric authentication is not enabled in this environment (Permissions Policy)."):v}}const q2=ie.createContext(void 0),aw=({children:a})=>{const[r,s]=ie.useState(null),[d,v]=ie.useState(!0),[m,A]=ie.useState(null),[p,E]=ie.useState(null),[C,D]=ie.useState(!1),[R,L]=ie.useState(()=>{const se=localStorage.getItem("cipher_vault_error_count");return se?parseInt(se,10):0}),[_,V]=ie.useState(()=>{const se=localStorage.getItem("cipher_vault_lockout_until");return se?parseInt(se,10):0}),[P,H]=ie.useState(()=>{const se=localStorage.getItem("cipher_vault_autolock");return se?parseInt(se,10):5}),T=se=>{L(se),localStorage.setItem("cipher_vault_error_count",se.toString())},F=se=>{V(se),localStorage.setItem("cipher_vault_lockout_until",se.toString())},U=se=>{H(se),localStorage.setItem("cipher_vault_autolock",se.toString())},K=ie.useCallback(()=>{A(null),E(null),v(!0)},[]);ie.useEffect(()=>{X(),M();const se=()=>{document.hidden&&K()};return document.addEventListener("visibilitychange",se),()=>document.removeEventListener("visibilitychange",se)},[K]),ie.useEffect(()=>{if(d||P===0)return;let se;const Ae=()=>{clearTimeout(se),se=setTimeout(()=>{K()},P*60*1e3)};Ae();const oe=["mousedown","mousemove","keydown","scroll","touchstart"];return oe.forEach(he=>document.addEventListener(he,Ae,{passive:!0})),()=>{clearTimeout(se),oe.forEach(he=>document.removeEventListener(he,Ae))}},[d,P,K]);const X=async()=>{const se=await At.baseData.get(1);s(!!se)},M=async()=>{const se=await At.biometricData.get(1),Ae=localStorage.getItem("cipher_vault_bio_key");D(!!se&&!!Ae)},I=()=>{K()},w=()=>{const se=R+1;if(T(se),se>=3){const Ae=Math.pow(10,se-2);F(Date.now()+Ae*1e3)}},j=async se=>{const Ae=await Eu(),oe=await fs(se,Ae),he=await ba(oe),ve=await li(he,"success"),ke=$b(),Ke=await ba(ke),Le=await li(he,ke);await At.baseData.put({id:1,salt:Iu(Ae),checkKey:ve,dataKey:Le,time:Date.now()}),A(he),E(Ke),s(!0),v(!1),T(0),F(0)},ae=async se=>{if(Date.now()<_)return!1;try{const Ae=await At.baseData.get(1);if(!Ae)return!1;const oe=pl(Ae.salt),he=await fs(se,oe),ve=await ba(he);if(await ds(ve,Ae.checkKey)==="success"){const Ke=await gl(ve,Ae.dataKey),Le=await ba(Ke);return A(ve),E(Le),v(!1),T(0),F(0),!0}else return w(),!1}catch{return w(),!1}},de=async se=>{if(!Ch())return{success:!1,error:"Not supported"};const Ae=await At.baseData.get(1);if(!Ae)return{success:!1,error:"Database error"};try{const oe=pl(Ae.salt),he=await fs(se,oe),ve=await ba(he);if(await ds(ve,Ae.checkKey)!=="success")return{success:!1,error:"Password incorrect"};const Ke=await gl(ve,Ae.dataKey),Le=await ba(Ke),Ce=await nw("User"),Te=await Eu(32),Ze=await ba(Te),De=Iu(Te),et=await li(Ze,Ke);return await At.biometricData.put({id:1,credentialId:Ce,dek:et,time:Date.now()}),localStorage.setItem("cipher_vault_bio_key",De),D(!0),A(ve),E(Le),v(!1),{success:!0}}catch(oe){return console.error(oe),{success:!1,error:oe.message||"Unknown error"}}},ee=async()=>{if(!C)return{success:!1,error:"Not configured"};try{const se=await At.biometricData.get(1),Ae=localStorage.getItem("cipher_vault_bio_key");if(!se||!Ae)return D(!1),{success:!1,error:"Biometric data missing"};if(await rw(se.credentialId)){const he=pl(Ae),ve=await ba(he),ke=await gl(ve,se.dek),Ke=await ba(ke);return E(Ke),v(!1),{success:!0}}return{success:!1,error:"Verification failed"}}catch(se){return console.error(se),{success:!1,error:se.message||"Unknown error"}}};return q.jsx(q2.Provider,{value:{isInitialized:r,isLocked:d,masterKey:m,dek:p,init:j,login:ae,logout:I,lock:K,errorCount:R,lockoutUntil:_,autoLockTime:P,setAutoLockTime:U,enableBiometric:de,biometricLogin:ee,isBiometricConfigured:C},children:a})},Sl=()=>{const a=ie.useContext(q2);if(!a)throw new Error("useAuth must be used within AuthProvider");return a};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sw=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,d)=>d?d.toUpperCase():s.toLowerCase()),Cm=a=>{const r=sw(a);return r.charAt(0).toUpperCase()+r.slice(1)},X2=(...a)=>a.filter((r,s,d)=>!!r&&r.trim()!==""&&d.indexOf(r)===s).join(" ").trim(),ow=a=>{for(const r in a)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ie.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:d,className:v="",children:m,iconNode:A,...p},E)=>ie.createElement("svg",{ref:E,...lw,width:r,height:r,stroke:a,strokeWidth:d?Number(s)*24/Number(r):s,className:X2("lucide",v),...!m&&!ow(p)&&{"aria-hidden":"true"},...p},[...A.map(([C,D])=>ie.createElement(C,D)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=(a,r)=>{const s=ie.forwardRef(({className:d,...v},m)=>ie.createElement(uw,{ref:m,iconNode:r,className:X2(`lucide-${iw(Cm(a))}`,`lucide-${a}`,d),...v}));return s.displayName=Cm(a),s};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],fw=Gn("arrow-down",cw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Z2=Gn("arrow-left",dw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],gw=Gn("arrow-up",hw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M18 6V4a2 2 0 1 0-4 0v2",key:"1aquzs"}],["path",{d:"M20 15v6a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"1rkj32"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H10",key:"18wgow"}],["rect",{x:"12",y:"6",width:"8",height:"5",rx:"1",key:"73l30o"}]],yw=Gn("book-lock",pw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xw=Gn("clock",mw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],Aw=Gn("cloud-download",vw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],bw=Gn("cloud",Cw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],W2=Gn("copy",ww);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],Iw=Gn("delete",Ew);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J2=Gn("download",Sw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Bw=Gn("ellipsis-vertical",Tw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_w=Gn("eye-off",Nw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rw=Gn("eye",Dw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],kw=Gn("fingerprint",Ow);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],$2=Gn("grip-vertical",Mw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Uw=Gn("image",Lw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],qh=Gn("key-round",Fw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],bm=Gn("keyboard",Pw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qw=Gn("loader-circle",Vw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gw=Gn("log-out",Hw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ex=Gn("pen",jw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bh=Gn("plus",Kw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Yw=Gn("qr-code",zw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wh=Gn("search",qw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wm=Gn("shield-check",Xw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ww=Gn("shield-question-mark",Zw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$w=Gn("shield",Jw);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tx=Gn("star",eE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nE=Gn("tag",tE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mf=Gn("trash-2",rE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iE=Gn("triangle-alert",aE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oE=Gn("upload",sE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uE=Gn("user",lE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Su=Gn("x",cE);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dE=Gn("zap",fE);function nx(a){var r,s,d="";if(typeof a=="string"||typeof a=="number")d+=a;else if(typeof a=="object")if(Array.isArray(a)){var v=a.length;for(r=0;r<v;r++)a[r]&&(s=nx(a[r]))&&(d&&(d+=" "),d+=s)}else for(s in a)a[s]&&(d&&(d+=" "),d+=s);return d}function hE(){for(var a,r,s=0,d="",v=arguments.length;s<v;s++)(a=arguments[s])&&(r=nx(a))&&(d&&(d+=" "),d+=r);return d}const gE=(a,r)=>{const s=new Array(a.length+r.length);for(let d=0;d<a.length;d++)s[d]=a[d];for(let d=0;d<r.length;d++)s[a.length+d]=r[d];return s},pE=(a,r)=>({classGroupId:a,validator:r}),rx=(a=new Map,r=null,s)=>({nextPart:a,validators:r,classGroupId:s}),ef="-",Em=[],yE="arbitrary..",mE=a=>{const r=vE(a),{conflictingClassGroups:s,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:A=>{if(A.startsWith("[")&&A.endsWith("]"))return xE(A);const p=A.split(ef),E=p[0]===""&&p.length>1?1:0;return ax(p,E,r)},getConflictingClassGroupIds:(A,p)=>{if(p){const E=d[A],C=s[A];return E?C?gE(C,E):E:C||Em}return s[A]||Em}}},ax=(a,r,s)=>{if(a.length-r===0)return s.classGroupId;const v=a[r],m=s.nextPart.get(v);if(m){const C=ax(a,r+1,m);if(C)return C}const A=s.validators;if(A===null)return;const p=r===0?a.join(ef):a.slice(r).join(ef),E=A.length;for(let C=0;C<E;C++){const D=A[C];if(D.validator(p))return D.classGroupId}},xE=a=>a.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=a.slice(1,-1),s=r.indexOf(":"),d=r.slice(0,s);return d?yE+d:void 0})(),vE=a=>{const{theme:r,classGroups:s}=a;return AE(s,r)},AE=(a,r)=>{const s=rx();for(const d in a){const v=a[d];Xh(v,s,d,r)}return s},Xh=(a,r,s,d)=>{const v=a.length;for(let m=0;m<v;m++){const A=a[m];CE(A,r,s,d)}},CE=(a,r,s,d)=>{if(typeof a=="string"){bE(a,r,s);return}if(typeof a=="function"){wE(a,r,s,d);return}EE(a,r,s,d)},bE=(a,r,s)=>{const d=a===""?r:ix(r,a);d.classGroupId=s},wE=(a,r,s,d)=>{if(IE(a)){Xh(a(d),r,s,d);return}r.validators===null&&(r.validators=[]),r.validators.push(pE(s,a))},EE=(a,r,s,d)=>{const v=Object.entries(a),m=v.length;for(let A=0;A<m;A++){const[p,E]=v[A];Xh(E,ix(r,p),s,d)}},ix=(a,r)=>{let s=a;const d=r.split(ef),v=d.length;for(let m=0;m<v;m++){const A=d[m];let p=s.nextPart.get(A);p||(p=rx(),s.nextPart.set(A,p)),s=p}return s},IE=a=>"isThemeGetter"in a&&a.isThemeGetter===!0,SE=a=>{if(a<1)return{get:()=>{},set:()=>{}};let r=0,s=Object.create(null),d=Object.create(null);const v=(m,A)=>{s[m]=A,r++,r>a&&(r=0,d=s,s=Object.create(null))};return{get(m){let A=s[m];if(A!==void 0)return A;if((A=d[m])!==void 0)return v(m,A),A},set(m,A){m in s?s[m]=A:v(m,A)}}},Eh="!",Im=":",TE=[],Sm=(a,r,s,d,v)=>({modifiers:a,hasImportantModifier:r,baseClassName:s,maybePostfixModifierPosition:d,isExternal:v}),BE=a=>{const{prefix:r,experimentalParseClassName:s}=a;let d=v=>{const m=[];let A=0,p=0,E=0,C;const D=v.length;for(let P=0;P<D;P++){const H=v[P];if(A===0&&p===0){if(H===Im){m.push(v.slice(E,P)),E=P+1;continue}if(H==="/"){C=P;continue}}H==="["?A++:H==="]"?A--:H==="("?p++:H===")"&&p--}const R=m.length===0?v:v.slice(E);let L=R,_=!1;R.endsWith(Eh)?(L=R.slice(0,-1),_=!0):R.startsWith(Eh)&&(L=R.slice(1),_=!0);const V=C&&C>E?C-E:void 0;return Sm(m,_,L,V)};if(r){const v=r+Im,m=d;d=A=>A.startsWith(v)?m(A.slice(v.length)):Sm(TE,!1,A,void 0,!0)}if(s){const v=d;d=m=>s({className:m,parseClassName:v})}return d},NE=a=>{const r=new Map;return a.orderSensitiveModifiers.forEach((s,d)=>{r.set(s,1e6+d)}),s=>{const d=[];let v=[];for(let m=0;m<s.length;m++){const A=s[m],p=A[0]==="[",E=r.has(A);p||E?(v.length>0&&(v.sort(),d.push(...v),v=[]),d.push(A)):v.push(A)}return v.length>0&&(v.sort(),d.push(...v)),d}},_E=a=>({cache:SE(a.cacheSize),parseClassName:BE(a),sortModifiers:NE(a),...mE(a)}),DE=/\s+/,RE=(a,r)=>{const{parseClassName:s,getClassGroupId:d,getConflictingClassGroupIds:v,sortModifiers:m}=r,A=[],p=a.trim().split(DE);let E="";for(let C=p.length-1;C>=0;C-=1){const D=p[C],{isExternal:R,modifiers:L,hasImportantModifier:_,baseClassName:V,maybePostfixModifierPosition:P}=s(D);if(R){E=D+(E.length>0?" "+E:E);continue}let H=!!P,T=d(H?V.substring(0,P):V);if(!T){if(!H){E=D+(E.length>0?" "+E:E);continue}if(T=d(V),!T){E=D+(E.length>0?" "+E:E);continue}H=!1}const F=L.length===0?"":L.length===1?L[0]:m(L).join(":"),U=_?F+Eh:F,K=U+T;if(A.indexOf(K)>-1)continue;A.push(K);const X=v(T,H);for(let M=0;M<X.length;++M){const I=X[M];A.push(U+I)}E=D+(E.length>0?" "+E:E)}return E},OE=(...a)=>{let r=0,s,d,v="";for(;r<a.length;)(s=a[r++])&&(d=sx(s))&&(v&&(v+=" "),v+=d);return v},sx=a=>{if(typeof a=="string")return a;let r,s="";for(let d=0;d<a.length;d++)a[d]&&(r=sx(a[d]))&&(s&&(s+=" "),s+=r);return s},kE=(a,...r)=>{let s,d,v,m;const A=E=>{const C=r.reduce((D,R)=>R(D),a());return s=_E(C),d=s.cache.get,v=s.cache.set,m=p,p(E)},p=E=>{const C=d(E);if(C)return C;const D=RE(E,s);return v(E,D),D};return m=A,(...E)=>m(OE(...E))},ME=[],Yr=a=>{const r=s=>s[a]||ME;return r.isThemeGetter=!0,r},ox=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LE=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,UE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,VE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zs=a=>LE.test(a),_n=a=>!!a&&!Number.isNaN(Number(a)),Ws=a=>!!a&&Number.isInteger(Number(a)),lh=a=>a.endsWith("%")&&_n(a.slice(0,-1)),os=a=>UE.test(a),ux=()=>!0,HE=a=>FE.test(a)&&!PE.test(a),Zh=()=>!1,GE=a=>VE.test(a),jE=a=>QE.test(a),KE=a=>!Ut(a)&&!Pt(a),zE=a=>so(a,dx,Zh),Ut=a=>ox.test(a),No=a=>so(a,hx,HE),Tm=a=>so(a,e3,_n),YE=a=>so(a,px,ux),qE=a=>so(a,gx,Zh),Bm=a=>so(a,cx,Zh),XE=a=>so(a,fx,jE),Vc=a=>so(a,yx,GE),Pt=a=>lx.test(a),gu=a=>ko(a,hx),ZE=a=>ko(a,gx),Nm=a=>ko(a,cx),WE=a=>ko(a,dx),JE=a=>ko(a,fx),Qc=a=>ko(a,yx,!0),$E=a=>ko(a,px,!0),so=(a,r,s)=>{const d=ox.exec(a);return d?d[1]?r(d[1]):s(d[2]):!1},ko=(a,r,s=!1)=>{const d=lx.exec(a);return d?d[1]?r(d[1]):s:!1},cx=a=>a==="position"||a==="percentage",fx=a=>a==="image"||a==="url",dx=a=>a==="length"||a==="size"||a==="bg-size",hx=a=>a==="length",e3=a=>a==="number",gx=a=>a==="family-name",px=a=>a==="number"||a==="weight",yx=a=>a==="shadow",t3=()=>{const a=Yr("color"),r=Yr("font"),s=Yr("text"),d=Yr("font-weight"),v=Yr("tracking"),m=Yr("leading"),A=Yr("breakpoint"),p=Yr("container"),E=Yr("spacing"),C=Yr("radius"),D=Yr("shadow"),R=Yr("inset-shadow"),L=Yr("text-shadow"),_=Yr("drop-shadow"),V=Yr("blur"),P=Yr("perspective"),H=Yr("aspect"),T=Yr("ease"),F=Yr("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...K(),Pt,Ut],M=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],w=()=>[Pt,Ut,E],j=()=>[Zs,"full","auto",...w()],ae=()=>[Ws,"none","subgrid",Pt,Ut],de=()=>["auto",{span:["full",Ws,Pt,Ut]},Ws,Pt,Ut],ee=()=>[Ws,"auto",Pt,Ut],se=()=>["auto","min","max","fr",Pt,Ut],Ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...w()],ve=()=>[Zs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],ke=()=>[Zs,"screen","full","dvw","lvw","svw","min","max","fit",...w()],Ke=()=>[Zs,"screen","full","lh","dvh","lvh","svh","min","max","fit",...w()],Le=()=>[a,Pt,Ut],Ce=()=>[...K(),Nm,Bm,{position:[Pt,Ut]}],Te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ze=()=>["auto","cover","contain",WE,zE,{size:[Pt,Ut]}],De=()=>[lh,gu,No],et=()=>["","none","full",C,Pt,Ut],Ne=()=>["",_n,gu,No],bt=()=>["solid","dashed","dotted","double"],gt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[_n,lh,Nm,Bm],W=()=>["","none",V,Pt,Ut],re=()=>["none",_n,Pt,Ut],O=()=>["none",_n,Pt,Ut],Z=()=>[_n,Pt,Ut],be=()=>[Zs,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[os],breakpoint:[os],color:[ux],container:[os],"drop-shadow":[os],ease:["in","out","in-out"],font:[KE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[os],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[os],shadow:[os],spacing:["px",_n],text:[os],"text-shadow":[os],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zs,Ut,Pt,H]}],container:["container"],columns:[{columns:[_n,Ut,Pt,p]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{"inset-s":j(),start:j()}],end:[{"inset-e":j(),end:j()}],"inset-bs":[{"inset-bs":j()}],"inset-be":[{"inset-be":j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Ws,"auto",Pt,Ut]}],basis:[{basis:[Zs,"full","auto",p,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_n,Zs,"auto","initial","none",Ut]}],grow:[{grow:["",_n,Pt,Ut]}],shrink:[{shrink:["",_n,Pt,Ut]}],order:[{order:[Ws,"first","last","none",Pt,Ut]}],"grid-cols":[{"grid-cols":ae()}],"col-start-end":[{col:de()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":ae()}],"row-start-end":[{row:de()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...Ae(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...Ae()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ae()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pbs:[{pbs:w()}],pbe:[{pbe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mbs:[{mbs:he()}],mbe:[{mbe:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],"inline-size":[{inline:["auto",...ke()]}],"min-inline-size":[{"min-inline":["auto",...ke()]}],"max-inline-size":[{"max-inline":["none",...ke()]}],"block-size":[{block:["auto",...Ke()]}],"min-block-size":[{"min-block":["auto",...Ke()]}],"max-block-size":[{"max-block":["none",...Ke()]}],w:[{w:[p,"screen",...ve()]}],"min-w":[{"min-w":[p,"screen","none",...ve()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[A]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",s,gu,No]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[d,$E,YE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lh,Ut]}],"font-family":[{font:[ZE,qE,r]}],"font-features":[{"font-features":[Ut]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[v,Pt,Ut]}],"line-clamp":[{"line-clamp":[_n,"none",Pt,Tm]}],leading:[{leading:[m,...w()]}],"list-image":[{"list-image":["none",Pt,Ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pt,Ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Le()}],"text-color":[{text:Le()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...bt(),"wavy"]}],"text-decoration-thickness":[{decoration:[_n,"from-font","auto",Pt,No]}],"text-decoration-color":[{decoration:Le()}],"underline-offset":[{"underline-offset":[_n,"auto",Pt,Ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt,Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt,Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ce()}],"bg-repeat":[{bg:Te()}],"bg-size":[{bg:Ze()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ws,Pt,Ut],radial:["",Pt,Ut],conic:[Ws,Pt,Ut]},JE,XE]}],"bg-color":[{bg:Le()}],"gradient-from-pos":[{from:De()}],"gradient-via-pos":[{via:De()}],"gradient-to-pos":[{to:De()}],"gradient-from":[{from:Le()}],"gradient-via":[{via:Le()}],"gradient-to":[{to:Le()}],rounded:[{rounded:et()}],"rounded-s":[{"rounded-s":et()}],"rounded-e":[{"rounded-e":et()}],"rounded-t":[{"rounded-t":et()}],"rounded-r":[{"rounded-r":et()}],"rounded-b":[{"rounded-b":et()}],"rounded-l":[{"rounded-l":et()}],"rounded-ss":[{"rounded-ss":et()}],"rounded-se":[{"rounded-se":et()}],"rounded-ee":[{"rounded-ee":et()}],"rounded-es":[{"rounded-es":et()}],"rounded-tl":[{"rounded-tl":et()}],"rounded-tr":[{"rounded-tr":et()}],"rounded-br":[{"rounded-br":et()}],"rounded-bl":[{"rounded-bl":et()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-bs":[{"border-bs":Ne()}],"border-w-be":[{"border-be":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...bt(),"hidden","none"]}],"divide-style":[{divide:[...bt(),"hidden","none"]}],"border-color":[{border:Le()}],"border-color-x":[{"border-x":Le()}],"border-color-y":[{"border-y":Le()}],"border-color-s":[{"border-s":Le()}],"border-color-e":[{"border-e":Le()}],"border-color-bs":[{"border-bs":Le()}],"border-color-be":[{"border-be":Le()}],"border-color-t":[{"border-t":Le()}],"border-color-r":[{"border-r":Le()}],"border-color-b":[{"border-b":Le()}],"border-color-l":[{"border-l":Le()}],"divide-color":[{divide:Le()}],"outline-style":[{outline:[...bt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_n,Pt,Ut]}],"outline-w":[{outline:["",_n,gu,No]}],"outline-color":[{outline:Le()}],shadow:[{shadow:["","none",D,Qc,Vc]}],"shadow-color":[{shadow:Le()}],"inset-shadow":[{"inset-shadow":["none",R,Qc,Vc]}],"inset-shadow-color":[{"inset-shadow":Le()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Le()}],"ring-offset-w":[{"ring-offset":[_n,No]}],"ring-offset-color":[{"ring-offset":Le()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":Le()}],"text-shadow":[{"text-shadow":["none",L,Qc,Vc]}],"text-shadow-color":[{"text-shadow":Le()}],opacity:[{opacity:[_n,Pt,Ut]}],"mix-blend":[{"mix-blend":[...gt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":gt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_n]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":Le()}],"mask-image-linear-to-color":[{"mask-linear-to":Le()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":Le()}],"mask-image-t-to-color":[{"mask-t-to":Le()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":Le()}],"mask-image-r-to-color":[{"mask-r-to":Le()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":Le()}],"mask-image-b-to-color":[{"mask-b-to":Le()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":Le()}],"mask-image-l-to-color":[{"mask-l-to":Le()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":Le()}],"mask-image-x-to-color":[{"mask-x-to":Le()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":Le()}],"mask-image-y-to-color":[{"mask-y-to":Le()}],"mask-image-radial":[{"mask-radial":[Pt,Ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":Le()}],"mask-image-radial-to-color":[{"mask-radial-to":Le()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[_n]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":Le()}],"mask-image-conic-to-color":[{"mask-conic-to":Le()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ce()}],"mask-repeat":[{mask:Te()}],"mask-size":[{mask:Ze()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pt,Ut]}],filter:[{filter:["","none",Pt,Ut]}],blur:[{blur:W()}],brightness:[{brightness:[_n,Pt,Ut]}],contrast:[{contrast:[_n,Pt,Ut]}],"drop-shadow":[{"drop-shadow":["","none",_,Qc,Vc]}],"drop-shadow-color":[{"drop-shadow":Le()}],grayscale:[{grayscale:["",_n,Pt,Ut]}],"hue-rotate":[{"hue-rotate":[_n,Pt,Ut]}],invert:[{invert:["",_n,Pt,Ut]}],saturate:[{saturate:[_n,Pt,Ut]}],sepia:[{sepia:["",_n,Pt,Ut]}],"backdrop-filter":[{"backdrop-filter":["","none",Pt,Ut]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[_n,Pt,Ut]}],"backdrop-contrast":[{"backdrop-contrast":[_n,Pt,Ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_n,Pt,Ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_n,Pt,Ut]}],"backdrop-invert":[{"backdrop-invert":["",_n,Pt,Ut]}],"backdrop-opacity":[{"backdrop-opacity":[_n,Pt,Ut]}],"backdrop-saturate":[{"backdrop-saturate":[_n,Pt,Ut]}],"backdrop-sepia":[{"backdrop-sepia":["",_n,Pt,Ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pt,Ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_n,"initial",Pt,Ut]}],ease:[{ease:["linear","initial",T,Pt,Ut]}],delay:[{delay:[_n,Pt,Ut]}],animate:[{animate:["none",F,Pt,Ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Pt,Ut]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:O()}],"scale-x":[{"scale-x":O()}],"scale-y":[{"scale-y":O()}],"scale-z":[{"scale-z":O()}],"scale-3d":["scale-3d"],skew:[{skew:Z()}],"skew-x":[{"skew-x":Z()}],"skew-y":[{"skew-y":Z()}],transform:[{transform:[Pt,Ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:Le()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Le()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt,Ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mbs":[{"scroll-mbs":w()}],"scroll-mbe":[{"scroll-mbe":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pbs":[{"scroll-pbs":w()}],"scroll-pbe":[{"scroll-pbe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt,Ut]}],fill:[{fill:["none",...Le()]}],"stroke-w":[{stroke:[_n,gu,No,Tm]}],stroke:[{stroke:["none",...Le()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},n3=kE(t3);function ga(...a){return n3(hE(a))}function _o(){return typeof window<"u"&&window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const r=Math.random()*16|0;return(a==="x"?r:r&3|8).toString(16)})}function r3(){return q.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-16 bg-white border-t border-gray-200 flex items-center justify-around z-50",children:[q.jsxs(Xc,{to:"/mfa",className:({isActive:a})=>ga("flex flex-col items-center justify-center w-full h-full text-xs font-medium transition-colors",a?"text-indigo-600":"text-gray-500 hover:text-gray-900"),children:[q.jsx(qh,{className:"w-6 h-6 mb-1"}),"MFA"]}),q.jsxs(Xc,{to:"/accounts",className:({isActive:a})=>ga("flex flex-col items-center justify-center w-full h-full text-xs font-medium transition-colors",a?"text-indigo-600":"text-gray-500 hover:text-gray-900"),children:[q.jsx(yw,{className:"w-6 h-6 mb-1"}),""]}),q.jsxs(Xc,{to:"/my",className:({isActive:a})=>ga("flex flex-col items-center justify-center w-full h-full text-xs font-medium transition-colors",a?"text-indigo-600":"text-gray-500 hover:text-gray-900"),children:[q.jsx(uE,{className:"w-6 h-6 mb-1"}),""]})]})}function a3(){return q.jsxs("div",{className:"min-h-screen bg-gray-50 pb-16",children:[q.jsx("main",{className:"p-4 max-w-md mx-auto",children:q.jsx(kC,{})}),q.jsx(r3,{})]})}function mx({onComplete:a,error:r,showBiometrics:s,onBiometrics:d,onForgot:v,isLoading:m,disabled:A}){const[p,E]=ie.useState(""),C=L=>{if(!(m||A)&&p.length<8){const _=p+L;E(_),_.length===8&&(a(_),E(""))}},D=()=>{m||A||E(p.slice(0,-1))},R=()=>{m||A||E("")};return q.jsxs("div",{className:"flex flex-col items-center w-full max-w-sm mx-auto",children:[q.jsx("div",{className:"flex gap-3 mb-8 h-4 items-center justify-center",children:m?q.jsx(Qw,{className:"w-6 h-6 text-indigo-600 animate-spin"}):Array.from({length:8}).map((L,_)=>q.jsx("div",{className:ga("w-4 h-4 rounded-full border-2 transition-all",_<p.length?"bg-indigo-600 border-indigo-600":"border-gray-300")},_))}),r&&!m&&q.jsx("p",{className:"text-red-500 text-sm mb-4 animate-pulse",children:r}),q.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full px-6",children:[[1,2,3,4,5,6,7,8,9].map(L=>q.jsx("button",{onClick:()=>C(L.toString()),disabled:m||A,className:"h-16 rounded-full bg-white shadow-sm border border-gray-100 text-2xl font-medium text-gray-800 hover:bg-gray-50 active:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:L},L)),q.jsx("button",{onClick:R,disabled:m||A,className:"h-16 rounded-full text-sm font-medium text-gray-500 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""}),q.jsx("button",{onClick:()=>C("0"),disabled:m||A,className:"h-16 rounded-full bg-white shadow-sm border border-gray-100 text-2xl font-medium text-gray-800 hover:bg-gray-50 active:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"0"}),q.jsx("button",{onClick:D,disabled:m||A,className:"h-16 rounded-full flex items-center justify-center text-gray-500 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:q.jsx(Iw,{className:"w-6 h-6"})})]}),q.jsxs("div",{className:"mt-8 flex justify-between w-full px-8",children:[v?q.jsx("button",{onClick:v,disabled:m||A,className:"text-sm text-indigo-600 font-medium disabled:opacity-50",children:"?"}):q.jsx("div",{}),s&&d&&q.jsx("button",{onClick:d,disabled:m||A,className:"text-indigo-600 disabled:opacity-50",children:q.jsx(kw,{className:"w-8 h-8"})})]})]})}function io({message:a,visible:r,onClose:s}){const d=ie.useRef(s);return ie.useEffect(()=>{d.current=s},[s]),ie.useEffect(()=>{if(r){const v=a.length>15?5e3:3e3,m=setTimeout(()=>{d.current()},v);return()=>clearTimeout(m)}},[r,a]),r?q.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-gray-800/90 text-white px-6 py-3 rounded-2xl text-sm shadow-lg z-[100] animate-in fade-in slide-in-from-bottom-4 max-w-[80vw] text-center",children:a}):null}function i3(){const{init:a}=Sl(),[r,s]=ie.useState("options"),[d,v]=ie.useState(""),[m,A]=ie.useState(""),[p,E]=ie.useState(""),C=ie.useRef(null),[D,R]=ie.useState(""),[L,_]=ie.useState(!1),V=K=>{R(K),_(!0)},P=K=>{v(K),s("create2")},H=async K=>{if(K!==d){A(""),s("create1"),v("");return}E(K),s("success"),V("")},T=async()=>{try{await a(p)}catch(K){A(K.message||""),s("create1"),v("")}},F=()=>{var K;(K=C.current)==null||K.click()},U=async K=>{var M;const X=(M=K.target.files)==null?void 0:M[0];if(X){try{const I=await X.text();if(!I||I==="undefined"){V("");return}const w=JSON.parse(I);if(!w.baseData||w.baseData.length===0){V("");return}await At.transaction("rw",[At.baseData,At.securityData,At.tags,At.totps,At.accounts,At.syncData],async()=>{if(await At.baseData.clear(),await At.baseData.bulkAdd(w.baseData),w.securityData&&(await At.securityData.clear(),await At.securityData.bulkAdd(w.securityData)),w.tags&&(await At.tags.clear(),await At.tags.bulkAdd(w.tags)),w.totps)for(const j of w.totps){const ae=await At.totps.get(j.id);(!ae||ae.time<j.time)&&await At.totps.put(j)}if(w.accounts)for(const j of w.accounts){const ae=await At.accounts.get(j.id);(!ae||ae.time<j.time)&&await At.accounts.put(j)}w.syncData&&(await At.syncData.clear(),await At.syncData.bulkAdd(w.syncData))}),V(""),setTimeout(()=>{window.location.reload()},1500)}catch{V("")}C.current&&(C.current.value="")}};return r==="options"?q.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:[q.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-3xl flex items-center justify-center shadow-lg mb-8",children:q.jsx(wm,{className:"w-10 h-10 text-white"})}),q.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cipher Vault"}),q.jsxs("p",{className:"text-gray-500 mb-12 text-center",children:["",q.jsx("br",{}),""]}),q.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[q.jsx("button",{onClick:()=>s("create1"),className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-medium shadow-md hover:bg-indigo-700 transition-colors",children:""}),q.jsx("input",{type:"file",accept:".json",className:"hidden",ref:C,onChange:U}),q.jsxs("button",{onClick:F,className:"w-full py-4 bg-white text-gray-700 rounded-2xl font-medium shadow-sm border border-gray-200 flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",children:[q.jsx(J2,{className:"w-5 h-5"}),""]}),q.jsxs("button",{onClick:()=>V(""),className:"w-full py-4 bg-white text-gray-700 rounded-2xl font-medium shadow-sm border border-gray-200 flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",children:[q.jsx(Aw,{className:"w-5 h-5"}),""]})]}),q.jsx(io,{message:D,visible:L,onClose:()=>_(!1)})]}):r==="success"?q.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 text-center",children:[q.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-8",children:q.jsx(wm,{className:"w-10 h-10 text-green-600"})}),q.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),q.jsx("p",{className:"text-gray-500 mb-12 max-w-xs",children:""}),q.jsx("button",{onClick:T,className:"w-full max-w-sm py-4 bg-indigo-600 text-white rounded-2xl font-medium shadow-md hover:bg-indigo-700 transition-colors",children:""}),q.jsx(io,{message:D,visible:L,onClose:()=>_(!1)})]}):q.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center pt-20 p-6",children:[q.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r==="create1"?"":""}),q.jsxs("p",{className:"text-gray-500 mb-12 text-sm text-center",children:["8",q.jsx("br",{}),""]}),q.jsx(mx,{onComplete:r==="create1"?P:H,error:m}),q.jsx(io,{message:D,visible:L,onClose:()=>_(!1)})]})}function pa({isOpen:a,onClose:r,title:s,children:d}){return a?q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50",children:q.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[q.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[q.jsx("h3",{className:"font-semibold text-gray-900",children:s}),q.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:q.jsx(Su,{className:"w-5 h-5"})})]}),q.jsx("div",{className:"p-4 overflow-y-auto",children:d})]})}):null}function s3(){const{login:a,errorCount:r,lockoutUntil:s,biometricLogin:d,enableBiometric:v,isBiometricConfigured:m}=Sl(),[A,p]=ie.useState(""),[E,C]=ie.useState(0),[D,R]=ie.useState(!1),[L,_]=ie.useState(""),[V,P]=ie.useState(!1),[H,T]=ie.useState(!1),[F,U]=ie.useState(""),K=Te=>{_(Te),P(!0)},[X,M]=ie.useState(!1),[I,w]=ie.useState(""),[j,ae]=ie.useState(""),[de,ee]=ie.useState(""),[se,Ae]=ie.useState(""),[oe,he]=ie.useState(1);ie.useEffect(()=>{const Te=setInterval(()=>{const Ze=Math.max(0,Math.ceil((s-Date.now())/1e3));C(Ze)},1e3);return()=>clearInterval(Te)},[s]);const ve=async Te=>{E>0||(R(!0),p(""),setTimeout(async()=>{await a(Te)||p(""),R(!1)},50))},ke=async()=>{if(!Ch()){K("");return}if(m){R(!0);try{const Te=await d();Te.success||K(Te.error||"")}catch{K("")}finally{R(!1)}}else T(!0)},Ke=async()=>{if(F.length!==8){K("8");return}R(!0);try{const Te=await v(F);Te.success?(K(""),T(!1),U("")):K(Te.error||"")}catch{K("")}finally{R(!1)}},Le=async()=>{try{const Te=await At.securityData.get(1);if(!Te){K("");return}w(Te.question),M(!0),he(1),ae(""),ee(""),Ae(""),p("")}catch{alert("")}},Ce=async()=>{if(!j){p("");return}if(de.length!==8||se.length!==8){p("8");return}if(de!==se){p("");return}R(!0),p(""),setTimeout(async()=>{try{const Te=await At.securityData.get(1),Ze=await At.baseData.get(1);if(!Te||!Ze)throw new Error("");const De=pl(Te.answerSalt),et=await fs(j,De),Ne=await ba(et);let bt;try{bt=await gl(Ne,Te.resetKey)}catch{throw new Error("")}const gt=await Eu(),Q=await fs(de,gt),W=await ba(Q),re=await li(W,"success"),O=await li(W,bt);await At.baseData.put({id:1,salt:Iu(gt),checkKey:re,dataKey:O,time:Date.now()}),await a(de)}catch(Te){p(Te.message||"")}finally{R(!1)}},50)};return X?q.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex flex-col items-center pt-20 p-6",children:q.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[q.jsxs("button",{onClick:()=>M(!1),className:"flex items-center text-gray-500 hover:text-gray-700 mb-6 transition-colors",children:[q.jsx(Z2,{className:"w-5 h-5 mr-1"}),""]}),q.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[q.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:""}),A&&q.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-xl text-sm mb-4",children:A}),q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("div",{className:"p-3 bg-gray-50 rounded-xl text-gray-800",children:I})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"text",value:j,onChange:Te=>ae(Te.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all text-base",placeholder:"",disabled:D})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (8)"}),q.jsx("input",{type:"password",value:de,onChange:Te=>ee(Te.target.value.replace(/\D/g,"").slice(0,8)),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all tracking-widest text-base",placeholder:"8",maxLength:8,disabled:D})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"password",value:se,onChange:Te=>Ae(Te.target.value.replace(/\D/g,"").slice(0,8)),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all tracking-widest text-base",placeholder:"",maxLength:8,disabled:D})]}),q.jsx("button",{onClick:Ce,disabled:D||!j||de.length!==8||se.length!==8,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center mt-6",children:D?"...":""})]})]})]})}):q.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex flex-col items-center pt-20 p-6",children:[q.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-gray-100 mb-6",children:q.jsx($w,{className:"w-8 h-8 text-indigo-600"})}),q.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),q.jsx("p",{className:"text-gray-500 mb-12 text-sm",children:E>0?` ${E} `:"8"}),q.jsx(mx,{onComplete:ve,error:A,showBiometrics:Ch(),onBiometrics:ke,onForgot:Le,isLoading:D,disabled:E>0}),q.jsx(pa,{isOpen:H,onClose:()=>T(!1),title:"",children:q.jsxs("div",{className:"space-y-4",children:[q.jsx("p",{className:"text-sm text-gray-600",children:""}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"password",value:F,onChange:Te=>U(Te.target.value.replace(/\D/g,"").slice(0,8)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 tracking-widest",placeholder:"8",maxLength:8})]}),q.jsx("button",{onClick:Ke,disabled:F.length!==8||D,className:"w-full py-2.5 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:D?"...":""})]})}),q.jsx(io,{message:L,visible:V,onClose:()=>P(!1)})]})}//! otpauth 9.5.0 | (c) Hctor Molinero Fernndez | MIT | https://github.com/hectorm/otpauth
//! noble-hashes 2.0.1 | (c) Paul Miller | MIT | https://github.com/paulmillr/noble-hashes
const o3=a=>{const r=new ArrayBuffer(8),s=new Uint8Array(r);let d=a;for(let v=7;v>=0&&d!==0;v--)s[v]=d&255,d-=s[v],d/=256;return s};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function l3(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&a.constructor.name==="Uint8Array"}function tf(a,r=""){if(!Number.isSafeInteger(a)||a<0){const s=r&&`"${r}" `;throw new Error(`${s}expected integer >= 0, got ${a}`)}}function xl(a,r,s=""){const d=l3(a),v=a==null?void 0:a.length,m=r!==void 0;if(!d||m&&v!==r){const A=s&&`"${s}" `,p=m?` of length ${r}`:"",E=d?`length=${v}`:`type=${typeof a}`;throw new Error(A+"expected Uint8Array"+p+", got "+E)}return a}function u3(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash must wrapped by utils.createHasher");tf(a.outputLen),tf(a.blockLen)}function vl(a,r=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(r&&a.finished)throw new Error("Hash#digest() has already been called")}function xx(a,r){xl(a,void 0,"digestInto() output");const s=r.outputLen;if(a.length<s)throw new Error('"digestInto() output" expected to be of length >='+s)}function c3(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function Li(...a){for(let r=0;r<a.length;r++)a[r].fill(0)}function uh(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function Oi(a,r){return a<<32-r|a>>>r}function ch(a,r){return a<<r|a>>>32-r>>>0}const f3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function d3(a){return a<<24&4278190080|a<<8&16711680|a>>>8&65280|a>>>24&255}function h3(a){for(let r=0;r<a.length;r++)a[r]=d3(a[r]);return a}const _m=f3?a=>a:h3;function Tl(a,r={}){const s=(v,m)=>a(m).update(v).digest(),d=a(void 0);return s.outputLen=d.outputLen,s.blockLen=d.blockLen,s.create=v=>a(v),Object.assign(s,r),Object.freeze(s)}const oo=a=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,a])});class vx{update(r){return vl(this),this.iHash.update(r),this}digestInto(r){vl(this),xl(r,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:d,finished:v,destroyed:m,blockLen:A,outputLen:p}=this;return r=r,r.finished=v,r.destroyed=m,r.blockLen=A,r.outputLen=p,r.oHash=s._cloneInto(r.oHash),r.iHash=d._cloneInto(r.iHash),r}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(r,s){if(this.finished=!1,this.destroyed=!1,u3(r),xl(s,void 0,"key"),this.iHash=r.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,v=new Uint8Array(d);v.set(s.length>d?r.create().update(s).digest():s);for(let m=0;m<v.length;m++)v[m]^=54;this.iHash.update(v),this.oHash=r.create();for(let m=0;m<v.length;m++)v[m]^=106;this.oHash.update(v),Li(v)}}const Ih=(a,r,s)=>new vx(a,r).update(s).digest();Ih.create=(a,r)=>new vx(a,r);function Ax(a,r,s){return a&r^~a&s}function Cx(a,r,s){return a&r^a&s^r&s}class Wh{update(r){vl(this),xl(r);const{view:s,buffer:d,blockLen:v}=this,m=r.length;for(let A=0;A<m;){const p=Math.min(v-this.pos,m-A);if(p===v){const E=uh(r);for(;v<=m-A;A+=v)this.process(E,A);continue}d.set(r.subarray(A,A+p),this.pos),this.pos+=p,A+=p,this.pos===v&&(this.process(s,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){vl(this),xx(r,this),this.finished=!0;const{buffer:s,view:d,blockLen:v,isLE:m}=this;let{pos:A}=this;s[A++]=128,Li(this.buffer.subarray(A)),this.padOffset>v-A&&(this.process(d,0),A=0);for(let R=A;R<v;R++)s[R]=0;d.setBigUint64(v-8,BigInt(this.length*8),m),this.process(d,0);const p=uh(r),E=this.outputLen;if(E%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const C=E/4,D=this.get();if(C>D.length)throw new Error("_sha2: outputLen bigger than state");for(let R=0;R<C;R++)p.setUint32(4*R,D[R],m)}digest(){const{buffer:r,outputLen:s}=this;this.digestInto(r);const d=r.slice(0,s);return this.destroy(),d}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:s,buffer:d,length:v,finished:m,destroyed:A,pos:p}=this;return r.destroyed=A,r.finished=m,r.length=v,r.pos=p,v%s&&r.buffer.set(d),r}clone(){return this._cloneInto()}constructor(r,s,d,v){this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=r,this.outputLen=s,this.padOffset=d,this.isLE=v,this.buffer=new Uint8Array(r),this.view=uh(this.buffer)}}const Js=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$s=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),da=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ha=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),pu=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),eo=new Uint32Array(80);class g3 extends Wh{get(){const{A:r,B:s,C:d,D:v,E:m}=this;return[r,s,d,v,m]}set(r,s,d,v,m){this.A=r|0,this.B=s|0,this.C=d|0,this.D=v|0,this.E=m|0}process(r,s){for(let E=0;E<16;E++,s+=4)eo[E]=r.getUint32(s,!1);for(let E=16;E<80;E++)eo[E]=ch(eo[E-3]^eo[E-8]^eo[E-14]^eo[E-16],1);let{A:d,B:v,C:m,D:A,E:p}=this;for(let E=0;E<80;E++){let C,D;E<20?(C=Ax(v,m,A),D=1518500249):E<40?(C=v^m^A,D=1859775393):E<60?(C=Cx(v,m,A),D=2400959708):(C=v^m^A,D=3395469782);const R=ch(d,5)+C+p+D+eo[E]|0;p=A,A=m,m=ch(v,30),v=d,d=R}d=d+this.A|0,v=v+this.B|0,m=m+this.C|0,A=A+this.D|0,p=p+this.E|0,this.set(d,v,m,A,p)}roundClean(){Li(eo)}destroy(){this.set(0,0,0,0,0),Li(this.buffer)}constructor(){super(64,20,8,!1),this.A=pu[0]|0,this.B=pu[1]|0,this.C=pu[2]|0,this.D=pu[3]|0,this.E=pu[4]|0}}const p3=Tl(()=>new g3),Hc=BigInt(2**32-1),Dm=BigInt(32);function y3(a,r=!1){return r?{h:Number(a&Hc),l:Number(a>>Dm&Hc)}:{h:Number(a>>Dm&Hc)|0,l:Number(a&Hc)|0}}function bx(a,r=!1){const s=a.length;let d=new Uint32Array(s),v=new Uint32Array(s);for(let m=0;m<s;m++){const{h:A,l:p}=y3(a[m],r);[d[m],v[m]]=[A,p]}return[d,v]}const Rm=(a,r,s)=>a>>>s,Om=(a,r,s)=>a<<32-s|r>>>s,ul=(a,r,s)=>a>>>s|r<<32-s,cl=(a,r,s)=>a<<32-s|r>>>s,Gc=(a,r,s)=>a<<64-s|r>>>s-32,jc=(a,r,s)=>a>>>s-32|r<<64-s,m3=(a,r,s)=>a<<s|r>>>32-s,x3=(a,r,s)=>r<<s|a>>>32-s,v3=(a,r,s)=>r<<s-32|a>>>64-s,A3=(a,r,s)=>a<<s-32|r>>>64-s;function ls(a,r,s,d){const v=(r>>>0)+(d>>>0);return{h:a+s+(v/2**32|0)|0,l:v|0}}const C3=(a,r,s)=>(a>>>0)+(r>>>0)+(s>>>0),b3=(a,r,s,d)=>r+s+d+(a/2**32|0)|0,w3=(a,r,s,d)=>(a>>>0)+(r>>>0)+(s>>>0)+(d>>>0),E3=(a,r,s,d,v)=>r+s+d+v+(a/2**32|0)|0,I3=(a,r,s,d,v)=>(a>>>0)+(r>>>0)+(s>>>0)+(d>>>0)+(v>>>0),S3=(a,r,s,d,v,m)=>r+s+d+v+m+(a/2**32|0)|0,T3=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),to=new Uint32Array(64);class wx extends Wh{get(){const{A:r,B:s,C:d,D:v,E:m,F:A,G:p,H:E}=this;return[r,s,d,v,m,A,p,E]}set(r,s,d,v,m,A,p,E){this.A=r|0,this.B=s|0,this.C=d|0,this.D=v|0,this.E=m|0,this.F=A|0,this.G=p|0,this.H=E|0}process(r,s){for(let R=0;R<16;R++,s+=4)to[R]=r.getUint32(s,!1);for(let R=16;R<64;R++){const L=to[R-15],_=to[R-2],V=Oi(L,7)^Oi(L,18)^L>>>3,P=Oi(_,17)^Oi(_,19)^_>>>10;to[R]=P+to[R-7]+V+to[R-16]|0}let{A:d,B:v,C:m,D:A,E:p,F:E,G:C,H:D}=this;for(let R=0;R<64;R++){const L=Oi(p,6)^Oi(p,11)^Oi(p,25),_=D+L+Ax(p,E,C)+T3[R]+to[R]|0,P=(Oi(d,2)^Oi(d,13)^Oi(d,22))+Cx(d,v,m)|0;D=C,C=E,E=p,p=A+_|0,A=m,m=v,v=d,d=_+P|0}d=d+this.A|0,v=v+this.B|0,m=m+this.C|0,A=A+this.D|0,p=p+this.E|0,E=E+this.F|0,C=C+this.G|0,D=D+this.H|0,this.set(d,v,m,A,p,E,C,D)}roundClean(){Li(to)}destroy(){this.set(0,0,0,0,0,0,0,0),Li(this.buffer)}constructor(r){super(64,r,8,!1)}}class B3 extends wx{constructor(){super(32),this.A=Js[0]|0,this.B=Js[1]|0,this.C=Js[2]|0,this.D=Js[3]|0,this.E=Js[4]|0,this.F=Js[5]|0,this.G=Js[6]|0,this.H=Js[7]|0}}class N3 extends wx{constructor(){super(28),this.A=$s[0]|0,this.B=$s[1]|0,this.C=$s[2]|0,this.D=$s[3]|0,this.E=$s[4]|0,this.F=$s[5]|0,this.G=$s[6]|0,this.H=$s[7]|0}}const Ex=bx(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),_3=Ex[0],D3=Ex[1],no=new Uint32Array(80),ro=new Uint32Array(80);class Ix extends Wh{get(){const{Ah:r,Al:s,Bh:d,Bl:v,Ch:m,Cl:A,Dh:p,Dl:E,Eh:C,El:D,Fh:R,Fl:L,Gh:_,Gl:V,Hh:P,Hl:H}=this;return[r,s,d,v,m,A,p,E,C,D,R,L,_,V,P,H]}set(r,s,d,v,m,A,p,E,C,D,R,L,_,V,P,H){this.Ah=r|0,this.Al=s|0,this.Bh=d|0,this.Bl=v|0,this.Ch=m|0,this.Cl=A|0,this.Dh=p|0,this.Dl=E|0,this.Eh=C|0,this.El=D|0,this.Fh=R|0,this.Fl=L|0,this.Gh=_|0,this.Gl=V|0,this.Hh=P|0,this.Hl=H|0}process(r,s){for(let U=0;U<16;U++,s+=4)no[U]=r.getUint32(s),ro[U]=r.getUint32(s+=4);for(let U=16;U<80;U++){const K=no[U-15]|0,X=ro[U-15]|0,M=ul(K,X,1)^ul(K,X,8)^Rm(K,X,7),I=cl(K,X,1)^cl(K,X,8)^Om(K,X,7),w=no[U-2]|0,j=ro[U-2]|0,ae=ul(w,j,19)^Gc(w,j,61)^Rm(w,j,6),de=cl(w,j,19)^jc(w,j,61)^Om(w,j,6),ee=w3(I,de,ro[U-7],ro[U-16]),se=E3(ee,M,ae,no[U-7],no[U-16]);no[U]=se|0,ro[U]=ee|0}let{Ah:d,Al:v,Bh:m,Bl:A,Ch:p,Cl:E,Dh:C,Dl:D,Eh:R,El:L,Fh:_,Fl:V,Gh:P,Gl:H,Hh:T,Hl:F}=this;for(let U=0;U<80;U++){const K=ul(R,L,14)^ul(R,L,18)^Gc(R,L,41),X=cl(R,L,14)^cl(R,L,18)^jc(R,L,41),M=R&_^~R&P,I=L&V^~L&H,w=I3(F,X,I,D3[U],ro[U]),j=S3(w,T,K,M,_3[U],no[U]),ae=w|0,de=ul(d,v,28)^Gc(d,v,34)^Gc(d,v,39),ee=cl(d,v,28)^jc(d,v,34)^jc(d,v,39),se=d&m^d&p^m&p,Ae=v&A^v&E^A&E;T=P|0,F=H|0,P=_|0,H=V|0,_=R|0,V=L|0,{h:R,l:L}=ls(C|0,D|0,j|0,ae|0),C=p|0,D=E|0,p=m|0,E=A|0,m=d|0,A=v|0;const oe=C3(ae,ee,Ae);d=b3(oe,j,de,se),v=oe|0}({h:d,l:v}=ls(this.Ah|0,this.Al|0,d|0,v|0)),{h:m,l:A}=ls(this.Bh|0,this.Bl|0,m|0,A|0),{h:p,l:E}=ls(this.Ch|0,this.Cl|0,p|0,E|0),{h:C,l:D}=ls(this.Dh|0,this.Dl|0,C|0,D|0),{h:R,l:L}=ls(this.Eh|0,this.El|0,R|0,L|0),{h:_,l:V}=ls(this.Fh|0,this.Fl|0,_|0,V|0),{h:P,l:H}=ls(this.Gh|0,this.Gl|0,P|0,H|0),{h:T,l:F}=ls(this.Hh|0,this.Hl|0,T|0,F|0),this.set(d,v,m,A,p,E,C,D,R,L,_,V,P,H,T,F)}roundClean(){Li(no,ro)}destroy(){Li(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(r){super(128,r,16,!1)}}class R3 extends Ix{constructor(){super(64),this.Ah=ha[0]|0,this.Al=ha[1]|0,this.Bh=ha[2]|0,this.Bl=ha[3]|0,this.Ch=ha[4]|0,this.Cl=ha[5]|0,this.Dh=ha[6]|0,this.Dl=ha[7]|0,this.Eh=ha[8]|0,this.El=ha[9]|0,this.Fh=ha[10]|0,this.Fl=ha[11]|0,this.Gh=ha[12]|0,this.Gl=ha[13]|0,this.Hh=ha[14]|0,this.Hl=ha[15]|0}}class O3 extends Ix{constructor(){super(48),this.Ah=da[0]|0,this.Al=da[1]|0,this.Bh=da[2]|0,this.Bl=da[3]|0,this.Ch=da[4]|0,this.Cl=da[5]|0,this.Dh=da[6]|0,this.Dl=da[7]|0,this.Eh=da[8]|0,this.El=da[9]|0,this.Fh=da[10]|0,this.Fl=da[11]|0,this.Gh=da[12]|0,this.Gl=da[13]|0,this.Hh=da[14]|0,this.Hl=da[15]|0}}const k3=Tl(()=>new B3,oo(1)),M3=Tl(()=>new N3,oo(4)),L3=Tl(()=>new R3,oo(3)),U3=Tl(()=>new O3,oo(2)),F3=BigInt(0),yu=BigInt(1),P3=BigInt(2),V3=BigInt(7),Q3=BigInt(256),H3=BigInt(113),Sx=[],Tx=[],Bx=[];for(let a=0,r=yu,s=1,d=0;a<24;a++){[s,d]=[d,(2*s+3*d)%5],Sx.push(2*(5*d+s)),Tx.push((a+1)*(a+2)/2%64);let v=F3;for(let m=0;m<7;m++)r=(r<<yu^(r>>V3)*H3)%Q3,r&P3&&(v^=yu<<(yu<<BigInt(m))-yu);Bx.push(v)}const Nx=bx(Bx,!0),G3=Nx[0],j3=Nx[1],km=(a,r,s)=>s>32?v3(a,r,s):m3(a,r,s),Mm=(a,r,s)=>s>32?A3(a,r,s):x3(a,r,s);function K3(a,r=24){const s=new Uint32Array(10);for(let d=24-r;d<24;d++){for(let A=0;A<10;A++)s[A]=a[A]^a[A+10]^a[A+20]^a[A+30]^a[A+40];for(let A=0;A<10;A+=2){const p=(A+8)%10,E=(A+2)%10,C=s[E],D=s[E+1],R=km(C,D,1)^s[p],L=Mm(C,D,1)^s[p+1];for(let _=0;_<50;_+=10)a[A+_]^=R,a[A+_+1]^=L}let v=a[2],m=a[3];for(let A=0;A<24;A++){const p=Tx[A],E=km(v,m,p),C=Mm(v,m,p),D=Sx[A];v=a[D],m=a[D+1],a[D]=E,a[D+1]=C}for(let A=0;A<50;A+=10){for(let p=0;p<10;p++)s[p]=a[A+p];for(let p=0;p<10;p++)a[A+p]^=~s[(p+2)%10]&s[(p+4)%10]}a[0]^=G3[d],a[1]^=j3[d]}Li(s)}class Jh{clone(){return this._cloneInto()}keccak(){_m(this.state32),K3(this.state32,this.rounds),_m(this.state32),this.posOut=0,this.pos=0}update(r){vl(this),xl(r);const{blockLen:s,state:d}=this,v=r.length;for(let m=0;m<v;){const A=Math.min(s-this.pos,v-m);for(let p=0;p<A;p++)d[this.pos++]^=r[m++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:r,suffix:s,pos:d,blockLen:v}=this;r[d]^=s,(s&128)!==0&&d===v-1&&this.keccak(),r[v-1]^=128,this.keccak()}writeInto(r){vl(this,!1),xl(r),this.finish();const s=this.state,{blockLen:d}=this;for(let v=0,m=r.length;v<m;){this.posOut>=d&&this.keccak();const A=Math.min(d-this.posOut,m-v);r.set(s.subarray(this.posOut,this.posOut+A),v),this.posOut+=A,v+=A}return r}xofInto(r){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(r)}xof(r){return tf(r),this.xofInto(new Uint8Array(r))}digestInto(r){if(xx(r,this),this.finished)throw new Error("digest() was already called");return this.writeInto(r),this.destroy(),r}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Li(this.state)}_cloneInto(r){const{blockLen:s,suffix:d,outputLen:v,rounds:m,enableXOF:A}=this;return r||(r=new Jh(s,d,v,A,m)),r.state32.set(this.state32),r.pos=this.pos,r.posOut=this.posOut,r.finished=this.finished,r.rounds=m,r.suffix=d,r.outputLen=v,r.enableXOF=A,r.destroyed=this.destroyed,r}constructor(r,s,d,v=!1,m=24){if(this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=r,this.suffix=s,this.outputLen=d,this.enableXOF=v,this.rounds=m,tf(d,"outputLen"),!(0<r&&r<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=c3(this.state)}}const xf=(a,r,s,d={})=>Tl(()=>new Jh(r,a,s),d),z3=xf(6,144,28,oo(7)),Y3=xf(6,136,32,oo(8)),q3=xf(6,104,48,oo(9)),X3=xf(6,72,64,oo(10)),Al=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),Lm={SHA1:p3,SHA224:M3,SHA256:k3,SHA384:U3,SHA512:L3,"SHA3-224":z3,"SHA3-256":Y3,"SHA3-384":q3,"SHA3-512":X3},$h=a=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(a):return"SHA1";case/^SHA(?:2?-)?224$/i.test(a):return"SHA224";case/^SHA(?:2?-)?256$/i.test(a):return"SHA256";case/^SHA(?:2?-)?384$/i.test(a):return"SHA384";case/^SHA(?:2?-)?512$/i.test(a):return"SHA512";case/^SHA3-224$/i.test(a):return"SHA3-224";case/^SHA3-256$/i.test(a):return"SHA3-256";case/^SHA3-384$/i.test(a):return"SHA3-384";case/^SHA3-512$/i.test(a):return"SHA3-512";default:throw new TypeError(`Unknown hash algorithm: ${a}`)}},Um=(a,r,s)=>{if(Ih){const d=Lm[a]??Lm[$h(a)];return Ih(d,r,s)}else throw new Error("Missing HMAC function")},Sh="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Z3=a=>{a=a.replace(/ /g,"");let r=a.length;for(;a[r-1]==="=";)--r;a=(r<a.length?a.substring(0,r):a).toUpperCase();const s=new ArrayBuffer(a.length*5/8|0),d=new Uint8Array(s);let v=0,m=0,A=0;for(let p=0;p<a.length;p++){const E=Sh.indexOf(a[p]);if(E===-1)throw new TypeError(`Invalid character found: ${a[p]}`);m=m<<5|E,v+=5,v>=8&&(v-=8,d[A++]=m>>>v)}return d},W3=a=>{let r=0,s=0,d="";for(let v=0;v<a.length;v++)for(s=s<<8|a[v],r+=8;r>=5;)d+=Sh[s>>>r-5&31],r-=5;return r>0&&(d+=Sh[s<<5-r&31]),d},J3=a=>{a=a.replace(/ /g,"");const r=new ArrayBuffer(a.length/2),s=new Uint8Array(r);for(let d=0;d<a.length;d+=2)s[d/2]=parseInt(a.substring(d,d+2),16);return s},$3=a=>{let r="";for(let s=0;s<a.length;s++){const d=a[s].toString(16);d.length===1&&(r+="0"),r+=d}return r.toUpperCase()},eI=a=>{const r=new ArrayBuffer(a.length),s=new Uint8Array(r);for(let d=0;d<a.length;d++)s[d]=a.charCodeAt(d)&255;return s},tI=a=>{let r="";for(let s=0;s<a.length;s++)r+=String.fromCharCode(a[s]);return r},Fm=Al.TextEncoder?new Al.TextEncoder:null,Pm=Al.TextDecoder?new Al.TextDecoder:null,nI=a=>{if(!Fm)throw new Error("Encoding API not available");return Fm.encode(a)},rI=a=>{if(!Pm)throw new Error("Encoding API not available");return Pm.decode(a)},aI=a=>{var r;if((r=Al.crypto)!=null&&r.getRandomValues)return Al.crypto.getRandomValues(new Uint8Array(a));throw new Error("Cryptography API not available")};class ki{static fromLatin1(r){return new ki({buffer:eI(r).buffer})}static fromUTF8(r){return new ki({buffer:nI(r).buffer})}static fromBase32(r){return new ki({buffer:Z3(r).buffer})}static fromHex(r){return new ki({buffer:J3(r).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:tI(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:rI(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:W3(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:$3(this.bytes)}),this.hex}constructor({buffer:r,size:s=20}={}){this.bytes=typeof r>"u"?aI(s):new Uint8Array(r),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}const iI=(a,r)=>{{if(a.length!==r.length)throw new TypeError("Input strings must have the same length");let s=-1,d=0;for(;++s<a.length;)d|=a.charCodeAt(s)^r.charCodeAt(s);return d===0}};class Hr{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:r,algorithm:s=Hr.defaults.algorithm,digits:d=Hr.defaults.digits,counter:v=Hr.defaults.counter,hmac:m=Um}){const A=o3(v),p=m(s,r.bytes,A);if(!(p!=null&&p.byteLength)||p.byteLength<19)throw new TypeError("Return value must be at least 19 bytes");const E=p[p.byteLength-1]&15;return(((p[E]&127)<<24|(p[E+1]&255)<<16|(p[E+2]&255)<<8|p[E+3]&255)%10**d).toString().padStart(d,"0")}generate({counter:r=this.counter++}={}){return Hr.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:r,hmac:this.hmac})}static validate({token:r,secret:s,algorithm:d,digits:v=Hr.defaults.digits,counter:m=Hr.defaults.counter,window:A=Hr.defaults.window,hmac:p=Um}){if(r.length!==v)return null;let E=null;const C=D=>{const R=Hr.generate({secret:s,algorithm:d,digits:v,counter:D,hmac:p});iI(r,R)&&(E=D-m)};C(m);for(let D=1;D<=A&&E===null&&(C(m-D),!(E!==null||(C(m+D),E!==null)));++D);return E}validate({token:r,counter:s=this.counter,window:d}){return Hr.validate({token:r,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:s,window:d,hmac:this.hmac})}toString(){const r=encodeURIComponent;return`otpauth://hotp/${this.issuer.length>0?this.issuerInLabel?`${r(this.issuer)}:${r(this.label)}?issuer=${r(this.issuer)}&`:`${r(this.label)}?issuer=${r(this.issuer)}&`:`${r(this.label)}?`}secret=${r(this.secret.base32)}&algorithm=${r(this.algorithm)}&digits=${r(this.digits)}&counter=${r(this.counter)}`}constructor({issuer:r=Hr.defaults.issuer,label:s=Hr.defaults.label,issuerInLabel:d=Hr.defaults.issuerInLabel,secret:v=new ki,algorithm:m=Hr.defaults.algorithm,digits:A=Hr.defaults.digits,counter:p=Hr.defaults.counter,hmac:E}={}){this.issuer=r,this.label=s,this.issuerInLabel=d,this.secret=typeof v=="string"?ki.fromBase32(v):v,this.algorithm=E?m:$h(m),this.digits=A,this.counter=p,this.hmac=E}}class Lr{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:r=Lr.defaults.period,timestamp:s=Date.now()}={}){return Math.floor(s/1e3/r)}counter({timestamp:r=Date.now()}={}){return Lr.counter({period:this.period,timestamp:r})}static remaining({period:r=Lr.defaults.period,timestamp:s=Date.now()}={}){return r*1e3-s%(r*1e3)}remaining({timestamp:r=Date.now()}={}){return Lr.remaining({period:this.period,timestamp:r})}static generate({secret:r,algorithm:s,digits:d,period:v=Lr.defaults.period,timestamp:m=Date.now(),hmac:A}){return Hr.generate({secret:r,algorithm:s,digits:d,counter:Lr.counter({period:v,timestamp:m}),hmac:A})}generate({timestamp:r=Date.now()}={}){return Lr.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:r,hmac:this.hmac})}static validate({token:r,secret:s,algorithm:d,digits:v,period:m=Lr.defaults.period,timestamp:A=Date.now(),window:p,hmac:E}){return Hr.validate({token:r,secret:s,algorithm:d,digits:v,counter:Lr.counter({period:m,timestamp:A}),window:p,hmac:E})}validate({token:r,timestamp:s,window:d}){return Lr.validate({token:r,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:s,window:d,hmac:this.hmac})}toString(){const r=encodeURIComponent;return`otpauth://totp/${this.issuer.length>0?this.issuerInLabel?`${r(this.issuer)}:${r(this.label)}?issuer=${r(this.issuer)}&`:`${r(this.label)}?issuer=${r(this.issuer)}&`:`${r(this.label)}?`}secret=${r(this.secret.base32)}&algorithm=${r(this.algorithm)}&digits=${r(this.digits)}&period=${r(this.period)}`}constructor({issuer:r=Lr.defaults.issuer,label:s=Lr.defaults.label,issuerInLabel:d=Lr.defaults.issuerInLabel,secret:v=new ki,algorithm:m=Lr.defaults.algorithm,digits:A=Lr.defaults.digits,period:p=Lr.defaults.period,hmac:E}={}){this.issuer=r,this.label=s,this.issuerInLabel=d,this.secret=typeof v=="string"?ki.fromBase32(v):v,this.algorithm=E?m:$h(m),this.digits=A,this.period=p,this.hmac=E}}const sI=/^otpauth:\/\/([ht]otp)\/(.+)\?([A-Z0-9.~_-]+=[^?&]*(?:&[A-Z0-9.~_-]+=[^?&]*)*)$/i,oI=/^[2-7A-Z]+=*$/i,lI=/^SHA(?:1|224|256|384|512|3-224|3-256|3-384|3-512)$/i,uI=/^[A-Z0-9]+(?:[_-][A-Z0-9]+)*$/i,cI=/^[+-]?\d+$/,Vm=/^\+?[1-9]\d*$/;class fI{static parse(r,{hmac:s}={}){let d;try{d=r.match(sI)}catch{}if(!Array.isArray(d))throw new URIError("Invalid URI format");const v=d[1].toLowerCase(),m=d[2].split(/(?::|%3A) *(.+)/i,2).map(decodeURIComponent),A=d[3].split("&").reduce((C,D)=>{const R=D.split(/=(.*)/,2).map(decodeURIComponent),L=R[0].toLowerCase(),_=R[1],V=C;return V[L]=_,V},{});let p;const E={};if(v==="hotp")if(p=Hr,typeof A.counter<"u"&&cI.test(A.counter))E.counter=parseInt(A.counter,10);else throw new TypeError("Missing or invalid 'counter' parameter");else if(v==="totp"){if(p=Lr,typeof A.period<"u")if(Vm.test(A.period))E.period=parseInt(A.period,10);else throw new TypeError("Invalid 'period' parameter")}else throw new TypeError("Unknown OTP type");if(typeof A.issuer<"u"&&(E.issuer=A.issuer),m.length===2?(E.label=m[1],typeof E.issuer>"u"||E.issuer===""?E.issuer=m[0]:m[0]===""&&(E.issuerInLabel=!1)):(E.label=m[0],typeof E.issuer<"u"&&E.issuer!==""&&(E.issuerInLabel=!1)),typeof A.secret<"u"&&oI.test(A.secret))E.secret=A.secret;else throw new TypeError("Missing or invalid 'secret' parameter");if(typeof A.algorithm<"u")if((s?uI:lI).test(A.algorithm))E.algorithm=A.algorithm;else throw new TypeError("Invalid 'algorithm' parameter");if(typeof A.digits<"u")if(Vm.test(A.digits))E.digits=parseInt(A.digits,10);else throw new TypeError("Invalid 'digits' parameter");return typeof s<"u"&&(E.hmac=s),new p(E)}static stringify(r){if(r instanceof Hr||r instanceof Lr)return r.toString();throw new TypeError("Invalid 'HOTP/TOTP' object")}}var Ot;(function(a){a[a.QR_CODE=0]="QR_CODE",a[a.AZTEC=1]="AZTEC",a[a.CODABAR=2]="CODABAR",a[a.CODE_39=3]="CODE_39",a[a.CODE_93=4]="CODE_93",a[a.CODE_128=5]="CODE_128",a[a.DATA_MATRIX=6]="DATA_MATRIX",a[a.MAXICODE=7]="MAXICODE",a[a.ITF=8]="ITF",a[a.EAN_13=9]="EAN_13",a[a.EAN_8=10]="EAN_8",a[a.PDF_417=11]="PDF_417",a[a.RSS_14=12]="RSS_14",a[a.RSS_EXPANDED=13]="RSS_EXPANDED",a[a.UPC_A=14]="UPC_A",a[a.UPC_E=15]="UPC_E",a[a.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ot||(Ot={}));var Qm=new Map([[Ot.QR_CODE,"QR_CODE"],[Ot.AZTEC,"AZTEC"],[Ot.CODABAR,"CODABAR"],[Ot.CODE_39,"CODE_39"],[Ot.CODE_93,"CODE_93"],[Ot.CODE_128,"CODE_128"],[Ot.DATA_MATRIX,"DATA_MATRIX"],[Ot.MAXICODE,"MAXICODE"],[Ot.ITF,"ITF"],[Ot.EAN_13,"EAN_13"],[Ot.EAN_8,"EAN_8"],[Ot.PDF_417,"PDF_417"],[Ot.RSS_14,"RSS_14"],[Ot.RSS_EXPANDED,"RSS_EXPANDED"],[Ot.UPC_A,"UPC_A"],[Ot.UPC_E,"UPC_E"],[Ot.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Hm;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.URL=1]="URL"})(Hm||(Hm={}));function dI(a){return Object.values(Ot).includes(a)}var nf;(function(a){a[a.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",a[a.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(nf||(nf={}));var hI=(function(){function a(){}return a.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",a.SCAN_DEFAULT_FPS=2,a.DEFAULT_DISABLE_FLIP=!1,a.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,a.DEFAULT_SUPPORTED_SCAN_TYPE=[nf.SCAN_TYPE_CAMERA,nf.SCAN_TYPE_FILE],a})(),_x=(function(){function a(r,s){this.format=r,this.formatName=s}return a.prototype.toString=function(){return this.formatName},a.create=function(r){if(!Qm.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new a(r,Qm.get(r))},a})(),Gm=(function(){function a(){}return a.createFromText=function(r){var s={text:r};return{decodedText:r,result:s}},a.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},a})(),Th;(function(a){a[a.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",a[a.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",a[a.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Th||(Th={}));var gI=(function(){function a(){}return a.createFrom=function(r){return{errorMessage:r,type:Th.UNKWOWN_ERROR}},a})(),pI=(function(){function a(r){this.verbose=r}return a.prototype.log=function(r){this.verbose&&console.log(r)},a.prototype.warn=function(r){this.verbose&&console.warn(r)},a.prototype.logError=function(r,s){(this.verbose||s===!0)&&console.error(r)},a.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},a})();function us(a){return typeof a>"u"||a===null}var hl=(function(){function a(){}return a.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},a.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},a.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},a.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},a.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},a.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},a.scannerPaused=function(){return"Scanner paused"},a})(),Dx=(function(){function a(){}return a.isMediaStreamConstraintsValid=function(r,s){if(typeof r!="object"){var d=typeof r;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var v=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],m=new Set(v),A=Object.keys(r),p=0,E=A;p<E.length;p++){var C=E[p];if(m.has(C))return s.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},a})(),vu={exports:{}},yI=vu.exports,jm;function mI(){return jm||(jm=1,(function(a,r){(function(s,d){d(r)})(yI,(function(s){function d($){return $==null}var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,t){$.__proto__=t}||function($,t){for(var i in t)t.hasOwnProperty(i)&&($[i]=t[i])};function m($,t){v($,t);function i(){this.constructor=$}$.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function A($,t){var i=Object.setPrototypeOf;i?i($,t):$.__proto__=t}function p($,t){t===void 0&&(t=$.constructor);var i=Error.captureStackTrace;i&&i($,t)}var E=(function($){m(t,$);function t(i){var l=this.constructor,c=$.call(this,i)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),A(c,l.prototype),p(c),c}return t})(Error);class C extends E{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}C.kind="Exception";class D extends C{}D.kind="ArgumentException";class R extends C{}R.kind="IllegalArgumentException";class L{constructor(t){if(this.binarizer=t,t===null)throw new R("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,l,c){const h=this.binarizer.getLuminanceSource().crop(t,i,l,c);return new L(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new L(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new L(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends C{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class V{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(t,i,l,c,h){for(;h--;)l[c++]=t[i++]}static currentTimeMillis(){return Date.now()}}class H extends C{}H.kind="IndexOutOfBoundsException";class T extends H{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}T.kind="ArrayIndexOutOfBoundsException";class F{static fill(t,i){for(let l=0,c=t.length;l<c;l++)t[l]=i}static fillWithin(t,i,l,c){F.rangeCheck(t.length,i,l);for(let h=i;h<l;h++)t[h]=c}static rangeCheck(t,i,l){if(i>l)throw new R("fromIndex("+i+") > toIndex("+l+")");if(i<0)throw new T(i);if(l>t)throw new T(l)}static asList(...t){return t}static create(t,i,l){return Array.from({length:t}).map(h=>Array.from({length:i}).fill(l))}static createInt32Array(t,i,l){return Array.from({length:t}).map(h=>Int32Array.from({length:i}).fill(l))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let l=0,c=t.length;l<c;l++)if(t[l]!==i[l])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const l of t)i=31*i+l;return i}static fillUint8Array(t,i){for(let l=0;l!==t.length;l++)t[l]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const l=new Uint8Array(i);return l.set(t),l}return t.slice(0,i)}static copyOfRange(t,i,l){const c=l-i,h=new Int32Array(c);return P.arraycopy(t,i,h,0,c),h}static binarySearch(t,i,l){l===void 0&&(l=F.numberComparator);let c=0,h=t.length-1;for(;c<=h;){const y=h+c>>1,o=l(i,t[y]);if(o>0)c=y+1;else if(o<0)h=y-1;else return y}return-c-1}static numberComparator(t,i){return t-i}}class U{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let l=31;return i=t<<16,i!==0&&(l-=16,t=i),i=t<<8,i!==0&&(l-=8,t=i),i=t<<4,i!==0&&(l-=4,t=i),i=t<<2,i!==0&&(l-=2,t=i),l-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=K.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=K.makeArray(t);P.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const l=this.bits;let c=Math.floor(t/32),h=l[c];h&=~((1<<(t&31))-1);const y=l.length;for(;h===0;){if(++c===y)return i;h=l[c]}const o=c*32+U.numberOfTrailingZeros(h);return o>i?i:o}getNextUnset(t){const i=this.size;if(t>=i)return i;const l=this.bits;let c=Math.floor(t/32),h=~l[c];h&=~((1<<(t&31))-1);const y=l.length;for(;h===0;){if(++c===y)return i;h=~l[c]}const o=c*32+U.numberOfTrailingZeros(h);return o>i?i:o}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new R;if(i===t)return;i--;const l=Math.floor(t/32),c=Math.floor(i/32),h=this.bits;for(let y=l;y<=c;y++){const o=y>l?0:t&31,x=(2<<(y<c?31:i&31))-(1<<o);h[y]|=x}}clear(){const t=this.bits.length,i=this.bits;for(let l=0;l<t;l++)i[l]=0}isRange(t,i,l){if(i<t||t<0||i>this.size)throw new R;if(i===t)return!0;i--;const c=Math.floor(t/32),h=Math.floor(i/32),y=this.bits;for(let o=c;o<=h;o++){const f=o>c?0:t&31,b=(2<<(o<h?31:i&31))-(1<<f)&4294967295;if((y[o]&b)!==(l?b:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new R("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let l=i;l>0;l--)this.appendBit((t>>l-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let l=0;l<i;l++)this.appendBit(t.get(l))}xor(t){if(this.size!==t.size)throw new R("Sizes don't match");const i=this.bits;for(let l=0,c=i.length;l<c;l++)i[l]^=t.bits[l]}toBytes(t,i,l,c){for(let h=0;h<c;h++){let y=0;for(let o=0;o<8;o++)this.get(t)&&(y|=1<<7-o),t++;i[l+h]=y}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),l=i+1,c=this.bits;for(let h=0;h<l;h++){let y=c[h];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,t[i-h]=y}if(this.size!==l*32){const h=l*32-this.size;let y=t[0]>>>h;for(let o=1;o<l;o++){const f=t[o];y|=f<<32-h,t[o-1]=y,y=f>>>h}t[l-1]=y}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof K))return!1;const i=t;return this.size===i.size&&F.equals(this.bits,i.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let t="";for(let i=0,l=this.size;i<l;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new K(this.size,this.bits.slice())}}var X;(function($){$[$.OTHER=0]="OTHER",$[$.PURE_BARCODE=1]="PURE_BARCODE",$[$.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",$[$.TRY_HARDER=3]="TRY_HARDER",$[$.CHARACTER_SET=4]="CHARACTER_SET",$[$.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",$[$.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",$[$.ASSUME_GS1=7]="ASSUME_GS1",$[$.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",$[$.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",$[$.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var M=X;class I extends C{static getFormatInstance(){return new I}}I.kind="FormatException";var w;(function($){$[$.Cp437=0]="Cp437",$[$.ISO8859_1=1]="ISO8859_1",$[$.ISO8859_2=2]="ISO8859_2",$[$.ISO8859_3=3]="ISO8859_3",$[$.ISO8859_4=4]="ISO8859_4",$[$.ISO8859_5=5]="ISO8859_5",$[$.ISO8859_6=6]="ISO8859_6",$[$.ISO8859_7=7]="ISO8859_7",$[$.ISO8859_8=8]="ISO8859_8",$[$.ISO8859_9=9]="ISO8859_9",$[$.ISO8859_10=10]="ISO8859_10",$[$.ISO8859_11=11]="ISO8859_11",$[$.ISO8859_13=12]="ISO8859_13",$[$.ISO8859_14=13]="ISO8859_14",$[$.ISO8859_15=14]="ISO8859_15",$[$.ISO8859_16=15]="ISO8859_16",$[$.SJIS=16]="SJIS",$[$.Cp1250=17]="Cp1250",$[$.Cp1251=18]="Cp1251",$[$.Cp1252=19]="Cp1252",$[$.Cp1256=20]="Cp1256",$[$.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",$[$.UTF8=22]="UTF8",$[$.ASCII=23]="ASCII",$[$.Big5=24]="Big5",$[$.GB18030=25]="GB18030",$[$.EUC_KR=26]="EUC_KR"})(w||(w={}));class j{constructor(t,i,l,...c){this.valueIdentifier=t,this.name=l,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,j.VALUE_IDENTIFIER_TO_ECI.set(t,this),j.NAME_TO_ECI.set(l,this);const h=this.values;for(let y=0,o=h.length;y!==o;y++){const f=h[y];j.VALUES_TO_ECI.set(f,this)}for(const y of c)j.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new I("incorect value");const i=j.VALUES_TO_ECI.get(t);if(i===void 0)throw new I("incorect value");return i}static getCharacterSetECIByName(t){const i=j.NAME_TO_ECI.get(t);if(i===void 0)throw new I("incorect value");return i}equals(t){if(!(t instanceof j))return!1;const i=t;return this.getName()===i.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(w.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(w.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(w.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(w.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(w.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(w.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(w.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(w.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(w.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(w.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(w.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(w.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(w.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(w.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(w.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(w.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(w.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(w.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(w.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(w.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(w.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(w.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(w.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(w.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(w.Big5,28,"Big5"),j.GB18030=new j(w.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(w.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends C{}ae.kind="UnsupportedOperationException";class de{static decode(t,i){const l=this.encodingName(i);return this.customDecoder?this.customDecoder(t,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(t,l):new TextDecoder(l).decode(t)}static shouldDecodeOnFallback(t){return!de.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const l=this.encodingName(i);return this.customEncoder?this.customEncoder(t,l):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof j?t:j.getCharacterSetECIByName(t)}static decodeFallback(t,i){const l=this.encodingCharacterSet(i);if(de.isDecodeFallbackSupported(l)){let c="";for(let h=0,y=t.length;h<y;h++){let o=t[h].toString(16);o.length<2&&(o="0"+o),c+="%"+o}return decodeURIComponent(c)}if(l.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ae(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(j.UTF8)||t.equals(j.ISO8859_1)||t.equals(j.ASCII)}static encodeFallback(t){const l=btoa(unescape(encodeURIComponent(t))).split(""),c=[];for(let h=0;h<l.length;h++)c.push(l[h].charCodeAt(0));return new Uint8Array(c)}}class ee{static castAsNonUtf8Char(t,i=null){const l=i?i.getName():this.ISO88591;return de.decode(new Uint8Array([t]),l)}static guessEncoding(t,i){if(i!=null&&i.get(M.CHARACTER_SET)!==void 0)return i.get(M.CHARACTER_SET).toString();const l=t.length;let c=!0,h=!0,y=!0,o=0,f=0,x=0,b=0,B=0,k=0,G=0,Y=0,ne=0,fe=0,ue=0;const pe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let me=0;me<l&&(c||h||y);me++){const ye=t[me]&255;y&&(o>0?(ye&128)===0?y=!1:o--:(ye&128)!==0&&((ye&64)===0?y=!1:(o++,(ye&32)===0?f++:(o++,(ye&16)===0?x++:(o++,(ye&8)===0?b++:y=!1))))),c&&(ye>127&&ye<160?c=!1:ye>159&&(ye<192||ye===215||ye===247)&&ue++),h&&(B>0?ye<64||ye===127||ye>252?h=!1:B--:ye===128||ye===160||ye>239?h=!1:ye>160&&ye<224?(k++,Y=0,G++,G>ne&&(ne=G)):ye>127?(B++,G=0,Y++,Y>fe&&(fe=Y)):(G=0,Y=0))}return y&&o>0&&(y=!1),h&&B>0&&(h=!1),y&&(pe||f+x+b>0)?ee.UTF8:h&&(ee.ASSUME_SHIFT_JIS||ne>=3||fe>=3)?ee.SHIFT_JIS:c&&h?ne===2&&k===2||ue*10>=l?ee.SHIFT_JIS:ee.ISO88591:c?ee.ISO88591:h?ee.SHIFT_JIS:y?ee.UTF8:ee.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let l=-1;function c(y,o,f,x,b,B){if(y==="%%")return"%";if(i[++l]===void 0)return;y=x?parseInt(x.substr(1)):void 0;let k=b?parseInt(b.substr(1)):void 0,G;switch(B){case"s":G=i[l];break;case"c":G=i[l][0];break;case"f":G=parseFloat(i[l]).toFixed(y);break;case"p":G=parseFloat(i[l]).toPrecision(y);break;case"e":G=parseFloat(i[l]).toExponential(y);break;case"x":G=parseInt(i[l]).toString(k||16);break;case"d":G=parseFloat(parseInt(i[l],k||10).toPrecision(y)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(k);let Y=parseInt(f),ne=f&&f[0]+""=="0"?"0":" ";for(;G.length<Y;)G=o!==void 0?G+ne:ne+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,c)}static getBytes(t,i){return de.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}ee.SHIFT_JIS=j.SJIS.getName(),ee.GB2312="GB2312",ee.ISO88591=j.ISO8859_1.getName(),ee.EUC_JP="EUC_JP",ee.UTF8=j.UTF8.getName(),ee.PLATFORM_DEFAULT_ENCODING=ee.UTF8,ee.ASSUME_SHIFT_JIS=!1;class se{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ee.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,l){for(let c=i;i<i+l;c++)this.append(t[c]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class Ae{constructor(t,i,l,c){if(this.width=t,this.height=i,this.rowSize=l,this.bits=c,i==null&&(i=t),this.height=i,t<1||i<1)throw new R("Both dimensions must be greater than 0");l==null&&(l=Math.floor((t+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,l=t[0].length,c=new Ae(l,i);for(let h=0;h<i;h++){const y=t[h];for(let o=0;o<l;o++)y[o]&&c.set(o,h)}return c}static parseFromString(t,i,l){if(t===null)throw new R("stringRepresentation cannot be null");const c=new Array(t.length);let h=0,y=0,o=-1,f=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(h>y){if(o===-1)o=h-y;else if(h-y!==o)throw new R("row lengths do not match");y=h,f++}x++}else if(t.substring(x,x+i.length)===i)x+=i.length,c[h]=!0,h++;else if(t.substring(x,x+l.length)===l)x+=l.length,c[h]=!1,h++;else throw new R("illegal character encountered: "+t.substring(x));if(h>y){if(o===-1)o=h-y;else if(h-y!==o)throw new R("row lengths do not match");f++}const b=new Ae(o,f);for(let B=0;B<h;B++)c[B]&&b.set(Math.floor(B%o),Math.floor(B/o));return b}get(t,i){const l=i*this.rowSize+Math.floor(t/32);return(this.bits[l]>>>(t&31)&1)!==0}set(t,i){const l=i*this.rowSize+Math.floor(t/32);this.bits[l]|=1<<(t&31)&4294967295}unset(t,i){const l=i*this.rowSize+Math.floor(t/32);this.bits[l]&=~(1<<(t&31)&4294967295)}flip(t,i){const l=i*this.rowSize+Math.floor(t/32);this.bits[l]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new R("input matrix dimensions do not match");const i=new K(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let h=0,y=this.height;h<y;h++){const o=h*l,f=t.getRow(h,i).getBitArray();for(let x=0;x<l;x++)c[o+x]^=f[x]}}clear(){const t=this.bits,i=t.length;for(let l=0;l<i;l++)t[l]=0}setRegion(t,i,l,c){if(i<0||t<0)throw new R("Left and top must be nonnegative");if(c<1||l<1)throw new R("Height and width must be at least 1");const h=t+l,y=i+c;if(y>this.height||h>this.width)throw new R("The region must fit inside the matrix");const o=this.rowSize,f=this.bits;for(let x=i;x<y;x++){const b=x*o;for(let B=t;B<h;B++)f[b+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new K(this.width):i.clear();const l=this.rowSize,c=this.bits,h=t*l;for(let y=0;y<l;y++)i.setBulk(y*32,c[h+y]);return i}setRow(t,i){P.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let l=new K(t),c=new K(t);for(let h=0,y=Math.floor((i+1)/2);h<y;h++)l=this.getRow(h,l),c=this.getRow(i-1-h,c),l.reverse(),c.reverse(),this.setRow(h,c),this.setRow(i-1-h,l)}getEnclosingRectangle(){const t=this.width,i=this.height,l=this.rowSize,c=this.bits;let h=t,y=i,o=-1,f=-1;for(let x=0;x<i;x++)for(let b=0;b<l;b++){const B=c[x*l+b];if(B!==0){if(x<y&&(y=x),x>f&&(f=x),b*32<h){let k=0;for(;(B<<31-k&4294967295)===0;)k++;b*32+k<h&&(h=b*32+k)}if(b*32+31>o){let k=31;for(;!(B>>>k);)k--;b*32+k>o&&(o=b*32+k)}}}return o<h||f<y?null:Int32Array.from([h,y,o-h+1,f-y+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let l=0;for(;l<i.length&&i[l]===0;)l++;if(l===i.length)return null;const c=l/t;let h=l%t*32;const y=i[l];let o=0;for(;(y<<31-o&4294967295)===0;)o++;return h+=o,Int32Array.from([h,c])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let l=i.length-1;for(;l>=0&&i[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/t);let h=Math.floor(l%t)*32;const y=i[l];let o=31;for(;!(y>>>o);)o--;return h+=o,Int32Array.from([h,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ae))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&F.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+F.hashCode(this.bits),t}toString(t="X ",i="  ",l=`
`){return this.buildToString(t,i,l)}buildToString(t,i,l){let c=new se;for(let h=0,y=this.height;h<y;h++){for(let o=0,f=this.width;o<f;o++)c.append(this.get(o,h)?t:i);c.append(l)}return c.toString()}clone(){return new Ae(this.width,this.height,this.rowSize,this.bits.slice())}}class oe extends C{static getNotFoundInstance(){return new oe}}oe.kind="NotFoundException";class he extends V{constructor(t){super(t),this.luminances=he.EMPTY,this.buckets=new Int32Array(he.LUMINANCE_BUCKETS)}getBlackRow(t,i){const l=this.getLuminanceSource(),c=l.getWidth();i==null||i.getSize()<c?i=new K(c):i.clear(),this.initArrays(c);const h=l.getRow(t,this.luminances),y=this.buckets;for(let f=0;f<c;f++)y[(h[f]&255)>>he.LUMINANCE_SHIFT]++;const o=he.estimateBlackPoint(y);if(c<3)for(let f=0;f<c;f++)(h[f]&255)<o&&i.set(f);else{let f=h[0]&255,x=h[1]&255;for(let b=1;b<c-1;b++){const B=h[b+1]&255;(x*4-f-B)/2<o&&i.set(b),f=x,x=B}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),l=t.getHeight(),c=new Ae(i,l);this.initArrays(i);const h=this.buckets;for(let f=1;f<5;f++){const x=Math.floor(l*f/5),b=t.getRow(x,this.luminances),B=Math.floor(i*4/5);for(let k=Math.floor(i/5);k<B;k++){const G=b[k]&255;h[G>>he.LUMINANCE_SHIFT]++}}const y=he.estimateBlackPoint(h),o=t.getMatrix();for(let f=0;f<l;f++){const x=f*i;for(let b=0;b<i;b++)(o[x+b]&255)<y&&c.set(b,f)}return c}createBinarizer(t){return new he(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let l=0;l<he.LUMINANCE_BUCKETS;l++)i[l]=0}static estimateBlackPoint(t){const i=t.length;let l=0,c=0,h=0;for(let b=0;b<i;b++)t[b]>h&&(c=b,h=t[b]),t[b]>l&&(l=t[b]);let y=0,o=0;for(let b=0;b<i;b++){const B=b-c,k=t[b]*B*B;k>o&&(y=b,o=k)}if(c>y){const b=c;c=y,y=b}if(y-c<=i/16)throw new oe;let f=y-1,x=-1;for(let b=y-1;b>c;b--){const B=b-c,k=B*B*(y-b)*(l-t[b]);k>x&&(f=b,x=k)}return f<<he.LUMINANCE_SHIFT}}he.LUMINANCE_BITS=5,he.LUMINANCE_SHIFT=8-he.LUMINANCE_BITS,he.LUMINANCE_BUCKETS=1<<he.LUMINANCE_BITS,he.EMPTY=Uint8ClampedArray.from([0]);class ve extends he{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),l=t.getHeight();if(i>=ve.MINIMUM_DIMENSION&&l>=ve.MINIMUM_DIMENSION){const c=t.getMatrix();let h=i>>ve.BLOCK_SIZE_POWER;(i&ve.BLOCK_SIZE_MASK)!==0&&h++;let y=l>>ve.BLOCK_SIZE_POWER;(l&ve.BLOCK_SIZE_MASK)!==0&&y++;const o=ve.calculateBlackPoints(c,h,y,i,l),f=new Ae(i,l);ve.calculateThresholdForBlock(c,h,y,i,l,o,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ve(t)}static calculateThresholdForBlock(t,i,l,c,h,y,o){const f=h-ve.BLOCK_SIZE,x=c-ve.BLOCK_SIZE;for(let b=0;b<l;b++){let B=b<<ve.BLOCK_SIZE_POWER;B>f&&(B=f);const k=ve.cap(b,2,l-3);for(let G=0;G<i;G++){let Y=G<<ve.BLOCK_SIZE_POWER;Y>x&&(Y=x);const ne=ve.cap(G,2,i-3);let fe=0;for(let pe=-2;pe<=2;pe++){const me=y[k+pe];fe+=me[ne-2]+me[ne-1]+me[ne]+me[ne+1]+me[ne+2]}const ue=fe/25;ve.thresholdBlock(t,Y,B,ue,c,o)}}}static cap(t,i,l){return t<i?i:t>l?l:t}static thresholdBlock(t,i,l,c,h,y){for(let o=0,f=l*h+i;o<ve.BLOCK_SIZE;o++,f+=h)for(let x=0;x<ve.BLOCK_SIZE;x++)(t[f+x]&255)<=c&&y.set(i+x,l+o)}static calculateBlackPoints(t,i,l,c,h){const y=h-ve.BLOCK_SIZE,o=c-ve.BLOCK_SIZE,f=new Array(l);for(let x=0;x<l;x++){f[x]=new Int32Array(i);let b=x<<ve.BLOCK_SIZE_POWER;b>y&&(b=y);for(let B=0;B<i;B++){let k=B<<ve.BLOCK_SIZE_POWER;k>o&&(k=o);let G=0,Y=255,ne=0;for(let ue=0,pe=b*c+k;ue<ve.BLOCK_SIZE;ue++,pe+=c){for(let me=0;me<ve.BLOCK_SIZE;me++){const ye=t[pe+me]&255;G+=ye,ye<Y&&(Y=ye),ye>ne&&(ne=ye)}if(ne-Y>ve.MIN_DYNAMIC_RANGE)for(ue++,pe+=c;ue<ve.BLOCK_SIZE;ue++,pe+=c)for(let me=0;me<ve.BLOCK_SIZE;me++)G+=t[pe+me]&255}let fe=G>>ve.BLOCK_SIZE_POWER*2;if(ne-Y<=ve.MIN_DYNAMIC_RANGE&&(fe=Y/2,x>0&&B>0)){const ue=(f[x-1][B]+2*f[x][B-1]+f[x-1][B-1])/4;Y<ue&&(fe=ue)}f[x][B]=fe}}return f}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class ke{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,l,c){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new se;for(let l=0;l<this.height;l++){const c=this.getRow(l,t);for(let h=0;h<this.width;h++){const y=c[h]&255;let o;y<64?o="#":y<128?o="+":y<192?o=".":o=" ",i.append(o)}i.append(`
`)}return i.toString()}}class Ke extends ke{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const l=this.delegate.getRow(t,i),c=this.getWidth();for(let h=0;h<c;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(i);for(let c=0;c<i;c++)l[c]=255-(t[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,l,c){return new Ke(this.delegate.crop(t,i,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ke(this.delegate.rotateCounterClockwise45())}}class Le extends ke{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return Le.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,l){const c=new Uint8ClampedArray(i*l);for(let h=0,y=0,o=t.length;h<o;h+=4,y++){let f;if(t[h+3]===0)f=255;else{const b=t[h],B=t[h+1],k=t[h+2];f=306*b+601*B+117*k+512>>10}c[y]=f}return c}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const l=this.getWidth(),c=t*l;return i===null?i=this.buffer.slice(c,c+l):(i.length<l&&(i=new Uint8ClampedArray(l)),i.set(this.buffer.slice(c,c+l))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,l,c){return super.crop(t,i,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),l=i.getContext("2d"),c=t*Le.DEGREE_TO_RADIANS,h=this.canvas.width,y=this.canvas.height,o=Math.ceil(Math.abs(Math.cos(c))*h+Math.abs(Math.sin(c))*y),f=Math.ceil(Math.abs(Math.sin(c))*h+Math.abs(Math.cos(c))*y);return i.width=o,i.height=f,l.translate(o/2,f/2),l.rotate(c),l.drawImage(this.canvas,h/-2,y/-2),this.buffer=Le.makeBufferFromCanvasImageData(i),this}invert(){return new Ke(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class Ce{constructor(t,i,l){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Te=(globalThis||dl||self||window||void 0)&&(globalThis||dl||self||window||void 0).__awaiter||function($,t,i,l){function c(h){return h instanceof i?h:new i(function(y){y(h)})}return new(i||(i=Promise))(function(h,y){function o(b){try{x(l.next(b))}catch(B){y(B)}}function f(b){try{x(l.throw(b))}catch(B){y(B)}}function x(b){b.done?h(b.value):c(b.value).then(o,f)}x((l=l.apply($,t||[])).next())})};class Ze{constructor(t,i=500,l){this.reader=t,this.timeBetweenScansMillis=i,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const l of t){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const h=l.deviceId||l.id,y=l.label||`Video device ${i.length+1}`,o=l.groupId,f={deviceId:h,label:y,kind:c,groupId:o};i.push(f)}return i})}getVideoInputDevices(){return Te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Ce(i.deviceId,i.label))})}findDeviceById(t){return Te(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(l=>l.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return Te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return Te(this,void 0,void 0,function*(){this.reset();let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(t,i){return Te(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(l,i)})}decodeOnceFromStream(t,i){return Te(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(t,i,l){return Te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,l)})}decodeFromVideoDevice(t,i,l){return Te(this,void 0,void 0,function*(){let c;t?c={deviceId:{exact:t}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeFromConstraints(h,i,l)})}decodeFromConstraints(t,i,l){return Te(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(c,i,l)})}decodeFromStream(t,i,l){return Te(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return Te(this,void 0,void 0,function*(){const l=this.prepareVideoElement(i);return this.addVideoSource(l,t),this.videoElement=l,this.stream=t,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(t){return new Promise((i,l)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Te(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const l=document.getElementById(t);if(!l)throw new D(`element with id '${t}' not found`);if(l.nodeName.toLowerCase()!==i.toLowerCase())throw new D(`element with id '${t}' must be an ${i} element`);return l}decodeFromImage(t,i){if(!t&&!i)throw new D("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,l){if(t===void 0&&i===void 0)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,l):this.decodeFromVideoElementContinuously(t,l)}decodeFromImageElement(t){if(!t)throw new D("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let l;return this.isImageLoaded(i)?l=this.decodeOnce(i,!1,!0):l=this._decodeOnLoadImage(i),l}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const l=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(l,i)}_decodeFromVideoElementSetup(t){if(!t)throw new D("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const l=this._decodeOnLoadImage(i);return i.src=t,l}decodeFromVideoUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElement(i);return i.src=t,l}decodeFromVideoUrlContinuously(t,i){if(!t)throw new D("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,i);return l.src=t,c}_decodeOnLoadImage(t){return new Promise((i,l)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,l),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return Te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,l=!0){this._stopAsyncDecode=!1;const c=(h,y)=>{if(this._stopAsyncDecode){y(new oe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const o=this.decode(t);h(o)}catch(o){const f=i&&o instanceof oe,b=(o instanceof _||o instanceof I)&&l;if(f||b)return setTimeout(c,this._timeBetweenDecodingAttempts,h,y);y(o)}};return new Promise((h,y)=>c(h,y))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(t);i(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){i(null,c);const h=c instanceof _||c instanceof I,y=c instanceof oe;(h||y)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,l){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,l=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),l=new Le(i),c=new ve(l);return new L(c)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let l,c;return typeof t<"u"&&(t instanceof HTMLVideoElement?(l=t.videoWidth,c=t.videoHeight):t instanceof HTMLImageElement&&(l=t.naturalWidth||t.width,c=t.naturalHeight||t.height)),i.style.width=l+"px",i.style.height=c+"px",i.width=l,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(t,i,l=i==null?0:8*i.length,c,h,y=P.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=l,this.resultPoints=c,this.format=h,this.timestamp=y,this.text=t,this.rawBytes=i,l==null?this.numBits=i==null?0:8*i.length:this.numBits=l,this.resultPoints=c,this.format=h,this.resultMetadata=null,y==null?this.timestamp=P.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const l=new Array(i.length+t.length);P.arraycopy(i,0,l,0,i.length),P.arraycopy(t,0,l,i.length,t.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var et;(function($){$[$.AZTEC=0]="AZTEC",$[$.CODABAR=1]="CODABAR",$[$.CODE_39=2]="CODE_39",$[$.CODE_93=3]="CODE_93",$[$.CODE_128=4]="CODE_128",$[$.DATA_MATRIX=5]="DATA_MATRIX",$[$.EAN_8=6]="EAN_8",$[$.EAN_13=7]="EAN_13",$[$.ITF=8]="ITF",$[$.MAXICODE=9]="MAXICODE",$[$.PDF_417=10]="PDF_417",$[$.QR_CODE=11]="QR_CODE",$[$.RSS_14=12]="RSS_14",$[$.RSS_EXPANDED=13]="RSS_EXPANDED",$[$.UPC_A=14]="UPC_A",$[$.UPC_E=15]="UPC_E",$[$.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var Ne=et,bt;(function($){$[$.OTHER=0]="OTHER",$[$.ORIENTATION=1]="ORIENTATION",$[$.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",$[$.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",$[$.ISSUE_NUMBER=4]="ISSUE_NUMBER",$[$.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",$[$.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",$[$.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",$[$.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",$[$.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",$[$.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(bt||(bt={}));var gt=bt;class Q{constructor(t,i,l,c,h=-1,y=-1){this.rawBytes=t,this.text=i,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=y,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class W{exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class re{constructor(t,i){if(i.length===0)throw new R;this.field=t;const l=i.length;if(l>1&&i[0]===0){let c=1;for(;c<l&&i[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),P.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let l;if(t===1){l=0;for(let y=0,o=i.length;y!==o;y++){const f=i[y];l=W.addOrSubtract(l,f)}return l}l=i[0];const c=i.length,h=this.field;for(let y=1;y<c;y++)l=W.addOrSubtract(h.multiply(t,l),i[y]);return l}addOrSubtract(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,l=t.coefficients;if(i.length>l.length){const y=i;i=l,l=y}let c=new Int32Array(l.length);const h=l.length-i.length;P.arraycopy(l,0,c,0,h);for(let y=h;y<l.length;y++)c[y]=W.addOrSubtract(i[y-h],l[y]);return new re(this.field,c)}multiply(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,l=i.length,c=t.coefficients,h=c.length,y=new Int32Array(l+h-1),o=this.field;for(let f=0;f<l;f++){const x=i[f];for(let b=0;b<h;b++)y[f+b]=W.addOrSubtract(y[f+b],o.multiply(x,c[b]))}return new re(o,y)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,l=this.field,c=new Int32Array(i),h=this.coefficients;for(let y=0;y<i;y++)c[y]=l.multiply(h[y],t);return new re(l,c)}multiplyByMonomial(t,i){if(t<0)throw new R;if(i===0)return this.field.getZero();const l=this.coefficients,c=l.length,h=new Int32Array(c+t),y=this.field;for(let o=0;o<c;o++)h[o]=y.multiply(l[o],i);return new re(y,h)}divide(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new R("Divide by 0");const i=this.field;let l=i.getZero(),c=this;const h=t.getCoefficient(t.getDegree()),y=i.inverse(h);for(;c.getDegree()>=t.getDegree()&&!c.isZero();){const o=c.getDegree()-t.getDegree(),f=i.multiply(c.getCoefficient(c.getDegree()),y),x=t.multiplyByMonomial(o,f),b=i.buildMonomial(o,f);l=l.addOrSubtract(b),c=c.addOrSubtract(x)}return[l,c]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let l=this.getCoefficient(i);if(l!==0){if(l<0?(t+=" - ",l=-l):t.length>0&&(t+=" + "),i===0||l!==1){const c=this.field.log(l);c===0?t+="1":c===1?t+="a":(t+="a^",t+=c)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class O extends C{}O.kind="ArithmeticException";class Z extends W{constructor(t,i,l){super(),this.primitive=t,this.size=i,this.generatorBase=l;const c=new Int32Array(i);let h=1;for(let o=0;o<i;o++)c[o]=h,h*=2,h>=i&&(h^=t,h&=i-1);this.expTable=c;const y=new Int32Array(i);for(let o=0;o<i-1;o++)y[c[o]]=o;this.logTable=y,this.zero=new re(this,Int32Array.from([0])),this.one=new re(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new R;if(i===0)return this.zero;const l=new Int32Array(t+1);return l[0]=i,new re(this,l)}inverse(t){if(t===0)throw new O;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Z.AZTEC_DATA_12=new Z(4201,4096,1),Z.AZTEC_DATA_10=new Z(1033,1024,1),Z.AZTEC_DATA_6=new Z(67,64,1),Z.AZTEC_PARAM=new Z(19,16,1),Z.QR_CODE_FIELD_256=new Z(285,256,0),Z.DATA_MATRIX_FIELD_256=new Z(301,256,1),Z.AZTEC_DATA_8=Z.DATA_MATRIX_FIELD_256,Z.MAXICODE_FIELD_64=Z.AZTEC_DATA_6;class be extends C{}be.kind="ReedSolomonException";class xe extends C{}xe.kind="IllegalStateException";class We{constructor(t){this.field=t}decode(t,i){const l=this.field,c=new re(l,t),h=new Int32Array(i);let y=!0;for(let G=0;G<i;G++){const Y=c.evaluateAt(l.exp(G+l.getGeneratorBase()));h[h.length-1-G]=Y,Y!==0&&(y=!1)}if(y)return;const o=new re(l,h),f=this.runEuclideanAlgorithm(l.buildMonomial(i,1),o,i),x=f[0],b=f[1],B=this.findErrorLocations(x),k=this.findErrorMagnitudes(b,B);for(let G=0;G<B.length;G++){const Y=t.length-1-l.log(B[G]);if(Y<0)throw new be("Bad error location");t[Y]=Z.addOrSubtract(t[Y],k[G])}}runEuclideanAlgorithm(t,i,l){if(t.getDegree()<i.getDegree()){const G=t;t=i,i=G}const c=this.field;let h=t,y=i,o=c.getZero(),f=c.getOne();for(;y.getDegree()>=(l/2|0);){let G=h,Y=o;if(h=y,o=f,h.isZero())throw new be("r_{i-1} was zero");y=G;let ne=c.getZero();const fe=h.getCoefficient(h.getDegree()),ue=c.inverse(fe);for(;y.getDegree()>=h.getDegree()&&!y.isZero();){const pe=y.getDegree()-h.getDegree(),me=c.multiply(y.getCoefficient(y.getDegree()),ue);ne=ne.addOrSubtract(c.buildMonomial(pe,me)),y=y.addOrSubtract(h.multiplyByMonomial(pe,me))}if(f=ne.multiply(o).addOrSubtract(Y),y.getDegree()>=h.getDegree())throw new xe("Division algorithm failed to reduce polynomial?")}const x=f.getCoefficient(0);if(x===0)throw new be("sigmaTilde(0) was zero");const b=c.inverse(x),B=f.multiplyScalar(b),k=y.multiplyScalar(b);return[B,k]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const l=new Int32Array(i);let c=0;const h=this.field;for(let y=1;y<h.getSize()&&c<i;y++)t.evaluateAt(y)===0&&(l[c]=h.inverse(y),c++);if(c!==i)throw new be("Error locator degree does not match number of roots");return l}findErrorMagnitudes(t,i){const l=i.length,c=new Int32Array(l),h=this.field;for(let y=0;y<l;y++){const o=h.inverse(i[y]);let f=1;for(let x=0;x<l;x++)if(y!==x){const b=h.multiply(i[x],o),B=(b&1)===0?b|1:b&-2;f=h.multiply(f,B)}c[y]=h.multiply(t.evaluateAt(o),h.inverse(f)),h.getGeneratorBase()!==0&&(c[y]=h.multiply(c[y],o))}return c}}var ht;(function($){$[$.UPPER=0]="UPPER",$[$.LOWER=1]="LOWER",$[$.MIXED=2]="MIXED",$[$.DIGIT=3]="DIGIT",$[$.PUNCT=4]="PUNCT",$[$.BINARY=5]="BINARY"})(ht||(ht={}));class ft{decode(t){this.ddata=t;let i=t.getBits(),l=this.extractBits(i),c=this.correctBits(l),h=ft.convertBoolArrayToByteArray(c),y=ft.getEncodedData(c),o=new Q(h,y,null,null);return o.setNumBits(c.length),o}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,l=ht.UPPER,c=ht.UPPER,h="",y=0;for(;y<i;)if(c===ht.BINARY){if(i-y<5)break;let o=ft.readCode(t,y,5);if(y+=5,o===0){if(i-y<11)break;o=ft.readCode(t,y,11)+31,y+=11}for(let f=0;f<o;f++){if(i-y<8){y=i;break}const x=ft.readCode(t,y,8);h+=ee.castAsNonUtf8Char(x),y+=8}c=l}else{let o=c===ht.DIGIT?4:5;if(i-y<o)break;let f=ft.readCode(t,y,o);y+=o;let x=ft.getCharacter(c,f);x.startsWith("CTRL_")?(l=c,c=ft.getTable(x.charAt(5)),x.charAt(6)==="L"&&(l=c)):(h+=x,c=l)}return h}static getTable(t){switch(t){case"L":return ht.LOWER;case"P":return ht.PUNCT;case"M":return ht.MIXED;case"D":return ht.DIGIT;case"B":return ht.BINARY;case"U":default:return ht.UPPER}}static getCharacter(t,i){switch(t){case ht.UPPER:return ft.UPPER_TABLE[i];case ht.LOWER:return ft.LOWER_TABLE[i];case ht.MIXED:return ft.MIXED_TABLE[i];case ht.PUNCT:return ft.PUNCT_TABLE[i];case ht.DIGIT:return ft.DIGIT_TABLE[i];default:throw new xe("Bad table")}}correctBits(t){let i,l;this.ddata.getNbLayers()<=2?(l=6,i=Z.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,i=Z.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,i=Z.AZTEC_DATA_10):(l=12,i=Z.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),h=t.length/l;if(h<c)throw new I;let y=t.length%l,o=new Int32Array(h);for(let k=0;k<h;k++,y+=l)o[k]=ft.readCode(t,y,l);try{new We(i).decode(o,h-c)}catch(k){throw new I(k)}let f=(1<<l)-1,x=0;for(let k=0;k<c;k++){let G=o[k];if(G===0||G===f)throw new I;(G===1||G===f-1)&&x++}let b=new Array(c*l-x),B=0;for(let k=0;k<c;k++){let G=o[k];if(G===1||G===f-1)b.fill(G>1,B,B+l-1),B+=l-1;else for(let Y=l-1;Y>=0;--Y)b[B++]=(G&1<<Y)!==0}return b}extractBits(t){let i=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(i?11:14)+l*4,h=new Int32Array(c),y=new Array(this.totalBitsInLayer(l,i));if(i)for(let o=0;o<h.length;o++)h[o]=o;else{let o=c+1+2*U.truncDivision(U.truncDivision(c,2)-1,15),f=c/2,x=U.truncDivision(o,2);for(let b=0;b<f;b++){let B=b+U.truncDivision(b,15);h[f-b-1]=x-B-1,h[f+b]=x+B+1}}for(let o=0,f=0;o<l;o++){let x=(l-o)*4+(i?9:12),b=o*2,B=c-1-b;for(let k=0;k<x;k++){let G=k*2;for(let Y=0;Y<2;Y++)y[f+G+Y]=t.get(h[b+Y],h[b+k]),y[f+2*x+G+Y]=t.get(h[b+k],h[B-Y]),y[f+4*x+G+Y]=t.get(h[B-Y],h[B-k]),y[f+6*x+G+Y]=t.get(h[B-k],h[b+Y])}f+=x*8}return y}static readCode(t,i,l){let c=0;for(let h=i;h<i+l;h++)c<<=1,t[h]&&(c|=1);return c}static readByte(t,i){let l=t.length-i;return l>=8?ft.readCode(t,i,8):ft.readCode(t,i,l)<<8-l}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let l=0;l<i.length;l++)i[l]=ft.readByte(t,8*l);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}ft.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ft.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ft.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ft.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ft.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Pe{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,l,c){const h=t-l,y=i-c;return Math.sqrt(h*h+y*y)}static sum(t){let i=0;for(let l=0,c=t.length;l!==c;l++){const h=t[l];i+=h}return i}}class pt{static floatToIntBits(t){return t}}pt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ye{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ye){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*pt.floatToIntBits(this.x)+pt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),l=this.distance(t[1],t[2]),c=this.distance(t[0],t[2]);let h,y,o;if(l>=i&&l>=c?(y=t[0],h=t[1],o=t[2]):c>=l&&c>=i?(y=t[1],h=t[0],o=t[2]):(y=t[2],h=t[0],o=t[1]),this.crossProductZ(h,y,o)<0){const f=h;h=o,o=f}t[0]=h,t[1]=y,t[2]=o}static distance(t,i){return Pe.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,l){const c=i.x,h=i.y;return(l.x-c)*(t.y-h)-(l.y-h)*(t.x-c)}}class Mt{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Et extends Mt{constructor(t,i,l,c,h){super(t,i),this.compact=l,this.nbDatablocks=c,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kt{constructor(t,i,l,c){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Kt.INIT_SIZE),l==null&&(l=t.getWidth()/2|0),c==null&&(c=t.getHeight()/2|0);const h=i/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=c-h,this.downInit=c+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}detect(){let t=this.leftInit,i=this.rightInit,l=this.upInit,c=this.downInit,h=!1,y=!0,o=!1,f=!1,x=!1,b=!1,B=!1;const k=this.width,G=this.height;for(;y;){y=!1;let Y=!0;for(;(Y||!f)&&i<k;)Y=this.containsBlackPoint(l,c,i,!1),Y?(i++,y=!0,f=!0):f||i++;if(i>=k){h=!0;break}let ne=!0;for(;(ne||!x)&&c<G;)ne=this.containsBlackPoint(t,i,c,!0),ne?(c++,y=!0,x=!0):x||c++;if(c>=G){h=!0;break}let fe=!0;for(;(fe||!b)&&t>=0;)fe=this.containsBlackPoint(l,c,t,!1),fe?(t--,y=!0,b=!0):b||t--;if(t<0){h=!0;break}let ue=!0;for(;(ue||!B)&&l>=0;)ue=this.containsBlackPoint(t,i,l,!0),ue?(l--,y=!0,B=!0):B||l--;if(l<0){h=!0;break}y&&(o=!0)}if(!h&&o){const Y=i-t;let ne=null;for(let me=1;ne===null&&me<Y;me++)ne=this.getBlackPointOnSegment(t,c-me,t+me,c);if(ne==null)throw new oe;let fe=null;for(let me=1;fe===null&&me<Y;me++)fe=this.getBlackPointOnSegment(t,l+me,t+me,l);if(fe==null)throw new oe;let ue=null;for(let me=1;ue===null&&me<Y;me++)ue=this.getBlackPointOnSegment(i,l+me,i-me,l);if(ue==null)throw new oe;let pe=null;for(let me=1;pe===null&&me<Y;me++)pe=this.getBlackPointOnSegment(i,c-me,i-me,c);if(pe==null)throw new oe;return this.centerEdges(pe,ne,ue,fe)}else throw new oe}getBlackPointOnSegment(t,i,l,c){const h=Pe.round(Pe.distance(t,i,l,c)),y=(l-t)/h,o=(c-i)/h,f=this.image;for(let x=0;x<h;x++){const b=Pe.round(t+x*y),B=Pe.round(i+x*o);if(f.get(b,B))return new Ye(b,B)}return null}centerEdges(t,i,l,c){const h=t.getX(),y=t.getY(),o=i.getX(),f=i.getY(),x=l.getX(),b=l.getY(),B=c.getX(),k=c.getY(),G=Kt.CORR;return h<this.width/2?[new Ye(B-G,k+G),new Ye(o+G,f+G),new Ye(x-G,b-G),new Ye(h+G,y-G)]:[new Ye(B+G,k+G),new Ye(o+G,f-G),new Ye(x-G,b+G),new Ye(h-G,y-G)]}containsBlackPoint(t,i,l,c){const h=this.image;if(c){for(let y=t;y<=i;y++)if(h.get(y,l))return!0}else for(let y=t;y<=i;y++)if(h.get(l,y))return!0;return!1}}Kt.INIT_SIZE=10,Kt.CORR=1;class bn{static checkAndNudgePoints(t,i){const l=t.getWidth(),c=t.getHeight();let h=!0;for(let y=0;y<i.length&&h;y+=2){const o=Math.floor(i[y]),f=Math.floor(i[y+1]);if(o<-1||o>l||f<-1||f>c)throw new oe;h=!1,o===-1?(i[y]=0,h=!0):o===l&&(i[y]=l-1,h=!0),f===-1?(i[y+1]=0,h=!0):f===c&&(i[y+1]=c-1,h=!0)}h=!0;for(let y=i.length-2;y>=0&&h;y-=2){const o=Math.floor(i[y]),f=Math.floor(i[y+1]);if(o<-1||o>l||f<-1||f>c)throw new oe;h=!1,o===-1?(i[y]=0,h=!0):o===l&&(i[y]=l-1,h=!0),f===-1?(i[y+1]=0,h=!0):f===c&&(i[y+1]=c-1,h=!0)}}}class jt{constructor(t,i,l,c,h,y,o,f,x){this.a11=t,this.a21=i,this.a31=l,this.a12=c,this.a22=h,this.a32=y,this.a13=o,this.a23=f,this.a33=x}static quadrilateralToQuadrilateral(t,i,l,c,h,y,o,f,x,b,B,k,G,Y,ne,fe){const ue=jt.quadrilateralToSquare(t,i,l,c,h,y,o,f);return jt.squareToQuadrilateral(x,b,B,k,G,Y,ne,fe).times(ue)}transformPoints(t){const i=t.length,l=this.a11,c=this.a12,h=this.a13,y=this.a21,o=this.a22,f=this.a23,x=this.a31,b=this.a32,B=this.a33;for(let k=0;k<i;k+=2){const G=t[k],Y=t[k+1],ne=h*G+f*Y+B;t[k]=(l*G+y*Y+x)/ne,t[k+1]=(c*G+o*Y+b)/ne}}transformPointsWithValues(t,i){const l=this.a11,c=this.a12,h=this.a13,y=this.a21,o=this.a22,f=this.a23,x=this.a31,b=this.a32,B=this.a33,k=t.length;for(let G=0;G<k;G++){const Y=t[G],ne=i[G],fe=h*Y+f*ne+B;t[G]=(l*Y+y*ne+x)/fe,i[G]=(c*Y+o*ne+b)/fe}}static squareToQuadrilateral(t,i,l,c,h,y,o,f){const x=t-l+h-o,b=i-c+y-f;if(x===0&&b===0)return new jt(l-t,h-l,t,c-i,y-c,i,0,0,1);{const B=l-h,k=o-h,G=c-y,Y=f-y,ne=B*Y-k*G,fe=(x*Y-k*b)/ne,ue=(B*b-x*G)/ne;return new jt(l-t+fe*l,o-t+ue*o,t,c-i+fe*c,f-i+ue*f,i,fe,ue,1)}}static quadrilateralToSquare(t,i,l,c,h,y,o,f){return jt.squareToQuadrilateral(t,i,l,c,h,y,o,f).buildAdjoint()}buildAdjoint(){return new jt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new jt(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class on extends bn{sampleGrid(t,i,l,c,h,y,o,f,x,b,B,k,G,Y,ne,fe,ue,pe,me){const ye=jt.quadrilateralToQuadrilateral(c,h,y,o,f,x,b,B,k,G,Y,ne,fe,ue,pe,me);return this.sampleGridWithTransform(t,i,l,ye)}sampleGridWithTransform(t,i,l,c){if(i<=0||l<=0)throw new oe;const h=new Ae(i,l),y=new Float32Array(2*i);for(let o=0;o<l;o++){const f=y.length,x=o+.5;for(let b=0;b<f;b+=2)y[b]=b/2+.5,y[b+1]=x;c.transformPoints(y),bn.checkAndNudgePoints(t,y);try{for(let b=0;b<f;b+=2)t.get(Math.floor(y[b]),Math.floor(y[b+1]))&&h.set(b/2,o)}catch{throw new oe}}return h}}class rn{static setGridSampler(t){rn.gridSampler=t}static getInstance(){return rn.gridSampler}}rn.gridSampler=new on;class qt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class En{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),l=this.getBullsEyeCorners(i);if(t){let y=l[0];l[0]=l[2],l[2]=y}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new Et(c,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new oe;let i=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(l,i);let c=0;for(let y=0;y<4;y++){let o=l[(this.shift+y)%4];this.compact?(c<<=7,c+=o>>1&127):(c<<=10,c+=(o>>2&992)+(o>>1&31))}let h=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(t,i){let l=0;t.forEach((c,h,y)=>{let o=(c>>i-2<<1)+(c&1);l=(l<<3)+o}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(U.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new oe}getCorrectedParameterData(t,i){let l,c;i?(l=7,c=2):(l=10,c=4);let h=l-c,y=new Int32Array(l);for(let f=l-1;f>=0;--f)y[f]=t&15,t>>=4;try{new We(Z.AZTEC_PARAM).decode(y,h)}catch{throw new oe}let o=0;for(let f=0;f<c;f++)o=(o<<4)+y[f];return o}getBullsEyeCorners(t){let i=t,l=t,c=t,h=t,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(i,y,1,-1),k=this.getFirstDifferent(l,y,1,1),G=this.getFirstDifferent(c,y,-1,1),Y=this.getFirstDifferent(h,y,-1,-1);if(this.nbCenterLayers>2){let ne=this.distancePoint(Y,B)*this.nbCenterLayers/(this.distancePoint(h,i)*(this.nbCenterLayers+2));if(ne<.75||ne>1.25||!this.isWhiteOrBlackRectangle(B,k,G,Y))break}i=B,l=k,c=G,h=Y,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;let o=new Ye(i.getX()+.5,i.getY()-.5),f=new Ye(l.getX()+.5,l.getY()+.5),x=new Ye(c.getX()-.5,c.getY()+.5),b=new Ye(h.getX()-.5,h.getY()-.5);return this.expandSquare([o,f,x,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,l,c;try{let o=new Kt(this.image).detect();t=o[0],i=o[1],l=o[2],c=o[3]}catch{let f=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new qt(f+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new qt(f+7,x+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new qt(f-7,x+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new qt(f-7,x-7),!1,-1,-1).toResultPoint()}let h=Pe.round((t.getX()+c.getX()+i.getX()+l.getX())/4),y=Pe.round((t.getY()+c.getY()+i.getY()+l.getY())/4);try{let o=new Kt(this.image,15,h,y).detect();t=o[0],i=o[1],l=o[2],c=o[3]}catch{t=this.getFirstDifferent(new qt(h+7,y-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new qt(h+7,y+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new qt(h-7,y+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new qt(h-7,y-7),!1,-1,-1).toResultPoint()}return h=Pe.round((t.getX()+c.getX()+i.getX()+l.getX())/4),y=Pe.round((t.getY()+c.getY()+i.getY()+l.getY())/4),new qt(h,y)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,l,c,h){let y=rn.getInstance(),o=this.getDimension(),f=o/2-this.nbCenterLayers,x=o/2+this.nbCenterLayers;return y.sampleGrid(t,o,o,f,f,x,f,x,x,f,x,i.getX(),i.getY(),l.getX(),l.getY(),c.getX(),c.getY(),h.getX(),h.getY())}sampleLine(t,i,l){let c=0,h=this.distanceResultPoint(t,i),y=h/l,o=t.getX(),f=t.getY(),x=y*(i.getX()-t.getX())/h,b=y*(i.getY()-t.getY())/h;for(let B=0;B<l;B++)this.image.get(Pe.round(o+B*x),Pe.round(f+B*b))&&(c|=1<<l-B-1);return c}isWhiteOrBlackRectangle(t,i,l,c){let h=3;t=new qt(t.getX()-h,t.getY()+h),i=new qt(i.getX()-h,i.getY()-h),l=new qt(l.getX()+h,l.getY()-h),c=new qt(c.getX()+h,c.getY()+h);let y=this.getColor(c,t);if(y===0)return!1;let o=this.getColor(t,i);return o!==y||(o=this.getColor(i,l),o!==y)?!1:(o=this.getColor(l,c),o===y)}getColor(t,i){let l=this.distancePoint(t,i),c=(i.getX()-t.getX())/l,h=(i.getY()-t.getY())/l,y=0,o=t.getX(),f=t.getY(),x=this.image.get(t.getX(),t.getY()),b=Math.ceil(l);for(let k=0;k<b;k++)o+=c,f+=h,this.image.get(Pe.round(o),Pe.round(f))!==x&&y++;let B=y/l;return B>.1&&B<.9?0:B<=.1===x?1:-1}getFirstDifferent(t,i,l,c){let h=t.getX()+l,y=t.getY()+c;for(;this.isValid(h,y)&&this.image.get(h,y)===i;)h+=l,y+=c;for(h-=l,y-=c;this.isValid(h,y)&&this.image.get(h,y)===i;)h+=l;for(h-=l;this.isValid(h,y)&&this.image.get(h,y)===i;)y+=c;return y-=c,new qt(h,y)}expandSquare(t,i,l){let c=l/(2*i),h=t[0].getX()-t[2].getX(),y=t[0].getY()-t[2].getY(),o=(t[0].getX()+t[2].getX())/2,f=(t[0].getY()+t[2].getY())/2,x=new Ye(o+c*h,f+c*y),b=new Ye(o-c*h,f-c*y);h=t[1].getX()-t[3].getX(),y=t[1].getY()-t[3].getY(),o=(t[1].getX()+t[3].getX())/2,f=(t[1].getY()+t[3].getY())/2;let B=new Ye(o+c*h,f+c*y),k=new Ye(o-c*h,f-c*y);return[x,B,b,k]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=Pe.round(t.getX()),l=Pe.round(t.getY());return this.isValid(i,l)}distancePoint(t,i){return Pe.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return Pe.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class pn{decode(t,i=null){let l=null,c=new En(t.getBlackMatrix()),h=null,y=null;try{let b=c.detectMirror(!1);h=b.getPoints(),this.reportFoundResultPoints(i,h),y=new ft().decode(b)}catch(b){l=b}if(y==null)try{let b=c.detectMirror(!0);h=b.getPoints(),this.reportFoundResultPoints(i,h),y=new ft().decode(b)}catch(b){throw l??b}let o=new De(y.getText(),y.getRawBytes(),y.getNumBits(),h,Ne.AZTEC,P.currentTimeMillis()),f=y.getByteSegments();f!=null&&o.putMetadata(gt.BYTE_SEGMENTS,f);let x=y.getECLevel();return x!=null&&o.putMetadata(gt.ERROR_CORRECTION_LEVEL,x),o}reportFoundResultPoints(t,i){if(t!=null){let l=t.get(M.NEED_RESULT_POINT_CALLBACK);l!=null&&i.forEach((c,h,y)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class Bn extends Ze{constructor(t=500){super(new pn,t)}}class Ht{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(M.TRY_HARDER)===!0&&t.isRotateSupported()){const h=t.rotateCounterClockwise(),y=this.doDecode(h,i),o=y.getResultMetadata();let f=270;o!==null&&o.get(gt.ORIENTATION)===!0&&(f=f+o.get(gt.ORIENTATION)%360),y.putMetadata(gt.ORIENTATION,f);const x=y.getResultPoints();if(x!==null){const b=h.getHeight();for(let B=0;B<x.length;B++)x[B]=new Ye(b-x[B].getY()-1,x[B].getX())}return y}else throw new oe}}reset(){}doDecode(t,i){const l=t.getWidth(),c=t.getHeight();let h=new K(l);const y=i&&i.get(M.TRY_HARDER)===!0,o=Math.max(1,c>>(y?8:5));let f;y?f=c:f=15;const x=Math.trunc(c/2);for(let b=0;b<f;b++){const B=Math.trunc((b+1)/2),k=(b&1)===0,G=x+o*(k?B:-B);if(G<0||G>=c)break;try{h=t.getBlackRow(G,h)}catch{continue}for(let Y=0;Y<2;Y++){if(Y===1&&(h.reverse(),i&&i.get(M.NEED_RESULT_POINT_CALLBACK)===!0)){const ne=new Map;i.forEach((fe,ue)=>ne.set(ue,fe)),ne.delete(M.NEED_RESULT_POINT_CALLBACK),i=ne}try{const ne=this.decodeRow(G,h,i);if(Y===1){ne.putMetadata(gt.ORIENTATION,180);const fe=ne.getResultPoints();fe!==null&&(fe[0]=new Ye(l-fe[0].getX()-1,fe[0].getY()),fe[1]=new Ye(l-fe[1].getX()-1,fe[1].getY()))}return ne}catch{}}}throw new oe}static recordPattern(t,i,l){const c=l.length;for(let x=0;x<c;x++)l[x]=0;const h=t.getSize();if(i>=h)throw new oe;let y=!t.get(i),o=0,f=i;for(;f<h;){if(t.get(f)!==y)l[o]++;else{if(++o===c)break;l[o]=1,y=!y}f++}if(!(o===c||o===c-1&&f===h))throw new oe}static recordPatternInReverse(t,i,l){let c=l.length,h=t.get(i);for(;i>0&&c>=0;)t.get(--i)!==h&&(c--,h=!h);if(c>=0)throw new oe;Ht.recordPattern(t,i+1,l)}static patternMatchVariance(t,i,l){const c=t.length;let h=0,y=0;for(let x=0;x<c;x++)h+=t[x],y+=i[x];if(h<y)return Number.POSITIVE_INFINITY;const o=h/y;l*=o;let f=0;for(let x=0;x<c;x++){const b=t[x],B=i[x]*o,k=b>B?b-B:B-b;if(k>l)return Number.POSITIVE_INFINITY;f+=k}return f/h}}class rt extends Ht{static findStartPattern(t){const i=t.getSize(),l=t.getNextSet(0);let c=0,h=Int32Array.from([0,0,0,0,0,0]),y=l,o=!1;const f=6;for(let x=l;x<i;x++)if(t.get(x)!==o)h[c]++;else{if(c===f-1){let b=rt.MAX_AVG_VARIANCE,B=-1;for(let k=rt.CODE_START_A;k<=rt.CODE_START_C;k++){const G=Ht.patternMatchVariance(h,rt.CODE_PATTERNS[k],rt.MAX_INDIVIDUAL_VARIANCE);G<b&&(b=G,B=k)}if(B>=0&&t.isRange(Math.max(0,y-(x-y)/2),y,!1))return Int32Array.from([y,x,B]);y+=h[0]+h[1],h=h.slice(2,h.length-1),h[c-1]=0,h[c]=0,c--}else c++;h[c]=1,o=!o}throw new oe}static decodeCode(t,i,l){Ht.recordPattern(t,l,i);let c=rt.MAX_AVG_VARIANCE,h=-1;for(let y=0;y<rt.CODE_PATTERNS.length;y++){const o=rt.CODE_PATTERNS[y],f=this.patternMatchVariance(i,o,rt.MAX_INDIVIDUAL_VARIANCE);f<c&&(c=f,h=y)}if(h>=0)return h;throw new oe}decodeRow(t,i,l){const c=l&&l.get(M.ASSUME_GS1)===!0,h=rt.findStartPattern(i),y=h[2];let o=0;const f=new Uint8Array(20);f[o++]=y;let x;switch(y){case rt.CODE_START_A:x=rt.CODE_CODE_A;break;case rt.CODE_START_B:x=rt.CODE_CODE_B;break;case rt.CODE_START_C:x=rt.CODE_CODE_C;break;default:throw new I}let b=!1,B=!1,k="",G=h[0],Y=h[1];const ne=Int32Array.from([0,0,0,0,0,0]);let fe=0,ue=0,pe=y,me=0,ye=!0,Ie=!1,Ee=!1;for(;!b;){const ct=B;switch(B=!1,fe=ue,ue=rt.decodeCode(i,ne,Y),f[o++]=ue,ue!==rt.CODE_STOP&&(ye=!0),ue!==rt.CODE_STOP&&(me++,pe+=me*ue),G=Y,Y+=ne.reduce((Nt,wt)=>Nt+wt,0),ue){case rt.CODE_START_A:case rt.CODE_START_B:case rt.CODE_START_C:throw new I}switch(x){case rt.CODE_CODE_A:if(ue<64)Ee===Ie?k+=String.fromCharCode(32+ue):k+=String.fromCharCode(32+ue+128),Ee=!1;else if(ue<96)Ee===Ie?k+=String.fromCharCode(ue-64):k+=String.fromCharCode(ue+64),Ee=!1;else switch(ue!==rt.CODE_STOP&&(ye=!1),ue){case rt.CODE_FNC_1:c&&(k.length===0?k+="]C1":k+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_A:!Ie&&Ee?(Ie=!0,Ee=!1):Ie&&Ee?(Ie=!1,Ee=!1):Ee=!0;break;case rt.CODE_SHIFT:B=!0,x=rt.CODE_CODE_B;break;case rt.CODE_CODE_B:x=rt.CODE_CODE_B;break;case rt.CODE_CODE_C:x=rt.CODE_CODE_C;break;case rt.CODE_STOP:b=!0;break}break;case rt.CODE_CODE_B:if(ue<96)Ee===Ie?k+=String.fromCharCode(32+ue):k+=String.fromCharCode(32+ue+128),Ee=!1;else switch(ue!==rt.CODE_STOP&&(ye=!1),ue){case rt.CODE_FNC_1:c&&(k.length===0?k+="]C1":k+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_B:!Ie&&Ee?(Ie=!0,Ee=!1):Ie&&Ee?(Ie=!1,Ee=!1):Ee=!0;break;case rt.CODE_SHIFT:B=!0,x=rt.CODE_CODE_A;break;case rt.CODE_CODE_A:x=rt.CODE_CODE_A;break;case rt.CODE_CODE_C:x=rt.CODE_CODE_C;break;case rt.CODE_STOP:b=!0;break}break;case rt.CODE_CODE_C:if(ue<100)ue<10&&(k+="0"),k+=ue;else switch(ue!==rt.CODE_STOP&&(ye=!1),ue){case rt.CODE_FNC_1:c&&(k.length===0?k+="]C1":k+="");break;case rt.CODE_CODE_A:x=rt.CODE_CODE_A;break;case rt.CODE_CODE_B:x=rt.CODE_CODE_B;break;case rt.CODE_STOP:b=!0;break}break}ct&&(x=x===rt.CODE_CODE_A?rt.CODE_CODE_B:rt.CODE_CODE_A)}const Me=Y-G;if(Y=i.getNextUnset(Y),!i.isRange(Y,Math.min(i.getSize(),Y+(Y-G)/2),!1))throw new oe;if(pe-=me*fe,pe%103!==fe)throw new _;const Ve=k.length;if(Ve===0)throw new oe;Ve>0&&ye&&(x===rt.CODE_CODE_C?k=k.substring(0,Ve-2):k=k.substring(0,Ve-1));const Oe=(h[1]+h[0])/2,Ge=G+Me/2,at=f.length,mt=new Uint8Array(at);for(let ct=0;ct<at;ct++)mt[ct]=f[ct];const xt=[new Ye(Oe,t),new Ye(Ge,t)];return new De(k,mt,0,xt,Ne.CODE_128,new Date().getTime())}}rt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],rt.MAX_AVG_VARIANCE=.25,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.CODE_SHIFT=98,rt.CODE_CODE_C=99,rt.CODE_CODE_B=100,rt.CODE_CODE_A=101,rt.CODE_FNC_1=102,rt.CODE_FNC_2=97,rt.CODE_FNC_3=96,rt.CODE_FNC_4_A=101,rt.CODE_FNC_4_B=100,rt.CODE_START_A=103,rt.CODE_START_B=104,rt.CODE_START_C=105,rt.CODE_STOP=106;class Vt extends Ht{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let h=Vt.findAsteriskPattern(i,c),y=i.getNextSet(h[1]),o=i.getSize(),f,x;do{Vt.recordPattern(i,y,c);let ne=Vt.toNarrowWidePattern(c);if(ne<0)throw new oe;f=Vt.patternToChar(ne),this.decodeRowResult+=f,x=y;for(let fe of c)y+=fe;y=i.getNextSet(y)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let ne of c)b+=ne;let B=y-x-b;if(y!==o&&B*2<b)throw new oe;if(this.usingCheckDigit){let ne=this.decodeRowResult.length-1,fe=0;for(let ue=0;ue<ne;ue++)fe+=Vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ue));if(this.decodeRowResult.charAt(ne)!==Vt.ALPHABET_STRING.charAt(fe%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ne)}if(this.decodeRowResult.length===0)throw new oe;let k;this.extendedMode?k=Vt.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;let G=(h[1]+h[0])/2,Y=x+b/2;return new De(k,null,0,[new Ye(G,t),new Ye(Y,t)],Ne.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let l=t.getSize(),c=t.getNextSet(0),h=0,y=c,o=!1,f=i.length;for(let x=c;x<l;x++)if(t.get(x)!==o)i[h]++;else{if(h===f-1){if(this.toNarrowWidePattern(i)===Vt.ASTERISK_ENCODING&&t.isRange(Math.max(0,y-Math.floor((x-y)/2)),y,!1))return[y,x];y+=i[0]+i[1],i.copyWithin(0,2,2+h-1),i[h-1]=0,i[h]=0,h--}else h++;i[h]=1,o=!o}throw new oe}static toNarrowWidePattern(t){let i=t.length,l=0,c;do{let h=2147483647;for(let f of t)f<h&&f>l&&(h=f);l=h,c=0;let y=0,o=0;for(let f=0;f<i;f++){let x=t[f];x>l&&(o|=1<<i-1-f,c++,y+=x)}if(c===3){for(let f=0;f<i&&c>0;f++){let x=t[f];if(x>l&&(c--,x*2>=y))return-1}return o}}while(c>3);return-1}static patternToChar(t){for(let i=0;i<Vt.CHARACTER_ENCODINGS.length;i++)if(Vt.CHARACTER_ENCODINGS[i]===t)return Vt.ALPHABET_STRING.charAt(i);if(t===Vt.ASTERISK_ENCODING)return"*";throw new oe}static decodeExtended(t){let i=t.length,l="";for(let c=0;c<i;c++){let h=t.charAt(c);if(h==="+"||h==="$"||h==="%"||h==="/"){let y=t.charAt(c+1),o="\0";switch(h){case"+":if(y>="A"&&y<="Z")o=String.fromCharCode(y.charCodeAt(0)+32);else throw new I;break;case"$":if(y>="A"&&y<="Z")o=String.fromCharCode(y.charCodeAt(0)-64);else throw new I;break;case"%":if(y>="A"&&y<="E")o=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")o=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")o=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")o=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")o="\0";else if(y==="V")o="@";else if(y==="W")o="`";else if(y==="X"||y==="Y"||y==="Z")o="";else throw new I;break;case"/":if(y>="A"&&y<="O")o=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")o=":";else throw new I;break}l+=o,c++}else l+=h}return l}}Vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vt.ASTERISK_ENCODING=148;class we extends Ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,l){let c=this.decodeStart(i),h=this.decodeEnd(i),y=new se;we.decodeMiddle(i,c[1],h[0],y);let o=y.toString(),f=null;l!=null&&(f=l.get(M.ALLOWED_LENGTHS)),f==null&&(f=we.DEFAULT_ALLOWED_LENGTHS);let x=o.length,b=!1,B=0;for(let Y of f){if(x===Y){b=!0;break}Y>B&&(B=Y)}if(!b&&x>B&&(b=!0),!b)throw new I;const k=[new Ye(c[1],t),new Ye(h[0],t)];return new De(o,null,0,k,Ne.ITF,new Date().getTime())}static decodeMiddle(t,i,l,c){let h=new Int32Array(10),y=new Int32Array(5),o=new Int32Array(5);for(h.fill(0),y.fill(0),o.fill(0);i<l;){Ht.recordPattern(t,i,h);for(let x=0;x<5;x++){let b=2*x;y[x]=h[b],o[x]=h[b+1]}let f=we.decodeDigit(y);c.append(f.toString()),f=this.decodeDigit(o),c.append(f.toString()),h.forEach(function(x){i+=x})}}decodeStart(t){let i=we.skipWhiteSpace(t),l=we.findGuardPattern(t,i,we.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(t,l[0]),l}validateQuietZone(t,i){let l=this.narrowLineWidth*10;l=l<i?l:i;for(let c=i-1;l>0&&c>=0&&!t.get(c);c--)l--;if(l!==0)throw new oe}static skipWhiteSpace(t){const i=t.getSize(),l=t.getNextSet(0);if(l===i)throw new oe;return l}decodeEnd(t){t.reverse();try{let i=we.skipWhiteSpace(t),l;try{l=we.findGuardPattern(t,i,we.END_PATTERN_REVERSED[0])}catch(h){h instanceof oe&&(l=we.findGuardPattern(t,i,we.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,l[0]);let c=l[0];return l[0]=t.getSize()-l[1],l[1]=t.getSize()-c,l}finally{t.reverse()}}static findGuardPattern(t,i,l){let c=l.length,h=new Int32Array(c),y=t.getSize(),o=!1,f=0,x=i;h.fill(0);for(let b=i;b<y;b++)if(t.get(b)!==o)h[f]++;else{if(f===c-1){if(Ht.patternMatchVariance(h,l,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return[x,b];x+=h[0]+h[1],P.arraycopy(h,2,h,0,f-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,o=!o}throw new oe}static decodeDigit(t){let i=we.MAX_AVG_VARIANCE,l=-1,c=we.PATTERNS.length;for(let h=0;h<c;h++){let y=we.PATTERNS[h],o=Ht.patternMatchVariance(t,y,we.MAX_INDIVIDUAL_VARIANCE);o<i?(i=o,l=h):o===i&&(l=-1)}if(l>=0)return l%10;throw new oe}}we.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],we.MAX_AVG_VARIANCE=.38,we.MAX_INDIVIDUAL_VARIANCE=.5,we.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],we.START_PATTERN=Int32Array.from([1,1,1,1]),we.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Se extends Ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,l,c=0,h=Int32Array.from([0,0,0]);for(;!i;){h=Int32Array.from([0,0,0]),l=Se.findGuardPattern(t,c,!1,this.START_END_PATTERN,h);let y=l[0];c=l[1];let o=y-(c-y);o>=0&&(i=t.isRange(o,y,!1))}return l}static checkChecksum(t){return Se.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let l=parseInt(t.charAt(i-1),10);return Se.getStandardUPCEANChecksum(t.substring(0,i-1))===l}static getStandardUPCEANChecksum(t){let i=t.length,l=0;for(let c=i-1;c>=0;c-=2){let h=t.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new I;l+=h}l*=3;for(let c=i-2;c>=0;c-=2){let h=t.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new I;l+=h}return(1e3-l)%10}static decodeEnd(t,i){return Se.findGuardPattern(t,i,!1,Se.START_END_PATTERN,new Int32Array(Se.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,l,c){return this.findGuardPattern(t,i,l,c,new Int32Array(c.length))}static findGuardPattern(t,i,l,c,h){let y=t.getSize();i=l?t.getNextUnset(i):t.getNextSet(i);let o=0,f=i,x=c.length,b=l;for(let B=i;B<y;B++)if(t.get(B)!==b)h[o]++;else{if(o===x-1){if(Ht.patternMatchVariance(h,c,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return Int32Array.from([f,B]);f+=h[0]+h[1];let k=h.slice(2,h.length-1);for(let G=0;G<o-1;G++)h[G]=k[G];h[o-1]=0,h[o]=0,o--}else o++;h[o]=1,b=!b}throw new oe}static decodeDigit(t,i,l,c){this.recordPattern(t,l,i);let h=this.MAX_AVG_VARIANCE,y=-1,o=c.length;for(let f=0;f<o;f++){let x=c[f],b=Ht.patternMatchVariance(i,x,Se.MAX_INDIVIDUAL_VARIANCE);b<h&&(h=b,y=f)}if(y>=0)return y;throw new oe}}Se.MAX_AVG_VARIANCE=.48,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.START_END_PATTERN=Int32Array.from([1,1,1]),Se.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Se.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Se.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Je{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,l){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(i,l,c),y=c.toString(),o=Je.parseExtensionString(y),f=[new Ye((l[0]+l[1])/2,t),new Ye(h,t)],x=new De(y,null,0,f,Ne.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&x.putAllMetadata(o),x}decodeMiddle(t,i,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),y=i[1],o=0;for(let x=0;x<5&&y<h;x++){let b=Se.decodeDigit(t,c,y,Se.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let B of c)y+=B;b>=10&&(o|=1<<4-x),x!==4&&(y=t.getNextSet(y),y=t.getNextUnset(y))}if(l.length!==5)throw new oe;let f=this.determineCheckDigit(o);if(Je.extensionChecksum(l.toString())!==f)throw new oe;return y}static extensionChecksum(t){let i=t.length,l=0;for(let c=i-2;c>=0;c-=2)l+=t.charAt(c).charCodeAt(0)-48;l*=3;for(let c=i-1;c>=0;c-=2)l+=t.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new oe}static parseExtensionString(t){if(t.length!==5)return null;let i=Je.parseExtension5String(t);return i==null?null:new Map([[gt.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let l=parseInt(t.substring(1)),c=(l/100).toString(),h=l%100,y=h<10?"0"+h:h.toString();return i+c+"."+y}}class st{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,l){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(i,l,c),y=c.toString(),o=st.parseExtensionString(y),f=[new Ye((l[0]+l[1])/2,t),new Ye(h,t)],x=new De(y,null,0,f,Ne.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&x.putAllMetadata(o),x}decodeMiddle(t,i,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),y=i[1],o=0;for(let f=0;f<2&&y<h;f++){let x=Se.decodeDigit(t,c,y,Se.L_AND_G_PATTERNS);l+=String.fromCharCode(48+x%10);for(let b of c)y+=b;x>=10&&(o|=1<<1-f),f!==1&&(y=t.getNextSet(y),y=t.getNextUnset(y))}if(l.length!==2)throw new oe;if(parseInt(l.toString())%4!==o)throw new oe;return y}static parseExtensionString(t){return t.length!==2?null:new Map([[gt.ISSUE_NUMBER,parseInt(t)]])}}class $e{static decodeRow(t,i,l){let c=Se.findGuardPattern(i,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Je().decodeRow(t,i,c)}catch{return new st().decodeRow(t,i,c)}}}$e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Dt extends Se{constructor(){super(),this.decodeRowStringBuffer="",Dt.L_AND_G_PATTERNS=Dt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=Dt.L_PATTERNS[t-10],l=new Int32Array(i.length);for(let c=0;c<i.length;c++)l[c]=i[i.length-c-1];Dt.L_AND_G_PATTERNS[t]=l}}decodeRow(t,i,l){let c=Dt.findStartGuardPattern(i),h=l==null?null:l.get(M.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ye=new Ye((c[0]+c[1])/2,t);h.foundPossibleResultPoint(ye)}let y=this.decodeMiddle(i,c,this.decodeRowStringBuffer),o=y.rowOffset,f=y.resultString;if(h!=null){const ye=new Ye(o,t);h.foundPossibleResultPoint(ye)}let x=this.decodeEnd(i,o);if(h!=null){const ye=new Ye((x[0]+x[1])/2,t);h.foundPossibleResultPoint(ye)}let b=x[1],B=b+(b-x[0]);if(B>=i.getSize()||!i.isRange(b,B,!1))throw new oe;let k=f.toString();if(k.length<8)throw new I;if(!Dt.checkChecksum(k))throw new _;let G=(c[1]+c[0])/2,Y=(x[1]+x[0])/2,ne=this.getBarcodeFormat(),fe=[new Ye(G,t),new Ye(Y,t)],ue=new De(k,null,0,fe,ne,new Date().getTime()),pe=0;try{let ye=$e.decodeRow(t,i,x[1]);ue.putMetadata(gt.UPC_EAN_EXTENSION,ye.getText()),ue.putAllMetadata(ye.getResultMetadata()),ue.addResultPoints(ye.getResultPoints()),pe=ye.getText().length}catch{}let me=l==null?null:l.get(M.ALLOWED_EAN_EXTENSIONS);if(me!=null){let ye=!1;for(let Ie in me)if(pe.toString()===Ie){ye=!0;break}if(!ye)throw new oe}return ue}decodeEnd(t,i){return Dt.findGuardPattern(t,i,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Dt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let l=parseInt(t.charAt(i-1),10);return Dt.getStandardUPCEANChecksum(t.substring(0,i-1))===l}static getStandardUPCEANChecksum(t){let i=t.length,l=0;for(let c=i-1;c>=0;c-=2){let h=t.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new I;l+=h}l*=3;for(let c=i-2;c>=0;c-=2){let h=t.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new I;l+=h}return(1e3-l)%10}}class un extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),y=i[1],o=0;for(let x=0;x<6&&y<h;x++){let b=Dt.decodeDigit(t,c,y,Dt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let B of c)y+=B;b>=10&&(o|=1<<5-x)}l=un.determineFirstDigit(l,o),y=Dt.findGuardPattern(t,y,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&y<h;x++){let b=Dt.decodeDigit(t,c,y,Dt.L_PATTERNS);l+=String.fromCharCode(48+b);for(let B of c)y+=B}return{rowOffset:y,resultString:l}}getBarcodeFormat(){return Ne.EAN_13}static determineFirstDigit(t,i){for(let l=0;l<10;l++)if(i===this.FIRST_DIGIT_ENCODINGS[l])return t=String.fromCharCode(48+l)+t,t;throw new oe}}un.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class lt extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),y=i[1];for(let f=0;f<4&&y<h;f++){let x=Dt.decodeDigit(t,c,y,Dt.L_PATTERNS);l+=String.fromCharCode(48+x);for(let b of c)y+=b}y=Dt.findGuardPattern(t,y,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&y<h;f++){let x=Dt.decodeDigit(t,c,y,Dt.L_PATTERNS);l+=String.fromCharCode(48+x);for(let b of c)y+=b}return{rowOffset:y,resultString:l}}getBarcodeFormat(){return Ne.EAN_8}}class an extends Dt{constructor(){super(...arguments),this.ean13Reader=new un}getBarcodeFormat(){return Ne.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,l))}decodeMiddle(t,i,l){return this.ean13Reader.decodeMiddle(t,i,l)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let l=new De(i.substring(1),null,null,t.getResultPoints(),Ne.UPC_A);return t.getResultMetadata()!=null&&l.putAllMetadata(t.getResultMetadata()),l}else throw new oe}reset(){this.ean13Reader.reset()}}class It extends Dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,l){const c=this.decodeMiddleCounters.map(x=>x);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const h=t.getSize();let y=i[1],o=0;for(let x=0;x<6&&y<h;x++){const b=It.decodeDigit(t,c,y,It.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let B of c)y+=B;b>=10&&(o|=1<<5-x)}let f=It.determineNumSysAndCheckDigit(l,o);return{rowOffset:y,resultString:f}}decodeEnd(t,i){return It.findGuardPatternWithoutCounters(t,i,!0,It.MIDDLE_END_PATTERN)}checkChecksum(t){return Dt.checkChecksum(It.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let h=String.fromCharCode(48+l),y=String.fromCharCode(48+c);return h+t+y}throw oe.getNotFoundInstance()}getBarcodeFormat(){return Ne.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new se;l.append(t.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:l.appendChars(i,0,2),l.append(c),l.append("0000"),l.appendChars(i,2,3);break;case 3:l.appendChars(i,0,3),l.append("00000"),l.appendChars(i,3,2);break;case 4:l.appendChars(i,0,4),l.append("00000"),l.append(i[4]);break;default:l.appendChars(i,0,5),l.append("0000"),l.append(c);break}return t.length>=8&&l.append(t.charAt(7)),l.toString()}}It.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Qt extends Ht{constructor(t){super();let i=t==null?null:t.get(M.POSSIBLE_FORMATS),l=[];d(i)?(l.push(new un),l.push(new an),l.push(new lt),l.push(new It)):(i.indexOf(Ne.EAN_13)>-1&&l.push(new un),i.indexOf(Ne.UPC_A)>-1&&l.push(new an),i.indexOf(Ne.EAN_8)>-1&&l.push(new lt),i.indexOf(Ne.UPC_E)>-1&&l.push(new It)),this.readers=l}decodeRow(t,i,l){for(let c of this.readers)try{const h=c.decodeRow(t,i,l),y=h.getBarcodeFormat()===Ne.EAN_13&&h.getText().charAt(0)==="0",o=l==null?null:l.get(M.POSSIBLE_FORMATS),f=o==null||o.includes(Ne.UPC_A);if(y&&f){const x=h.getRawBytes(),b=new De(h.getText().substring(1),x,x?x.length:null,h.getResultPoints(),Ne.UPC_A);return b.putAllMetadata(h.getResultMetadata()),b}return h}catch{}throw new oe}reset(){for(let t of this.readers)t.reset()}}class St extends Ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let l=0;l<i.length;l++)if(Ht.patternMatchVariance(t,i[l],St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return l;throw new oe}static count(t){return Pe.sum(new Int32Array(t))}static increment(t,i){let l=0,c=i[0];for(let h=1;h<t.length;h++)i[h]>c&&(c=i[h],l=h);t[l]++}static decrement(t,i){let l=0,c=i[0];for(let h=1;h<t.length;h++)i[h]<c&&(c=i[h],l=h);t[l]--}static isFinderPattern(t){let i=t[0]+t[1],l=i+t[2]+t[3],c=i/l;if(c>=St.MIN_FINDER_PATTERN_RATIO&&c<=St.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let o of t)o>y&&(y=o),o<h&&(h=o);return y<10*h}return!1}}St.MAX_AVG_VARIANCE=.2,St.MAX_INDIVIDUAL_VARIANCE=.45,St.MIN_FINDER_PATTERN_RATIO=9.5/12,St.MAX_FINDER_PATTERN_RATIO=12.5/14;class Rt{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Rt))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Lt{constructor(t,i,l,c,h){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ye(l,h)),this.resultPoints.push(new Ye(c,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Lt))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class Ft{constructor(){}static getRSSvalue(t,i,l){let c=0;for(let f of t)c+=f;let h=0,y=0,o=t.length;for(let f=0;f<o-1;f++){let x;for(x=1,y|=1<<f;x<t[f];x++,y&=~(1<<f)){let b=Ft.combins(c-x-1,o-f-2);if(l&&y===0&&c-x-(o-f-1)>=o-f-1&&(b-=Ft.combins(c-x-(o-f),o-f-2)),o-f-1>1){let B=0;for(let k=c-x-(o-f-2);k>i;k--)B+=Ft.combins(c-x-k-1,o-f-3);b-=B*(o-1-f)}else c-x>i&&b--;h+=b}c-=x}return h}static combins(t,i){let l,c;t-i>i?(c=i,l=t-i):(c=t-i,l=i);let h=1,y=1;for(let o=t;o>l;o--)h*=o,y<=c&&(h/=y,y++);for(;y<=c;)h/=y,y++;return h}}class mn{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let l=12*i,c=new K(l),h=0,o=t[0].getRightChar().getValue();for(let f=11;f>=0;--f)(o&1<<f)!=0&&c.set(h),h++;for(let f=1;f<t.length;++f){let x=t[f],b=x.getLeftChar().getValue();for(let B=11;B>=0;--B)(b&1<<B)!=0&&c.set(h),h++;if(x.getRightChar()!=null){let B=x.getRightChar().getValue();for(let k=11;k>=0;--k)(B&1<<k)!=0&&c.set(h),h++}}return c}}class Tt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Zt{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class yn extends Zt{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===yn.FNC1}}yn.FNC1="$";class In extends Zt{constructor(t,i,l){super(t),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class fn extends Zt{constructor(t,i,l){if(super(t),i<0||i>10||l<0||l>10)throw new I;this.firstDigit=i,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===fn.FNC1}isAnyFNC1(){return this.firstDigit===fn.FNC1||this.secondDigit===fn.FNC1}}fn.FNC1=10;class dt{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new oe;let i=t.substring(0,2);for(let h of dt.TWO_DIGIT_DATA_LENGTH)if(h[0]===i)return h[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(2,h[2],t):dt.processFixedAI(2,h[1],t);if(t.length<3)throw new oe;let l=t.substring(0,3);for(let h of dt.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(3,h[2],t):dt.processFixedAI(3,h[1],t);for(let h of dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,h[2],t):dt.processFixedAI(4,h[1],t);if(t.length<4)throw new oe;let c=t.substring(0,4);for(let h of dt.FOUR_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,h[2],t):dt.processFixedAI(4,h[1],t);throw new oe}static processFixedAI(t,i,l){if(l.length<t)throw new oe;let c=l.substring(0,t);if(l.length<t+i)throw new oe;let h=l.substring(t,t+i),y=l.substring(t+i),o="("+c+")"+h,f=dt.parseFieldsInGeneralPurpose(y);return f==null?o:o+f}static processVariableAI(t,i,l){let c=l.substring(0,t),h;l.length<t+i?h=l.length:h=t+i;let y=l.substring(t,h),o=l.substring(h),f="("+c+")"+y,x=dt.parseFieldsInGeneralPurpose(o);return x==null?f:f+x}}dt.VARIABLE_LENGTH=[],dt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",dt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",dt.VARIABLE_LENGTH,20],["22",dt.VARIABLE_LENGTH,29],["30",dt.VARIABLE_LENGTH,8],["37",dt.VARIABLE_LENGTH,8],["90",dt.VARIABLE_LENGTH,30],["91",dt.VARIABLE_LENGTH,30],["92",dt.VARIABLE_LENGTH,30],["93",dt.VARIABLE_LENGTH,30],["94",dt.VARIABLE_LENGTH,30],["95",dt.VARIABLE_LENGTH,30],["96",dt.VARIABLE_LENGTH,30],["97",dt.VARIABLE_LENGTH,3],["98",dt.VARIABLE_LENGTH,30],["99",dt.VARIABLE_LENGTH,30]],dt.THREE_DIGIT_DATA_LENGTH=[["240",dt.VARIABLE_LENGTH,30],["241",dt.VARIABLE_LENGTH,30],["242",dt.VARIABLE_LENGTH,6],["250",dt.VARIABLE_LENGTH,30],["251",dt.VARIABLE_LENGTH,30],["253",dt.VARIABLE_LENGTH,17],["254",dt.VARIABLE_LENGTH,20],["400",dt.VARIABLE_LENGTH,30],["401",dt.VARIABLE_LENGTH,30],["402",17],["403",dt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",dt.VARIABLE_LENGTH,20],["421",dt.VARIABLE_LENGTH,15],["422",3],["423",dt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",dt.VARIABLE_LENGTH,15],["391",dt.VARIABLE_LENGTH,18],["392",dt.VARIABLE_LENGTH,15],["393",dt.VARIABLE_LENGTH,18],["703",dt.VARIABLE_LENGTH,30]],dt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",dt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",dt.VARIABLE_LENGTH,20],["8003",dt.VARIABLE_LENGTH,30],["8004",dt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",dt.VARIABLE_LENGTH,30],["8008",dt.VARIABLE_LENGTH,12],["8018",18],["8020",dt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",dt.VARIABLE_LENGTH,70],["8200",dt.VARIABLE_LENGTH,70]];class Sn{constructor(t){this.buffer=new se,this.information=t}decodeAllCodes(t,i){let l=i,c=null;do{let h=this.decodeGeneralPurposeField(l,c),y=dt.parseFieldsInGeneralPurpose(h.getNewString());if(y!=null&&t.append(y),h.isRemaining()?c=""+h.getRemainingValue():c=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(t,4);return h===0?new fn(this.information.getSize(),fn.FNC1,fn.FNC1):new fn(this.information.getSize(),h-1,fn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),l=(i-8)/11,c=(i-8)%11;return new fn(t+7,l,c)}extractNumericValueFromBitArray(t,i){return Sn.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,l){let c=0;for(let h=0;h<l;++h)t.get(i+h)&&(c|=1<<l-h-1);return c}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new In(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new In(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let l=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(l!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new In(this.current.getPosition(),this.buffer.toString()):i=new In(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Tt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new In(this.current.getPosition(),this.buffer.toString());return new Tt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Tt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new In(this.current.getPosition(),this.buffer.toString());return new Tt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Tt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new In(this.current.getPosition(),this.buffer.toString());return new Tt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Tt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,7);if(l>=64&&l<116)return!0;if(t+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(t,8);return c>=232&&c<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new yn(t+5,yn.FNC1);if(i>=5&&i<15)return new yn(t+5,"0"+(i-5));let l=this.extractNumericValueFromBitArray(t,7);if(l>=64&&l<90)return new yn(t+7,""+(l+1));if(l>=90&&l<116)return new yn(t+7,""+(l+7));let c=this.extractNumericValueFromBitArray(t,8),h;switch(c){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new I}return new yn(t+8,h)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,6);return l>=16&&l<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new yn(t+5,yn.FNC1);if(i>=5&&i<15)return new yn(t+5,"0"+(i-5));let l=this.extractNumericValueFromBitArray(t,6);if(l>=32&&l<58)return new yn(t+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new xe("Decoding invalid alphanumeric value: "+l)}return new yn(t+6,c)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class cn{constructor(t){this.information=t,this.generalDecoder=new Sn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class $t extends cn{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let l=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,l)}encodeCompressedGtinWithoutAI(t,i,l){for(let c=0;c<4;++c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);h/100===0&&t.append("0"),h/10===0&&t.append("0"),t.append(h)}$t.appendCheckDigit(t,l)}static appendCheckDigit(t,i){let l=0;for(let c=0;c<13;c++){let h=t.charAt(c+i).charCodeAt(0)-48;l+=(c&1)===0?3*h:h}l=10-l%10,l===10&&(l=0),t.append(l)}}$t.GTIN_SIZE=40;class Ar extends $t{constructor(t){super(t)}parseInformation(){let t=new se;t.append("(01)");let i=t.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE,4);return t.append(l),this.encodeCompressedGtinWithoutAI(t,Ar.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,Ar.HEADER_SIZE+44)}}Ar.HEADER_SIZE=4;class ya extends cn{constructor(t){super(t)}parseInformation(){let t=new se;return this.getGeneralDecoder().decodeAllCodes(t,ya.HEADER_SIZE)}}ya.HEADER_SIZE=5;class Ci extends $t{constructor(t){super(t)}encodeCompressedWeight(t,i,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,l);this.addWeightCode(t,c);let h=this.checkWeight(c),y=1e5;for(let o=0;o<5;++o)h/y===0&&t.append("0"),y/=10;t.append(h)}}class ar extends Ci{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=ar.HEADER_SIZE+Ci.GTIN_SIZE+ar.WEIGHT_SIZE)throw new oe;let t=new se;return this.encodeCompressedGtin(t,ar.HEADER_SIZE),this.encodeCompressedWeight(t,ar.HEADER_SIZE+Ci.GTIN_SIZE,ar.WEIGHT_SIZE),t.toString()}}ar.HEADER_SIZE=5,ar.WEIGHT_SIZE=15;class Pi extends ar{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class ea extends ar{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Gr extends $t{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Gr.HEADER_SIZE+$t.GTIN_SIZE)throw new oe;let t=new se;this.encodeCompressedGtin(t,Gr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Gr.HEADER_SIZE+$t.GTIN_SIZE,Gr.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Gr.HEADER_SIZE+$t.GTIN_SIZE+Gr.LAST_DIGIT_SIZE,null);return t.append(l.getNewString()),t.toString()}}Gr.HEADER_SIZE=8,Gr.LAST_DIGIT_SIZE=2;class ir extends $t{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<ir.HEADER_SIZE+$t.GTIN_SIZE)throw new oe;let t=new se;this.encodeCompressedGtin(t,ir.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(ir.HEADER_SIZE+$t.GTIN_SIZE,ir.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ir.HEADER_SIZE+$t.GTIN_SIZE+ir.LAST_DIGIT_SIZE,ir.FIRST_THREE_DIGITS_SIZE);l/100==0&&t.append("0"),l/10==0&&t.append("0"),t.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(ir.HEADER_SIZE+$t.GTIN_SIZE+ir.LAST_DIGIT_SIZE+ir.FIRST_THREE_DIGITS_SIZE,null);return t.append(c.getNewString()),t.toString()}}ir.HEADER_SIZE=8,ir.LAST_DIGIT_SIZE=2,ir.FIRST_THREE_DIGITS_SIZE=10;class en extends Ci{constructor(t,i,l){super(t),this.dateCode=l,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=en.HEADER_SIZE+en.GTIN_SIZE+en.WEIGHT_SIZE+en.DATE_SIZE)throw new oe;let t=new se;return this.encodeCompressedGtin(t,en.HEADER_SIZE),this.encodeCompressedWeight(t,en.HEADER_SIZE+en.GTIN_SIZE,en.WEIGHT_SIZE),this.encodeCompressedDate(t,en.HEADER_SIZE+en.GTIN_SIZE+en.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,en.DATE_SIZE);if(l==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let c=l%32;l/=32;let h=l%12+1;l/=12;let y=l;y/10==0&&t.append("0"),t.append(y),h/10==0&&t.append("0"),t.append(h),c/10==0&&t.append("0"),t.append(c)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}en.HEADER_SIZE=8,en.WEIGHT_SIZE=20,en.DATE_SIZE=16;function Xr($){try{if($.get(1))return new Ar($);if(!$.get(2))return new ya($);switch(Sn.extractNumericValueFromBitArray($,1,4)){case 4:return new Pi($);case 5:return new ea($)}switch(Sn.extractNumericValueFromBitArray($,1,5)){case 12:return new Gr($);case 13:return new ir($)}switch(Sn.extractNumericValueFromBitArray($,1,7)){case 56:return new en($,"310","11");case 57:return new en($,"320","11");case 58:return new en($,"310","13");case 59:return new en($,"320","13");case 60:return new en($,"310","15");case 61:return new en($,"320","15");case 62:return new en($,"310","17");case 63:return new en($,"320","17")}}catch(t){throw console.log(t),new xe("unknown decoder: "+$)}}class dr{constructor(t,i,l,c){this.leftchar=t,this.rightchar=i,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof dr?dr.equalsOrNull(t.leftchar,i.leftchar)&&dr.equalsOrNull(t.rightchar,i.rightchar)&&dr.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:dr.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class hr{constructor(t,i,l){this.pairs=t,this.rowNumber=i,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof hr?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let l;return t.forEach((c,h)=>{i.forEach(y=>{c.getLeftChar().getValue()===y.getLeftChar().getValue()&&c.getRightChar().getValue()===y.getRightChar().getValue()&&c.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(l=!0)})}),l}}class ot extends St{constructor(t){super(...arguments),this.pairs=new Array(ot.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,l){this.pairs.length=0,this.startFromEven=!1;try{return ot.constructResult(this.decodeRow2pairs(t,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ot.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(h){if(h instanceof oe){if(!this.pairs.length)throw new oe;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(t,!1),c){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new oe}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let l=i;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let y of t)this.pairs.push(y.getPairs());if(this.pairs.push(c.getPairs()),!ot.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(t);h.push(c);try{return this.checkRows(h,l+1)}catch(y){this.verbose&&console.log(y)}}throw new oe}static isValidSequence(t){for(let i of ot.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let l=!0;for(let c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!=i[c]){l=!1;break}if(l)return!0}return!1}storeRow(t,i){let l=0,c=!1,h=!1;for(;l<this.rows.length;){let y=this.rows[l];if(y.getRowNumber()>t){h=y.isEquivalent(this.pairs);break}c=y.isEquivalent(this.pairs),l++}h||c||ot.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new hr(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let l of i)if(l.getPairs().length!==t.length){for(let c of l.getPairs())for(let h of t)if(dr.equals(c,h))break}}static isPartialRow(t,i){for(let l of i){let c=!0;for(let h of t){let y=!1;for(let o of l.getPairs())if(h.equals(o)){y=!0;break}if(!y){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=mn.buildBitArray(t),c=Xr(i).parseInformation(),h=t[0].getFinderPattern().getResultPoints(),y=t[t.length-1].getFinderPattern().getResultPoints(),o=[h[0],h[1],y[0],y[1]];return new De(c,null,null,o,Ne.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),l=t.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),h=2;for(let o=1;o<this.pairs.size();++o){let f=this.pairs.get(o);c+=f.getLeftChar().getChecksumPortion(),h++;let x=f.getRightChar();x!=null&&(c+=x.getChecksumPortion(),h++)}return c%=211,211*(h-4)+c==i.getValue()}static getNextSecondBar(t,i){let l;return t.get(i)?(l=t.getNextUnset(i),l=t.getNextSet(l)):(l=t.getNextSet(i),l=t.getNextUnset(l)),l}retrieveNextPair(t,i,l){let c=i.length%2==0;this.startFromEven&&(c=!c);let h,y=!0,o=-1;do this.findNextPair(t,i,o),h=this.parseFoundFinderPattern(t,l,c),h==null?o=ot.getNextSecondBar(t,this.startEnd[0]):y=!1;while(y);let f=this.decodeDataCharacter(t,h,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new oe;let x;try{x=this.decodeDataCharacter(t,h,c,!1)}catch(b){x=null,this.verbose&&console.log(b)}return new dr(f,x,h,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),y;l>=0?y=l:this.isEmptyPair(i)?y=0:y=i[i.length-1].getFinderPattern().getStartEnd()[1];let o=i.length%2!=0;this.startFromEven&&(o=!o);let f=!1;for(;y<h&&(f=!t.get(y),!!f);)y++;let x=0,b=y;for(let B=y;B<h;B++)if(t.get(B)!=f)c[x]++;else{if(x==3){if(o&&ot.reverseCounters(c),ot.isFinderPattern(c)){this.startEnd[0]=b,this.startEnd[1]=B;return}o&&ot.reverseCounters(c),b+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,x--}else x++;c[x]=1,f=!f}throw new oe}static reverseCounters(t){let i=t.length;for(let l=0;l<i/2;++l){let c=t[l];t[l]=t[i-l-1],t[i-l-1]=c}}parseFoundFinderPattern(t,i,l){let c,h,y;if(l){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,c=this.startEnd[0]-x,h=x,y=this.startEnd[1]}else h=this.startEnd[0],y=t.getNextUnset(this.startEnd[1]+1),c=y-this.startEnd[1];let o=this.getDecodeFinderCounters();P.arraycopy(o,0,o,1,o.length-1),o[0]=c;let f;try{f=this.parseFinderValue(o,ot.FINDER_PATTERNS)}catch{return null}return new Lt(f,[h,y],h,y,i)}decodeDataCharacter(t,i,l,c){let h=this.getDataCharacterCounters();for(let Ge=0;Ge<h.length;Ge++)h[Ge]=0;if(c)ot.recordPatternInReverse(t,i.getStartEnd()[0],h);else{ot.recordPattern(t,i.getStartEnd()[1],h);for(let Ge=0,at=h.length-1;Ge<at;Ge++,at--){let mt=h[Ge];h[Ge]=h[at],h[at]=mt}}let y=17,o=Pe.sum(new Int32Array(h))/y,f=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(o-f)/f>.3)throw new oe;let x=this.getOddCounts(),b=this.getEvenCounts(),B=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let Ge=0;Ge<h.length;Ge++){let at=1*h[Ge]/o,mt=at+.5;if(mt<1){if(at<.3)throw new oe;mt=1}else if(mt>8){if(at>8.7)throw new oe;mt=8}let xt=Ge/2;(Ge&1)==0?(x[xt]=mt,B[xt]=at-mt):(b[xt]=mt,k[xt]=at-mt)}this.adjustOddEvenCounts(y);let G=4*i.getValue()+(l?0:2)+(c?0:1)-1,Y=0,ne=0;for(let Ge=x.length-1;Ge>=0;Ge--){if(ot.isNotA1left(i,l,c)){let at=ot.WEIGHTS[G][2*Ge];ne+=x[Ge]*at}Y+=x[Ge]}let fe=0;for(let Ge=b.length-1;Ge>=0;Ge--)if(ot.isNotA1left(i,l,c)){let at=ot.WEIGHTS[G][2*Ge+1];fe+=b[Ge]*at}let ue=ne+fe;if((Y&1)!=0||Y>13||Y<4)throw new oe;let pe=(13-Y)/2,me=ot.SYMBOL_WIDEST[pe],ye=9-me,Ie=Ft.getRSSvalue(x,me,!0),Ee=Ft.getRSSvalue(b,ye,!1),Me=ot.EVEN_TOTAL_SUBSET[pe],Ve=ot.GSUM[pe],Oe=Ie*Me+Ee+Ve;return new Rt(Oe,ue)}static isNotA1left(t,i,l){return!(t.getValue()==0&&i&&l)}adjustOddEvenCounts(t){let i=Pe.sum(new Int32Array(this.getOddCounts())),l=Pe.sum(new Int32Array(this.getEvenCounts())),c=!1,h=!1;i>13?h=!0:i<4&&(c=!0);let y=!1,o=!1;l>13?o=!0:l<4&&(y=!0);let f=i+l-t,x=(i&1)==1,b=(l&1)==0;if(f==1)if(x){if(b)throw new oe;h=!0}else{if(!b)throw new oe;o=!0}else if(f==-1)if(x){if(b)throw new oe;c=!0}else{if(!b)throw new oe;y=!0}else if(f==0){if(x){if(!b)throw new oe;i<l?(c=!0,o=!0):(h=!0,y=!0)}else if(b)throw new oe}else throw new oe;if(c){if(h)throw new oe;ot.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&ot.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(o)throw new oe;ot.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&ot.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.SYMBOL_WIDEST=[7,5,4,3,1],ot.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ot.GSUM=[0,348,1388,2948,3988],ot.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ot.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ot.FINDER_PAT_A=0,ot.FINDER_PAT_B=1,ot.FINDER_PAT_C=2,ot.FINDER_PAT_D=3,ot.FINDER_PAT_E=4,ot.FINDER_PAT_F=5,ot.FINDER_PATTERN_SEQUENCES=[[ot.FINDER_PAT_A,ot.FINDER_PAT_A],[ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B],[ot.FINDER_PAT_A,ot.FINDER_PAT_C,ot.FINDER_PAT_B,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_C],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F]],ot.MAX_PAIRS=11;class Dr extends Rt{constructor(t,i,l){super(t,i),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mn extends St{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,l){const c=this.decodePair(i,!1,t,l);Mn.addOrTally(this.possibleLeftPairs,c),i.reverse();let h=this.decodePair(i,!0,t,l);Mn.addOrTally(this.possibleRightPairs,h),i.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let o of this.possibleRightPairs)if(o.getCount()>1&&Mn.checkChecksum(y,o))return Mn.constructResult(y,o)}throw new oe}static addOrTally(t,i){if(i==null)return;let l=!1;for(let c of t)if(c.getValue()===i.getValue()){c.incrementCount(),l=!0;break}l||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let l=4537077*t.getValue()+i.getValue(),c=new String(l).toString(),h=new se;for(let x=13-c.length;x>0;x--)h.append("0");h.append(c);let y=0;for(let x=0;x<13;x++){let b=h.charAt(x).charCodeAt(0)-48;y+=(x&1)===0?3*b:b}y=10-y%10,y===10&&(y=0),h.append(y.toString());let o=t.getFinderPattern().getResultPoints(),f=i.getFinderPattern().getResultPoints();return new De(h.toString(),null,0,[o[0],o[1],f[0],f[1]],Ne.RSS_14,new Date().getTime())}static checkChecksum(t,i){let l=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(t,i,l,c){try{let h=this.findFinderPattern(t,i),y=this.parseFoundFinderPattern(t,l,i,h),o=c==null?null:c.get(M.NEED_RESULT_POINT_CALLBACK);if(o!=null){let b=(h[0]+h[1])/2;i&&(b=t.getSize()-1-b),o.foundPossibleResultPoint(new Ye(b,l))}let f=this.decodeDataCharacter(t,y,!0),x=this.decodeDataCharacter(t,y,!1);return new Dr(1597*f.getValue()+x.getValue(),f.getChecksumPortion()+4*x.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(t,i,l){let c=this.getDataCharacterCounters();for(let fe=0;fe<c.length;fe++)c[fe]=0;if(l)Ht.recordPatternInReverse(t,i.getStartEnd()[0],c);else{Ht.recordPattern(t,i.getStartEnd()[1]+1,c);for(let fe=0,ue=c.length-1;fe<ue;fe++,ue--){let pe=c[fe];c[fe]=c[ue],c[ue]=pe}}let h=l?16:15,y=Pe.sum(new Int32Array(c))/h,o=this.getOddCounts(),f=this.getEvenCounts(),x=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let fe=0;fe<c.length;fe++){let ue=c[fe]/y,pe=Math.floor(ue+.5);pe<1?pe=1:pe>8&&(pe=8);let me=Math.floor(fe/2);(fe&1)===0?(o[me]=pe,x[me]=ue-pe):(f[me]=pe,b[me]=ue-pe)}this.adjustOddEvenCounts(l,h);let B=0,k=0;for(let fe=o.length-1;fe>=0;fe--)k*=9,k+=o[fe],B+=o[fe];let G=0,Y=0;for(let fe=f.length-1;fe>=0;fe--)G*=9,G+=f[fe],Y+=f[fe];let ne=k+3*G;if(l){if((B&1)!==0||B>12||B<4)throw new oe;let fe=(12-B)/2,ue=Mn.OUTSIDE_ODD_WIDEST[fe],pe=9-ue,me=Ft.getRSSvalue(o,ue,!1),ye=Ft.getRSSvalue(f,pe,!0),Ie=Mn.OUTSIDE_EVEN_TOTAL_SUBSET[fe],Ee=Mn.OUTSIDE_GSUM[fe];return new Rt(me*Ie+ye+Ee,ne)}else{if((Y&1)!==0||Y>10||Y<4)throw new oe;let fe=(10-Y)/2,ue=Mn.INSIDE_ODD_WIDEST[fe],pe=9-ue,me=Ft.getRSSvalue(o,ue,!0),ye=Ft.getRSSvalue(f,pe,!1),Ie=Mn.INSIDE_ODD_TOTAL_SUBSET[fe],Ee=Mn.INSIDE_GSUM[fe];return new Rt(ye*Ie+me+Ee,ne)}}findFinderPattern(t,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=t.getSize(),h=!1,y=0;for(;y<c&&(h=!t.get(y),i!==h);)y++;let o=0,f=y;for(let x=y;x<c;x++)if(t.get(x)!==h)l[o]++;else{if(o===3){if(St.isFinderPattern(l))return[f,x];f+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,o--}else o++;l[o]=1,h=!h}throw new oe}parseFoundFinderPattern(t,i,l,c){let h=t.get(c[0]),y=c[0]-1;for(;y>=0&&h!==t.get(y);)y--;y++;const o=c[0]-y,f=this.getDecodeFinderCounters(),x=new Int32Array(f.length);P.arraycopy(f,0,x,1,f.length-1),x[0]=o;const b=this.parseFinderValue(x,Mn.FINDER_PATTERNS);let B=y,k=c[1];return l&&(B=t.getSize()-1-B,k=t.getSize()-1-k),new Lt(b,[y,c[1]],B,k,i)}adjustOddEvenCounts(t,i){let l=Pe.sum(new Int32Array(this.getOddCounts())),c=Pe.sum(new Int32Array(this.getEvenCounts())),h=!1,y=!1,o=!1,f=!1;t?(l>12?y=!0:l<4&&(h=!0),c>12?f=!0:c<4&&(o=!0)):(l>11?y=!0:l<5&&(h=!0),c>10?f=!0:c<4&&(o=!0));let x=l+c-i,b=(l&1)===(t?1:0),B=(c&1)===1;if(x===1)if(b){if(B)throw new oe;y=!0}else{if(!B)throw new oe;f=!0}else if(x===-1)if(b){if(B)throw new oe;h=!0}else{if(!B)throw new oe;o=!0}else if(x===0){if(b){if(!B)throw new oe;l<c?(h=!0,f=!0):(y=!0,o=!0)}else if(B)throw new oe}else throw new oe;if(h){if(y)throw new oe;St.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&St.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(f)throw new oe;St.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&St.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mn.OUTSIDE_GSUM=[0,161,961,2015,2715],Mn.INSIDE_GSUM=[0,336,1036,1516],Mn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mn.INSIDE_ODD_WIDEST=[2,4,6,8],Mn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class jr extends Ht{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const l=t?t.get(M.POSSIBLE_FORMATS):null,c=t&&t.get(M.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Ne.EAN_13)||l.includes(Ne.UPC_A)||l.includes(Ne.EAN_8)||l.includes(Ne.UPC_E))&&this.readers.push(new Qt(t)),l.includes(Ne.CODE_39)&&this.readers.push(new Vt(c)),l.includes(Ne.CODE_128)&&this.readers.push(new rt),l.includes(Ne.ITF)&&this.readers.push(new we),l.includes(Ne.RSS_14)&&this.readers.push(new Mn),l.includes(Ne.RSS_EXPANDED)&&this.readers.push(new ot(this.verbose))):(this.readers.push(new Qt(t)),this.readers.push(new Vt),this.readers.push(new Qt(t)),this.readers.push(new rt),this.readers.push(new we),this.readers.push(new Mn),this.readers.push(new ot(this.verbose)))}decodeRow(t,i,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(t,i,l)}catch{}throw new oe}reset(){this.readers.forEach(t=>t.reset())}}class Ma extends Ze{constructor(t=500,i){super(new jr(i),t,i)}}class Rn{constructor(t,i,l){this.ecCodewords=t,this.ecBlocks=[i],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class J{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class te{constructor(t,i,l,c,h,y){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=h,this.ecBlocks=y;let o=0;const f=y.getECCodewords(),x=y.getECBlocks();for(let b of x)o+=b.getCount()*(b.getDataCodewords()+f);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new I;for(let l of te.VERSIONS)if(l.symbolSizeRows===t&&l.symbolSizeColumns===i)return l;throw new I}toString(){return""+this.versionNumber}static buildVersions(){return[new te(1,10,10,8,8,new Rn(5,new J(1,3))),new te(2,12,12,10,10,new Rn(7,new J(1,5))),new te(3,14,14,12,12,new Rn(10,new J(1,8))),new te(4,16,16,14,14,new Rn(12,new J(1,12))),new te(5,18,18,16,16,new Rn(14,new J(1,18))),new te(6,20,20,18,18,new Rn(18,new J(1,22))),new te(7,22,22,20,20,new Rn(20,new J(1,30))),new te(8,24,24,22,22,new Rn(24,new J(1,36))),new te(9,26,26,24,24,new Rn(28,new J(1,44))),new te(10,32,32,14,14,new Rn(36,new J(1,62))),new te(11,36,36,16,16,new Rn(42,new J(1,86))),new te(12,40,40,18,18,new Rn(48,new J(1,114))),new te(13,44,44,20,20,new Rn(56,new J(1,144))),new te(14,48,48,22,22,new Rn(68,new J(1,174))),new te(15,52,52,24,24,new Rn(42,new J(2,102))),new te(16,64,64,14,14,new Rn(56,new J(2,140))),new te(17,72,72,16,16,new Rn(36,new J(4,92))),new te(18,80,80,18,18,new Rn(48,new J(4,114))),new te(19,88,88,20,20,new Rn(56,new J(4,144))),new te(20,96,96,22,22,new Rn(68,new J(4,174))),new te(21,104,104,24,24,new Rn(56,new J(6,136))),new te(22,120,120,18,18,new Rn(68,new J(6,175))),new te(23,132,132,20,20,new Rn(62,new J(8,163))),new te(24,144,144,22,22,new Rn(62,new J(8,156),new J(2,155))),new te(25,8,18,6,16,new Rn(7,new J(1,5))),new te(26,8,32,6,14,new Rn(11,new J(1,10))),new te(27,12,26,10,24,new Rn(14,new J(1,16))),new te(28,12,36,10,16,new Rn(18,new J(1,22))),new te(29,16,36,14,16,new Rn(24,new J(1,32))),new te(30,16,48,14,22,new Rn(28,new J(1,49)))]}}te.VERSIONS=te.buildVersions();class ce{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new I;this.version=ce.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),l=t.getWidth();return te.getVersionForDimensions(i,l)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,l=4,c=0;const h=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let o=!1,f=!1,x=!1,b=!1;do if(l===h&&c===0&&!o)t[i++]=this.readCorner1(h,y)&255,l-=2,c+=2,o=!0;else if(l===h-2&&c===0&&(y&3)!==0&&!f)t[i++]=this.readCorner2(h,y)&255,l-=2,c+=2,f=!0;else if(l===h+4&&c===2&&(y&7)===0&&!x)t[i++]=this.readCorner3(h,y)&255,l-=2,c+=2,x=!0;else if(l===h-2&&c===0&&(y&7)===4&&!b)t[i++]=this.readCorner4(h,y)&255,l-=2,c+=2,b=!0;else{do l<h&&c>=0&&!this.readMappingMatrix.get(c,l)&&(t[i++]=this.readUtah(l,c,h,y)&255),l-=2,c+=2;while(l>=0&&c<y);l+=1,c+=3;do l>=0&&c<y&&!this.readMappingMatrix.get(c,l)&&(t[i++]=this.readUtah(l,c,h,y)&255),l+=2,c-=2;while(l<h&&c>=0);l+=3,c+=1}while(l<h||c<y);if(i!==this.version.getTotalCodewords())throw new I;return t}readModule(t,i,l,c){return t<0&&(t+=l,i+=4-(l+4&7)),i<0&&(i+=c,t+=4-(c+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,l,c){let h=0;return this.readModule(t-2,i-2,l,c)&&(h|=1),h<<=1,this.readModule(t-2,i-1,l,c)&&(h|=1),h<<=1,this.readModule(t-1,i-2,l,c)&&(h|=1),h<<=1,this.readModule(t-1,i-1,l,c)&&(h|=1),h<<=1,this.readModule(t-1,i,l,c)&&(h|=1),h<<=1,this.readModule(t,i-2,l,c)&&(h|=1),h<<=1,this.readModule(t,i-1,l,c)&&(h|=1),h<<=1,this.readModule(t,i,l,c)&&(h|=1),h}readCorner1(t,i){let l=0;return this.readModule(t-1,0,t,i)&&(l|=1),l<<=1,this.readModule(t-1,1,t,i)&&(l|=1),l<<=1,this.readModule(t-1,2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-1,t,i)&&(l|=1),l<<=1,this.readModule(1,i-1,t,i)&&(l|=1),l<<=1,this.readModule(2,i-1,t,i)&&(l|=1),l<<=1,this.readModule(3,i-1,t,i)&&(l|=1),l}readCorner2(t,i){let l=0;return this.readModule(t-3,0,t,i)&&(l|=1),l<<=1,this.readModule(t-2,0,t,i)&&(l|=1),l<<=1,this.readModule(t-1,0,t,i)&&(l|=1),l<<=1,this.readModule(0,i-4,t,i)&&(l|=1),l<<=1,this.readModule(0,i-3,t,i)&&(l|=1),l<<=1,this.readModule(0,i-2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-1,t,i)&&(l|=1),l<<=1,this.readModule(1,i-1,t,i)&&(l|=1),l}readCorner3(t,i){let l=0;return this.readModule(t-1,0,t,i)&&(l|=1),l<<=1,this.readModule(t-1,i-1,t,i)&&(l|=1),l<<=1,this.readModule(0,i-3,t,i)&&(l|=1),l<<=1,this.readModule(0,i-2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-1,t,i)&&(l|=1),l<<=1,this.readModule(1,i-3,t,i)&&(l|=1),l<<=1,this.readModule(1,i-2,t,i)&&(l|=1),l<<=1,this.readModule(1,i-1,t,i)&&(l|=1),l}readCorner4(t,i){let l=0;return this.readModule(t-3,0,t,i)&&(l|=1),l<<=1,this.readModule(t-2,0,t,i)&&(l|=1),l<<=1,this.readModule(t-1,0,t,i)&&(l|=1),l<<=1,this.readModule(0,i-2,t,i)&&(l|=1),l<<=1,this.readModule(0,i-1,t,i)&&(l|=1),l<<=1,this.readModule(1,i-1,t,i)&&(l|=1),l<<=1,this.readModule(2,i-1,t,i)&&(l|=1),l<<=1,this.readModule(3,i-1,t,i)&&(l|=1),l}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new R("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),y=i/c|0,o=l/h|0,f=y*c,x=o*h,b=new Ae(x,f);for(let B=0;B<y;++B){const k=B*c;for(let G=0;G<o;++G){const Y=G*h;for(let ne=0;ne<c;++ne){const fe=B*(c+2)+1+ne,ue=k+ne;for(let pe=0;pe<h;++pe){const me=G*(h+2)+1+pe;if(t.get(me,fe)){const ye=Y+pe;b.set(ye,ue)}}}}}return b}}class Re{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const l=i.getECBlocks();let c=0;const h=l.getECBlocks();for(let ne of h)c+=ne.getCount();const y=new Array(c);let o=0;for(let ne of h)for(let fe=0;fe<ne.getCount();fe++){const ue=ne.getDataCodewords(),pe=l.getECCodewords()+ue;y[o++]=new Re(ue,new Uint8Array(pe))}const x=y[0].codewords.length-l.getECCodewords(),b=x-1;let B=0;for(let ne=0;ne<b;ne++)for(let fe=0;fe<o;fe++)y[fe].codewords[ne]=t[B++];const k=i.getVersionNumber()===24,G=k?8:o;for(let ne=0;ne<G;ne++)y[ne].codewords[x-1]=t[B++];const Y=y[0].codewords.length;for(let ne=x;ne<Y;ne++)for(let fe=0;fe<o;fe++){const ue=k?(fe+8)%o:fe,pe=k&&ue>7?ne-1:ne;y[ue].codewords[pe]=t[B++]}if(B!==t.length)throw new R;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class tt{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new R(""+t);let i=0,l=this.bitOffset,c=this.byteOffset;const h=this.bytes;if(l>0){const y=8-l,o=t<y?t:y,f=y-o,x=255>>8-o<<f;i=(h[c]&x)>>f,t-=o,l+=o,l===8&&(l=0,c++)}if(t>0){for(;t>=8;)i=i<<8|h[c]&255,c++,t-=8;if(t>0){const y=8-t,o=255>>y<<y;i=i<<t|(h[c]&o)>>y,l+=t}}return this.bitOffset=l,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Xe;(function($){$[$.PAD_ENCODE=0]="PAD_ENCODE",$[$.ASCII_ENCODE=1]="ASCII_ENCODE",$[$.C40_ENCODE=2]="C40_ENCODE",$[$.TEXT_ENCODE=3]="TEXT_ENCODE",$[$.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",$[$.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",$[$.BASE256_ENCODE=6]="BASE256_ENCODE"})(Xe||(Xe={}));class vt{static decode(t){const i=new tt(t),l=new se,c=new se,h=new Array;let y=Xe.ASCII_ENCODE;do if(y===Xe.ASCII_ENCODE)y=this.decodeAsciiSegment(i,l,c);else{switch(y){case Xe.C40_ENCODE:this.decodeC40Segment(i,l);break;case Xe.TEXT_ENCODE:this.decodeTextSegment(i,l);break;case Xe.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,l);break;case Xe.EDIFACT_ENCODE:this.decodeEdifactSegment(i,l);break;case Xe.BASE256_ENCODE:this.decodeBase256Segment(i,l,h);break;default:throw new I}y=Xe.ASCII_ENCODE}while(y!==Xe.PAD_ENCODE&&i.available()>0);return c.length()>0&&l.append(c.toString()),new Q(t,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(t,i,l){let c=!1;do{let h=t.readBits(8);if(h===0)throw new I;if(h<=128)return c&&(h+=128),i.append(String.fromCharCode(h-1)),Xe.ASCII_ENCODE;if(h===129)return Xe.PAD_ENCODE;if(h<=229){const y=h-130;y<10&&i.append("0"),i.append(""+y)}else switch(h){case 230:return Xe.C40_ENCODE;case 231:return Xe.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),l.insert(0,"");break;case 237:i.append("[)>06"),l.insert(0,"");break;case 238:return Xe.ANSIX12_ENCODE;case 239:return Xe.TEXT_ENCODE;case 240:return Xe.EDIFACT_ENCODE;case 241:break;default:if(h!==254||t.available()!==0)throw new I;break}}while(t.available()>0);return Xe.ASCII_ENCODE}static decodeC40Segment(t,i){let l=!1;const c=[];let h=0;do{if(t.available()===8)return;const y=t.readBits(8);if(y===254)return;this.parseTwoBytes(y,t.readBits(8),c);for(let o=0;o<3;o++){const f=c[o];switch(h){case 0:if(f<3)h=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[f];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x)}else throw new I;break;case 1:l?(i.append(String.fromCharCode(f+128)),l=!1):i.append(String.fromCharCode(f)),h=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[f];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x)}else switch(f){case 27:i.append("");break;case 30:l=!0;break;default:throw new I}h=0;break;case 3:l?(i.append(String.fromCharCode(f+224)),l=!1):i.append(String.fromCharCode(f+96)),h=0;break;default:throw new I}}}while(t.available()>0)}static decodeTextSegment(t,i){let l=!1,c=[],h=0;do{if(t.available()===8)return;const y=t.readBits(8);if(y===254)return;this.parseTwoBytes(y,t.readBits(8),c);for(let o=0;o<3;o++){const f=c[o];switch(h){case 0:if(f<3)h=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[f];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x)}else throw new I;break;case 1:l?(i.append(String.fromCharCode(f+128)),l=!1):i.append(String.fromCharCode(f)),h=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[f];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x)}else switch(f){case 27:i.append("");break;case 30:l=!0;break;default:throw new I}h=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[f];l?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):i.append(x),h=0}else throw new I;break;default:throw new I}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const l=[];do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let h=0;h<3;h++){const y=l[h];switch(y){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(y<14)i.append(String.fromCharCode(y+44));else if(y<40)i.append(String.fromCharCode(y+51));else throw new I;break}}}while(t.available()>0)}static parseTwoBytes(t,i,l){let c=(t<<8)+i-1,h=Math.floor(c/1600);l[0]=h,c-=h*1600,h=Math.floor(c/40),l[1]=h,l[2]=c-h*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let l=0;l<4;l++){let c=t.readBits(6);if(c===31){const h=8-t.getBitOffset();h!==8&&t.readBits(h);return}(c&32)===0&&(c|=64),i.append(String.fromCharCode(c))}}while(t.available()>0)}static decodeBase256Segment(t,i,l){let c=1+t.getByteOffset();const h=this.unrandomize255State(t.readBits(8),c++);let y;if(h===0?y=t.available()/8|0:h<250?y=h:y=250*(h-249)+this.unrandomize255State(t.readBits(8),c++),y<0)throw new I;const o=new Uint8Array(y);for(let f=0;f<y;f++){if(t.available()<8)throw new I;o[f]=this.unrandomize255State(t.readBits(8),c++)}l.push(o);try{i.append(de.decode(o,ee.ISO88591))}catch(f){throw new xe("Platform does not support required encoding: "+f.message)}}static unrandomize255State(t,i){const l=149*i%255+1,c=t-l;return c>=0?c:c+256}}vt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],vt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],vt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],vt.TEXT_SHIFT2_SET_CHARS=vt.C40_SHIFT2_SET_CHARS,vt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ct{constructor(){this.rsDecoder=new We(Z.DATA_MATRIX_FIELD_256)}decode(t){const i=new ce(t),l=i.getVersion(),c=i.readCodewords(),h=Re.getDataBlocks(c,l);let y=0;for(let x of h)y+=x.getNumDataCodewords();const o=new Uint8Array(y),f=h.length;for(let x=0;x<f;x++){const b=h[x],B=b.getCodewords(),k=b.getNumDataCodewords();this.correctErrors(B,k);for(let G=0;G<k;G++)o[G*f+x]=B[G]}return vt.decode(o)}correctErrors(t,i){const l=new Int32Array(t);try{this.rsDecoder.decode(l,t.length-i)}catch{throw new _}for(let c=0;c<i;c++)t[c]=l[c]}}class Wt{constructor(t){this.image=t,this.rectangleDetector=new Kt(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new oe;i=this.shiftToModuleCenter(i);const l=i[0],c=i[1],h=i[2],y=i[3];let o=this.transitionsBetween(l,y)+1,f=this.transitionsBetween(h,y)+1;(o&1)===1&&(o+=1),(f&1)===1&&(f+=1),4*o<7*f&&4*f<7*o&&(o=f=Math.max(o,f));let x=Wt.sampleGrid(this.image,l,c,h,y,o,f);return new Mt(x,[l,c,h,y])}static shiftPoint(t,i,l){let c=(i.getX()-t.getX())/(l+1),h=(i.getY()-t.getY())/(l+1);return new Ye(t.getX()+c,t.getY()+h)}static moveAway(t,i,l){let c=t.getX(),h=t.getY();return c<i?c-=1:c+=1,h<l?h-=1:h+=1,new Ye(c,h)}detectSolid1(t){let i=t[0],l=t[1],c=t[3],h=t[2],y=this.transitionsBetween(i,l),o=this.transitionsBetween(l,c),f=this.transitionsBetween(c,h),x=this.transitionsBetween(h,i),b=y,B=[h,i,l,c];return b>o&&(b=o,B[0]=i,B[1]=l,B[2]=c,B[3]=h),b>f&&(b=f,B[0]=l,B[1]=c,B[2]=h,B[3]=i),b>x&&(B[0]=c,B[1]=h,B[2]=i,B[3]=l),B}detectSolid2(t){let i=t[0],l=t[1],c=t[2],h=t[3],y=this.transitionsBetween(i,h),o=Wt.shiftPoint(l,c,(y+1)*4),f=Wt.shiftPoint(c,l,(y+1)*4),x=this.transitionsBetween(o,i),b=this.transitionsBetween(f,h);return x<b?(t[0]=i,t[1]=l,t[2]=c,t[3]=h):(t[0]=l,t[1]=c,t[2]=h,t[3]=i),t}correctTopRight(t){let i=t[0],l=t[1],c=t[2],h=t[3],y=this.transitionsBetween(i,h),o=this.transitionsBetween(l,h),f=Wt.shiftPoint(i,l,(o+1)*4),x=Wt.shiftPoint(c,l,(y+1)*4);y=this.transitionsBetween(f,h),o=this.transitionsBetween(x,h);let b=new Ye(h.getX()+(c.getX()-l.getX())/(y+1),h.getY()+(c.getY()-l.getY())/(y+1)),B=new Ye(h.getX()+(i.getX()-l.getX())/(o+1),h.getY()+(i.getY()-l.getY())/(o+1));if(!this.isValid(b))return this.isValid(B)?B:null;if(!this.isValid(B))return b;let k=this.transitionsBetween(f,b)+this.transitionsBetween(x,b),G=this.transitionsBetween(f,B)+this.transitionsBetween(x,B);return k>G?b:B}shiftToModuleCenter(t){let i=t[0],l=t[1],c=t[2],h=t[3],y=this.transitionsBetween(i,h)+1,o=this.transitionsBetween(c,h)+1,f=Wt.shiftPoint(i,l,o*4),x=Wt.shiftPoint(c,l,y*4);y=this.transitionsBetween(f,h)+1,o=this.transitionsBetween(x,h)+1,(y&1)===1&&(y+=1),(o&1)===1&&(o+=1);let b=(i.getX()+l.getX()+c.getX()+h.getX())/4,B=(i.getY()+l.getY()+c.getY()+h.getY())/4;i=Wt.moveAway(i,b,B),l=Wt.moveAway(l,b,B),c=Wt.moveAway(c,b,B),h=Wt.moveAway(h,b,B);let k,G;return f=Wt.shiftPoint(i,l,o*4),f=Wt.shiftPoint(f,h,y*4),k=Wt.shiftPoint(l,i,o*4),k=Wt.shiftPoint(k,c,y*4),x=Wt.shiftPoint(c,h,o*4),x=Wt.shiftPoint(x,l,y*4),G=Wt.shiftPoint(h,c,o*4),G=Wt.shiftPoint(G,i,y*4),[f,k,x,G]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,l,c,h,y,o){return rn.getInstance().sampleGrid(t,y,o,.5,.5,y-.5,.5,y-.5,o-.5,.5,o-.5,i.getX(),i.getY(),h.getX(),h.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(t,i){let l=Math.trunc(t.getX()),c=Math.trunc(t.getY()),h=Math.trunc(i.getX()),y=Math.trunc(i.getY()),o=Math.abs(y-c)>Math.abs(h-l);if(o){let ne=l;l=c,c=ne,ne=h,h=y,y=ne}let f=Math.abs(h-l),x=Math.abs(y-c),b=-f/2,B=c<y?1:-1,k=l<h?1:-1,G=0,Y=this.image.get(o?c:l,o?l:c);for(let ne=l,fe=c;ne!==h;ne+=k){let ue=this.image.get(o?fe:ne,o?ne:fe);if(ue!==Y&&(G++,Y=ue),b+=x,b>0){if(fe===y)break;fe+=B,b-=f}}return G}}class jn{constructor(){this.decoder=new Ct}decode(t,i=null){let l,c;if(i!=null&&i.has(M.PURE_BARCODE)){const x=jn.extractPureBits(t.getBlackMatrix());l=this.decoder.decode(x),c=jn.NO_POINTS}else{const x=new Wt(t.getBlackMatrix()).detect();l=this.decoder.decode(x.getBits()),c=x.getPoints()}const h=l.getRawBytes(),y=new De(l.getText(),h,8*h.length,c,Ne.DATA_MATRIX,P.currentTimeMillis()),o=l.getByteSegments();o!=null&&y.putMetadata(gt.BYTE_SEGMENTS,o);const f=l.getECLevel();return f!=null&&y.putMetadata(gt.ERROR_CORRECTION_LEVEL,f),y}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),l=t.getBottomRightOnBit();if(i==null||l==null)throw new oe;const c=this.moduleSize(i,t);let h=i[1];const y=l[1];let o=i[0];const x=(l[0]-o+1)/c,b=(y-h+1)/c;if(x<=0||b<=0)throw new oe;const B=c/2;h+=B,o+=B;const k=new Ae(x,b);for(let G=0;G<b;G++){const Y=h+G*c;for(let ne=0;ne<x;ne++)t.get(o+ne*c,Y)&&k.set(ne,G)}return k}static moduleSize(t,i){const l=i.getWidth();let c=t[0];const h=t[1];for(;c<l&&i.get(c,h);)c++;if(c===l)throw new oe;const y=c-t[0];if(y===0)throw new oe;return y}}jn.NO_POINTS=[];class gn extends Ze{constructor(t=500){super(new jn,t)}}var sr;(function($){$[$.L=0]="L",$[$.M=1]="M",$[$.Q=2]="Q",$[$.H=3]="H"})(sr||(sr={}));class tn{constructor(t,i,l){this.value=t,this.stringValue=i,this.bits=l,tn.FOR_BITS.set(l,this),tn.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return tn.L;case"M":return tn.M;case"Q":return tn.Q;case"H":return tn.H;default:throw new D(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof tn))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=tn.FOR_BITS.size)throw new R;return tn.FOR_BITS.get(t)}}tn.FOR_BITS=new Map,tn.FOR_VALUE=new Map,tn.L=new tn(sr.L,"L",1),tn.M=new tn(sr.M,"M",0),tn.Q=new tn(sr.Q,"Q",3),tn.H=new tn(sr.H,"H",2);class Yn{constructor(t){this.errorCorrectionLevel=tn.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return U.bitCount(t^i)}static decodeFormatInformation(t,i){const l=Yn.doDecodeFormatInformation(t,i);return l!==null?l:Yn.doDecodeFormatInformation(t^Yn.FORMAT_INFO_MASK_QR,i^Yn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let l=Number.MAX_SAFE_INTEGER,c=0;for(const h of Yn.FORMAT_INFO_DECODE_LOOKUP){const y=h[0];if(y===t||y===i)return new Yn(h[1]);let o=Yn.numBitsDiffering(t,y);o<l&&(c=h[1],l=o),t!==i&&(o=Yn.numBitsDiffering(i,y),o<l&&(c=h[1],l=o))}return l<=3?new Yn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Yn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Yn.FORMAT_INFO_MASK_QR=21522,Yn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ue{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const l of i)t+=l.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ge{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Bt{constructor(t,i,...l){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=l;let c=0;const h=l[0].getECCodewordsPerBlock(),y=l[0].getECBlocks();for(const o of y)c+=o.getCount()*(o.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new I;try{return this.getVersionForNumber((t-17)/4)}catch{throw new I}}static getVersionForNumber(t){if(t<1||t>40)throw new R;return Bt.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Bt.VERSION_DECODE_INFO.length;c++){const h=Bt.VERSION_DECODE_INFO[c];if(h===t)return Bt.getVersionForNumber(c+7);const y=Yn.numBitsDiffering(t,h);y<i&&(l=c+7,i=y)}return i<=3?Bt.getVersionForNumber(l):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new Ae(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const h=this.alignmentPatternCenters[c]-2;for(let y=0;y<l;y++)c===0&&(y===0||y===l-1)||c===l-1&&y===0||i.setRegion(this.alignmentPatternCenters[y]-2,h,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Bt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Bt.VERSIONS=[new Bt(1,new Int32Array(0),new Ue(7,new ge(1,19)),new Ue(10,new ge(1,16)),new Ue(13,new ge(1,13)),new Ue(17,new ge(1,9))),new Bt(2,Int32Array.from([6,18]),new Ue(10,new ge(1,34)),new Ue(16,new ge(1,28)),new Ue(22,new ge(1,22)),new Ue(28,new ge(1,16))),new Bt(3,Int32Array.from([6,22]),new Ue(15,new ge(1,55)),new Ue(26,new ge(1,44)),new Ue(18,new ge(2,17)),new Ue(22,new ge(2,13))),new Bt(4,Int32Array.from([6,26]),new Ue(20,new ge(1,80)),new Ue(18,new ge(2,32)),new Ue(26,new ge(2,24)),new Ue(16,new ge(4,9))),new Bt(5,Int32Array.from([6,30]),new Ue(26,new ge(1,108)),new Ue(24,new ge(2,43)),new Ue(18,new ge(2,15),new ge(2,16)),new Ue(22,new ge(2,11),new ge(2,12))),new Bt(6,Int32Array.from([6,34]),new Ue(18,new ge(2,68)),new Ue(16,new ge(4,27)),new Ue(24,new ge(4,19)),new Ue(28,new ge(4,15))),new Bt(7,Int32Array.from([6,22,38]),new Ue(20,new ge(2,78)),new Ue(18,new ge(4,31)),new Ue(18,new ge(2,14),new ge(4,15)),new Ue(26,new ge(4,13),new ge(1,14))),new Bt(8,Int32Array.from([6,24,42]),new Ue(24,new ge(2,97)),new Ue(22,new ge(2,38),new ge(2,39)),new Ue(22,new ge(4,18),new ge(2,19)),new Ue(26,new ge(4,14),new ge(2,15))),new Bt(9,Int32Array.from([6,26,46]),new Ue(30,new ge(2,116)),new Ue(22,new ge(3,36),new ge(2,37)),new Ue(20,new ge(4,16),new ge(4,17)),new Ue(24,new ge(4,12),new ge(4,13))),new Bt(10,Int32Array.from([6,28,50]),new Ue(18,new ge(2,68),new ge(2,69)),new Ue(26,new ge(4,43),new ge(1,44)),new Ue(24,new ge(6,19),new ge(2,20)),new Ue(28,new ge(6,15),new ge(2,16))),new Bt(11,Int32Array.from([6,30,54]),new Ue(20,new ge(4,81)),new Ue(30,new ge(1,50),new ge(4,51)),new Ue(28,new ge(4,22),new ge(4,23)),new Ue(24,new ge(3,12),new ge(8,13))),new Bt(12,Int32Array.from([6,32,58]),new Ue(24,new ge(2,92),new ge(2,93)),new Ue(22,new ge(6,36),new ge(2,37)),new Ue(26,new ge(4,20),new ge(6,21)),new Ue(28,new ge(7,14),new ge(4,15))),new Bt(13,Int32Array.from([6,34,62]),new Ue(26,new ge(4,107)),new Ue(22,new ge(8,37),new ge(1,38)),new Ue(24,new ge(8,20),new ge(4,21)),new Ue(22,new ge(12,11),new ge(4,12))),new Bt(14,Int32Array.from([6,26,46,66]),new Ue(30,new ge(3,115),new ge(1,116)),new Ue(24,new ge(4,40),new ge(5,41)),new Ue(20,new ge(11,16),new ge(5,17)),new Ue(24,new ge(11,12),new ge(5,13))),new Bt(15,Int32Array.from([6,26,48,70]),new Ue(22,new ge(5,87),new ge(1,88)),new Ue(24,new ge(5,41),new ge(5,42)),new Ue(30,new ge(5,24),new ge(7,25)),new Ue(24,new ge(11,12),new ge(7,13))),new Bt(16,Int32Array.from([6,26,50,74]),new Ue(24,new ge(5,98),new ge(1,99)),new Ue(28,new ge(7,45),new ge(3,46)),new Ue(24,new ge(15,19),new ge(2,20)),new Ue(30,new ge(3,15),new ge(13,16))),new Bt(17,Int32Array.from([6,30,54,78]),new Ue(28,new ge(1,107),new ge(5,108)),new Ue(28,new ge(10,46),new ge(1,47)),new Ue(28,new ge(1,22),new ge(15,23)),new Ue(28,new ge(2,14),new ge(17,15))),new Bt(18,Int32Array.from([6,30,56,82]),new Ue(30,new ge(5,120),new ge(1,121)),new Ue(26,new ge(9,43),new ge(4,44)),new Ue(28,new ge(17,22),new ge(1,23)),new Ue(28,new ge(2,14),new ge(19,15))),new Bt(19,Int32Array.from([6,30,58,86]),new Ue(28,new ge(3,113),new ge(4,114)),new Ue(26,new ge(3,44),new ge(11,45)),new Ue(26,new ge(17,21),new ge(4,22)),new Ue(26,new ge(9,13),new ge(16,14))),new Bt(20,Int32Array.from([6,34,62,90]),new Ue(28,new ge(3,107),new ge(5,108)),new Ue(26,new ge(3,41),new ge(13,42)),new Ue(30,new ge(15,24),new ge(5,25)),new Ue(28,new ge(15,15),new ge(10,16))),new Bt(21,Int32Array.from([6,28,50,72,94]),new Ue(28,new ge(4,116),new ge(4,117)),new Ue(26,new ge(17,42)),new Ue(28,new ge(17,22),new ge(6,23)),new Ue(30,new ge(19,16),new ge(6,17))),new Bt(22,Int32Array.from([6,26,50,74,98]),new Ue(28,new ge(2,111),new ge(7,112)),new Ue(28,new ge(17,46)),new Ue(30,new ge(7,24),new ge(16,25)),new Ue(24,new ge(34,13))),new Bt(23,Int32Array.from([6,30,54,78,102]),new Ue(30,new ge(4,121),new ge(5,122)),new Ue(28,new ge(4,47),new ge(14,48)),new Ue(30,new ge(11,24),new ge(14,25)),new Ue(30,new ge(16,15),new ge(14,16))),new Bt(24,Int32Array.from([6,28,54,80,106]),new Ue(30,new ge(6,117),new ge(4,118)),new Ue(28,new ge(6,45),new ge(14,46)),new Ue(30,new ge(11,24),new ge(16,25)),new Ue(30,new ge(30,16),new ge(2,17))),new Bt(25,Int32Array.from([6,32,58,84,110]),new Ue(26,new ge(8,106),new ge(4,107)),new Ue(28,new ge(8,47),new ge(13,48)),new Ue(30,new ge(7,24),new ge(22,25)),new Ue(30,new ge(22,15),new ge(13,16))),new Bt(26,Int32Array.from([6,30,58,86,114]),new Ue(28,new ge(10,114),new ge(2,115)),new Ue(28,new ge(19,46),new ge(4,47)),new Ue(28,new ge(28,22),new ge(6,23)),new Ue(30,new ge(33,16),new ge(4,17))),new Bt(27,Int32Array.from([6,34,62,90,118]),new Ue(30,new ge(8,122),new ge(4,123)),new Ue(28,new ge(22,45),new ge(3,46)),new Ue(30,new ge(8,23),new ge(26,24)),new Ue(30,new ge(12,15),new ge(28,16))),new Bt(28,Int32Array.from([6,26,50,74,98,122]),new Ue(30,new ge(3,117),new ge(10,118)),new Ue(28,new ge(3,45),new ge(23,46)),new Ue(30,new ge(4,24),new ge(31,25)),new Ue(30,new ge(11,15),new ge(31,16))),new Bt(29,Int32Array.from([6,30,54,78,102,126]),new Ue(30,new ge(7,116),new ge(7,117)),new Ue(28,new ge(21,45),new ge(7,46)),new Ue(30,new ge(1,23),new ge(37,24)),new Ue(30,new ge(19,15),new ge(26,16))),new Bt(30,Int32Array.from([6,26,52,78,104,130]),new Ue(30,new ge(5,115),new ge(10,116)),new Ue(28,new ge(19,47),new ge(10,48)),new Ue(30,new ge(15,24),new ge(25,25)),new Ue(30,new ge(23,15),new ge(25,16))),new Bt(31,Int32Array.from([6,30,56,82,108,134]),new Ue(30,new ge(13,115),new ge(3,116)),new Ue(28,new ge(2,46),new ge(29,47)),new Ue(30,new ge(42,24),new ge(1,25)),new Ue(30,new ge(23,15),new ge(28,16))),new Bt(32,Int32Array.from([6,34,60,86,112,138]),new Ue(30,new ge(17,115)),new Ue(28,new ge(10,46),new ge(23,47)),new Ue(30,new ge(10,24),new ge(35,25)),new Ue(30,new ge(19,15),new ge(35,16))),new Bt(33,Int32Array.from([6,30,58,86,114,142]),new Ue(30,new ge(17,115),new ge(1,116)),new Ue(28,new ge(14,46),new ge(21,47)),new Ue(30,new ge(29,24),new ge(19,25)),new Ue(30,new ge(11,15),new ge(46,16))),new Bt(34,Int32Array.from([6,34,62,90,118,146]),new Ue(30,new ge(13,115),new ge(6,116)),new Ue(28,new ge(14,46),new ge(23,47)),new Ue(30,new ge(44,24),new ge(7,25)),new Ue(30,new ge(59,16),new ge(1,17))),new Bt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ue(30,new ge(12,121),new ge(7,122)),new Ue(28,new ge(12,47),new ge(26,48)),new Ue(30,new ge(39,24),new ge(14,25)),new Ue(30,new ge(22,15),new ge(41,16))),new Bt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ue(30,new ge(6,121),new ge(14,122)),new Ue(28,new ge(6,47),new ge(34,48)),new Ue(30,new ge(46,24),new ge(10,25)),new Ue(30,new ge(2,15),new ge(64,16))),new Bt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ue(30,new ge(17,122),new ge(4,123)),new Ue(28,new ge(29,46),new ge(14,47)),new Ue(30,new ge(49,24),new ge(10,25)),new Ue(30,new ge(24,15),new ge(46,16))),new Bt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ue(30,new ge(4,122),new ge(18,123)),new Ue(28,new ge(13,46),new ge(32,47)),new Ue(30,new ge(48,24),new ge(14,25)),new Ue(30,new ge(42,15),new ge(32,16))),new Bt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ue(30,new ge(20,117),new ge(4,118)),new Ue(28,new ge(40,47),new ge(7,48)),new Ue(30,new ge(43,24),new ge(22,25)),new Ue(30,new ge(10,15),new ge(67,16))),new Bt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ue(30,new ge(19,118),new ge(6,119)),new Ue(28,new ge(18,47),new ge(31,48)),new Ue(30,new ge(34,24),new ge(34,25)),new Ue(30,new ge(20,15),new ge(61,16)))];var Kn;(function($){$[$.DATA_MASK_000=0]="DATA_MASK_000",$[$.DATA_MASK_001=1]="DATA_MASK_001",$[$.DATA_MASK_010=2]="DATA_MASK_010",$[$.DATA_MASK_011=3]="DATA_MASK_011",$[$.DATA_MASK_100=4]="DATA_MASK_100",$[$.DATA_MASK_101=5]="DATA_MASK_101",$[$.DATA_MASK_110=6]="DATA_MASK_110",$[$.DATA_MASK_111=7]="DATA_MASK_111"})(Kn||(Kn={}));class Cr{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let l=0;l<i;l++)for(let c=0;c<i;c++)this.isMasked(l,c)&&t.flip(c,l)}}Cr.values=new Map([[Kn.DATA_MASK_000,new Cr(Kn.DATA_MASK_000,($,t)=>($+t&1)===0)],[Kn.DATA_MASK_001,new Cr(Kn.DATA_MASK_001,($,t)=>($&1)===0)],[Kn.DATA_MASK_010,new Cr(Kn.DATA_MASK_010,($,t)=>t%3===0)],[Kn.DATA_MASK_011,new Cr(Kn.DATA_MASK_011,($,t)=>($+t)%3===0)],[Kn.DATA_MASK_100,new Cr(Kn.DATA_MASK_100,($,t)=>(Math.floor($/2)+Math.floor(t/3)&1)===0)],[Kn.DATA_MASK_101,new Cr(Kn.DATA_MASK_101,($,t)=>$*t%6===0)],[Kn.DATA_MASK_110,new Cr(Kn.DATA_MASK_110,($,t)=>$*t%6<3)],[Kn.DATA_MASK_111,new Cr(Kn.DATA_MASK_111,($,t)=>($+t+$*t%3&1)===0)]]);class ui{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new I;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let h=0;h<6;h++)t=this.copyBit(h,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let h=5;h>=0;h--)t=this.copyBit(8,h,t);const i=this.bitMatrix.getHeight();let l=0;const c=i-7;for(let h=i-1;h>=c;h--)l=this.copyBit(8,h,l);for(let h=i-8;h<i;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=Yn.decodeFormatInformation(t,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new I}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Bt.getVersionForNumber(i);let l=0;const c=t-11;for(let y=5;y>=0;y--)for(let o=t-9;o>=c;o--)l=this.copyBit(o,y,l);let h=Bt.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;l=0;for(let y=5;y>=0;y--)for(let o=t-9;o>=c;o--)l=this.copyBit(y,o,l);if(h=Bt.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;throw new I}copyBit(t,i,l){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?l<<1|1:l<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),l=Cr.values.get(t.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const h=i.buildFunctionPattern();let y=!0;const o=new Uint8Array(i.getTotalCodewords());let f=0,x=0,b=0;for(let B=c-1;B>0;B-=2){B===6&&B--;for(let k=0;k<c;k++){const G=y?c-1-k:k;for(let Y=0;Y<2;Y++)h.get(B-Y,G)||(b++,x<<=1,this.bitMatrix.get(B-Y,G)&&(x|=1),b===8&&(o[f++]=x,b=0,x=0))}y=!y}if(f!==i.getTotalCodewords())throw new I;return o}remask(){if(this.parsedFormatInfo===null)return;const t=Cr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,l=t.getWidth();i<l;i++)for(let c=i+1,h=t.getHeight();c<h;c++)t.get(i,c)!==t.get(c,i)&&(t.flip(c,i),t.flip(i,c))}}class lo{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,l){if(t.length!==i.getTotalCodewords())throw new R;const c=i.getECBlocksForLevel(l);let h=0;const y=c.getECBlocks();for(const Y of y)h+=Y.getCount();const o=new Array(h);let f=0;for(const Y of y)for(let ne=0;ne<Y.getCount();ne++){const fe=Y.getDataCodewords(),ue=c.getECCodewordsPerBlock()+fe;o[f++]=new lo(fe,new Uint8Array(ue))}const x=o[0].codewords.length;let b=o.length-1;for(;b>=0&&o[b].codewords.length!==x;)b--;b++;const B=x-c.getECCodewordsPerBlock();let k=0;for(let Y=0;Y<B;Y++)for(let ne=0;ne<f;ne++)o[ne].codewords[Y]=t[k++];for(let Y=b;Y<f;Y++)o[Y].codewords[B]=t[k++];const G=o[0].codewords.length;for(let Y=B;Y<G;Y++)for(let ne=0;ne<f;ne++){const fe=ne<b?Y:Y+1;o[ne].codewords[fe]=t[k++]}return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var dn;(function($){$[$.TERMINATOR=0]="TERMINATOR",$[$.NUMERIC=1]="NUMERIC",$[$.ALPHANUMERIC=2]="ALPHANUMERIC",$[$.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",$[$.BYTE=4]="BYTE",$[$.ECI=5]="ECI",$[$.KANJI=6]="KANJI",$[$.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",$[$.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",$[$.HANZI=9]="HANZI"})(dn||(dn={}));class zt{constructor(t,i,l,c){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=l,this.bits=c,zt.FOR_BITS.set(c,this),zt.FOR_VALUE.set(t,this)}static forBits(t){const i=zt.FOR_BITS.get(t);if(i===void 0)throw new R;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let l;return i<=9?l=0:i<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof zt))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}zt.FOR_BITS=new Map,zt.FOR_VALUE=new Map,zt.TERMINATOR=new zt(dn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),zt.NUMERIC=new zt(dn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),zt.ALPHANUMERIC=new zt(dn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),zt.STRUCTURED_APPEND=new zt(dn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),zt.BYTE=new zt(dn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),zt.ECI=new zt(dn.ECI,"ECI",Int32Array.from([0,0,0]),7),zt.KANJI=new zt(dn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),zt.FNC1_FIRST_POSITION=new zt(dn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),zt.FNC1_SECOND_POSITION=new zt(dn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),zt.HANZI=new zt(dn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class er{static decode(t,i,l,c){const h=new tt(t);let y=new se;const o=new Array;let f=-1,x=-1;try{let b=null,B=!1,k;do{if(h.available()<4)k=zt.TERMINATOR;else{const G=h.readBits(4);k=zt.forBits(G)}switch(k){case zt.TERMINATOR:break;case zt.FNC1_FIRST_POSITION:case zt.FNC1_SECOND_POSITION:B=!0;break;case zt.STRUCTURED_APPEND:if(h.available()<16)throw new I;f=h.readBits(8),x=h.readBits(8);break;case zt.ECI:const G=er.parseECIValue(h);if(b=j.getCharacterSetECIByValue(G),b===null)throw new I;break;case zt.HANZI:const Y=h.readBits(4),ne=h.readBits(k.getCharacterCountBits(i));Y===er.GB2312_SUBSET&&er.decodeHanziSegment(h,y,ne);break;default:const fe=h.readBits(k.getCharacterCountBits(i));switch(k){case zt.NUMERIC:er.decodeNumericSegment(h,y,fe);break;case zt.ALPHANUMERIC:er.decodeAlphanumericSegment(h,y,fe,B);break;case zt.BYTE:er.decodeByteSegment(h,y,fe,b,o,c);break;case zt.KANJI:er.decodeKanjiSegment(h,y,fe);break;default:throw new I}break}}while(k!==zt.TERMINATOR)}catch{throw new I}return new Q(t,y.toString(),o.length===0?null:o,l===null?null:l.toString(),f,x)}static decodeHanziSegment(t,i,l){if(l*13>t.available())throw new I;const c=new Uint8Array(2*l);let h=0;for(;l>0;){const y=t.readBits(13);let o=y/96<<8&4294967295|y%96;o<959?o+=41377:o+=42657,c[h]=o>>8&255,c[h+1]=o&255,h+=2,l--}try{i.append(de.decode(c,ee.GB2312))}catch(y){throw new I(y)}}static decodeKanjiSegment(t,i,l){if(l*13>t.available())throw new I;const c=new Uint8Array(2*l);let h=0;for(;l>0;){const y=t.readBits(13);let o=y/192<<8&4294967295|y%192;o<7936?o+=33088:o+=49472,c[h]=o>>8,c[h+1]=o,h+=2,l--}try{i.append(de.decode(c,ee.SHIFT_JIS))}catch(y){throw new I(y)}}static decodeByteSegment(t,i,l,c,h,y){if(8*l>t.available())throw new I;const o=new Uint8Array(l);for(let x=0;x<l;x++)o[x]=t.readBits(8);let f;c===null?f=ee.guessEncoding(o,y):f=c.getName();try{i.append(de.decode(o,f))}catch(x){throw new I(x)}h.push(o)}static toAlphaNumericChar(t){if(t>=er.ALPHANUMERIC_CHARS.length)throw new I;return er.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,l,c){const h=i.length();for(;l>1;){if(t.available()<11)throw new I;const y=t.readBits(11);i.append(er.toAlphaNumericChar(Math.floor(y/45))),i.append(er.toAlphaNumericChar(y%45)),l-=2}if(l===1){if(t.available()<6)throw new I;i.append(er.toAlphaNumericChar(t.readBits(6)))}if(c)for(let y=h;y<i.length();y++)i.charAt(y)==="%"&&(y<i.length()-1&&i.charAt(y+1)==="%"?i.deleteCharAt(y+1):i.setCharAt(y,""))}static decodeNumericSegment(t,i,l){for(;l>=3;){if(t.available()<10)throw new I;const c=t.readBits(10);if(c>=1e3)throw new I;i.append(er.toAlphaNumericChar(Math.floor(c/100))),i.append(er.toAlphaNumericChar(Math.floor(c/10)%10)),i.append(er.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(t.available()<7)throw new I;const c=t.readBits(7);if(c>=100)throw new I;i.append(er.toAlphaNumericChar(Math.floor(c/10))),i.append(er.toAlphaNumericChar(c%10))}else if(l===1){if(t.available()<4)throw new I;const c=t.readBits(4);if(c>=10)throw new I;i.append(er.toAlphaNumericChar(c))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const l=t.readBits(8);return(i&63)<<8&4294967295|l}if((i&224)===192){const l=t.readBits(16);return(i&31)<<16&4294967295|l}throw new I}}er.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",er.GB2312_SUBSET=1;class Mo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class ta{constructor(){this.rsDecoder=new We(Z.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(Ae.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const l=new ui(t);let c=null;try{return this.decodeBitMatrixParser(l,i)}catch(h){c=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,i);return h.setOther(new Mo(!0)),h}catch(h){throw c!==null?c:h}}decodeBitMatrixParser(t,i){const l=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),h=t.readCodewords(),y=lo.getDataBlocks(h,l,c);let o=0;for(const b of y)o+=b.getNumDataCodewords();const f=new Uint8Array(o);let x=0;for(const b of y){const B=b.getCodewords(),k=b.getNumDataCodewords();this.correctErrors(B,k);for(let G=0;G<k;G++)f[x++]=B[G]}return er.decode(f,l,c,i)}correctErrors(t,i){const l=new Int32Array(t);try{this.rsDecoder.decode(l,t.length-i)}catch{throw new _}for(let c=0;c<i;c++)t[c]=l[c]}}class ma extends Ye{constructor(t,i,l){super(t,i),this.estimatedModuleSize=l}aboutEquals(t,i,l){if(Math.abs(i-this.getY())<=t&&Math.abs(l-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,i,l){const c=(this.getX()+i)/2,h=(this.getY()+t)/2,y=(this.estimatedModuleSize+l)/2;return new ma(c,h,y)}}class Kr{constructor(t,i,l,c,h,y,o){this.image=t,this.startX=i,this.startY=l,this.width=c,this.height=h,this.moduleSize=y,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,l=this.width,c=t+l,h=this.startY+i/2,y=new Int32Array(3),o=this.image;for(let f=0;f<i;f++){const x=h+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));y[0]=0,y[1]=0,y[2]=0;let b=t;for(;b<c&&!o.get(b,x);)b++;let B=0;for(;b<c;){if(o.get(b,x))if(B===1)y[1]++;else if(B===2){if(this.foundPatternCross(y)){const k=this.handlePossibleCenter(y,x,b);if(k!==null)return k}y[0]=y[2],y[1]=1,y[2]=0,B=1}else y[++B]++;else B===1&&B++,y[B]++;b++}if(this.foundPatternCross(y)){const k=this.handlePossibleCenter(y,x,c);if(k!==null)return k}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,l=i/2;for(let c=0;c<3;c++)if(Math.abs(i-t[c])>=l)return!1;return!0}crossCheckVertical(t,i,l,c){const h=this.image,y=h.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;let f=t;for(;f>=0&&h.get(i,f)&&o[1]<=l;)o[1]++,f--;if(f<0||o[1]>l)return NaN;for(;f>=0&&!h.get(i,f)&&o[0]<=l;)o[0]++,f--;if(o[0]>l)return NaN;for(f=t+1;f<y&&h.get(i,f)&&o[1]<=l;)o[1]++,f++;if(f===y||o[1]>l)return NaN;for(;f<y&&!h.get(i,f)&&o[2]<=l;)o[2]++,f++;if(o[2]>l)return NaN;const x=o[0]+o[1]+o[2];return 5*Math.abs(x-c)>=2*c?NaN:this.foundPatternCross(o)?Kr.centerFromEnd(o,f):NaN}handlePossibleCenter(t,i,l){const c=t[0]+t[1]+t[2],h=Kr.centerFromEnd(t,l),y=this.crossCheckVertical(i,h,2*t[1],c);if(!isNaN(y)){const o=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(o,y,h))return x.combineEstimate(y,h,o);const f=new ma(h,y,o);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class oa extends Ye{constructor(t,i,l,c){super(t,i),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,l){if(Math.abs(i-this.getY())<=t&&Math.abs(l-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,i,l){const c=this.count+1,h=(this.count*this.getX()+i)/c,y=(this.count*this.getY()+t)/c,o=(this.count*this.estimatedModuleSize+l)/c;return new oa(h,y,o,c)}}class ms{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class or{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(M.TRY_HARDER)!==void 0,l=t!=null&&t.get(M.PURE_BARCODE)!==void 0,c=this.image,h=c.getHeight(),y=c.getWidth();let o=Math.floor(3*h/(4*or.MAX_MODULES));(o<or.MIN_SKIP||i)&&(o=or.MIN_SKIP);let f=!1;const x=new Int32Array(5);for(let B=o-1;B<h&&!f;B+=o){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let k=0;for(let G=0;G<y;G++)if(c.get(G,B))(k&1)===1&&k++,x[k]++;else if((k&1)===0)if(k===4)if(or.foundPatternCross(x)){if(this.handlePossibleCenter(x,B,G,l)===!0)if(o=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const ne=this.findRowSkip();ne>x[2]&&(B+=ne-x[2]-o,G=y-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,k=3;continue}k=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,k=3;else x[++k]++;else x[k]++;or.foundPatternCross(x)&&this.handlePossibleCenter(x,B,y,l)===!0&&(o=x[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Ye.orderBestPatterns(b),new ms(b)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let h=0;h<5;h++){const y=t[h];if(y===0)return!1;i+=y}if(i<7)return!1;const l=i/7,c=l/2;return Math.abs(l-t[0])<c&&Math.abs(l-t[1])<c&&Math.abs(3*l-t[2])<3*c&&Math.abs(l-t[3])<c&&Math.abs(l-t[4])<c}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,l,c){const h=this.getCrossCheckStateCount();let y=0;const o=this.image;for(;t>=y&&i>=y&&o.get(i-y,t-y);)h[2]++,y++;if(t<y||i<y)return!1;for(;t>=y&&i>=y&&!o.get(i-y,t-y)&&h[1]<=l;)h[1]++,y++;if(t<y||i<y||h[1]>l)return!1;for(;t>=y&&i>=y&&o.get(i-y,t-y)&&h[0]<=l;)h[0]++,y++;if(h[0]>l)return!1;const f=o.getHeight(),x=o.getWidth();for(y=1;t+y<f&&i+y<x&&o.get(i+y,t+y);)h[2]++,y++;if(t+y>=f||i+y>=x)return!1;for(;t+y<f&&i+y<x&&!o.get(i+y,t+y)&&h[3]<l;)h[3]++,y++;if(t+y>=f||i+y>=x||h[3]>=l)return!1;for(;t+y<f&&i+y<x&&o.get(i+y,t+y)&&h[4]<l;)h[4]++,y++;if(h[4]>=l)return!1;const b=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(b-c)<2*c&&or.foundPatternCross(h)}crossCheckVertical(t,i,l,c){const h=this.image,y=h.getHeight(),o=this.getCrossCheckStateCount();let f=t;for(;f>=0&&h.get(i,f);)o[2]++,f--;if(f<0)return NaN;for(;f>=0&&!h.get(i,f)&&o[1]<=l;)o[1]++,f--;if(f<0||o[1]>l)return NaN;for(;f>=0&&h.get(i,f)&&o[0]<=l;)o[0]++,f--;if(o[0]>l)return NaN;for(f=t+1;f<y&&h.get(i,f);)o[2]++,f++;if(f===y)return NaN;for(;f<y&&!h.get(i,f)&&o[3]<l;)o[3]++,f++;if(f===y||o[3]>=l)return NaN;for(;f<y&&h.get(i,f)&&o[4]<l;)o[4]++,f++;if(o[4]>=l)return NaN;const x=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(x-c)>=2*c?NaN:or.foundPatternCross(o)?or.centerFromEnd(o,f):NaN}crossCheckHorizontal(t,i,l,c){const h=this.image,y=h.getWidth(),o=this.getCrossCheckStateCount();let f=t;for(;f>=0&&h.get(f,i);)o[2]++,f--;if(f<0)return NaN;for(;f>=0&&!h.get(f,i)&&o[1]<=l;)o[1]++,f--;if(f<0||o[1]>l)return NaN;for(;f>=0&&h.get(f,i)&&o[0]<=l;)o[0]++,f--;if(o[0]>l)return NaN;for(f=t+1;f<y&&h.get(f,i);)o[2]++,f++;if(f===y)return NaN;for(;f<y&&!h.get(f,i)&&o[3]<l;)o[3]++,f++;if(f===y||o[3]>=l)return NaN;for(;f<y&&h.get(f,i)&&o[4]<l;)o[4]++,f++;if(o[4]>=l)return NaN;const x=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(x-c)>=c?NaN:or.foundPatternCross(o)?or.centerFromEnd(o,f):NaN}handlePossibleCenter(t,i,l,c){const h=t[0]+t[1]+t[2]+t[3]+t[4];let y=or.centerFromEnd(t,l),o=this.crossCheckVertical(i,Math.floor(y),t[2],h);if(!isNaN(o)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(o),t[2],h),!isNaN(y)&&(!c||this.crossCheckDiagonal(Math.floor(o),Math.floor(y),t[2],h)))){const f=h/7;let x=!1;const b=this.possibleCenters;for(let B=0,k=b.length;B<k;B++){const G=b[B];if(G.aboutEquals(f,o,y)){b[B]=G.combineEstimate(o,y,f),x=!0;break}}if(!x){const B=new oa(y,o,f);b.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const l of this.possibleCenters)if(l.getCount()>=or.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const l=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=or.CENTER_QUORUM&&(t++,i+=y.getEstimatedModuleSize());if(t<3)return!1;const c=i/l;let h=0;for(const y of this.possibleCenters)h+=Math.abs(y.getEstimatedModuleSize()-c);return h<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new oe;const i=this.possibleCenters;let l;if(t>3){let c=0,h=0;for(const f of this.possibleCenters){const x=f.getEstimatedModuleSize();c+=x,h+=x*x}l=c/t;let y=Math.sqrt(h/t-l*l);i.sort((f,x)=>{const b=Math.abs(x.getEstimatedModuleSize()-l),B=Math.abs(f.getEstimatedModuleSize()-l);return b<B?-1:b>B?1:0});const o=Math.max(.2*l,y);for(let f=0;f<i.length&&i.length>3;f++){const x=i[f];Math.abs(x.getEstimatedModuleSize()-l)>o&&(i.splice(f,1),f--)}}if(i.length>3){let c=0;for(const h of i)c+=h.getEstimatedModuleSize();l=c/i.length,i.sort((h,y)=>{if(y.getCount()===h.getCount()){const o=Math.abs(y.getEstimatedModuleSize()-l),f=Math.abs(h.getEstimatedModuleSize()-l);return o<f?1:o>f?-1:0}else return y.getCount()-h.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}or.CENTER_QUORUM=2,or.MIN_SKIP=3,or.MAX_MODULES=57;class Wn{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(M.NEED_RESULT_POINT_CALLBACK);const l=new or(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(l)}processFinderPatternInfo(t){const i=t.getTopLeft(),l=t.getTopRight(),c=t.getBottomLeft(),h=this.calculateModuleSize(i,l,c);if(h<1)throw new oe("No pattern found in proccess finder.");const y=Wn.computeDimension(i,l,c,h),o=Bt.getProvisionalVersionForDimension(y),f=o.getDimensionForVersion()-7;let x=null;if(o.getAlignmentPatternCenters().length>0){const G=l.getX()-i.getX()+c.getX(),Y=l.getY()-i.getY()+c.getY(),ne=1-3/f,fe=Math.floor(i.getX()+ne*(G-i.getX())),ue=Math.floor(i.getY()+ne*(Y-i.getY()));for(let pe=4;pe<=16;pe<<=1)try{x=this.findAlignmentInRegion(h,fe,ue,pe);break}catch(me){if(!(me instanceof oe))throw me}}const b=Wn.createTransform(i,l,c,x,y),B=Wn.sampleGrid(this.image,b,y);let k;return x===null?k=[c,i,l]:k=[c,i,l,x],new Mt(B,k)}static createTransform(t,i,l,c,h){const y=h-3.5;let o,f,x,b;return c!==null?(o=c.getX(),f=c.getY(),x=y-3,b=x):(o=i.getX()-t.getX()+l.getX(),f=i.getY()-t.getY()+l.getY(),x=y,b=y),jt.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,x,b,3.5,y,t.getX(),t.getY(),i.getX(),i.getY(),o,f,l.getX(),l.getY())}static sampleGrid(t,i,l){return rn.getInstance().sampleGridWithTransform(t,l,l,i)}static computeDimension(t,i,l,c){const h=Pe.round(Ye.distance(t,i)/c),y=Pe.round(Ye.distance(t,l)/c);let o=Math.floor((h+y)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new oe("Dimensions could be not found.")}return o}calculateModuleSize(t,i,l){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,l))/2}calculateModuleSizeOneWay(t,i){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,l,c){let h=this.sizeOfBlackWhiteBlackRun(t,i,l,c),y=1,o=t-(l-t);o<0?(y=t/(t-o),o=0):o>=this.image.getWidth()&&(y=(this.image.getWidth()-1-t)/(o-t),o=this.image.getWidth()-1);let f=Math.floor(i-(c-i)*y);return y=1,f<0?(y=i/(i-f),f=0):f>=this.image.getHeight()&&(y=(this.image.getHeight()-1-i)/(f-i),f=this.image.getHeight()-1),o=Math.floor(t+(o-t)*y),h+=this.sizeOfBlackWhiteBlackRun(t,i,o,f),h-1}sizeOfBlackWhiteBlackRun(t,i,l,c){const h=Math.abs(c-i)>Math.abs(l-t);if(h){let G=t;t=i,i=G,G=l,l=c,c=G}const y=Math.abs(l-t),o=Math.abs(c-i);let f=-y/2;const x=t<l?1:-1,b=i<c?1:-1;let B=0;const k=l+x;for(let G=t,Y=i;G!==k;G+=x){const ne=h?Y:G,fe=h?G:Y;if(B===1===this.image.get(ne,fe)){if(B===2)return Pe.distance(G,Y,t,i);B++}if(f+=o,f>0){if(Y===c)break;Y+=b,f-=y}}return B===2?Pe.distance(l+x,c,t,i):NaN}findAlignmentInRegion(t,i,l,c){const h=Math.floor(c*t),y=Math.max(0,i-h),o=Math.min(this.image.getWidth()-1,i+h);if(o-y<t*3)throw new oe("Alignment top exceeds estimated module size.");const f=Math.max(0,l-h),x=Math.min(this.image.getHeight()-1,l+h);if(x-f<t*3)throw new oe("Alignment bottom exceeds estimated module size.");return new Kr(this.image,y,f,o-y,x-f,t,this.resultPointCallback).find()}}class Sr{constructor(){this.decoder=new ta}getDecoder(){return this.decoder}decode(t,i){let l,c;if(i!=null&&i.get(M.PURE_BARCODE)!==void 0){const f=Sr.extractPureBits(t.getBlackMatrix());l=this.decoder.decodeBitMatrix(f,i),c=Sr.NO_POINTS}else{const f=new Wn(t.getBlackMatrix()).detect(i);l=this.decoder.decodeBitMatrix(f.getBits(),i),c=f.getPoints()}l.getOther()instanceof Mo&&l.getOther().applyMirroredCorrection(c);const h=new De(l.getText(),l.getRawBytes(),void 0,c,Ne.QR_CODE,void 0),y=l.getByteSegments();y!==null&&h.putMetadata(gt.BYTE_SEGMENTS,y);const o=l.getECLevel();return o!==null&&h.putMetadata(gt.ERROR_CORRECTION_LEVEL,o),l.hasStructuredAppend()&&(h.putMetadata(gt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(gt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),l=t.getBottomRightOnBit();if(i===null||l===null)throw new oe;const c=this.moduleSize(i,t);let h=i[1],y=l[1],o=i[0],f=l[0];if(o>=f||h>=y)throw new oe;if(y-h!==f-o&&(f=o+(y-h),f>=t.getWidth()))throw new oe;const x=Math.round((f-o+1)/c),b=Math.round((y-h+1)/c);if(x<=0||b<=0)throw new oe;if(b!==x)throw new oe;const B=Math.floor(c/2);h+=B,o+=B;const k=o+Math.floor((x-1)*c)-f;if(k>0){if(k>B)throw new oe;o-=k}const G=h+Math.floor((b-1)*c)-y;if(G>0){if(G>B)throw new oe;h-=G}const Y=new Ae(x,b);for(let ne=0;ne<b;ne++){const fe=h+Math.floor(ne*c);for(let ue=0;ue<x;ue++)t.get(o+Math.floor(ue*c),fe)&&Y.set(ue,ne)}return Y}static moduleSize(t,i){const l=i.getHeight(),c=i.getWidth();let h=t[0],y=t[1],o=!0,f=0;for(;h<c&&y<l;){if(o!==i.get(h,y)){if(++f===5)break;o=!o}h++,y++}if(h===c||y===l)throw new oe;return(h-t[0])/7}}Sr.NO_POINTS=new Array;class Yt{PDF417Common(){}static getBitCountSum(t){return Pe.sum(t)}static toIntArray(t){if(t==null||!t.length)return Yt.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let l=0;for(const c of t)i[l++]=c;return i}static getCodeword(t){const i=F.binarySearch(Yt.SYMBOL_TABLE,t&262143);return i<0?-1:(Yt.CODEWORD_TABLE[i]-1)%Yt.NUMBER_OF_CODEWORDS}}Yt.NUMBER_OF_CODEWORDS=929,Yt.MAX_CODEWORDS_IN_BARCODE=Yt.NUMBER_OF_CODEWORDS-1,Yt.MIN_ROWS_IN_BARCODE=3,Yt.MAX_ROWS_IN_BARCODE=90,Yt.MODULES_IN_CODEWORD=17,Yt.MODULES_IN_STOP_PATTERN=18,Yt.BARS_IN_MODULE=8,Yt.EMPTY_INT_ARRAY=new Int32Array([]),Yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bi{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ln{static detectMultiple(t,i,l){let c=t.getBlackMatrix(),h=ln.detect(l,c);return h.length||(c=c.clone(),c.rotate180(),h=ln.detect(l,c)),new bi(c,h)}static detect(t,i){const l=new Array;let c=0,h=0,y=!1;for(;c<i.getHeight();){const o=ln.findVertices(i,c,h);if(o[0]==null&&o[3]==null){if(!y)break;y=!1,h=0;for(const f of l)f[1]!=null&&(c=Math.trunc(Math.max(c,f[1].getY()))),f[3]!=null&&(c=Math.max(c,Math.trunc(f[3].getY())));c+=ln.ROW_STEP;continue}if(y=!0,l.push(o),!t)break;o[2]!=null?(h=Math.trunc(o[2].getX()),c=Math.trunc(o[2].getY())):(h=Math.trunc(o[4].getX()),c=Math.trunc(o[4].getY()))}return l}static findVertices(t,i,l){const c=t.getHeight(),h=t.getWidth(),y=new Array(8);return ln.copyToResult(y,ln.findRowsWithPattern(t,c,h,i,l,ln.START_PATTERN),ln.INDEXES_START_PATTERN),y[4]!=null&&(l=Math.trunc(y[4].getX()),i=Math.trunc(y[4].getY())),ln.copyToResult(y,ln.findRowsWithPattern(t,c,h,i,l,ln.STOP_PATTERN),ln.INDEXES_STOP_PATTERN),y}static copyToResult(t,i,l){for(let c=0;c<l.length;c++)t[l[c]]=i[c]}static findRowsWithPattern(t,i,l,c,h,y){const o=new Array(4);let f=!1;const x=new Int32Array(y.length);for(;c<i;c+=ln.ROW_STEP){let B=ln.findGuardPattern(t,h,c,l,!1,y,x);if(B!=null){for(;c>0;){const k=ln.findGuardPattern(t,h,--c,l,!1,y,x);if(k!=null)B=k;else{c++;break}}o[0]=new Ye(B[0],c),o[1]=new Ye(B[1],c),f=!0;break}}let b=c+1;if(f){let B=0,k=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);for(;b<i;b++){const G=ln.findGuardPattern(t,k[0],b,l,!1,y,x);if(G!=null&&Math.abs(k[0]-G[0])<ln.MAX_PATTERN_DRIFT&&Math.abs(k[1]-G[1])<ln.MAX_PATTERN_DRIFT)k=G,B=0;else{if(B>ln.SKIPPED_ROW_COUNT_MAX)break;B++}}b-=B+1,o[2]=new Ye(k[0],b),o[3]=new Ye(k[1],b)}return b-c<ln.BARCODE_MIN_HEIGHT&&F.fill(o,null),o}static findGuardPattern(t,i,l,c,h,y,o){F.fillWithin(o,0,o.length,0);let f=i,x=0;for(;t.get(f,l)&&f>0&&x++<ln.MAX_PIXEL_DRIFT;)f--;let b=f,B=0,k=y.length;for(let G=h;b<c;b++)if(t.get(b,l)!==G)o[B]++;else{if(B===k-1){if(ln.patternMatchVariance(o,y,ln.MAX_INDIVIDUAL_VARIANCE)<ln.MAX_AVG_VARIANCE)return new Int32Array([f,b]);f+=o[0]+o[1],P.arraycopy(o,2,o,0,B-1),o[B-1]=0,o[B]=0,B--}else B++;o[B]=1,G=!G}return B===k-1&&ln.patternMatchVariance(o,y,ln.MAX_INDIVIDUAL_VARIANCE)<ln.MAX_AVG_VARIANCE?new Int32Array([f,b-1]):null}static patternMatchVariance(t,i,l){let c=t.length,h=0,y=0;for(let x=0;x<c;x++)h+=t[x],y+=i[x];if(h<y)return 1/0;let o=h/y;l*=o;let f=0;for(let x=0;x<c;x++){let b=t[x],B=i[x]*o,k=b>B?b-B:B-b;if(k>l)return 1/0;f+=k}return f/h}}ln.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ln.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ln.MAX_AVG_VARIANCE=.42,ln.MAX_INDIVIDUAL_VARIANCE=.8,ln.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ln.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ln.MAX_PIXEL_DRIFT=3,ln.MAX_PATTERN_DRIFT=5,ln.SKIPPED_ROW_COUNT_MAX=25,ln.ROW_STEP=5,ln.BARCODE_MIN_HEIGHT=10;class Ln{constructor(t,i){if(i.length===0)throw new R;this.field=t;let l=i.length;if(l>1&&i[0]===0){let c=1;for(;c<l&&i[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),P.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let c=0;for(let h of this.coefficients)c=this.field.add(c,h);return c}let i=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)i=this.field.add(this.field.multiply(t,i),this.coefficients[c]);return i}add(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,l=t.coefficients;if(i.length>l.length){let y=i;i=l,l=y}let c=new Int32Array(l.length),h=l.length-i.length;P.arraycopy(l,0,c,0,h);for(let y=h;y<l.length;y++)c[y]=this.field.add(i[y-h],l[y]);return new Ln(this.field,c)}subtract(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ln?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ln(this.field,new Int32Array([0]));let i=this.coefficients,l=i.length,c=t.coefficients,h=c.length,y=new Int32Array(l+h-1);for(let o=0;o<l;o++){let f=i[o];for(let x=0;x<h;x++)y[o+x]=this.field.add(y[o+x],this.field.multiply(f,c[x]))}return new Ln(this.field,y)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let l=0;l<t;l++)i[l]=this.field.subtract(0,this.coefficients[l]);return new Ln(this.field,i)}multiplyScalar(t){if(t===0)return new Ln(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,l=new Int32Array(i);for(let c=0;c<i;c++)l[c]=this.field.multiply(this.coefficients[c],t);return new Ln(this.field,l)}multiplyByMonomial(t,i){if(t<0)throw new R;if(i===0)return new Ln(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+t);for(let h=0;h<l;h++)c[h]=this.field.multiply(this.coefficients[h],i);return new Ln(this.field,c)}toString(){let t=new se;for(let i=this.getDegree();i>=0;i--){let l=this.getCoefficient(i);l!==0&&(l<0?(t.append(" - "),l=-l):t.length()>0&&t.append(" + "),(i===0||l!==1)&&t.append(l),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class uo{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}inverse(t){if(t===0)throw new O;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ur extends uo{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let l=1;for(let c=0;c<t;c++)this.expTable[c]=l,l=l*i%t;for(let c=0;c<t-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Ln(this,new Int32Array([0])),this.one=new Ln(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new R;if(i===0)return this.zero;let l=new Int32Array(t+1);return l[0]=i,new Ln(this,l)}}Ur.PDF417_GF=new Ur(Yt.NUMBER_OF_CODEWORDS,3);class xa{constructor(){this.field=Ur.PDF417_GF}decode(t,i,l){let c=new Ln(this.field,t),h=new Int32Array(i),y=!1;for(let Y=i;Y>0;Y--){let ne=c.evaluateAt(this.field.exp(Y));h[i-Y]=ne,ne!==0&&(y=!0)}if(!y)return 0;let o=this.field.getOne();if(l!=null)for(const Y of l){let ne=this.field.exp(t.length-1-Y),fe=new Ln(this.field,new Int32Array([this.field.subtract(0,ne),1]));o=o.multiply(fe)}let f=new Ln(this.field,h),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),f,i),b=x[0],B=x[1],k=this.findErrorLocations(b),G=this.findErrorMagnitudes(B,b,k);for(let Y=0;Y<k.length;Y++){let ne=t.length-1-this.field.log(k[Y]);if(ne<0)throw _.getChecksumInstance();t[ne]=this.field.subtract(t[ne],G[Y])}return k.length}runEuclideanAlgorithm(t,i,l){if(t.getDegree()<i.getDegree()){let k=t;t=i,i=k}let c=t,h=i,y=this.field.getZero(),o=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let k=c,G=y;if(c=h,y=o,c.isZero())throw _.getChecksumInstance();h=k;let Y=this.field.getZero(),ne=c.getCoefficient(c.getDegree()),fe=this.field.inverse(ne);for(;h.getDegree()>=c.getDegree()&&!h.isZero();){let ue=h.getDegree()-c.getDegree(),pe=this.field.multiply(h.getCoefficient(h.getDegree()),fe);Y=Y.add(this.field.buildMonomial(ue,pe)),h=h.subtract(c.multiplyByMonomial(ue,pe))}o=Y.multiply(y).subtract(G).negative()}let f=o.getCoefficient(0);if(f===0)throw _.getChecksumInstance();let x=this.field.inverse(f),b=o.multiply(x),B=h.multiply(x);return[b,B]}findErrorLocations(t){let i=t.getDegree(),l=new Int32Array(i),c=0;for(let h=1;h<this.field.getSize()&&c<i;h++)t.evaluateAt(h)===0&&(l[c]=this.field.inverse(h),c++);if(c!==i)throw _.getChecksumInstance();return l}findErrorMagnitudes(t,i,l){let c=i.getDegree(),h=new Int32Array(c);for(let x=1;x<=c;x++)h[c-x]=this.field.multiply(x,i.getCoefficient(x));let y=new Ln(this.field,h),o=l.length,f=new Int32Array(o);for(let x=0;x<o;x++){let b=this.field.inverse(l[x]),B=this.field.subtract(0,t.evaluateAt(b)),k=this.field.inverse(y.evaluateAt(b));f[x]=this.field.multiply(B,k)}return f}}class wa{constructor(t,i,l,c,h){t instanceof wa?this.constructor_2(t):this.constructor_1(t,i,l,c,h)}constructor_1(t,i,l,c,h){const y=i==null||l==null,o=c==null||h==null;if(y&&o)throw new oe;y?(i=new Ye(0,c.getY()),l=new Ye(0,h.getY())):o&&(c=new Ye(t.getWidth()-1,i.getY()),h=new Ye(t.getWidth()-1,l.getY())),this.image=t,this.topLeft=i,this.bottomLeft=l,this.topRight=c,this.bottomRight=h,this.minX=Math.trunc(Math.min(i.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),h.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new wa(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,l){let c=this.topLeft,h=this.bottomLeft,y=this.topRight,o=this.bottomRight;if(t>0){let f=l?this.topLeft:this.topRight,x=Math.trunc(f.getY()-t);x<0&&(x=0);let b=new Ye(f.getX(),x);l?c=b:y=b}if(i>0){let f=l?this.bottomLeft:this.bottomRight,x=Math.trunc(f.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let b=new Ye(f.getX(),x);l?h=b:o=b}return new wa(this.image,c,h,y,o)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class wi{constructor(t,i,l,c){this.columnCount=t,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=l,this.rowCount=i+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ea{constructor(){this.buffer=""}static form(t,i){let l=-1;function c(y,o,f,x,b,B){if(y==="%%")return"%";if(i[++l]===void 0)return;y=x?parseInt(x.substr(1)):void 0;let k=b?parseInt(b.substr(1)):void 0,G;switch(B){case"s":G=i[l];break;case"c":G=i[l][0];break;case"f":G=parseFloat(i[l]).toFixed(y);break;case"p":G=parseFloat(i[l]).toPrecision(y);break;case"e":G=parseFloat(i[l]).toExponential(y);break;case"x":G=parseInt(i[l]).toString(k||16);break;case"d":G=parseFloat(parseInt(i[l],k||10).toPrecision(y)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(k);let Y=parseInt(f),ne=f&&f[0]+""=="0"?"0":" ";for(;G.length<Y;)G=o!==void 0?G+ne:ne+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,c)}format(t,...i){this.buffer+=Ea.form(t,i)}toString(){return this.buffer}}class Ia{constructor(t){this.boundingBox=new wa(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let l=1;l<Ia.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(t)-l;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(t)+l,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ea;let i=0;for(const l of this.codewords){if(l==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}return t.toString()}}Ia.MAX_NEARBY_DISTANCE=5;class La{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[l,c]of this.values.entries()){const h={getKey:()=>l,getValue:()=>c};h.getValue()>t?(t=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===t&&i.push(h.getKey())}return Yt.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class co extends Ia{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(c.getY())),o=this.imageRowToCodewordIndex(Math.trunc(h.getY())),f=-1,x=1,b=0;for(let B=y;B<o;B++){if(i[B]==null)continue;let k=i[B],G=k.getRowNumber()-f;if(G===0)b++;else if(G===1)x=Math.max(x,b),b=1,f=k.getRowNumber();else if(G<0||k.getRowNumber()>=t.getRowCount()||G>B)i[B]=null;else{let Y;x>2?Y=(x-2)*G:Y=G;let ne=Y>=B;for(let fe=1;fe<=Y&&!ne;fe++)ne=i[B-fe]!=null;ne?i[B]=null:(f=k.getRowNumber(),b=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),y=this.imageRowToCodewordIndex(Math.trunc(c.getY())),o=this.getCodewords(),f=-1;for(let x=h;x<y;x++){if(o[x]==null)continue;let b=o[x];b.setRowNumberAsRowIndicatorColumn();let B=b.getRowNumber()-f;B===0||(B===1?f=b.getRowNumber():b.getRowNumber()>=t.getRowCount()?o[x]=null:f=b.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new La,l=new La,c=new La,h=new La;for(let o of t){if(o==null)continue;o.setRowNumberAsRowIndicatorColumn();let f=o.getValue()%30,x=o.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:l.setValue(f*3+1);break;case 1:h.setValue(f/3),c.setValue(f%3);break;case 2:i.setValue(f+1);break}}if(i.getValue().length===0||l.getValue().length===0||c.getValue().length===0||h.getValue().length===0||i.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Yt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Yt.MAX_ROWS_IN_BARCODE)return null;let y=new wi(i.getValue()[0],l.getValue()[0],c.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(t,y),y}removeIncorrectCodewords(t,i){for(let l=0;l<t.length;l++){let c=t[l];if(t[l]==null)continue;let h=c.getValue()%30,y=c.getRowNumber();if(y>i.getRowCount()){t[l]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:h*3+1!==i.getRowCountUpperPart()&&(t[l]=null);break;case 1:(Math.trunc(h/3)!==i.getErrorCorrectionLevel()||h%3!==i.getRowCountLowerPart())&&(t[l]=null);break;case 2:h+1!==i.getColumnCount()&&(t[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class mr{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Yt.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let l=this.detectionResultColumns[i].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,l))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<t.length;l++)if(t[l]!=null&&i[l]!=null&&t[l].getRowNumber()===i[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let h=this.detectionResultColumns[c].getCodewords()[l];h!=null&&(h.setRowNumber(t[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++){if(i[l]==null)continue;let c=i[l].getRowNumber(),h=0;for(let y=this.barcodeColumnCount+1;y>0&&h<this.ADJUST_ROW_NUMBER_SKIP;y--){let o=this.detectionResultColumns[y].getCodewords()[l];o!=null&&(h=mr.adjustRowNumberIfValid(c,h,o),o.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let l=0;l<i.length;l++){if(i[l]==null)continue;let c=i[l].getRowNumber(),h=0;for(let y=1;y<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;y++){let o=this.detectionResultColumns[y].getCodewords()[l];o!=null&&(h=mr.adjustRowNumberIfValid(c,h,o),o.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(t)?(l.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,l){if(!this.detectionResultColumns[t-1])return;let c=l[i],h=this.detectionResultColumns[t-1].getCodewords(),y=h;this.detectionResultColumns[t+1]!=null&&(y=this.detectionResultColumns[t+1].getCodewords());let o=new Array(14);o[2]=h[i],o[3]=y[i],i>0&&(o[0]=l[i-1],o[4]=h[i-1],o[5]=y[i-1]),i>1&&(o[8]=l[i-2],o[10]=h[i-2],o[11]=y[i-2]),i<l.length-1&&(o[1]=l[i+1],o[6]=h[i+1],o[7]=y[i+1]),i<l.length-2&&(o[9]=l[i+2],o[12]=h[i+2],o[13]=y[i+2]);for(let f of o)if(mr.adjustRowNumber(c,f))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ea;for(let l=0;l<t.getCodewords().length;l++){i.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let h=this.detectionResultColumns[c].getCodewords()[l];if(h==null){i.format("    |   ");continue}i.format(" %3d|%3d",h.getRowNumber(),h.getValue())}i.format("%n")}return i.toString()}}class va{constructor(t,i,l,c){this.rowNumber=va.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==va.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}va.BARCODE_ROW_UNKNOWN=-1;class Rr{static initialize(){for(let t=0;t<Yt.SYMBOL_TABLE.length;t++){let i=Yt.SYMBOL_TABLE[t],l=i&1;for(let c=0;c<Yt.BARS_IN_MODULE;c++){let h=0;for(;(i&1)===l;)h+=1,i>>=1;l=i&1,Rr.RATIOS_TABLE[t]||(Rr.RATIOS_TABLE[t]=new Array(Yt.BARS_IN_MODULE)),Rr.RATIOS_TABLE[t][Yt.BARS_IN_MODULE-c-1]=Math.fround(h/Yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=Rr.getDecodedCodewordValue(Rr.sampleBitCounts(t));return i!==-1?i:Rr.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=Pe.sum(t),l=new Int32Array(Yt.BARS_IN_MODULE),c=0,h=0;for(let y=0;y<Yt.MODULES_IN_CODEWORD;y++){let o=i/(2*Yt.MODULES_IN_CODEWORD)+y*i/Yt.MODULES_IN_CODEWORD;h+t[c]<=o&&(h+=t[c],c++),l[c]++}return l}static getDecodedCodewordValue(t){let i=Rr.getBitValue(t);return Yt.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let l=0;l<t.length;l++)for(let c=0;c<t[l];c++)i=i<<1|(l%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=Pe.sum(t),l=new Array(Yt.BARS_IN_MODULE);if(i>1)for(let y=0;y<l.length;y++)l[y]=Math.fround(t[y]/i);let c=pt.MAX_VALUE,h=-1;this.bSymbolTableReady||Rr.initialize();for(let y=0;y<Rr.RATIOS_TABLE.length;y++){let o=0,f=Rr.RATIOS_TABLE[y];for(let x=0;x<Yt.BARS_IN_MODULE;x++){let b=Math.fround(f[x]-l[x]);if(o+=Math.fround(b*b),o>=c)break}o<c&&(c=o,h=Yt.SYMBOL_TABLE[y])}return h}}Rr.bSymbolTableReady=!1,Rr.RATIOS_TABLE=new Array(Yt.SYMBOL_TABLE.length).map($=>new Array(Yt.BARS_IN_MODULE));class Ua{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Vi{static parseLong(t,i=void 0){return parseInt(t,i)}}class Ei extends C{}Ei.kind="NullPointerException";class fo{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,l){if(t==null)throw new Ei;if(i<0||i>t.length||l<0||i+l>t.length||i+l<0)throw new H;if(l===0)return;for(let c=0;c<l;c++)this.write(t[i+c])}flush(){}close(){}}class Qi extends C{}class xs extends fo{constructor(t=32){if(super(),this.count=0,t<0)throw new R("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let l=this.buf.length<<1;if(l-t<0&&(l=t),l<0){if(t<0)throw new Qi;l=U.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,l)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,l){if(i<0||i>t.length||l<0||i+l-t.length>0)throw new H;this.ensureCapacity(this.count+l),P.arraycopy(t,i,this.buf,this.count,l),this.count+=l}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Pn;(function($){$[$.ALPHA=0]="ALPHA",$[$.LOWER=1]="LOWER",$[$.MIXED=2]="MIXED",$[$.PUNCT=3]="PUNCT",$[$.ALPHA_SHIFT=4]="ALPHA_SHIFT",$[$.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pn||(Pn={}));function vs(){if(typeof window<"u")return window.BigInt||null;if(typeof dl<"u")return dl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Hi;function Aa($){if(typeof Hi>"u"&&(Hi=vs()),Hi===null)throw new Error("BigInt is not supported!");return Hi($)}function Ii(){let $=[];$[0]=Aa(1);let t=Aa(900);$[1]=t;for(let i=2;i<16;i++)$[i]=$[i-1]*t;return $}class ze{static decode(t,i){let l=new se(""),c=j.ISO8859_1;l.enableDecoding(c);let h=1,y=t[h++],o=new Ua;for(;h<t[0];){switch(y){case ze.TEXT_COMPACTION_MODE_LATCH:h=ze.textCompaction(t,h,l);break;case ze.BYTE_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:h=ze.byteCompaction(y,t,c,h,l);break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(t[h++]);break;case ze.NUMERIC_COMPACTION_MODE_LATCH:h=ze.numericCompaction(t,h,l);break;case ze.ECI_CHARSET:j.getCharacterSetECIByValue(t[h++]);break;case ze.ECI_GENERAL_PURPOSE:h+=2;break;case ze.ECI_USER_DEFINED:h++;break;case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=ze.decodeMacroBlock(t,h,o);break;case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:throw new I;default:h--,h=ze.textCompaction(t,h,l);break}if(h<t.length)y=t[h++];else throw I.getFormatInstance()}if(l.length()===0)throw I.getFormatInstance();let f=new Q(null,l.toString(),null,i);return f.setOther(o),f}static decodeMacroBlock(t,i,l){if(i+ze.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw I.getFormatInstance();let c=new Int32Array(ze.NUMBER_OF_SEQUENCE_CODEWORDS);for(let o=0;o<ze.NUMBER_OF_SEQUENCE_CODEWORDS;o++,i++)c[o]=t[i];l.setSegmentIndex(U.parseInt(ze.decodeBase900toBase10(c,ze.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new se;i=ze.textCompaction(t,i,h),l.setFileId(h.toString());let y=-1;for(t[i]===ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=i+1);i<t[0];)switch(t[i]){case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let o=new se;i=ze.textCompaction(t,i+1,o),l.setFileName(o.toString());break;case ze.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new se;i=ze.textCompaction(t,i+1,f),l.setSender(f.toString());break;case ze.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new se;i=ze.textCompaction(t,i+1,x),l.setAddressee(x.toString());break;case ze.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new se;i=ze.numericCompaction(t,i+1,b),l.setSegmentCount(U.parseInt(b.toString()));break;case ze.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new se;i=ze.numericCompaction(t,i+1,B),l.setTimestamp(Vi.parseLong(B.toString()));break;case ze.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let k=new se;i=ze.numericCompaction(t,i+1,k),l.setChecksum(U.parseInt(k.toString()));break;case ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new se;i=ze.numericCompaction(t,i+1,G),l.setFileSize(Vi.parseLong(G.toString()));break;default:throw I.getFormatInstance()}break;case ze.MACRO_PDF417_TERMINATOR:i++,l.setLastSegment(!0);break;default:throw I.getFormatInstance()}if(y!==-1){let o=i-y;l.isLastSegment()&&o--,l.setOptionalData(F.copyOfRange(t,y,y+o))}return i}static textCompaction(t,i,l){let c=new Int32Array((t[0]-i)*2),h=new Int32Array((t[0]-i)*2),y=0,o=!1;for(;i<t[0]&&!o;){let f=t[i++];if(f<ze.TEXT_COMPACTION_MODE_LATCH)c[y]=f/30,c[y+1]=f%30,y+=2;else switch(f){case ze.TEXT_COMPACTION_MODE_LATCH:c[y++]=ze.TEXT_COMPACTION_MODE_LATCH;break;case ze.BYTE_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:case ze.NUMERIC_COMPACTION_MODE_LATCH:case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:i--,o=!0;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[y]=ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=t[i++],h[y]=f,y++;break}}return ze.decodeTextCompaction(c,h,y,l),i}static decodeTextCompaction(t,i,l,c){let h=Pn.ALPHA,y=Pn.ALPHA,o=0;for(;o<l;){let f=t[o],x="";switch(h){case Pn.ALPHA:if(f<26)x=String.fromCharCode(65+f);else switch(f){case 26:x=" ";break;case ze.LL:h=Pn.LOWER;break;case ze.ML:h=Pn.MIXED;break;case ze.PS:y=h,h=Pn.PUNCT_SHIFT;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[o]);break;case ze.TEXT_COMPACTION_MODE_LATCH:h=Pn.ALPHA;break}break;case Pn.LOWER:if(f<26)x=String.fromCharCode(97+f);else switch(f){case 26:x=" ";break;case ze.AS:y=h,h=Pn.ALPHA_SHIFT;break;case ze.ML:h=Pn.MIXED;break;case ze.PS:y=h,h=Pn.PUNCT_SHIFT;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[o]);break;case ze.TEXT_COMPACTION_MODE_LATCH:h=Pn.ALPHA;break}break;case Pn.MIXED:if(f<ze.PL)x=ze.MIXED_CHARS[f];else switch(f){case ze.PL:h=Pn.PUNCT;break;case 26:x=" ";break;case ze.LL:h=Pn.LOWER;break;case ze.AL:h=Pn.ALPHA;break;case ze.PS:y=h,h=Pn.PUNCT_SHIFT;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[o]);break;case ze.TEXT_COMPACTION_MODE_LATCH:h=Pn.ALPHA;break}break;case Pn.PUNCT:if(f<ze.PAL)x=ze.PUNCT_CHARS[f];else switch(f){case ze.PAL:h=Pn.ALPHA;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[o]);break;case ze.TEXT_COMPACTION_MODE_LATCH:h=Pn.ALPHA;break}break;case Pn.ALPHA_SHIFT:if(h=y,f<26)x=String.fromCharCode(65+f);else switch(f){case 26:x=" ";break;case ze.TEXT_COMPACTION_MODE_LATCH:h=Pn.ALPHA;break}break;case Pn.PUNCT_SHIFT:if(h=y,f<ze.PAL)x=ze.PUNCT_CHARS[f];else switch(f){case ze.PAL:h=Pn.ALPHA;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[o]);break;case ze.TEXT_COMPACTION_MODE_LATCH:h=Pn.ALPHA;break}break}x!==""&&c.append(x),o++}}static byteCompaction(t,i,l,c,h){let y=new xs,o=0,f=0,x=!1;switch(t){case ze.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),B=i[c++];for(;c<i[0]&&!x;)switch(b[o++]=B,f=900*f+B,B=i[c++],B){case ze.TEXT_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH:case ze.NUMERIC_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:c--,x=!0;break;default:if(o%5===0&&o>0){for(let k=0;k<6;++k)y.write(Number(Aa(f)>>Aa(8*(5-k))));f=0,o=0}break}c===i[0]&&B<ze.TEXT_COMPACTION_MODE_LATCH&&(b[o++]=B);for(let k=0;k<o;k++)y.write(b[k]);break;case ze.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!x;){let k=i[c++];if(k<ze.TEXT_COMPACTION_MODE_LATCH)o++,f=900*f+k;else switch(k){case ze.TEXT_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH:case ze.NUMERIC_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:c--,x=!0;break}if(o%5===0&&o>0){for(let G=0;G<6;++G)y.write(Number(Aa(f)>>Aa(8*(5-G))));f=0,o=0}}break}return h.append(de.decode(y.toByteArray(),l)),c}static numericCompaction(t,i,l){let c=0,h=!1,y=new Int32Array(ze.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!h;){let o=t[i++];if(i===t[0]&&(h=!0),o<ze.TEXT_COMPACTION_MODE_LATCH)y[c]=o,c++;else switch(o){case ze.TEXT_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:i--,h=!0;break}(c%ze.MAX_NUMERIC_CODEWORDS===0||o===ze.NUMERIC_COMPACTION_MODE_LATCH||h)&&c>0&&(l.append(ze.decodeBase900toBase10(y,c)),c=0)}return i}static decodeBase900toBase10(t,i){let l=Aa(0);for(let h=0;h<i;h++)l+=ze.EXP900[i-h-1]*Aa(t[h]);let c=l.toString();if(c.charAt(0)!=="1")throw new I;return c.substring(1)}}ze.TEXT_COMPACTION_MODE_LATCH=900,ze.BYTE_COMPACTION_MODE_LATCH=901,ze.NUMERIC_COMPACTION_MODE_LATCH=902,ze.BYTE_COMPACTION_MODE_LATCH_6=924,ze.ECI_USER_DEFINED=925,ze.ECI_GENERAL_PURPOSE=926,ze.ECI_CHARSET=927,ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ze.MACRO_PDF417_TERMINATOR=922,ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ze.MAX_NUMERIC_CODEWORDS=15,ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ze.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ze.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ze.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ze.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ze.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ze.PL=25,ze.LL=27,ze.AS=27,ze.ML=28,ze.AL=28,ze.PS=29,ze.PAL=29,ze.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ze.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ze.EXP900=vs()?Ii():[],ze.NUMBER_OF_SEQUENCE_CODEWORDS=2;class xn{constructor(){}static decode(t,i,l,c,h,y,o){let f=new wa(t,i,l,c,h),x=null,b=null,B;for(let Y=!0;;Y=!1){if(i!=null&&(x=xn.getRowIndicatorColumn(t,f,i,!0,y,o)),c!=null&&(b=xn.getRowIndicatorColumn(t,f,c,!1,y,o)),B=xn.merge(x,b),B==null)throw oe.getNotFoundInstance();let ne=B.getBoundingBox();if(Y&&ne!=null&&(ne.getMinY()<f.getMinY()||ne.getMaxY()>f.getMaxY()))f=ne;else break}B.setBoundingBox(f);let k=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,x),B.setDetectionResultColumn(k,b);let G=x!=null;for(let Y=1;Y<=k;Y++){let ne=G?Y:k-Y;if(B.getDetectionResultColumn(ne)!==void 0)continue;let fe;ne===0||ne===k?fe=new co(f,ne===0):fe=new Ia(f),B.setDetectionResultColumn(ne,fe);let ue=-1,pe=ue;for(let me=f.getMinY();me<=f.getMaxY();me++){if(ue=xn.getStartColumn(B,ne,me,G),ue<0||ue>f.getMaxX()){if(pe===-1)continue;ue=pe}let ye=xn.detectCodeword(t,f.getMinX(),f.getMaxX(),G,ue,me,y,o);ye!=null&&(fe.setCodeword(me,ye),pe=ue,y=Math.min(y,ye.getWidth()),o=Math.max(o,ye.getWidth()))}}return xn.createDecoderResult(B)}static merge(t,i){if(t==null&&i==null)return null;let l=xn.getBarcodeMetadata(t,i);if(l==null)return null;let c=wa.merge(xn.adjustBoundingBox(t),xn.adjustBoundingBox(i));return new mr(l,c)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let l=xn.getMax(i),c=0;for(let o of i)if(c+=l-o,o>0)break;let h=t.getCodewords();for(let o=0;c>0&&h[o]==null;o++)c--;let y=0;for(let o=i.length-1;o>=0&&(y+=l-i[o],!(i[o]>0));o--);for(let o=h.length-1;y>0&&h[o]==null;o--)y--;return t.getBoundingBox().addMissingRows(c,y,t.isLeft())}static getMax(t){let i=-1;for(let l of t)i=Math.max(i,l);return i}static getBarcodeMetadata(t,i){let l;if(t==null||(l=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(t,i,l,c,h,y){let o=new co(i,c);for(let f=0;f<2;f++){let x=f===0?1:-1,b=Math.trunc(Math.trunc(l.getX()));for(let B=Math.trunc(Math.trunc(l.getY()));B<=i.getMaxY()&&B>=i.getMinY();B+=x){let k=xn.detectCodeword(t,0,t.getWidth(),c,b,B,h,y);k!=null&&(o.setCodeword(B,k),c?b=k.getStartX():b=k.getEndX())}}return o}static adjustCodewordCount(t,i){let l=i[0][1],c=l.getValue(),h=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-xn.getNumberOfECCodeWords(t.getBarcodeECLevel());if(c.length===0){if(h<1||h>Yt.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();l.setValue(h)}else c[0]!==h&&l.setValue(h)}static createDecoderResult(t){let i=xn.createBarcodeMatrix(t);xn.adjustCodewordCount(t,i);let l=new Array,c=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),h=[],y=new Array;for(let f=0;f<t.getBarcodeRowCount();f++)for(let x=0;x<t.getBarcodeColumnCount();x++){let b=i[f][x+1].getValue(),B=f*t.getBarcodeColumnCount()+x;b.length===0?l.push(B):b.length===1?c[B]=b[0]:(y.push(B),h.push(b))}let o=new Array(h.length);for(let f=0;f<o.length;f++)o[f]=h[f];return xn.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),c,Yt.toIntArray(l),Yt.toIntArray(y),o)}static createDecoderResultFromAmbiguousValues(t,i,l,c,h){let y=new Int32Array(c.length),o=100;for(;o-- >0;){for(let f=0;f<y.length;f++)i[c[f]]=h[f][y[f]];try{return xn.decodeCodewords(i,t,l)}catch(f){if(!(f instanceof _))throw f}if(y.length===0)throw _.getChecksumInstance();for(let f=0;f<y.length;f++)if(y[f]<h[f].length-1){y[f]++;break}else if(y[f]=0,f===y.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let h=0;h<i[c].length;h++)i[c][h]=new La;let l=0;for(let c of t.getDetectionResultColumns()){if(c!=null){for(let h of c.getCodewords())if(h!=null){let y=h.getRowNumber();if(y>=0){if(y>=i.length)continue;i[y][l].setValue(h.getValue())}}}l++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,l,c){let h=c?1:-1,y=null;if(xn.isValidBarcodeColumn(t,i-h)&&(y=t.getDetectionResultColumn(i-h).getCodeword(l)),y!=null)return c?y.getEndX():y.getStartX();if(y=t.getDetectionResultColumn(i).getCodewordNearby(l),y!=null)return c?y.getStartX():y.getEndX();if(xn.isValidBarcodeColumn(t,i-h)&&(y=t.getDetectionResultColumn(i-h).getCodewordNearby(l)),y!=null)return c?y.getEndX():y.getStartX();let o=0;for(;xn.isValidBarcodeColumn(t,i-h);){i-=h;for(let f of t.getDetectionResultColumn(i).getCodewords())if(f!=null)return(c?f.getEndX():f.getStartX())+h*o*(f.getEndX()-f.getStartX());o++}return c?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,l,c,h,y,o,f){h=xn.adjustCodewordStartColumn(t,i,l,c,h,y);let x=xn.getModuleBitCount(t,i,l,c,h,y);if(x==null)return null;let b,B=Pe.sum(x);if(c)b=h+B;else{for(let Y=0;Y<x.length/2;Y++){let ne=x[Y];x[Y]=x[x.length-1-Y],x[x.length-1-Y]=ne}b=h,h=b-B}if(!xn.checkCodewordSkew(B,o,f))return null;let k=Rr.getDecodedValue(x),G=Yt.getCodeword(k);return G===-1?null:new va(h,b,xn.getCodewordBucketNumber(k),G)}static getModuleBitCount(t,i,l,c,h,y){let o=h,f=new Int32Array(8),x=0,b=c?1:-1,B=c;for(;(c?o<l:o>=i)&&x<f.length;)t.get(o,y)===B?(f[x]++,o+=b):(x++,B=!B);return x===f.length||o===(c?l:i)&&x===f.length-1?f:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,l,c,h,y){let o=h,f=c?-1:1;for(let x=0;x<2;x++){for(;(c?o>=i:o<l)&&c===t.get(o,y);){if(Math.abs(h-o)>xn.CODEWORD_SKEW_SIZE)return h;o+=f}f=-f,c=!c}return o}static checkCodewordSkew(t,i,l){return i-xn.CODEWORD_SKEW_SIZE<=t&&t<=l+xn.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,l){if(t.length===0)throw I.getFormatInstance();let c=1<<i+1,h=xn.correctErrors(t,l,c);xn.verifyCodewordCount(t,c);let y=ze.decode(t,""+i);return y.setErrorsCorrected(h),y.setErasures(l.length),y}static correctErrors(t,i,l){if(i!=null&&i.length>l/2+xn.MAX_ERRORS||l<0||l>xn.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return xn.errorCorrection.decode(t,l,i)}static verifyCodewordCount(t,i){if(t.length<4)throw I.getFormatInstance();let l=t[0];if(l>t.length)throw I.getFormatInstance();if(l===0)if(i<t.length)t[0]=t.length-i;else throw I.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),l=0,c=i.length-1;for(;!((t&1)!==l&&(l=t&1,c--,c<0));)i[c]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return xn.getCodewordBucketNumber(xn.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Ea;for(let l=0;l<t.length;l++){i.format("Row %2d: ",l);for(let c=0;c<t[l].length;c++){let h=t[l][c];h.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}i.format("%n")}return i.toString()}}xn.CODEWORD_SKEW_SIZE=2,xn.MAX_ERRORS=3,xn.MAX_EC_CODEWORDS=512,xn.errorCorrection=new xa;class Or{decode(t,i=null){let l=Or.decode(t,i,!1);if(l==null||l.length===0||l[0]==null)throw oe.getNotFoundInstance();return l[0]}decodeMultiple(t,i=null){try{return Or.decode(t,i,!0)}catch(l){throw l instanceof I||l instanceof _?oe.getNotFoundInstance():l}}static decode(t,i,l){const c=new Array,h=ln.detectMultiple(t,i,l);for(const y of h.getPoints()){const o=xn.decode(h.getBits(),y[4],y[5],y[6],y[7],Or.getMinCodewordWidth(y),Or.getMaxCodewordWidth(y)),f=new De(o.getText(),o.getRawBytes(),void 0,y,Ne.PDF_417);f.putMetadata(gt.ERROR_CORRECTION_LEVEL,o.getECLevel());const x=o.getOther();x!=null&&f.putMetadata(gt.PDF417_EXTRA_METADATA,x),c.push(f)}return c.map(y=>y)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?U.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Or.getMaxWidth(t[0],t[4]),Or.getMaxWidth(t[6],t[2])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN),Math.max(Or.getMaxWidth(t[1],t[5]),Or.getMaxWidth(t[7],t[3])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Or.getMinWidth(t[0],t[4]),Or.getMinWidth(t[6],t[2])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN),Math.min(Or.getMinWidth(t[1],t[5]),Or.getMinWidth(t[7],t[3])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fa extends C{}Fa.kind="ReaderException";class As{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!d(t)&&t.get(M.TRY_HARDER)===!0,l=d(t)?null:t.get(M.POSSIBLE_FORMATS),c=new Array;if(!d(l)){const h=l.some(y=>y===Ne.UPC_A||y===Ne.UPC_E||y===Ne.EAN_13||y===Ne.EAN_8||y===Ne.CODABAR||y===Ne.CODE_39||y===Ne.CODE_93||y===Ne.CODE_128||y===Ne.ITF||y===Ne.RSS_14||y===Ne.RSS_EXPANDED);h&&!i&&c.push(new jr(t,this.verbose)),l.includes(Ne.QR_CODE)&&c.push(new Sr),l.includes(Ne.DATA_MATRIX)&&c.push(new jn),l.includes(Ne.AZTEC)&&c.push(new pn),l.includes(Ne.PDF_417)&&c.push(new Or),h&&i&&c.push(new jr(t,this.verbose))}c.length===0&&(i||c.push(new jr(t,this.verbose)),c.push(new Sr),c.push(new jn),c.push(new pn),c.push(new Or),i&&c.push(new jr(t,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Fa("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(l){if(l instanceof Fa)continue}throw new oe("No MultiFormat Readers were able to detect the code.")}}class Cs extends Ze{constructor(t=null,i=500){const l=new As;l.setHints(t),super(l,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class ho extends Ze{constructor(t=500){super(new Or,t)}}class go extends Ze{constructor(t=500){super(new Sr,t)}}var Tr;(function($){$[$.ERROR_CORRECTION=0]="ERROR_CORRECTION",$[$.CHARACTER_SET=1]="CHARACTER_SET",$[$.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",$[$.MIN_SIZE=3]="MIN_SIZE",$[$.MAX_SIZE=4]="MAX_SIZE",$[$.MARGIN=5]="MARGIN",$[$.PDF417_COMPACT=6]="PDF417_COMPACT",$[$.PDF417_COMPACTION=7]="PDF417_COMPACTION",$[$.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",$[$.AZTEC_LAYERS=9]="AZTEC_LAYERS",$[$.QR_VERSION=10]="QR_VERSION"})(Tr||(Tr={}));var gr=Tr;class Pa{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new re(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let l=i[i.length-1];const c=this.field;for(let h=i.length;h<=t;h++){const y=l.multiply(new re(c,Int32Array.from([1,c.exp(h-1+c.getGeneratorBase())])));i.push(y),l=y}}return i[t]}encode(t,i){if(i===0)throw new R("No error correction bytes");const l=t.length-i;if(l<=0)throw new R("No data bytes provided");const c=this.buildGenerator(i),h=new Int32Array(l);P.arraycopy(t,0,h,0,l);let y=new re(this.field,h);y=y.multiplyByMonomial(i,1);const f=y.divide(c)[1].getCoefficients(),x=i-f.length;for(let b=0;b<x;b++)t[l+b]=0;P.arraycopy(f,0,t,l+x,f.length)}}class pr{constructor(){}static applyMaskPenaltyRule1(t){return pr.applyMaskPenaltyRule1Internal(t,!0)+pr.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const l=t.getArray(),c=t.getWidth(),h=t.getHeight();for(let y=0;y<h-1;y++){const o=l[y];for(let f=0;f<c-1;f++){const x=o[f];x===o[f+1]&&x===l[y+1][f]&&x===l[y+1][f+1]&&i++}}return pr.N2*i}static applyMaskPenaltyRule3(t){let i=0;const l=t.getArray(),c=t.getWidth(),h=t.getHeight();for(let y=0;y<h;y++)for(let o=0;o<c;o++){const f=l[y];o+6<c&&f[o]===1&&f[o+1]===0&&f[o+2]===1&&f[o+3]===1&&f[o+4]===1&&f[o+5]===0&&f[o+6]===1&&(pr.isWhiteHorizontal(f,o-4,o)||pr.isWhiteHorizontal(f,o+7,o+11))&&i++,y+6<h&&l[y][o]===1&&l[y+1][o]===0&&l[y+2][o]===1&&l[y+3][o]===1&&l[y+4][o]===1&&l[y+5][o]===0&&l[y+6][o]===1&&(pr.isWhiteVertical(l,o,y-4,y)||pr.isWhiteVertical(l,o,y+7,y+11))&&i++}return i*pr.N3}static isWhiteHorizontal(t,i,l){i=Math.max(i,0),l=Math.min(l,t.length);for(let c=i;c<l;c++)if(t[c]===1)return!1;return!0}static isWhiteVertical(t,i,l,c){l=Math.max(l,0),c=Math.min(c,t.length);for(let h=l;h<c;h++)if(t[h][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const l=t.getArray(),c=t.getWidth(),h=t.getHeight();for(let f=0;f<h;f++){const x=l[f];for(let b=0;b<c;b++)x[b]===1&&i++}const y=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-y)*10/y)*pr.N4}static getDataMaskBit(t,i,l){let c,h;switch(t){case 0:c=l+i&1;break;case 1:c=l&1;break;case 2:c=i%3;break;case 3:c=(l+i)%3;break;case 4:c=Math.floor(l/2)+Math.floor(i/3)&1;break;case 5:h=l*i,c=(h&1)+h%3;break;case 6:h=l*i,c=(h&1)+h%3&1;break;case 7:h=l*i,c=h%3+(l+i&1)&1;break;default:throw new R("Invalid mask pattern: "+t)}return c===0}static applyMaskPenaltyRule1Internal(t,i){let l=0;const c=i?t.getHeight():t.getWidth(),h=i?t.getWidth():t.getHeight(),y=t.getArray();for(let o=0;o<c;o++){let f=0,x=-1;for(let b=0;b<h;b++){const B=i?y[o][b]:y[b][o];B===x?f++:(f>=5&&(l+=pr.N1+(f-5)),f=1,x=B)}f>=5&&(l+=pr.N1+(f-5))}return l}}pr.N1=3,pr.N2=3,pr.N3=40,pr.N4=10;class ci{constructor(t,i){this.width=t,this.height=i;const l=new Array(i);for(let c=0;c!==i;c++)l[c]=new Uint8Array(t);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,l){this.bytes[i][t]=l}setBoolean(t,i,l){this.bytes[i][t]=l?1:0}clear(t){for(const i of this.bytes)F.fill(i,t)}equals(t){if(!(t instanceof ci))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let l=0,c=this.height;l<c;++l){const h=this.bytes[l],y=i.bytes[l];for(let o=0,f=this.width;o<f;++o)if(h[o]!==y[o])return!1}return!0}toString(){const t=new se;for(let i=0,l=this.height;i<l;++i){const c=this.bytes[i];for(let h=0,y=this.width;h<y;++h)switch(c[h]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ja{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new se;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ja.NUM_MASK_PATTERNS}}Ja.NUM_MASK_PATTERNS=8;class zn extends C{}zn.kind="WriterException";class Xt{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,l,c,h){Xt.clearMatrix(h),Xt.embedBasicPatterns(l,h),Xt.embedTypeInfo(i,c,h),Xt.maybeEmbedVersionInfo(l,h),Xt.embedDataBits(t,c,h)}static embedBasicPatterns(t,i){Xt.embedPositionDetectionPatternsAndSeparators(i),Xt.embedDarkDotAtLeftBottomCorner(i),Xt.maybeEmbedPositionAdjustmentPatterns(t,i),Xt.embedTimingPatterns(i)}static embedTypeInfo(t,i,l){const c=new K;Xt.makeTypeInfoBits(t,i,c);for(let h=0,y=c.getSize();h<y;++h){const o=c.get(c.getSize()-1-h),f=Xt.TYPE_INFO_COORDINATES[h],x=f[0],b=f[1];if(l.setBoolean(x,b,o),h<8){const B=l.getWidth()-h-1;l.setBoolean(B,8,o)}else{const k=l.getHeight()-7+(h-8);l.setBoolean(8,k,o)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const l=new K;Xt.makeVersionInfoBits(t,l);let c=17;for(let h=0;h<6;++h)for(let y=0;y<3;++y){const o=l.get(c);c--,i.setBoolean(h,i.getHeight()-11+y,o),i.setBoolean(i.getHeight()-11+y,h,o)}}static embedDataBits(t,i,l){let c=0,h=-1,y=l.getWidth()-1,o=l.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);o>=0&&o<l.getHeight();){for(let f=0;f<2;++f){const x=y-f;if(!Xt.isEmpty(l.get(x,o)))continue;let b;c<t.getSize()?(b=t.get(c),++c):b=!1,i!==255&&pr.getDataMaskBit(i,x,o)&&(b=!b),l.setBoolean(x,o,b)}o+=h}h=-h,o+=h,y-=2}if(c!==t.getSize())throw new zn("Not all bits consumed: "+c+"/"+t.getSize())}static findMSBSet(t){return 32-U.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new R("0 polynomial");const l=Xt.findMSBSet(i);for(t<<=l-1;Xt.findMSBSet(t)>=l;)t^=i<<Xt.findMSBSet(t)-l;return t}static makeTypeInfoBits(t,i,l){if(!Ja.isValidMaskPattern(i))throw new zn("Invalid mask pattern");const c=t.getBits()<<3|i;l.appendBits(c,5);const h=Xt.calculateBCHCode(c,Xt.TYPE_INFO_POLY);l.appendBits(h,10);const y=new K;if(y.appendBits(Xt.TYPE_INFO_MASK_PATTERN,15),l.xor(y),l.getSize()!==15)throw new zn("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const l=Xt.calculateBCHCode(t.getVersionNumber(),Xt.VERSION_INFO_POLY);if(i.appendBits(l,12),i.getSize()!==18)throw new zn("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const l=(i+1)%2;Xt.isEmpty(t.get(i,6))&&t.setNumber(i,6,l),Xt.isEmpty(t.get(6,i))&&t.setNumber(6,i,l)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new zn;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,l){for(let c=0;c<8;++c){if(!Xt.isEmpty(l.get(t+c,i)))throw new zn;l.setNumber(t+c,i,0)}}static embedVerticalSeparationPattern(t,i,l){for(let c=0;c<7;++c){if(!Xt.isEmpty(l.get(t,i+c)))throw new zn;l.setNumber(t,i+c,0)}}static embedPositionAdjustmentPattern(t,i,l){for(let c=0;c<5;++c){const h=Xt.POSITION_ADJUSTMENT_PATTERN[c];for(let y=0;y<5;++y)l.setNumber(t+y,i+c,h[y])}}static embedPositionDetectionPattern(t,i,l){for(let c=0;c<7;++c){const h=Xt.POSITION_DETECTION_PATTERN[c];for(let y=0;y<7;++y)l.setNumber(t+y,i+c,h[y])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Xt.POSITION_DETECTION_PATTERN[0].length;Xt.embedPositionDetectionPattern(0,0,t),Xt.embedPositionDetectionPattern(t.getWidth()-i,0,t),Xt.embedPositionDetectionPattern(0,t.getWidth()-i,t);const l=8;Xt.embedHorizontalSeparationPattern(0,l-1,t),Xt.embedHorizontalSeparationPattern(t.getWidth()-l,l-1,t),Xt.embedHorizontalSeparationPattern(0,t.getWidth()-l,t);const c=7;Xt.embedVerticalSeparationPattern(c,0,t),Xt.embedVerticalSeparationPattern(t.getHeight()-c-1,0,t),Xt.embedVerticalSeparationPattern(c,t.getHeight()-c,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const l=t.getVersionNumber()-1,c=Xt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,y=c.length;h!==y;h++){const o=c[h];if(o>=0)for(let f=0;f!==y;f++){const x=c[f];x>=0&&Xt.isEmpty(i.get(x,o))&&Xt.embedPositionAdjustmentPattern(x-2,o-2,i)}}}}Xt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xt.VERSION_INFO_POLY=7973,Xt.TYPE_INFO_POLY=1335,Xt.TYPE_INFO_MASK_PATTERN=21522;class po{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Vn{constructor(){}static calculateMaskPenalty(t){return pr.applyMaskPenaltyRule1(t)+pr.applyMaskPenaltyRule2(t)+pr.applyMaskPenaltyRule3(t)+pr.applyMaskPenaltyRule4(t)}static encode(t,i,l=null){let c=Vn.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(gr.CHARACTER_SET)!==void 0;h&&(c=l.get(gr.CHARACTER_SET).toString());const y=this.chooseMode(t,c),o=new K;if(y===zt.BYTE&&(h||Vn.DEFAULT_BYTE_MODE_ENCODING!==c)){const me=j.getCharacterSetECIByName(c);me!==void 0&&this.appendECI(me,o)}this.appendModeInfo(y,o);const f=new K;this.appendBytes(t,y,f,c);let x;if(l!==null&&l.get(gr.QR_VERSION)!==void 0){const me=Number.parseInt(l.get(gr.QR_VERSION).toString(),10);x=Bt.getVersionForNumber(me);const ye=this.calculateBitsNeeded(y,o,f,x);if(!this.willFit(ye,x,i))throw new zn("Data too big for requested version")}else x=this.recommendVersion(i,y,o,f);const b=new K;b.appendBitArray(o);const B=y===zt.BYTE?f.getSizeInBytes():t.length;this.appendLengthInfo(B,x,y,b),b.appendBitArray(f);const k=x.getECBlocksForLevel(i),G=x.getTotalCodewords()-k.getTotalECCodewords();this.terminateBits(G,b);const Y=this.interleaveWithECBytes(b,x.getTotalCodewords(),G,k.getNumBlocks()),ne=new Ja;ne.setECLevel(i),ne.setMode(y),ne.setVersion(x);const fe=x.getDimensionForVersion(),ue=new ci(fe,fe),pe=this.chooseMaskPattern(Y,i,x,ue);return ne.setMaskPattern(pe),Xt.buildMatrix(Y,i,x,pe,ue),ne.setMatrix(ue),ne}static recommendVersion(t,i,l,c){const h=this.calculateBitsNeeded(i,l,c,Bt.getVersionForNumber(1)),y=this.chooseVersion(h,t),o=this.calculateBitsNeeded(i,l,c,y);return this.chooseVersion(o,t)}static calculateBitsNeeded(t,i,l,c){return i.getSize()+t.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(t){return t<Vn.ALPHANUMERIC_TABLE.length?Vn.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(j.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return zt.KANJI;let l=!1,c=!1;for(let h=0,y=t.length;h<y;++h){const o=t.charAt(h);if(Vn.isDigit(o))l=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)c=!0;else return zt.BYTE}return c?zt.ALPHANUMERIC:l?zt.NUMERIC:zt.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=de.encode(t,j.SJIS)}catch{return!1}const l=i.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const h=i[c]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(t,i,l,c){let h=Number.MAX_SAFE_INTEGER,y=-1;for(let o=0;o<Ja.NUM_MASK_PATTERNS;o++){Xt.buildMatrix(t,i,l,o,c);let f=this.calculateMaskPenalty(c);f<h&&(h=f,y=o)}return y}static chooseVersion(t,i){for(let l=1;l<=40;l++){const c=Bt.getVersionForNumber(l);if(Vn.willFit(t,c,i))return c}throw new zn("Data too big")}static willFit(t,i,l){const c=i.getTotalCodewords(),y=i.getECBlocksForLevel(l).getTotalECCodewords(),o=c-y,f=(t+7)/8;return o>=f}static terminateBits(t,i){const l=t*8;if(i.getSize()>l)throw new zn("data bits cannot fit in the QR Code"+i.getSize()+" > "+l);for(let y=0;y<4&&i.getSize()<l;++y)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let y=c;y<8;y++)i.appendBit(!1);const h=t-i.getSizeInBytes();for(let y=0;y<h;++y)i.appendBits((y&1)===0?236:17,8);if(i.getSize()!==l)throw new zn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,l,c,h,y){if(c>=l)throw new zn("Block ID too large");const o=t%l,f=l-o,x=Math.floor(t/l),b=x+1,B=Math.floor(i/l),k=B+1,G=x-B,Y=b-k;if(G!==Y)throw new zn("EC bytes mismatch");if(l!==f+o)throw new zn("RS blocks mismatch");if(t!==(B+G)*f+(k+Y)*o)throw new zn("Total bytes mismatch");c<f?(h[0]=B,y[0]=G):(h[0]=k,y[0]=Y)}static interleaveWithECBytes(t,i,l,c){if(t.getSizeInBytes()!==l)throw new zn("Number of bits and data bytes does not match");let h=0,y=0,o=0;const f=new Array;for(let b=0;b<c;++b){const B=new Int32Array(1),k=new Int32Array(1);Vn.getNumDataBytesAndNumECBytesForBlockID(i,l,c,b,B,k);const G=B[0],Y=new Uint8Array(G);t.toBytes(8*h,Y,0,G);const ne=Vn.generateECBytes(Y,k[0]);f.push(new po(Y,ne)),y=Math.max(y,G),o=Math.max(o,ne.length),h+=B[0]}if(l!==h)throw new zn("Data bytes does not match offset");const x=new K;for(let b=0;b<y;++b)for(const B of f){const k=B.getDataBytes();b<k.length&&x.appendBits(k[b],8)}for(let b=0;b<o;++b)for(const B of f){const k=B.getErrorCorrectionBytes();b<k.length&&x.appendBits(k[b],8)}if(i!==x.getSizeInBytes())throw new zn("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,i){const l=t.length,c=new Int32Array(l+i);for(let y=0;y<l;y++)c[y]=t[y]&255;new Pa(Z.QR_CODE_FIELD_256).encode(c,i);const h=new Uint8Array(i);for(let y=0;y<i;y++)h[y]=c[l+y];return h}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,l,c){const h=l.getCharacterCountBits(i);if(t>=1<<h)throw new zn(t+" is bigger than "+((1<<h)-1));c.appendBits(t,h)}static appendBytes(t,i,l,c){switch(i){case zt.NUMERIC:Vn.appendNumericBytes(t,l);break;case zt.ALPHANUMERIC:Vn.appendAlphanumericBytes(t,l);break;case zt.BYTE:Vn.append8BitBytes(t,l,c);break;case zt.KANJI:Vn.appendKanjiBytes(t,l);break;default:throw new zn("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Vn.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const l=t.length;let c=0;for(;c<l;){const h=Vn.getDigit(t.charAt(c));if(c+2<l){const y=Vn.getDigit(t.charAt(c+1)),o=Vn.getDigit(t.charAt(c+2));i.appendBits(h*100+y*10+o,10),c+=3}else if(c+1<l){const y=Vn.getDigit(t.charAt(c+1));i.appendBits(h*10+y,7),c+=2}else i.appendBits(h,4),c++}}static appendAlphanumericBytes(t,i){const l=t.length;let c=0;for(;c<l;){const h=Vn.getAlphanumericCode(t.charCodeAt(c));if(h===-1)throw new zn;if(c+1<l){const y=Vn.getAlphanumericCode(t.charCodeAt(c+1));if(y===-1)throw new zn;i.appendBits(h*45+y,11),c+=2}else i.appendBits(h,6),c++}}static append8BitBytes(t,i,l){let c;try{c=de.encode(t,l)}catch(h){throw new zn(h)}for(let h=0,y=c.length;h!==y;h++){const o=c[h];i.appendBits(o,8)}}static appendKanjiBytes(t,i){let l;try{l=de.encode(t,j.SJIS)}catch(h){throw new zn(h)}const c=l.length;for(let h=0;h<c;h+=2){const y=l[h]&255,o=l[h+1]&255,f=y<<8&4294967295|o;let x=-1;if(f>=33088&&f<=40956?x=f-33088:f>=57408&&f<=60351&&(x=f-49472),x===-1)throw new zn("Invalid byte sequence");const b=(x>>8)*192+(x&255);i.appendBits(b,13)}}static appendECI(t,i){i.appendBits(zt.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Vn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Vn.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class Va{write(t,i,l,c=null){if(t.length===0)throw new R("Found empty contents");if(i<0||l<0)throw new R("Requested dimensions are too small: "+i+"x"+l);let h=tn.L,y=Va.QUIET_ZONE_SIZE;c!==null&&(c.get(gr.ERROR_CORRECTION)!==void 0&&(h=tn.fromString(c.get(gr.ERROR_CORRECTION).toString())),c.get(gr.MARGIN)!==void 0&&(y=Number.parseInt(c.get(gr.MARGIN).toString(),10)));const o=Vn.encode(t,h,c);return this.renderResult(o,i,l,y)}writeToDom(t,i,l,c,h=null){typeof t=="string"&&(t=document.querySelector(t));const y=this.write(i,l,c,h);t&&t.appendChild(y)}renderResult(t,i,l,c){const h=t.getMatrix();if(h===null)throw new xe;const y=h.getWidth(),o=h.getHeight(),f=y+c*2,x=o+c*2,b=Math.max(i,f),B=Math.max(l,x),k=Math.min(Math.floor(b/f),Math.floor(B/x)),G=Math.floor((b-y*k)/2),Y=Math.floor((B-o*k)/2),ne=this.createSVGElement(b,B);for(let fe=0,ue=Y;fe<o;fe++,ue+=k)for(let pe=0,me=G;pe<y;pe++,me+=k)if(h.get(pe,fe)===1){const ye=this.createSvgRectElement(me,ue,k,k);ne.appendChild(ye)}return ne}createSVGElement(t,i){const l=document.createElementNS(Va.SVG_NS,"svg");return l.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width",i.toString()),l}createSvgRectElement(t,i,l,c){const h=document.createElementNS(Va.SVG_NS,"rect");return h.setAttributeNS(null,"x",t.toString()),h.setAttributeNS(null,"y",i.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",c.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Va.QUIET_ZONE_SIZE=4,Va.SVG_NS="http://www.w3.org/2000/svg";class $a{encode(t,i,l,c,h){if(t.length===0)throw new R("Found empty contents");if(i!==Ne.QR_CODE)throw new R("Can only encode QR_CODE, but got "+i);if(l<0||c<0)throw new R(`Requested dimensions are too small: ${l}x${c}`);let y=tn.L,o=$a.QUIET_ZONE_SIZE;h!==null&&(h.get(gr.ERROR_CORRECTION)!==void 0&&(y=tn.fromString(h.get(gr.ERROR_CORRECTION).toString())),h.get(gr.MARGIN)!==void 0&&(o=Number.parseInt(h.get(gr.MARGIN).toString(),10)));const f=Vn.encode(t,y,h);return $a.renderResult(f,l,c,o)}static renderResult(t,i,l,c){const h=t.getMatrix();if(h===null)throw new xe;const y=h.getWidth(),o=h.getHeight(),f=y+c*2,x=o+c*2,b=Math.max(i,f),B=Math.max(l,x),k=Math.min(Math.floor(b/f),Math.floor(B/x)),G=Math.floor((b-y*k)/2),Y=Math.floor((B-o*k)/2),ne=new Ae(b,B);for(let fe=0,ue=Y;fe<o;fe++,ue+=k)for(let pe=0,me=G;pe<y;pe++,me+=k)h.get(pe,fe)===1&&ne.setRegion(me,ue,k,k);return ne}}$a.QUIET_ZONE_SIZE=4;class bs{encode(t,i,l,c,h){let y;switch(i){case Ne.QR_CODE:y=new $a;break;default:throw new R("No encoder available for format "+i)}return y.encode(t,i,l,c,h)}}class la extends ke{constructor(t,i,l,c,h,y,o,f){if(super(y,o),this.yuvData=t,this.dataWidth=i,this.dataHeight=l,this.left=c,this.top=h,c+y>i||h+o>l)throw new R("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(y,o)}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const l=this.getWidth();(i==null||i.length<l)&&(i=new Uint8ClampedArray(l));const c=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,c,i,0,l),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const l=t*i,c=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.yuvData,h,c,0,l),c;for(let y=0;y<i;y++){const o=y*t;P.arraycopy(this.yuvData,h,c,o,t),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,i,l,c){return new la(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,l,c,!1)}renderThumbnail(){const t=this.getWidth()/la.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/la.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(t*i),c=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let y=0;y<i;y++){const o=y*t;for(let f=0;f<t;f++){const x=c[h+f*la.THUMBNAIL_SCALE_FACTOR]&255;l[o+f]=4278190080|x*65793}h+=this.dataWidth*la.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/la.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/la.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const l=this.yuvData;for(let c=0,h=this.top*this.dataWidth+this.left;c<i;c++,h+=this.dataWidth){const y=h+t/2;for(let o=h,f=h+t-1;o<y;o++,f--){const x=l[o];l[o]=l[f],l[f]=x}}}invert(){return new Ke(this)}}la.THUMBNAIL_SCALE_FACTOR=2;class ws extends ke{constructor(t,i,l,c,h,y,o){if(super(i,l),this.dataWidth=c,this.dataHeight=h,this.left=y,this.top=o,t.BYTES_PER_ELEMENT===4){const f=i*l,x=new Uint8ClampedArray(f);for(let b=0;b<f;b++){const B=t[b],k=B>>16&255,G=B>>7&510,Y=B&255;x[b]=(k+G+Y)/4&255}this.luminances=x}else this.luminances=t;if(c===void 0&&(this.dataWidth=i),h===void 0&&(this.dataHeight=l),y===void 0&&(this.left=0),o===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+l>this.dataHeight)throw new R("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const l=this.getWidth();(i==null||i.length<l)&&(i=new Uint8ClampedArray(l));const c=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,c,i,0,l),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const l=t*i,c=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.luminances,h,c,0,l),c;for(let y=0;y<i;y++){const o=y*t;P.arraycopy(this.luminances,h,c,o,t),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,i,l,c){return new ws(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Ke(this)}}class Lo extends j{static forName(t){return this.getCharacterSetECIByName(t)}}class fi{}fi.ISO_8859_1=j.ISO8859_1;class Qa{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Uo{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Es{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ha extends Es{constructor(t,i,l){super(t),this.value=i,this.bitCount=l}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new Ha(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ha(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+U.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Is extends Ha{constructor(t,i,l){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=l}appendTo(t,i){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):l===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+l],8)}addBinaryShift(t,i){return new Is(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function yo($,t,i){return new Is($,t,i)}function Si($,t,i){return new Ha($,t,i)}const di=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ga=0,Ss=1,na=2,Gi=3,ua=4,Ti=new Ha(null,0,0),hi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Dl($){for(let t of $)F.fill(t,-1);return $[Ga][ua]=0,$[Ss][ua]=0,$[Ss][Ga]=28,$[Gi][ua]=0,$[na][ua]=0,$[na][Ga]=15,$}const ji=Dl(F.createInt32Array(6,6));class Zr{constructor(t,i,l,c){this.token=t,this.mode=i,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let l=this.bitCount,c=this.token;if(t!==this.mode){let y=hi[this.mode][t];c=Si(c,y&65535,y>>16),l+=y>>16}let h=t===na?4:5;return c=Si(c,i,h),new Zr(c,t,0,l+h)}shiftAndAppend(t,i){let l=this.token,c=this.mode===na?4:5;return l=Si(l,ji[this.mode][t],c),l=Si(l,i,5),new Zr(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(t){let i=this.token,l=this.mode,c=this.bitCount;if(this.mode===ua||this.mode===na){let o=hi[l][Ga];i=Si(i,o&65535,o>>16),c+=o>>16,l=Ga}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new Zr(i,l,this.binaryShiftByteCount+1,c+h);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(t+1)),y}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=yo(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Zr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(hi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Zr.calculateBinaryShiftCost(t)-Zr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let c=this.endBinaryShift(t.length).token;c!==null;c=c.getPrevious())i.unshift(c);let l=new K;for(const c of i)c.appendTo(l,t);return l}toString(){return ee.format("%s bits=%d bytes=%d",di[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Zr.INITIAL_STATE=new Zr(Ti,Ga,0,0);function Sa($){const t=ee.getCharCode(" "),i=ee.getCharCode("."),l=ee.getCharCode(",");$[Ga][t]=1;const c=ee.getCharCode("Z"),h=ee.getCharCode("A");for(let k=h;k<=c;k++)$[Ga][k]=k-h+2;$[Ss][t]=1;const y=ee.getCharCode("z"),o=ee.getCharCode("a");for(let k=o;k<=y;k++)$[Ss][k]=k-o+2;$[na][t]=1;const f=ee.getCharCode("9"),x=ee.getCharCode("0");for(let k=x;k<=f;k++)$[na][k]=k-x+2;$[na][l]=12,$[na][i]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let k=0;k<b.length;k++)$[Gi][ee.getCharCode(b[k])]=k;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let k=0;k<B.length;k++)ee.getCharCode(B[k])>0&&($[ua][ee.getCharCode(B[k])]=k);return $}const tr=Sa(F.createInt32Array(5,256));class Ta{constructor(t){this.text=t}encode(){const t=ee.getCharCode(" "),i=ee.getCharCode(`
`);let l=Uo.singletonList(Zr.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let y,o=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ee.getCharCode("\r"):y=o===i?2:0;break;case ee.getCharCode("."):y=o===t?3:0;break;case ee.getCharCode(","):y=o===t?4:0;break;case ee.getCharCode(":"):y=o===t?5:0;break;default:y=0}y>0?(l=Ta.updateStateListForPair(l,h,y),h++):l=this.updateStateListForChar(l,h)}return Uo.min(l,(h,y)=>h.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const l=[];for(let c of t)this.updateStateForChar(c,i,l);return Ta.simplifyStates(l)}updateStateForChar(t,i,l){let c=this.text[i]&255,h=tr[t.getMode()][c]>0,y=null;for(let o=0;o<=ua;o++){let f=tr[o][c];if(f>0){if(y==null&&(y=t.endBinaryShift(i)),!h||o===t.getMode()||o===na){const x=y.latchAndAppend(o,f);l.push(x)}if(!h&&ji[t.getMode()][o]>=0){const x=y.shiftAndAppend(o,f);l.push(x)}}}if(t.getBinaryShiftByteCount()>0||tr[t.getMode()][c]===0){let o=t.addBinaryShiftChar(i);l.push(o)}}static updateStateListForPair(t,i,l){const c=[];for(let h of t)this.updateStateForPair(h,i,l,c);return this.simplifyStates(c)}static updateStateForPair(t,i,l,c){let h=t.endBinaryShift(i);if(c.push(h.latchAndAppend(ua,l)),t.getMode()!==ua&&c.push(h.shiftAndAppend(ua,l)),l===3||l===4){let y=h.latchAndAppend(na,16-l).latchAndAppend(na,1);c.push(y)}if(t.getBinaryShiftByteCount()>0){let y=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(y)}}static simplifyStates(t){let i=[];for(const l of t){let c=!0;for(const h of i){if(h.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(h)&&(i=i.filter(y=>y!==h))}c&&i.push(l)}return i}}class Cn{constructor(){}static encodeBytes(t){return Cn.encode(t,Cn.DEFAULT_EC_PERCENT,Cn.DEFAULT_AZTEC_LAYERS)}static encode(t,i,l){let c=new Ta(t).encode(),h=U.truncDivision(c.getSize()*i,100)+11,y=c.getSize()+h,o,f,x,b,B;if(l!==Cn.DEFAULT_AZTEC_LAYERS){if(o=l<0,f=Math.abs(l),f>(o?Cn.MAX_NB_BITS_COMPACT:Cn.MAX_NB_BITS))throw new R(ee.format("Illegal value %s for layers",l));x=Cn.totalBitsInLayer(f,o),b=Cn.WORD_SIZE[f];let ye=x-x%b;if(B=Cn.stuffBits(c,b),B.getSize()+h>ye)throw new R("Data to large for user specified layer");if(o&&B.getSize()>b*64)throw new R("Data to large for user specified layer")}else{b=0,B=null;for(let ye=0;;ye++){if(ye>Cn.MAX_NB_BITS)throw new R("Data too large for an Aztec code");if(o=ye<=3,f=o?ye+1:ye,x=Cn.totalBitsInLayer(f,o),y>x)continue;(B==null||b!==Cn.WORD_SIZE[f])&&(b=Cn.WORD_SIZE[f],B=Cn.stuffBits(c,b));let Ie=x-x%b;if(!(o&&B.getSize()>b*64)&&B.getSize()+h<=Ie)break}}let k=Cn.generateCheckWords(B,x,b),G=B.getSize()/b,Y=Cn.generateModeMessage(o,f,G),ne=(o?11:14)+f*4,fe=new Int32Array(ne),ue;if(o){ue=ne;for(let ye=0;ye<fe.length;ye++)fe[ye]=ye}else{ue=ne+1+2*U.truncDivision(U.truncDivision(ne,2)-1,15);let ye=U.truncDivision(ne,2),Ie=U.truncDivision(ue,2);for(let Ee=0;Ee<ye;Ee++){let Me=Ee+U.truncDivision(Ee,15);fe[ye-Ee-1]=Ie-Me-1,fe[ye+Ee]=Ie+Me+1}}let pe=new Ae(ue);for(let ye=0,Ie=0;ye<f;ye++){let Ee=(f-ye)*4+(o?9:12);for(let Me=0;Me<Ee;Me++){let Ve=Me*2;for(let Oe=0;Oe<2;Oe++)k.get(Ie+Ve+Oe)&&pe.set(fe[ye*2+Oe],fe[ye*2+Me]),k.get(Ie+Ee*2+Ve+Oe)&&pe.set(fe[ye*2+Me],fe[ne-1-ye*2-Oe]),k.get(Ie+Ee*4+Ve+Oe)&&pe.set(fe[ne-1-ye*2-Oe],fe[ne-1-ye*2-Me]),k.get(Ie+Ee*6+Ve+Oe)&&pe.set(fe[ne-1-ye*2-Me],fe[ye*2+Oe])}Ie+=Ee*8}if(Cn.drawModeMessage(pe,o,ue,Y),o)Cn.drawBullsEye(pe,U.truncDivision(ue,2),5);else{Cn.drawBullsEye(pe,U.truncDivision(ue,2),7);for(let ye=0,Ie=0;ye<U.truncDivision(ne,2)-1;ye+=15,Ie+=16)for(let Ee=U.truncDivision(ue,2)&1;Ee<ue;Ee+=2)pe.set(U.truncDivision(ue,2)-Ie,Ee),pe.set(U.truncDivision(ue,2)+Ie,Ee),pe.set(Ee,U.truncDivision(ue,2)-Ie),pe.set(Ee,U.truncDivision(ue,2)+Ie)}let me=new Qa;return me.setCompact(o),me.setSize(ue),me.setLayers(f),me.setCodeWords(G),me.setMatrix(pe),me}static drawBullsEye(t,i,l){for(let c=0;c<l;c+=2)for(let h=i-c;h<=i+c;h++)t.set(h,i-c),t.set(h,i+c),t.set(i-c,h),t.set(i+c,h);t.set(i-l,i-l),t.set(i-l+1,i-l),t.set(i-l,i-l+1),t.set(i+l,i-l),t.set(i+l,i-l+1),t.set(i+l,i+l-1)}static generateModeMessage(t,i,l){let c=new K;return t?(c.appendBits(i-1,2),c.appendBits(l-1,6),c=Cn.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(l-1,11),c=Cn.generateCheckWords(c,40,4)),c}static drawModeMessage(t,i,l,c){let h=U.truncDivision(l,2);if(i)for(let y=0;y<7;y++){let o=h-3+y;c.get(y)&&t.set(o,h-5),c.get(y+7)&&t.set(h+5,o),c.get(20-y)&&t.set(o,h+5),c.get(27-y)&&t.set(h-5,o)}else for(let y=0;y<10;y++){let o=h-5+y+U.truncDivision(y,5);c.get(y)&&t.set(o,h-7),c.get(y+10)&&t.set(h+7,o),c.get(29-y)&&t.set(o,h+7),c.get(39-y)&&t.set(h-7,o)}}static generateCheckWords(t,i,l){let c=t.getSize()/l,h=new Pa(Cn.getGF(l)),y=U.truncDivision(i,l),o=Cn.bitsToWords(t,l,y);h.encode(o,y-c);let f=i%l,x=new K;x.appendBits(0,f);for(const b of Array.from(o))x.appendBits(b,l);return x}static bitsToWords(t,i,l){let c=new Int32Array(l),h,y;for(h=0,y=t.getSize()/i;h<y;h++){let o=0;for(let f=0;f<i;f++)o|=t.get(h*i+f)?1<<i-f-1:0;c[h]=o}return c}static getGF(t){switch(t){case 4:return Z.AZTEC_PARAM;case 6:return Z.AZTEC_DATA_6;case 8:return Z.AZTEC_DATA_8;case 10:return Z.AZTEC_DATA_10;case 12:return Z.AZTEC_DATA_12;default:throw new R("Unsupported word size "+t)}}static stuffBits(t,i){let l=new K,c=t.getSize(),h=(1<<i)-2;for(let y=0;y<c;y+=i){let o=0;for(let f=0;f<i;f++)(y+f>=c||t.get(y+f))&&(o|=1<<i-1-f);(o&h)===h?(l.appendBits(o&h,i),y--):(o&h)===0?(l.appendBits(o|1,i),y--):l.appendBits(o,i)}return l}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}Cn.DEFAULT_EC_PERCENT=33,Cn.DEFAULT_AZTEC_LAYERS=0,Cn.MAX_NB_BITS=32,Cn.MAX_NB_BITS_COMPACT=4,Cn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ki{encode(t,i,l,c){return this.encodeWithHints(t,i,l,c,null)}encodeWithHints(t,i,l,c,h){let y=fi.ISO_8859_1,o=Cn.DEFAULT_EC_PERCENT,f=Cn.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(gr.CHARACTER_SET)&&(y=Lo.forName(h.get(gr.CHARACTER_SET).toString())),h.has(gr.ERROR_CORRECTION)&&(o=U.parseInt(h.get(gr.ERROR_CORRECTION).toString())),h.has(gr.AZTEC_LAYERS)&&(f=U.parseInt(h.get(gr.AZTEC_LAYERS).toString()))),Ki.encodeLayers(t,i,l,c,y,o,f)}static encodeLayers(t,i,l,c,h,y,o){if(i!==Ne.AZTEC)throw new R("Can only encode AZTEC, but got "+i);let f=Cn.encode(ee.getBytes(t,h),y,o);return Ki.renderResult(f,l,c)}static renderResult(t,i,l){let c=t.getMatrix();if(c==null)throw new xe;let h=c.getWidth(),y=c.getHeight(),o=Math.max(i,h),f=Math.max(l,y),x=Math.min(o/h,f/y),b=(o-h*x)/2,B=(f-y*x)/2,k=new Ae(o,f);for(let G=0,Y=B;G<y;G++,Y+=x)for(let ne=0,fe=b;ne<h;ne++,fe+=x)c.get(ne,G)&&k.setRegion(fe,Y,x,x);return k}}s.AbstractExpandedDecoder=cn,s.ArgumentException=D,s.ArithmeticException=O,s.AztecCode=Qa,s.AztecCodeReader=pn,s.AztecCodeWriter=Ki,s.AztecDecoder=ft,s.AztecDetector=En,s.AztecDetectorResult=Et,s.AztecEncoder=Cn,s.AztecHighLevelEncoder=Ta,s.AztecPoint=qt,s.BarcodeFormat=Ne,s.Binarizer=V,s.BinaryBitmap=L,s.BitArray=K,s.BitMatrix=Ae,s.BitSource=tt,s.BrowserAztecCodeReader=Bn,s.BrowserBarcodeReader=Ma,s.BrowserCodeReader=Ze,s.BrowserDatamatrixCodeReader=gn,s.BrowserMultiFormatReader=Cs,s.BrowserPDF417Reader=ho,s.BrowserQRCodeReader=go,s.BrowserQRCodeSvgWriter=Va,s.CharacterSetECI=j,s.ChecksumException=_,s.Code128Reader=rt,s.Code39Reader=Vt,s.DataMatrixDecodedBitStreamParser=vt,s.DataMatrixReader=jn,s.DecodeHintType=M,s.DecoderResult=Q,s.DefaultGridSampler=on,s.DetectorResult=Mt,s.EAN13Reader=un,s.EncodeHintType=gr,s.Exception=C,s.FormatException=I,s.GenericGF=Z,s.GenericGFPoly=re,s.GlobalHistogramBinarizer=he,s.GridSampler=bn,s.GridSamplerInstance=rn,s.HTMLCanvasElementLuminanceSource=Le,s.HybridBinarizer=ve,s.ITFReader=we,s.IllegalArgumentException=R,s.IllegalStateException=xe,s.InvertedLuminanceSource=Ke,s.LuminanceSource=ke,s.MathUtils=Pe,s.MultiFormatOneDReader=jr,s.MultiFormatReader=As,s.MultiFormatWriter=bs,s.NotFoundException=oe,s.OneDReader=Ht,s.PDF417DecodedBitStreamParser=ze,s.PDF417DecoderErrorCorrection=xa,s.PDF417Reader=Or,s.PDF417ResultMetadata=Ua,s.PerspectiveTransform=jt,s.PlanarYUVLuminanceSource=la,s.QRCodeByteMatrix=ci,s.QRCodeDataMask=Cr,s.QRCodeDecodedBitStreamParser=er,s.QRCodeDecoderErrorCorrectionLevel=tn,s.QRCodeDecoderFormatInformation=Yn,s.QRCodeEncoder=Vn,s.QRCodeEncoderQRCode=Ja,s.QRCodeMaskUtil=pr,s.QRCodeMatrixUtil=Xt,s.QRCodeMode=zt,s.QRCodeReader=Sr,s.QRCodeVersion=Bt,s.QRCodeWriter=$a,s.RGBLuminanceSource=ws,s.RSS14Reader=Mn,s.RSSExpandedReader=ot,s.ReaderException=Fa,s.ReedSolomonDecoder=We,s.ReedSolomonEncoder=Pa,s.ReedSolomonException=be,s.Result=De,s.ResultMetadataType=gt,s.ResultPoint=Ye,s.StringUtils=ee,s.UnsupportedOperationException=ae,s.VideoInputDevice=Ce,s.WhiteRectangleDetector=Kt,s.WriterException=zn,s.ZXingArrays=F,s.ZXingCharset=Lo,s.ZXingInteger=U,s.ZXingStandardCharsets=fi,s.ZXingStringBuilder=se,s.ZXingStringEncoding=de,s.ZXingSystem=P,s.createAbstractExpandedDecoder=Xr,Object.defineProperty(s,"__esModule",{value:!0})}))})(vu,vu.exports)),vu.exports}var Er=mI();const xI=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Km=(function(){function a(r,s,d){if(this.formatMap=new Map([[Ot.QR_CODE,Er.BarcodeFormat.QR_CODE],[Ot.AZTEC,Er.BarcodeFormat.AZTEC],[Ot.CODABAR,Er.BarcodeFormat.CODABAR],[Ot.CODE_39,Er.BarcodeFormat.CODE_39],[Ot.CODE_93,Er.BarcodeFormat.CODE_93],[Ot.CODE_128,Er.BarcodeFormat.CODE_128],[Ot.DATA_MATRIX,Er.BarcodeFormat.DATA_MATRIX],[Ot.MAXICODE,Er.BarcodeFormat.MAXICODE],[Ot.ITF,Er.BarcodeFormat.ITF],[Ot.EAN_13,Er.BarcodeFormat.EAN_13],[Ot.EAN_8,Er.BarcodeFormat.EAN_8],[Ot.PDF_417,Er.BarcodeFormat.PDF_417],[Ot.RSS_14,Er.BarcodeFormat.RSS_14],[Ot.RSS_EXPANDED,Er.BarcodeFormat.RSS_EXPANDED],[Ot.UPC_A,Er.BarcodeFormat.UPC_A],[Ot.UPC_E,Er.BarcodeFormat.UPC_E],[Ot.UPC_EAN_EXTENSION,Er.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!xI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=d;var v=this.createZXingFormats(r),m=new Map;m.set(Er.DecodeHintType.POSSIBLE_FORMATS,v),m.set(Er.DecodeHintType.TRY_HARDER,!1),this.hints=m}return a.prototype.decodeAsync=function(r){var s=this;return new Promise(function(d,v){try{d(s.decode(r))}catch(m){v(m)}})},a.prototype.decode=function(r){var s=new Er.MultiFormatReader(this.verbose,this.hints),d=new Er.HTMLCanvasElementLuminanceSource(r),v=new Er.BinaryBitmap(new Er.HybridBinarizer(d)),m=s.decode(v);return{text:m.text,format:_x.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}},a.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,d,v){r.set(s,d)}),r},a.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},a.prototype.createZXingFormats=function(r){for(var s=[],d=0,v=r;d<v.length;d++){var m=v[d];this.formatMap.has(m)?s.push(this.formatMap.get(m)):this.logger.logError("".concat(m," is not supported by")+"ZXingHtml5QrcodeShim")}return s},a.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},a})(),vI=function(a,r,s,d){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(d.next(D))}catch(R){A(R)}}function E(D){try{C(d.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,E)}C((d=d.apply(a,r||[])).next())})},AI=function(a,r){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return E([C,D])}}function E(C){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(d=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=r.call(a,s)}catch(D){C=[6,D],v=0}finally{d=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},zm=(function(){function a(r,s,d){if(this.formatMap=new Map([[Ot.QR_CODE,"qr_code"],[Ot.AZTEC,"aztec"],[Ot.CODABAR,"codabar"],[Ot.CODE_39,"code_39"],[Ot.CODE_93,"code_93"],[Ot.CODE_128,"code_128"],[Ot.DATA_MATRIX,"data_matrix"],[Ot.ITF,"itf"],[Ot.EAN_13,"ean_13"],[Ot.EAN_8,"ean_8"],[Ot.PDF_417,"pdf417"],[Ot.UPC_A,"upc_a"],[Ot.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!a.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=d;var v=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(v),!this.detector)throw"BarcodeDetector detector not supported"}return a.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r<"u"},a.prototype.decodeAsync=function(r){return vI(this,void 0,void 0,function(){var s,d;return AI(this,function(v){switch(v.label){case 0:return[4,this.detector.detect(r)];case 1:if(s=v.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(s),[2,{text:d.rawValue,format:_x.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},a.prototype.selectLargestBarcode=function(r){for(var s=null,d=0,v=0,m=r;v<m.length;v++){var A=m[v],p=A.boundingBox.width*A.boundingBox.height;p>d&&(d=p,s=A)}if(!s)throw"No largest barcode found";return s},a.prototype.createBarcodeDetectorFormats=function(r){for(var s=[],d=0,v=r;d<v.length;d++){var m=v[d];this.formatMap.has(m)?s.push(this.formatMap.get(m)):this.logger.warn("".concat(m," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},a.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},a.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,d,v){r.set(s,d)}),r},a.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},a})(),Ym=function(a,r,s,d){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(d.next(D))}catch(R){A(R)}}function E(D){try{C(d.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,E)}C((d=d.apply(a,r||[])).next())})},qm=function(a,r){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return E([C,D])}}function E(C){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(d=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=r.call(a,s)}catch(D){C=[6,D],v=0}finally{d=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},CI=(function(){function a(r,s,d,v){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,s&&zm.isSupported()?(this.primaryDecoder=new zm(r,d,v),this.secondaryDecoder=new Km(r,d,v)):this.primaryDecoder=new Km(r,d,v)}return a.prototype.decodeAsync=function(r){return Ym(this,void 0,void 0,function(){var s;return qm(this,function(d){switch(d.label){case 0:s=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},a.prototype.decodeRobustlyAsync=function(r){return Ym(this,void 0,void 0,function(){var s,d;return qm(this,function(v){switch(v.label){case 0:s=performance.now(),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,v.sent()];case 3:if(d=v.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw d;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},a.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},a.prototype.possiblyLogPerformance=function(r){if(this.verbose){var s=performance.now()-r;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},a.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,s=0,d=this.executionResults;s<d.length;s++){var v=d[s];r+=v}var m=r/this.executionResults.length;console.log("".concat(m," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},a})(),e1=(function(){var a=function(r,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(d[m]=v[m])},a(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");a(r,s);function d(){this.constructor=r}r.prototype=s===null?Object.create(s):(d.prototype=s.prototype,new d)}})(),rf=function(a,r,s,d){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(d.next(D))}catch(R){A(R)}}function E(D){try{C(d.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,E)}C((d=d.apply(a,r||[])).next())})},af=function(a,r){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return E([C,D])}}function E(C){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(d=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=r.call(a,s)}catch(D){C=[6,D],v=0}finally{d=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Rx=(function(){function a(r,s){this.name=r,this.track=s}return a.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},a.prototype.apply=function(r){var s={};s[this.name]=r;var d={advanced:[s]};return this.track.applyConstraints(d)},a.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var s=r[this.name];return s}return null},a})(),bI=(function(a){e1(r,a);function r(s,d){return a.call(this,s,d)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(s){var d={};d[this.name]=s;var v={advanced:[d]};return this.track.applyConstraints(v)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),d=s[this.name];return{min:d.min,max:d.max,step:d.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r})(Rx),wI=(function(a){e1(r,a);function r(s){return a.call(this,"zoom",s)||this}return r})(bI),EI=(function(a){e1(r,a);function r(s){return a.call(this,"torch",s)||this}return r})(Rx),II=(function(){function a(r){this.track=r}return a.prototype.zoomFeature=function(){return new wI(this.track)},a.prototype.torchFeature=function(){return new EI(this.track)},a})(),SI=(function(){function a(r,s,d){this.isClosed=!1,this.parentElement=r,this.mediaStream=s,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return a.prototype.createVideoElement=function(r){var s=document.createElement("video");return s.style.width="".concat(r,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},a.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var d=r.surface.clientWidth,v=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(d,v),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},a.create=function(r,s,d,v){return rf(this,void 0,void 0,function(){var m,A;return af(this,function(p){switch(p.label){case 0:return m=new a(r,s,v),d.aspectRatio?(A={aspectRatio:d.aspectRatio},[4,m.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:p.sent(),p.label=2;case 2:return m.setupSurface(),[2,m]}})})},a.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},a.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},a.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},a.prototype.resume=function(r){this.failIfClosed();var s=this,d=function(){setTimeout(r,200),s.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},a.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},a.prototype.getSurface=function(){return this.failIfClosed(),this.surface},a.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},a.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},a.prototype.applyVideoConstraints=function(r){return rf(this,void 0,void 0,function(){return af(this,function(s){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},a.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(s,d){var v=r.mediaStream.getVideoTracks(),m=v.length,A=0;r.mediaStream.getVideoTracks().forEach(function(p){r.mediaStream.removeTrack(p),p.stop(),++A,A>=m&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),s())})})},a.prototype.getCapabilities=function(){return new II(this.getFirstTrackOrFail())},a})(),TI=(function(){function a(r){this.mediaStream=r}return a.prototype.render=function(r,s,d){return rf(this,void 0,void 0,function(){return af(this,function(v){return[2,SI.create(r,this.mediaStream,s,d)]})})},a.create=function(r){return rf(this,void 0,void 0,function(){var s,d;return af(this,function(v){switch(v.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return d=v.sent(),[2,new a(d)]}})})},a})(),Xm=function(a,r,s,d){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(d.next(D))}catch(R){A(R)}}function E(D){try{C(d.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,E)}C((d=d.apply(a,r||[])).next())})},Zm=function(a,r){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return E([C,D])}}function E(C){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(d=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=r.call(a,s)}catch(D){C=[6,D],v=0}finally{d=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},BI=(function(){function a(){}return a.failIfNotSupported=function(){return Xm(this,void 0,void 0,function(){return Zm(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new a]})})},a.prototype.create=function(r){return Xm(this,void 0,void 0,function(){return Zm(this,function(s){return[2,TI.create(r)]})})},a})(),NI=function(a,r,s,d){function v(m){return m instanceof s?m:new s(function(A){A(m)})}return new(s||(s=Promise))(function(m,A){function p(D){try{C(d.next(D))}catch(R){A(R)}}function E(D){try{C(d.throw(D))}catch(R){A(R)}}function C(D){D.done?m(D.value):v(D.value).then(p,E)}C((d=d.apply(a,r||[])).next())})},_I=function(a,r){var s={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(C){return function(D){return E([C,D])}}function E(C){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,C[0]&&(s=0)),s;)try{if(d=1,v&&(m=C[0]&2?v.return:C[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,C[1])).done)return m;switch(v=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,v=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(m=s.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){s.label=C[1];break}if(C[0]===6&&s.label<m[1]){s.label=m[1],m=C;break}if(m&&s.label<m[2]){s.label=m[2],s.ops.push(C);break}m[2]&&s.ops.pop(),s.trys.pop();continue}C=r.call(a,s)}catch(D){C=[6,D],v=0}finally{d=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},DI=(function(){function a(){}return a.retrieve=function(){if(navigator.mediaDevices)return a.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?a.getCamerasFromMediaStreamTrack():a.rejectWithError()},a.rejectWithError=function(){var r=hl.unableToQuerySupportedDevices();return a.isHttpsOrLocalhost()||(r=hl.insecureContextCameraQueryError()),Promise.reject(r)},a.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},a.getCamerasFromMediaDevices=function(){return NI(this,void 0,void 0,function(){var r,s,d,v,m,A,p;return _I(this,function(E){switch(E.label){case 0:return r=function(C){for(var D=C.getVideoTracks(),R=0,L=D;R<L.length;R++){var _=L[R];_.enabled=!1,_.stop(),C.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=E.sent(),v=[],m=0,A=d;m<A.length;m++)p=A[m],p.kind==="videoinput"&&v.push({id:p.deviceId,label:p.label});return r(s),[2,v]}})})},a.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,s){var d=function(m){for(var A=[],p=0,E=m;p<E.length;p++){var C=E[p];C.kind==="video"&&A.push({id:C.id,label:C.label})}r(A)},v=MediaStreamTrack;v.getSources(d)})},a})(),_r;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.NOT_STARTED=1]="NOT_STARTED",a[a.SCANNING=2]="SCANNING",a[a.PAUSED=3]="PAUSED"})(_r||(_r={}));var RI=(function(){function a(){this.state=_r.NOT_STARTED,this.onGoingTransactionNewState=_r.UNKNOWN}return a.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},a.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},a.prototype.execute=function(){if(this.onGoingTransactionNewState===_r.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=_r.UNKNOWN,this.directTransition(r)},a.prototype.cancel=function(){if(this.onGoingTransactionNewState===_r.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=_r.UNKNOWN},a.prototype.getState=function(){return this.state},a.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==_r.UNKNOWN)throw"Cannot transition to a new state, already under transition"},a.prototype.validateTransition=function(r){switch(this.state){case _r.UNKNOWN:throw"Transition from unknown is not allowed";case _r.NOT_STARTED:this.failIfNewStateIs(r,[_r.PAUSED]);break;case _r.SCANNING:break;case _r.PAUSED:break}},a.prototype.failIfNewStateIs=function(r,s){for(var d=0,v=s;d<v.length;d++){var m=v[d];if(r===m)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},a})(),OI=(function(){function a(r){this.stateManager=r}return a.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},a.prototype.directTransition=function(r){this.stateManager.directTransition(r)},a.prototype.getState=function(){return this.stateManager.getState()},a.prototype.canScanFile=function(){return this.stateManager.getState()===_r.NOT_STARTED},a.prototype.isScanning=function(){return this.stateManager.getState()!==_r.NOT_STARTED},a.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===_r.SCANNING},a.prototype.isPaused=function(){return this.stateManager.getState()===_r.PAUSED},a})(),kI=(function(){function a(){}return a.create=function(){return new OI(new RI)},a})(),MI=(function(){var a=function(r,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(d[m]=v[m])},a(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");a(r,s);function d(){this.constructor=r}r.prototype=s===null?Object.create(s):(d.prototype=s.prototype,new d)}})(),Za=(function(a){MI(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r})(hI),LI=(function(){function a(r,s){this.logger=s,this.fps=Za.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=Za.DEFAULT_DISABLE_FLIP}return a.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Dx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},a.prototype.isShadedBoxEnabled=function(){return!us(this.qrbox)},a.create=function(r,s){return new a(r,s)},a})(),Wm=(function(){function a(r,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var d;typeof s=="boolean"?this.verbose=s===!0:s&&(d=s,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new pI(this.verbose),this.qrcode=new CI(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=kI.create()}return a.prototype.start=function(r,s,d,v){var m=this;if(!r)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;v?A=v:A=this.verbose?this.logger.log:function(){};var p=LI.create(s,this.logger);this.clearElement();var E=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=E,D=document.getElementById(this.elementId);D.clientWidth?D.clientWidth:Za.DEFAULT_WIDTH,D.style.position="relative",this.shouldScan=!0,this.element=D;var R=this,L=this.stateManagerProxy.startTransition(_r.SCANNING);return new Promise(function(_,V){var P=C?p.videoConstraints:R.createVideoConstraints(r);if(!P){L.cancel(),V("videoConstraints should be defined");return}var H={};(!C||p.aspectRatio)&&(H.aspectRatio=p.aspectRatio);var T={onRenderSurfaceReady:function(F,U){R.setupUi(F,U,p),R.isScanning=!0,R.foreverScan(p,d,A)}};BI.failIfNotSupported().then(function(F){F.create(P).then(function(U){return U.render(m.element,H,T).then(function(K){R.renderedCamera=K,L.execute(),_(null)}).catch(function(K){L.cancel(),V(K)})}).catch(function(U){L.cancel(),V(hl.errorGettingUserMedia(U))})}).catch(function(F){L.cancel(),V(hl.cameraStreamingNotSupported())})})},a.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(_r.PAUSED),this.showPausedState(),(us(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},a.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,s=function(){r.stateManagerProxy.directTransition(_r.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},a.prototype.getState=function(){return this.stateManagerProxy.getState()},a.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(_r.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(r.element){var m=document.getElementById(Za.SHADED_REGION_ELEMENT_ID);m&&r.element.removeChild(m)}},v=this;return this.renderedCamera.close().then(function(){return v.renderedCamera=null,v.element&&(v.element.removeChild(v.canvasElement),v.canvasElement=null),d(),v.qrRegion&&(v.qrRegion=null),v.context&&(v.context=null),s.execute(),v.hidePausedState(),v.isScanning=!1,Promise.resolve()})},a.prototype.scanFile=function(r,s){return this.scanFileV2(r,s).then(function(d){return d.decodedText})},a.prototype.scanFileV2=function(r,s){var d=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(us(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(v,m){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(r);var A=new Image;A.onload=function(){var p=A.width,E=A.height,C=document.getElementById(d.elementId),D=C.clientWidth?C.clientWidth:Za.DEFAULT_WIDTH,R=Math.max(C.clientHeight?C.clientHeight:E,Za.FILE_SCAN_MIN_HEIGHT),L=d.computeCanvasDrawConfig(p,E,D,R);if(s){var _=d.createCanvasElement(D,R,"qr-canvas-visible");_.style.display="inline-block",C.appendChild(_);var V=_.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=D,V.canvas.height=R,V.drawImage(A,0,0,p,E,L.x,L.y,L.width,L.height)}var P=Za.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(A.width,L.width),T=Math.max(A.height,L.height),F=H+2*P,U=T+2*P,K=d.createCanvasElement(F,U);C.appendChild(K);var X=K.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=F,X.canvas.height=U,X.drawImage(A,0,0,p,E,P,P,H,T);try{d.qrcode.decodeRobustlyAsync(K).then(function(M){v(Gm.createFromQrcodeResult(M))}).catch(m)}catch(M){m("QR code parse error, error = ".concat(M))}},A.onerror=m,A.onabort=m,A.onstalled=m,A.onsuspend=m,A.src=URL.createObjectURL(r)})},a.prototype.clear=function(){this.clearElement()},a.getCameras=function(){return DI.retrieve()},a.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},a.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},a.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},a.prototype.applyVideoConstraints=function(r){if(r){if(!Dx.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},a.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},a.prototype.getSupportedFormats=function(r){var s=[Ot.QR_CODE,Ot.AZTEC,Ot.CODABAR,Ot.CODE_39,Ot.CODE_93,Ot.CODE_128,Ot.DATA_MATRIX,Ot.MAXICODE,Ot.ITF,Ot.EAN_13,Ot.EAN_8,Ot.PDF_417,Ot.RSS_14,Ot.RSS_EXPANDED,Ot.UPC_A,Ot.UPC_E,Ot.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return s;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],v=0,m=r.formatsToSupport;v<m.length;v++){var A=m[v];dI(A)?d.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},a.prototype.getUseBarCodeDetectorIfSupported=function(r){if(us(r))return!0;if(!us(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if(us(r.experimentalFeatures))return!0;var s=r.experimentalFeatures;return us(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},a.prototype.validateQrboxSize=function(r,s,d){var v=this,m=d.qrbox;this.validateQrboxConfig(m);var A=this.toQrdimensions(r,s,m),p=function(C){if(C<Za.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Za.MIN_QR_BOX_SIZE,"px.")},E=function(C){return C>r&&(v.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=r),C};p(A.width),p(A.height),A.width=E(A.width)},a.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},a.prototype.toQrdimensions=function(r,s,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(r,s)}catch(v){throw new Error("qrbox config was passed as a function but it failed with unknown error"+v)}return d},a.prototype.setupUi=function(r,s,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(r,s,d);var v=us(d.qrbox)?{width:r,height:s}:d.qrbox;this.validateQrboxConfig(v);var m=this.toQrdimensions(r,s,v);m.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=d.isShadedBoxEnabled()&&m.height<=s,p={x:0,y:0,width:r,height:s},E=A?this.getShadedRegionBounds(r,s,m):p,C=this.createCanvasElement(E.width,E.height),D={willReadFrequently:!0},R=C.getContext("2d",D);R.canvas.width=E.width,R.canvas.height=E.height,this.element.append(C),A&&this.possiblyInsertShadingElement(this.element,r,s,m),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=R,this.canvasElement=C},a.prototype.createScannerPausedUiElement=function(r){var s=document.createElement("div");s.innerText=hl.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",r.appendChild(s),this.scannerPausedUiElement=s},a.prototype.scanContext=function(r,s){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(v){return r(v.text,Gm.createFromQrcodeResult(v)),d.possiblyUpdateShaders(!0),!0}).catch(function(v){d.possiblyUpdateShaders(!1);var m=hl.codeParseError(v);return s(m,gI.createFrom(m)),!1})},a.prototype.foreverScan=function(r,s,d){var v=this;if(this.shouldScan&&this.renderedCamera){var m=this.renderedCamera.getSurface(),A=m.videoWidth/m.clientWidth,p=m.videoHeight/m.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*A,C=this.qrRegion.height*p,D=this.qrRegion.x*A,R=this.qrRegion.y*p;this.context.drawImage(m,D,R,E,C,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){v.foreverScanTimeout=setTimeout(function(){v.foreverScan(r,s,d)},v.getTimeoutFps(r.fps))};this.scanContext(s,d).then(function(_){!_&&r.disableFlip!==!0?(v.context.translate(v.context.canvas.width,0),v.context.scale(-1,1),v.scanContext(s,d).finally(function(){L()})):L()}).catch(function(_){v.logger.logError("Error happend while scanning context",_),L()})}},a.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var s="facingMode",d="deviceId",v={user:!0,environment:!0},m="exact",A=function(V){if(V in v)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(V,"'")},p=Object.keys(r);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var E=Object.keys(r)[0];if(E!==s&&E!==d)throw"Only '".concat(s,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(E===s){var C=r.facingMode;if(typeof C=="string"){if(A(C))return{facingMode:C}}else if(typeof C=="object")if(m in C){if(A(C["".concat(m)]))return{facingMode:{exact:C["".concat(m)]}}}else throw"'facingMode' should be string or object with"+" ".concat(m," as key.");else{var D=typeof C;throw"Invalid type of 'facingMode' = ".concat(D)}}else{var R=r.deviceId;if(typeof R=="string")return{deviceId:R};if(typeof R=="object"){if(m in R)return{deviceId:{exact:R["".concat(m)]}};throw"'deviceId' should be string or object with"+" ".concat(m," as key.")}else{var L=typeof R;throw"Invalid type of 'deviceId' = ".concat(L)}}}var _=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},a.prototype.computeCanvasDrawConfig=function(r,s,d,v){if(r<=d&&s<=v){var m=(d-r)/2,A=(v-s)/2;return{x:m,y:A,width:r,height:s}}else{var p=r,E=s;return r>d&&(s=d/r*s,r=d),s>v&&(r=v/s*r,s=v),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(E)+" to ".concat(r,"X").concat(s,".")),this.computeCanvasDrawConfig(r,s,d,v)}},a.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},a.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=r?Za.BORDER_SHADER_MATCH_COLOR:Za.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},a.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},a.prototype.createCanvasElement=function(r,s,d){var v=r,m=s,A=document.createElement("canvas");return A.style.width="".concat(v,"px"),A.style.height="".concat(m,"px"),A.style.display="none",A.id=us(d)?"qr-canvas":d,A},a.prototype.getShadedRegionBounds=function(r,s,d){if(d.width>r||d.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-d.width)/2,y:(s-d.height)/2,width:d.width,height:d.height}},a.prototype.possiblyInsertShadingElement=function(r,s,d,v){if(!(s-v.width<1||d-v.height<1)){var m=document.createElement("div");m.style.position="absolute";var A=(s-v.width)/2,p=(d-v.height)/2;if(m.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),m.style.boxSizing="border-box",m.style.top="0px",m.style.bottom="0px",m.style.left="0px",m.style.right="0px",m.id="".concat(Za.SHADED_REGION_ELEMENT_ID),s-v.width<11||d-v.height<11)this.hasBorderShaders=!1;else{var E=5,C=40;this.insertShaderBorders(m,C,E,-E,null,0,!0),this.insertShaderBorders(m,C,E,-E,null,0,!1),this.insertShaderBorders(m,C,E,null,-E,0,!0),this.insertShaderBorders(m,C,E,null,-E,0,!1),this.insertShaderBorders(m,E,C+E,-E,null,-E,!0),this.insertShaderBorders(m,E,C+E,null,-E,-E,!0),this.insertShaderBorders(m,E,C+E,-E,null,-E,!1),this.insertShaderBorders(m,E,C+E,null,-E,-E,!1),this.hasBorderShaders=!0}r.append(m)}},a.prototype.insertShaderBorders=function(r,s,d,v,m,A,p){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=Za.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(s,"px"),E.style.height="".concat(d,"px"),v!==null&&(E.style.top="".concat(v,"px")),m!==null&&(E.style.bottom="".concat(m,"px")),p?E.style.left="".concat(A,"px"):E.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),r.appendChild(E)},a.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},a.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},a.prototype.getTimeoutFps=function(r){return 1e3/r},a})(),Jm;(function(a){a[a.STATUS_DEFAULT=0]="STATUS_DEFAULT",a[a.STATUS_SUCCESS=1]="STATUS_SUCCESS",a[a.STATUS_WARNING=2]="STATUS_WARNING",a[a.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Jm||(Jm={}));function UI(){const{dek:a}=Sl(),[r,s]=ie.useState([]),[d,v]=ie.useState([]),[m,A]=ie.useState(""),[p,E]=ie.useState(null),[C,D]=ie.useState(!1),[R,L]=ie.useState(Date.now()),[_,V]=ie.useState(!1),[P,H]=ie.useState(!1),[T,F]=ie.useState(!1),[U,K]=ie.useState(null),[X,M]=ie.useState(null),[I,w]=ie.useState(""),[j,ae]=ie.useState(""),[de,ee]=ie.useState(6),[se,Ae]=ie.useState(30),[oe,he]=ie.useState("SHA1"),[ve,ke]=ie.useState([]),[Ke,Le]=ie.useState(""),[Ce,Te]=ie.useState(!1),[Ze,De]=ie.useState(null),[et,Ne]=ie.useState(!1),[bt,gt]=ie.useState(!1),[Q,W]=ie.useState(""),re=ie.useRef(0),O=ie.useRef(null),Z=ie.useRef(null),[be,xe]=ie.useState(!1),[We,ht]=ie.useState(!1);ie.useEffect(()=>{Ye(),Mt();const Se=setInterval(()=>{L(Date.now())},1e3);return()=>clearInterval(Se)},[a]),ie.useEffect(()=>{if(P){const Se=new Wm("reader");O.current=Se;const Je={fps:10,qrbox:{width:250,height:250},aspectRatio:window.innerWidth/window.innerHeight};return Se.start({facingMode:"environment"},Je,st=>{pn(st),ft()},st=>{}).then(()=>{try{const st=Se.getRunningTrackCameraCapabilities();st&&(st.torchFeature||st.torch)&&xe(!0)}catch(st){console.warn("Flash check failed",st)}}).catch(st=>{console.error("Error starting scanner",st),Et("")}),()=>{O.current&&O.current.isScanning&&(O.current.stop().catch(console.error),O.current.clear())}}},[P]);const ft=async()=>{if(O.current)try{O.current.isScanning&&await O.current.stop(),O.current.clear()}catch(Se){console.error("Failed to stop scanner",Se)}H(!1),xe(!1),ht(!1)},Pe=async()=>{if(O.current&&be)try{await O.current.applyVideoConstraints({advanced:[{torch:!We}]}),ht(!We)}catch(Se){console.error("Failed to toggle flash",Se),Et("")}},pt=async Se=>{if(Se.target.files&&Se.target.files.length>0){const Je=Se.target.files[0],st=new Wm("temp-reader");try{const $e=await st.scanFile(Je,!1);pn($e),ft()}catch($e){console.error("File scan error",$e),Et("")}finally{try{st.clear()}catch{}Z.current&&(Z.current.value="")}}},Ye=async()=>{if(!a)return;const Je=(await At.totps.toArray()).filter($e=>$e.delFlag!==1),st=await Promise.all(Je.map(async $e=>{const Dt=await ds(a,$e.secret);return{...$e,decryptedSecret:Dt,code:"",progress:0}}));s(st.sort(($e,Dt)=>$e.favorite!==Dt.favorite?$e.favorite?-1:1:Dt.rank-$e.rank))},Mt=async()=>{const Se=await At.tags.toArray();v(Se.sort((Je,st)=>(Je.rank||0)-(st.rank||0)))};ie.useEffect(()=>{const Se=r.map(Je=>{try{const $e=new Lr({issuer:Je.name,label:Je.name,algorithm:Je.algorithm,digits:Je.digits,period:Je.period,secret:ki.fromBase32(Je.decryptedSecret)}).generate(),Dt=Date.now()%(Je.period*1e3)/(Je.period*1e3)*100;return{...Je,code:$e,progress:Dt}}catch{return{...Je,code:"ERROR",progress:0}}});s(Se)},[R]);const Et=Se=>{Le(Se),Te(!0)},Kt=async Se=>{if(Se!=="ERROR")try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(Se),Et("");else{const Je=document.createElement("textarea");Je.value=Se,Je.style.position="fixed",Je.style.left="-999999px",Je.style.top="-999999px",document.body.appendChild(Je),Je.focus(),Je.select();try{document.execCommand("copy"),Et("")}catch(st){console.error("Fallback: Oops, unable to copy",st),Et("")}document.body.removeChild(Je)}}catch(Je){console.error("Failed to copy: ",Je),Et("")}},bn=()=>{M(null),w(""),ae(""),ee(6),Ae(30),he("SHA1"),ke([])},jt=async()=>{if(!(!a||!I||!j))try{const Se=await li(a,j.replace(/\s+/g,"").toUpperCase());X?(await At.totps.update(X,{name:I,secret:Se,digits:de,period:se,algorithm:oe,labels:ve,time:Date.now()}),Et("")):(await At.totps.put({id:_o(),name:I,secret:Se,digits:de,period:se,algorithm:oe,labels:ve,favorite:!1,rank:Date.now(),time:Date.now(),delFlag:0}),Et("")),Ye(),V(!1),bn()}catch(Se){console.error("",Se),Et("")}},on=async Se=>{await At.totps.update(Se.id,{favorite:!Se.favorite,time:Date.now()}),Ye()},rn=async()=>{U&&(await At.totps.update(U,{delFlag:1,time:Date.now()}),await Ye(),Et(""),F(!1),K(null),De(null))},qt=Se=>{K(Se),F(!0),De(null)},En=Se=>{M(Se.id),w(Se.name),ae(Se.decryptedSecret),ee(Se.digits),Ae(Se.period),he(Se.algorithm),ke(Se.labels||[]),V(!0),De(null)},pn=Se=>{try{const Je=Se.trim(),st=fI.parse(Je);st instanceof Lr?(w(st.issuer?`${st.issuer} (${st.label})`:st.label),ae(st.secret.base32),ee(st.digits),Ae(st.period),he(st.algorithm),ke([]),H(!1),V(!0)):Et("")}catch{Et("MFA")}},Bn=async(Se,Je)=>{const st=Se.rank,$e=Je.rank;await At.totps.update(Se.id,{rank:$e,time:Date.now()}),await At.totps.update(Je.id,{rank:st,time:Date.now()}),Ye()},Ht=ie.useRef(null),rt=Se=>{if(et)return;const Je="touches"in Se?Se.touches[0].clientY:Se.clientY;re.current=Je,Ht.current=setTimeout(()=>{var st;Ne(!0),(st=navigator.vibrate)==null||st.call(navigator,50)},600)},Vt=Se=>{if(!Ht.current)return;const Je="touches"in Se?Se.touches[0].clientY:Se.clientY;Math.abs(Je-re.current)>10&&(clearTimeout(Ht.current),Ht.current=null)},we=()=>{Ht.current&&(clearTimeout(Ht.current),Ht.current=null)};return P?q.jsxs("div",{className:"fixed inset-0 bg-black z-[100] flex flex-col",children:[q.jsx("div",{id:"temp-reader",className:"hidden"}),q.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 flex items-center p-4 bg-gradient-to-b from-black/80 to-transparent text-white",children:[q.jsx("button",{onClick:ft,className:"p-2 -ml-2 text-white/90 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:q.jsx(Z2,{className:"w-6 h-6"})}),q.jsx("h1",{className:"text-lg font-medium ml-2",children:"MFA"}),q.jsx("div",{className:"ml-auto flex gap-2",children:be&&q.jsx("button",{onClick:Pe,className:ga("p-2 rounded-full transition-colors",We?"text-yellow-400 bg-white/20":"text-white/90 hover:bg-white/10"),children:q.jsx(dE,{className:ga("w-6 h-6",We&&"fill-current")})})})]}),q.jsxs("div",{className:"flex-1 relative bg-black flex flex-col justify-center overflow-hidden",children:[q.jsx("div",{id:"reader",className:"w-full h-full [&_video]:object-cover [&_video]:h-full [&_video]:w-full"}),q.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:q.jsxs("div",{className:"w-64 h-64 border-2 border-white/50 rounded-3xl relative",children:[q.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-indigo-500 rounded-tl-xl -mt-1 -ml-1"}),q.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-indigo-500 rounded-tr-xl -mt-1 -mr-1"}),q.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-indigo-500 rounded-bl-xl -mb-1 -ml-1"}),q.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-indigo-500 rounded-br-xl -mb-1 -mr-1"}),q.jsx("div",{className:"absolute inset-0 bg-indigo-500/10 animate-pulse rounded-2xl"})]})}),q.jsx("style",{children:`
            #reader {
              border: none !important;
            }
            #reader__scan_region {
              background: transparent !important;
            }
            /* Hide all default controls as we use custom ones */
            #reader__dashboard_section_csr, 
            #reader__dashboard_section_swaplink,
            #reader__status_span {
              display: none !important;
            }
          `})]}),q.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-20 p-6 bg-gradient-to-t from-black/90 via-black/60 to-transparent pt-12 flex gap-4",children:[q.jsx("input",{type:"file",accept:"image/*",ref:Z,className:"hidden",onChange:pt}),q.jsxs("button",{onClick:()=>{var Se;return(Se=Z.current)==null?void 0:Se.click()},className:"flex-1 py-3.5 bg-white/10 backdrop-blur-md text-white rounded-xl font-medium border border-white/20 hover:bg-white/20 transition-colors flex items-center justify-center gap-2 active:scale-[0.98]",children:[q.jsx(Uw,{className:"w-5 h-5"}),""]}),q.jsxs("button",{onClick:()=>{ft(),bn(),V(!0)},className:"flex-1 py-3.5 bg-white/10 backdrop-blur-md text-white rounded-xl font-medium border border-white/20 hover:bg-white/20 transition-colors flex items-center justify-center gap-2 active:scale-[0.98]",children:[q.jsx(bm,{className:"w-5 h-5"}),""]})]}),q.jsx(io,{message:Ke,visible:Ce,onClose:()=>Te(!1)})]}):q.jsxs("div",{className:"pb-20",onClick:()=>De(null),children:[q.jsxs("div",{className:"sticky top-0 bg-gray-50 pt-4 pb-2 z-10",children:[q.jsxs("div",{className:"flex items-center justify-between mb-4",children:[q.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MFA"}),q.jsxs("div",{className:"flex items-center gap-2",children:[et&&q.jsx("button",{onClick:()=>Ne(!1),className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-full text-sm font-medium",children:""}),q.jsxs("div",{className:"relative z-50",children:[q.jsx("button",{onClick:Se=>{Se.stopPropagation(),D(!C)},className:"p-2 bg-indigo-600 text-white rounded-full shadow-sm hover:bg-indigo-700 transition-colors",children:q.jsx(bh,{className:"w-5 h-5"})}),C&&q.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-xl shadow-lg border border-gray-100 py-2",children:[q.jsxs("button",{onClick:Se=>{Se.stopPropagation(),D(!1),H(!0)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[q.jsx(Yw,{className:"w-4 h-4"})," "]}),q.jsxs("button",{onClick:Se=>{Se.stopPropagation(),D(!1),bn(),V(!0)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[q.jsx(bm,{className:"w-4 h-4"})," "]})]})]})]})]}),q.jsxs("div",{className:"relative",children:[q.jsx(wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),q.jsx("input",{type:"text",placeholder:"...",value:m,onChange:Se=>A(Se.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]}),d.length>0&&q.jsxs("div",{className:"flex gap-2 mt-3 overflow-x-auto pb-1 scrollbar-hide",children:[q.jsx("button",{onClick:()=>E(null),className:ga("px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors",p===null?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"),children:""}),d.map(Se=>q.jsx("button",{onClick:()=>E(Se.label),className:ga("px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-colors",p===Se.label?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"),children:Se.label},Se.id))]})]}),q.jsxs("div",{className:"space-y-3 mt-4",children:[r.filter(Se=>{var Je,st;return(Se.name.includes(m)||((Je=Se.labels)==null?void 0:Je.some($e=>$e.includes(m))))&&(!p||((st=Se.labels)==null?void 0:st.includes(p)))}).map((Se,Je)=>q.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-hidden active:scale-[0.99] transition-transform",onClick:()=>!et&&Kt(Se.code),onTouchStart:rt,onTouchMove:Vt,onTouchEnd:we,onMouseDown:rt,onMouseMove:Vt,onMouseUp:we,onMouseLeave:we,onContextMenu:st=>{st.preventDefault()},children:[q.jsxs("div",{className:"flex justify-between items-start mb-2",children:[q.jsxs("div",{className:"flex flex-col gap-1",children:[q.jsx("h3",{className:"font-medium text-gray-900",children:Se.name}),Se.labels&&Se.labels.length>0&&q.jsx("div",{className:"flex flex-wrap gap-1",children:Se.labels.map(st=>q.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full",children:st},st))})]}),et?q.jsxs("div",{className:"flex items-center gap-1",children:[q.jsx("button",{onClick:st=>{st.stopPropagation(),Je>0&&Bn(Se,r[Je-1])},disabled:Je===0,className:"p-1.5 text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:q.jsx(gw,{className:"w-5 h-5"})}),q.jsx("button",{onClick:st=>{st.stopPropagation(),Je<r.length-1&&Bn(Se,r[Je+1])},disabled:Je===r.length-1,className:"p-1.5 text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:q.jsx(fw,{className:"w-5 h-5"})})]}):q.jsxs("div",{className:"flex items-center gap-1",children:[q.jsx("button",{onClick:st=>{st.stopPropagation(),on(Se)},className:ga("p-1.5 rounded-full transition-colors",Se.favorite?"text-yellow-500":"text-gray-300 hover:text-gray-400"),children:q.jsx(tx,{className:ga("w-5 h-5",Se.favorite&&"fill-current")})}),q.jsxs("div",{className:"relative",children:[q.jsx("button",{onClick:st=>{st.stopPropagation(),De(Ze===Se.id?null:Se.id)},className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-full",children:q.jsx(Bw,{className:"w-5 h-5"})}),Ze===Se.id&&q.jsxs("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-xl shadow-lg border border-gray-100 py-1 z-50",children:[q.jsxs("button",{onClick:st=>{st.stopPropagation(),En(Se)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[q.jsx(ex,{className:"w-4 h-4"})," "]}),q.jsxs("button",{onClick:st=>{st.stopPropagation(),qt(Se.id)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[q.jsx(mf,{className:"w-4 h-4"})," "]})]})]})]})]}),q.jsxs("div",{className:"flex items-center justify-between mt-2",children:[q.jsx("span",{className:ga("text-3xl font-mono tracking-widest font-bold",Se.code==="ERROR"?"text-red-500 text-xl":"text-indigo-600"),children:Se.code==="ERROR"?"":`${Se.code.slice(0,3)} ${Se.code.slice(3)}`}),!et&&q.jsx("button",{onClick:st=>{st.stopPropagation(),Kt(Se.code)},className:"p-2 text-gray-400 hover:text-indigo-600 bg-gray-50 rounded-lg transition-colors",children:q.jsx(W2,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"mt-3 text-[10px] text-gray-400",children:[": ",new Date(Se.time).toLocaleString()]}),q.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-100 w-full",children:q.jsx("div",{className:ga("h-full transition-all duration-1000 ease-linear",Se.progress>80?"bg-red-500":"bg-indigo-500"),style:{width:`${100-Se.progress}%`}})})]},Se.id)),r.length===0&&q.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:" MFA "})]}),q.jsx(pa,{isOpen:_,onClose:()=>V(!1),title:X?" MFA":" MFA",children:q.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto px-1 pb-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"text",value:I,onChange:Se=>w(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:": Google, GitHub"})]}),!X&&q.jsxs(q.Fragment,{children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Base32)"}),q.jsx("input",{type:"text",value:j,onChange:Se=>ae(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm uppercase",placeholder:"JBSWY3DPEHPK3PXP"})]}),q.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsxs("select",{value:de,onChange:Se=>ee(Number(Se.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[q.jsx("option",{value:6,children:"6"}),q.jsx("option",{value:8,children:"8"})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),q.jsx("input",{type:"number",value:se,onChange:Se=>Ae(Number(Se.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsxs("select",{value:oe,onChange:Se=>he(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[q.jsx("option",{value:"SHA1",children:"SHA1"}),q.jsx("option",{value:"SHA256",children:"SHA256"}),q.jsx("option",{value:"SHA512",children:"SHA512"})]})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ve.map(Se=>q.jsxs("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-600 rounded-lg text-sm flex items-center gap-1",children:[Se,q.jsx("button",{onClick:()=>ke(ve.filter(Je=>Je!==Se)),className:"hover:text-indigo-800",children:q.jsx(Su,{className:"w-3 h-3"})})]},Se))}),bt?q.jsxs("div",{className:"flex gap-2",children:[q.jsx("input",{type:"text",value:Q,onChange:Se=>W(Se.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"",autoFocus:!0}),q.jsx("button",{onClick:Se=>{Se.preventDefault();const Je=Q.trim();Je&&!ve.includes(Je)&&(ke([...ve,Je]),At.tags.put({label:Je,time:Date.now(),rank:Date.now()}),Mt()),gt(!1),W("")},className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700",children:""}),q.jsx("button",{onClick:Se=>{Se.preventDefault(),gt(!1),W("")},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200",children:""})]}):q.jsxs("div",{className:"flex gap-2",children:[q.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",onChange:Se=>{Se.target.value&&!ve.includes(Se.target.value)&&ke([...ve,Se.target.value]),Se.target.value=""},children:[q.jsx("option",{value:"",children:"..."}),d.filter(Se=>!ve.includes(Se.label)).map(Se=>q.jsx("option",{value:Se.label,children:Se.label},Se.id))]}),q.jsx("button",{onClick:Se=>{Se.preventDefault(),gt(!0)},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm whitespace-nowrap hover:bg-gray-200",children:""})]})]}),q.jsx("button",{onClick:jt,disabled:!I||!X&&!j,className:"w-full py-3 mt-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})}),q.jsxs(pa,{isOpen:T,onClose:()=>F(!1),title:"",children:[q.jsx("div",{className:"py-4 text-center text-gray-700",children:" MFA "}),q.jsxs("div",{className:"flex gap-3 mt-4",children:[q.jsx("button",{onClick:()=>F(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),q.jsx("button",{onClick:rn,className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:""})]})]}),q.jsx(io,{message:Ke,visible:Ce,onClose:()=>Te(!1)})]})}function FI(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return ie.useMemo(()=>d=>{r.forEach(v=>v(d))},r)}const vf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bl(a){const r=Object.prototype.toString.call(a);return r==="[object Window]"||r==="[object global]"}function t1(a){return"nodeType"in a}function ka(a){var r,s;return a?Bl(a)?a:t1(a)&&(r=(s=a.ownerDocument)==null?void 0:s.defaultView)!=null?r:window:window}function n1(a){const{Document:r}=ka(a);return a instanceof r}function ku(a){return Bl(a)?!1:a instanceof ka(a).HTMLElement}function Ox(a){return a instanceof ka(a).SVGElement}function Nl(a){return a?Bl(a)?a.document:t1(a)?n1(a)?a:ku(a)||Ox(a)?a.ownerDocument:document:document:document}const Ui=vf?ie.useLayoutEffect:ie.useEffect;function r1(a){const r=ie.useRef(a);return Ui(()=>{r.current=a}),ie.useCallback(function(){for(var s=arguments.length,d=new Array(s),v=0;v<s;v++)d[v]=arguments[v];return r.current==null?void 0:r.current(...d)},[])}function PI(){const a=ie.useRef(null),r=ie.useCallback((d,v)=>{a.current=setInterval(d,v)},[]),s=ie.useCallback(()=>{a.current!==null&&(clearInterval(a.current),a.current=null)},[]);return[r,s]}function Tu(a,r){r===void 0&&(r=[a]);const s=ie.useRef(a);return Ui(()=>{s.current!==a&&(s.current=a)},r),s}function Mu(a,r){const s=ie.useRef();return ie.useMemo(()=>{const d=a(s.current);return s.current=d,d},[...r])}function sf(a){const r=r1(a),s=ie.useRef(null),d=ie.useCallback(v=>{v!==s.current&&(r==null||r(v,s.current)),s.current=v},[]);return[s,d]}function Bh(a){const r=ie.useRef();return ie.useEffect(()=>{r.current=a},[a]),r.current}let fh={};function Lu(a,r){return ie.useMemo(()=>{if(r)return r;const s=fh[a]==null?0:fh[a]+1;return fh[a]=s,a+"-"+s},[a,r])}function kx(a){return function(r){for(var s=arguments.length,d=new Array(s>1?s-1:0),v=1;v<s;v++)d[v-1]=arguments[v];return d.reduce((m,A)=>{const p=Object.entries(A);for(const[E,C]of p){const D=m[E];D!=null&&(m[E]=D+a*C)}return m},{...r})}}const yl=kx(1),Bu=kx(-1);function VI(a){return"clientX"in a&&"clientY"in a}function a1(a){if(!a)return!1;const{KeyboardEvent:r}=ka(a.target);return r&&a instanceof r}function QI(a){if(!a)return!1;const{TouchEvent:r}=ka(a.target);return r&&a instanceof r}function Nh(a){if(QI(a)){if(a.touches&&a.touches.length){const{clientX:r,clientY:s}=a.touches[0];return{x:r,y:s}}else if(a.changedTouches&&a.changedTouches.length){const{clientX:r,clientY:s}=a.changedTouches[0];return{x:r,y:s}}}return VI(a)?{x:a.clientX,y:a.clientY}:null}const Cl=Object.freeze({Translate:{toString(a){if(!a)return;const{x:r,y:s}=a;return"translate3d("+(r?Math.round(r):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;const{scaleX:r,scaleY:s}=a;return"scaleX("+r+") scaleY("+s+")"}},Transform:{toString(a){if(a)return[Cl.Translate.toString(a),Cl.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:r,duration:s,easing:d}=a;return r+" "+s+"ms "+d}}}),$m="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function HI(a){return a.matches($m)?a:a.querySelector($m)}const GI={display:"none"};function jI(a){let{id:r,value:s}=a;return Oa.createElement("div",{id:r,style:GI},s)}function KI(a){let{id:r,announcement:s,ariaLiveType:d="assertive"}=a;const v={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Oa.createElement("div",{id:r,style:v,role:"status","aria-live":d,"aria-atomic":!0},s)}function zI(){const[a,r]=ie.useState("");return{announce:ie.useCallback(d=>{d!=null&&r(d)},[]),announcement:a}}const Mx=ie.createContext(null);function YI(a){const r=ie.useContext(Mx);ie.useEffect(()=>{if(!r)throw new Error("useDndMonitor must be used within a children of <DndContext>");return r(a)},[a,r])}function qI(){const[a]=ie.useState(()=>new Set),r=ie.useCallback(d=>(a.add(d),()=>a.delete(d)),[a]);return[ie.useCallback(d=>{let{type:v,event:m}=d;a.forEach(A=>{var p;return(p=A[v])==null?void 0:p.call(A,m)})},[a]),r]}const XI={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ZI={onDragStart(a){let{active:r}=a;return"Picked up draggable item "+r.id+"."},onDragOver(a){let{active:r,over:s}=a;return s?"Draggable item "+r.id+" was moved over droppable area "+s.id+".":"Draggable item "+r.id+" is no longer over a droppable area."},onDragEnd(a){let{active:r,over:s}=a;return s?"Draggable item "+r.id+" was dropped over droppable area "+s.id:"Draggable item "+r.id+" was dropped."},onDragCancel(a){let{active:r}=a;return"Dragging was cancelled. Draggable item "+r.id+" was dropped."}};function WI(a){let{announcements:r=ZI,container:s,hiddenTextDescribedById:d,screenReaderInstructions:v=XI}=a;const{announce:m,announcement:A}=zI(),p=Lu("DndLiveRegion"),[E,C]=ie.useState(!1);if(ie.useEffect(()=>{C(!0)},[]),YI(ie.useMemo(()=>({onDragStart(R){let{active:L}=R;m(r.onDragStart({active:L}))},onDragMove(R){let{active:L,over:_}=R;r.onDragMove&&m(r.onDragMove({active:L,over:_}))},onDragOver(R){let{active:L,over:_}=R;m(r.onDragOver({active:L,over:_}))},onDragEnd(R){let{active:L,over:_}=R;m(r.onDragEnd({active:L,over:_}))},onDragCancel(R){let{active:L,over:_}=R;m(r.onDragCancel({active:L,over:_}))}}),[m,r])),!E)return null;const D=Oa.createElement(Oa.Fragment,null,Oa.createElement(jI,{id:d,value:v.draggable}),Oa.createElement(KI,{id:p,announcement:A}));return s?mu.createPortal(D,s):D}var qr;(function(a){a.DragStart="dragStart",a.DragMove="dragMove",a.DragEnd="dragEnd",a.DragCancel="dragCancel",a.DragOver="dragOver",a.RegisterDroppable="registerDroppable",a.SetDroppableDisabled="setDroppableDisabled",a.UnregisterDroppable="unregisterDroppable"})(qr||(qr={}));function of(){}function ml(a,r){return ie.useMemo(()=>({sensor:a,options:r??{}}),[a,r])}function Lx(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return ie.useMemo(()=>[...r].filter(d=>d!=null),[...r])}const xi=Object.freeze({x:0,y:0});function Ux(a,r){return Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2))}function Fx(a,r){let{data:{value:s}}=a,{data:{value:d}}=r;return s-d}function JI(a,r){let{data:{value:s}}=a,{data:{value:d}}=r;return d-s}function e2(a){let{left:r,top:s,height:d,width:v}=a;return[{x:r,y:s},{x:r+v,y:s},{x:r,y:s+d},{x:r+v,y:s+d}]}function Px(a,r){if(!a||a.length===0)return null;const[s]=a;return s[r]}function t2(a,r,s){return r===void 0&&(r=a.left),s===void 0&&(s=a.top),{x:r+a.width*.5,y:s+a.height*.5}}const Vx=a=>{let{collisionRect:r,droppableRects:s,droppableContainers:d}=a;const v=t2(r,r.left,r.top),m=[];for(const A of d){const{id:p}=A,E=s.get(p);if(E){const C=Ux(t2(E),v);m.push({id:p,data:{droppableContainer:A,value:C}})}}return m.sort(Fx)},$I=a=>{let{collisionRect:r,droppableRects:s,droppableContainers:d}=a;const v=e2(r),m=[];for(const A of d){const{id:p}=A,E=s.get(p);if(E){const C=e2(E),D=v.reduce((L,_,V)=>L+Ux(C[V],_),0),R=Number((D/4).toFixed(4));m.push({id:p,data:{droppableContainer:A,value:R}})}}return m.sort(Fx)};function eS(a,r){const s=Math.max(r.top,a.top),d=Math.max(r.left,a.left),v=Math.min(r.left+r.width,a.left+a.width),m=Math.min(r.top+r.height,a.top+a.height),A=v-d,p=m-s;if(d<v&&s<m){const E=r.width*r.height,C=a.width*a.height,D=A*p,R=D/(E+C-D);return Number(R.toFixed(4))}return 0}const tS=a=>{let{collisionRect:r,droppableRects:s,droppableContainers:d}=a;const v=[];for(const m of d){const{id:A}=m,p=s.get(A);if(p){const E=eS(p,r);E>0&&v.push({id:A,data:{droppableContainer:m,value:E}})}}return v.sort(JI)};function nS(a,r,s){return{...a,scaleX:r&&s?r.width/s.width:1,scaleY:r&&s?r.height/s.height:1}}function Qx(a,r){return a&&r?{x:a.left-r.left,y:a.top-r.top}:xi}function rS(a){return function(s){for(var d=arguments.length,v=new Array(d>1?d-1:0),m=1;m<d;m++)v[m-1]=arguments[m];return v.reduce((A,p)=>({...A,top:A.top+a*p.y,bottom:A.bottom+a*p.y,left:A.left+a*p.x,right:A.right+a*p.x}),{...s})}}const aS=rS(1);function iS(a){if(a.startsWith("matrix3d(")){const r=a.slice(9,-1).split(/, /);return{x:+r[12],y:+r[13],scaleX:+r[0],scaleY:+r[5]}}else if(a.startsWith("matrix(")){const r=a.slice(7,-1).split(/, /);return{x:+r[4],y:+r[5],scaleX:+r[0],scaleY:+r[3]}}return null}function sS(a,r,s){const d=iS(r);if(!d)return a;const{scaleX:v,scaleY:m,x:A,y:p}=d,E=a.left-A-(1-v)*parseFloat(s),C=a.top-p-(1-m)*parseFloat(s.slice(s.indexOf(" ")+1)),D=v?a.width/v:a.width,R=m?a.height/m:a.height;return{width:D,height:R,top:C,right:E+D,bottom:C+R,left:E}}const oS={ignoreTransform:!1};function _l(a,r){r===void 0&&(r=oS);let s=a.getBoundingClientRect();if(r.ignoreTransform){const{transform:C,transformOrigin:D}=ka(a).getComputedStyle(a);C&&(s=sS(s,C,D))}const{top:d,left:v,width:m,height:A,bottom:p,right:E}=s;return{top:d,left:v,width:m,height:A,bottom:p,right:E}}function n2(a){return _l(a,{ignoreTransform:!0})}function lS(a){const r=a.innerWidth,s=a.innerHeight;return{top:0,left:0,right:r,bottom:s,width:r,height:s}}function uS(a,r){return r===void 0&&(r=ka(a).getComputedStyle(a)),r.position==="fixed"}function cS(a,r){r===void 0&&(r=ka(a).getComputedStyle(a));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(v=>{const m=r[v];return typeof m=="string"?s.test(m):!1})}function Af(a,r){const s=[];function d(v){if(r!=null&&s.length>=r||!v)return s;if(n1(v)&&v.scrollingElement!=null&&!s.includes(v.scrollingElement))return s.push(v.scrollingElement),s;if(!ku(v)||Ox(v)||s.includes(v))return s;const m=ka(a).getComputedStyle(v);return v!==a&&cS(v,m)&&s.push(v),uS(v,m)?s:d(v.parentNode)}return a?d(a):s}function Hx(a){const[r]=Af(a,1);return r??null}function dh(a){return!vf||!a?null:Bl(a)?a:t1(a)?n1(a)||a===Nl(a).scrollingElement?window:ku(a)?a:null:null}function Gx(a){return Bl(a)?a.scrollX:a.scrollLeft}function jx(a){return Bl(a)?a.scrollY:a.scrollTop}function _h(a){return{x:Gx(a),y:jx(a)}}var Jr;(function(a){a[a.Forward=1]="Forward",a[a.Backward=-1]="Backward"})(Jr||(Jr={}));function Kx(a){return!vf||!a?!1:a===document.scrollingElement}function zx(a){const r={x:0,y:0},s=Kx(a)?{height:window.innerHeight,width:window.innerWidth}:{height:a.clientHeight,width:a.clientWidth},d={x:a.scrollWidth-s.width,y:a.scrollHeight-s.height},v=a.scrollTop<=r.y,m=a.scrollLeft<=r.x,A=a.scrollTop>=d.y,p=a.scrollLeft>=d.x;return{isTop:v,isLeft:m,isBottom:A,isRight:p,maxScroll:d,minScroll:r}}const fS={x:.2,y:.2};function dS(a,r,s,d,v){let{top:m,left:A,right:p,bottom:E}=s;d===void 0&&(d=10),v===void 0&&(v=fS);const{isTop:C,isBottom:D,isLeft:R,isRight:L}=zx(a),_={x:0,y:0},V={x:0,y:0},P={height:r.height*v.y,width:r.width*v.x};return!C&&m<=r.top+P.height?(_.y=Jr.Backward,V.y=d*Math.abs((r.top+P.height-m)/P.height)):!D&&E>=r.bottom-P.height&&(_.y=Jr.Forward,V.y=d*Math.abs((r.bottom-P.height-E)/P.height)),!L&&p>=r.right-P.width?(_.x=Jr.Forward,V.x=d*Math.abs((r.right-P.width-p)/P.width)):!R&&A<=r.left+P.width&&(_.x=Jr.Backward,V.x=d*Math.abs((r.left+P.width-A)/P.width)),{direction:_,speed:V}}function hS(a){if(a===document.scrollingElement){const{innerWidth:m,innerHeight:A}=window;return{top:0,left:0,right:m,bottom:A,width:m,height:A}}const{top:r,left:s,right:d,bottom:v}=a.getBoundingClientRect();return{top:r,left:s,right:d,bottom:v,width:a.clientWidth,height:a.clientHeight}}function Yx(a){return a.reduce((r,s)=>yl(r,_h(s)),xi)}function gS(a){return a.reduce((r,s)=>r+Gx(s),0)}function pS(a){return a.reduce((r,s)=>r+jx(s),0)}function yS(a,r){if(r===void 0&&(r=_l),!a)return;const{top:s,left:d,bottom:v,right:m}=r(a);Hx(a)&&(v<=0||m<=0||s>=window.innerHeight||d>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}const mS=[["x",["left","right"],gS],["y",["top","bottom"],pS]];class i1{constructor(r,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const d=Af(s),v=Yx(d);this.rect={...r},this.width=r.width,this.height=r.height;for(const[m,A,p]of mS)for(const E of A)Object.defineProperty(this,E,{get:()=>{const C=p(d),D=v[m]-C;return this.rect[E]+D},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Au{constructor(r){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var d;return(d=this.target)==null?void 0:d.removeEventListener(...s)})},this.target=r}add(r,s,d){var v;(v=this.target)==null||v.addEventListener(r,s,d),this.listeners.push([r,s,d])}}function xS(a){const{EventTarget:r}=ka(a);return a instanceof r?a:Nl(a)}function hh(a,r){const s=Math.abs(a.x),d=Math.abs(a.y);return typeof r=="number"?Math.sqrt(s**2+d**2)>r:"x"in r&&"y"in r?s>r.x&&d>r.y:"x"in r?s>r.x:"y"in r?d>r.y:!1}var oi;(function(a){a.Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange"})(oi||(oi={}));function r2(a){a.preventDefault()}function vS(a){a.stopPropagation()}var Hn;(function(a){a.Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab"})(Hn||(Hn={}));const qx={start:[Hn.Space,Hn.Enter],cancel:[Hn.Esc],end:[Hn.Space,Hn.Enter,Hn.Tab]},AS=(a,r)=>{let{currentCoordinates:s}=r;switch(a.code){case Hn.Right:return{...s,x:s.x+25};case Hn.Left:return{...s,x:s.x-25};case Hn.Down:return{...s,y:s.y+25};case Hn.Up:return{...s,y:s.y-25}}};class Cf{constructor(r){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=r;const{event:{target:s}}=r;this.props=r,this.listeners=new Au(Nl(s)),this.windowListeners=new Au(ka(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(oi.Resize,this.handleCancel),this.windowListeners.add(oi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(oi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:r,onStart:s}=this.props,d=r.node.current;d&&yS(d),s(xi)}handleKeyDown(r){if(a1(r)){const{active:s,context:d,options:v}=this.props,{keyboardCodes:m=qx,coordinateGetter:A=AS,scrollBehavior:p="smooth"}=v,{code:E}=r;if(m.end.includes(E)){this.handleEnd(r);return}if(m.cancel.includes(E)){this.handleCancel(r);return}const{collisionRect:C}=d.current,D=C?{x:C.left,y:C.top}:xi;this.referenceCoordinates||(this.referenceCoordinates=D);const R=A(r,{active:s,context:d.current,currentCoordinates:D});if(R){const L=Bu(R,D),_={x:0,y:0},{scrollableAncestors:V}=d.current;for(const P of V){const H=r.code,{isTop:T,isRight:F,isLeft:U,isBottom:K,maxScroll:X,minScroll:M}=zx(P),I=hS(P),w={x:Math.min(H===Hn.Right?I.right-I.width/2:I.right,Math.max(H===Hn.Right?I.left:I.left+I.width/2,R.x)),y:Math.min(H===Hn.Down?I.bottom-I.height/2:I.bottom,Math.max(H===Hn.Down?I.top:I.top+I.height/2,R.y))},j=H===Hn.Right&&!F||H===Hn.Left&&!U,ae=H===Hn.Down&&!K||H===Hn.Up&&!T;if(j&&w.x!==R.x){const de=P.scrollLeft+L.x,ee=H===Hn.Right&&de<=X.x||H===Hn.Left&&de>=M.x;if(ee&&!L.y){P.scrollTo({left:de,behavior:p});return}ee?_.x=P.scrollLeft-de:_.x=H===Hn.Right?P.scrollLeft-X.x:P.scrollLeft-M.x,_.x&&P.scrollBy({left:-_.x,behavior:p});break}else if(ae&&w.y!==R.y){const de=P.scrollTop+L.y,ee=H===Hn.Down&&de<=X.y||H===Hn.Up&&de>=M.y;if(ee&&!L.x){P.scrollTo({top:de,behavior:p});return}ee?_.y=P.scrollTop-de:_.y=H===Hn.Down?P.scrollTop-X.y:P.scrollTop-M.y,_.y&&P.scrollBy({top:-_.y,behavior:p});break}}this.handleMove(r,yl(Bu(R,this.referenceCoordinates),_))}}}handleMove(r,s){const{onMove:d}=this.props;r.preventDefault(),d(s)}handleEnd(r){const{onEnd:s}=this.props;r.preventDefault(),this.detach(),s()}handleCancel(r){const{onCancel:s}=this.props;r.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Cf.activators=[{eventName:"onKeyDown",handler:(a,r,s)=>{let{keyboardCodes:d=qx,onActivation:v}=r,{active:m}=s;const{code:A}=a.nativeEvent;if(d.start.includes(A)){const p=m.activatorNode.current;return p&&a.target!==p?!1:(a.preventDefault(),v==null||v({event:a.nativeEvent}),!0)}return!1}}];function a2(a){return!!(a&&"distance"in a)}function i2(a){return!!(a&&"delay"in a)}class s1{constructor(r,s,d){var v;d===void 0&&(d=xS(r.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=r,this.events=s;const{event:m}=r,{target:A}=m;this.props=r,this.events=s,this.document=Nl(A),this.documentListeners=new Au(this.document),this.listeners=new Au(d),this.windowListeners=new Au(ka(A)),this.initialCoordinates=(v=Nh(m))!=null?v:xi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:r,props:{options:{activationConstraint:s,bypassActivationConstraint:d}}}=this;if(this.listeners.add(r.move.name,this.handleMove,{passive:!1}),this.listeners.add(r.end.name,this.handleEnd),r.cancel&&this.listeners.add(r.cancel.name,this.handleCancel),this.windowListeners.add(oi.Resize,this.handleCancel),this.windowListeners.add(oi.DragStart,r2),this.windowListeners.add(oi.VisibilityChange,this.handleCancel),this.windowListeners.add(oi.ContextMenu,r2),this.documentListeners.add(oi.Keydown,this.handleKeydown),s){if(d!=null&&d({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(i2(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(a2(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(r,s){const{active:d,onPending:v}=this.props;v(d,r,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:r}=this,{onStart:s}=this.props;r&&(this.activated=!0,this.documentListeners.add(oi.Click,vS,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(oi.SelectionChange,this.removeTextSelection),s(r))}handleMove(r){var s;const{activated:d,initialCoordinates:v,props:m}=this,{onMove:A,options:{activationConstraint:p}}=m;if(!v)return;const E=(s=Nh(r))!=null?s:xi,C=Bu(v,E);if(!d&&p){if(a2(p)){if(p.tolerance!=null&&hh(C,p.tolerance))return this.handleCancel();if(hh(C,p.distance))return this.handleStart()}if(i2(p)&&hh(C,p.tolerance))return this.handleCancel();this.handlePending(p,C);return}r.cancelable&&r.preventDefault(),A(E)}handleEnd(){const{onAbort:r,onEnd:s}=this.props;this.detach(),this.activated||r(this.props.active),s()}handleCancel(){const{onAbort:r,onCancel:s}=this.props;this.detach(),this.activated||r(this.props.active),s()}handleKeydown(r){r.code===Hn.Esc&&this.handleCancel()}removeTextSelection(){var r;(r=this.document.getSelection())==null||r.removeAllRanges()}}const CS={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bf extends s1{constructor(r){const{event:s}=r,d=Nl(s.target);super(r,CS,d)}}bf.activators=[{eventName:"onPointerDown",handler:(a,r)=>{let{nativeEvent:s}=a,{onActivation:d}=r;return!s.isPrimary||s.button!==0?!1:(d==null||d({event:s}),!0)}}];const bS={move:{name:"mousemove"},end:{name:"mouseup"}};var Dh;(function(a){a[a.RightClick=2]="RightClick"})(Dh||(Dh={}));class wS extends s1{constructor(r){super(r,bS,Nl(r.event.target))}}wS.activators=[{eventName:"onMouseDown",handler:(a,r)=>{let{nativeEvent:s}=a,{onActivation:d}=r;return s.button===Dh.RightClick?!1:(d==null||d({event:s}),!0)}}];const gh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class o1 extends s1{constructor(r){super(r,gh)}static setup(){return window.addEventListener(gh.move.name,r,{capture:!1,passive:!1}),function(){window.removeEventListener(gh.move.name,r)};function r(){}}}o1.activators=[{eventName:"onTouchStart",handler:(a,r)=>{let{nativeEvent:s}=a,{onActivation:d}=r;const{touches:v}=s;return v.length>1?!1:(d==null||d({event:s}),!0)}}];var Cu;(function(a){a[a.Pointer=0]="Pointer",a[a.DraggableRect=1]="DraggableRect"})(Cu||(Cu={}));var lf;(function(a){a[a.TreeOrder=0]="TreeOrder",a[a.ReversedTreeOrder=1]="ReversedTreeOrder"})(lf||(lf={}));function ES(a){let{acceleration:r,activator:s=Cu.Pointer,canScroll:d,draggingRect:v,enabled:m,interval:A=5,order:p=lf.TreeOrder,pointerCoordinates:E,scrollableAncestors:C,scrollableAncestorRects:D,delta:R,threshold:L}=a;const _=SS({delta:R,disabled:!m}),[V,P]=PI(),H=ie.useRef({x:0,y:0}),T=ie.useRef({x:0,y:0}),F=ie.useMemo(()=>{switch(s){case Cu.Pointer:return E?{top:E.y,bottom:E.y,left:E.x,right:E.x}:null;case Cu.DraggableRect:return v}},[s,v,E]),U=ie.useRef(null),K=ie.useCallback(()=>{const M=U.current;if(!M)return;const I=H.current.x*T.current.x,w=H.current.y*T.current.y;M.scrollBy(I,w)},[]),X=ie.useMemo(()=>p===lf.TreeOrder?[...C].reverse():C,[p,C]);ie.useEffect(()=>{if(!m||!C.length||!F){P();return}for(const M of X){if((d==null?void 0:d(M))===!1)continue;const I=C.indexOf(M),w=D[I];if(!w)continue;const{direction:j,speed:ae}=dS(M,w,F,r,L);for(const de of["x","y"])_[de][j[de]]||(ae[de]=0,j[de]=0);if(ae.x>0||ae.y>0){P(),U.current=M,V(K,A),H.current=ae,T.current=j;return}}H.current={x:0,y:0},T.current={x:0,y:0},P()},[r,K,d,P,m,A,JSON.stringify(F),JSON.stringify(_),V,C,X,D,JSON.stringify(L)])}const IS={x:{[Jr.Backward]:!1,[Jr.Forward]:!1},y:{[Jr.Backward]:!1,[Jr.Forward]:!1}};function SS(a){let{delta:r,disabled:s}=a;const d=Bh(r);return Mu(v=>{if(s||!d||!v)return IS;const m={x:Math.sign(r.x-d.x),y:Math.sign(r.y-d.y)};return{x:{[Jr.Backward]:v.x[Jr.Backward]||m.x===-1,[Jr.Forward]:v.x[Jr.Forward]||m.x===1},y:{[Jr.Backward]:v.y[Jr.Backward]||m.y===-1,[Jr.Forward]:v.y[Jr.Forward]||m.y===1}}},[s,r,d])}function TS(a,r){const s=r!=null?a.get(r):void 0,d=s?s.node.current:null;return Mu(v=>{var m;return r==null?null:(m=d??v)!=null?m:null},[d,r])}function BS(a,r){return ie.useMemo(()=>a.reduce((s,d)=>{const{sensor:v}=d,m=v.activators.map(A=>({eventName:A.eventName,handler:r(A.handler,d)}));return[...s,...m]},[]),[a,r])}var Nu;(function(a){a[a.Always=0]="Always",a[a.BeforeDragging=1]="BeforeDragging",a[a.WhileDragging=2]="WhileDragging"})(Nu||(Nu={}));var Rh;(function(a){a.Optimized="optimized"})(Rh||(Rh={}));const s2=new Map;function NS(a,r){let{dragging:s,dependencies:d,config:v}=r;const[m,A]=ie.useState(null),{frequency:p,measure:E,strategy:C}=v,D=ie.useRef(a),R=H(),L=Tu(R),_=ie.useCallback(function(T){T===void 0&&(T=[]),!L.current&&A(F=>F===null?T:F.concat(T.filter(U=>!F.includes(U))))},[L]),V=ie.useRef(null),P=Mu(T=>{if(R&&!s)return s2;if(!T||T===s2||D.current!==a||m!=null){const F=new Map;for(let U of a){if(!U)continue;if(m&&m.length>0&&!m.includes(U.id)&&U.rect.current){F.set(U.id,U.rect.current);continue}const K=U.node.current,X=K?new i1(E(K),K):null;U.rect.current=X,X&&F.set(U.id,X)}return F}return T},[a,m,s,R,E]);return ie.useEffect(()=>{D.current=a},[a]),ie.useEffect(()=>{R||_()},[s,R]),ie.useEffect(()=>{m&&m.length>0&&A(null)},[JSON.stringify(m)]),ie.useEffect(()=>{R||typeof p!="number"||V.current!==null||(V.current=setTimeout(()=>{_(),V.current=null},p))},[p,R,_,...d]),{droppableRects:P,measureDroppableContainers:_,measuringScheduled:m!=null};function H(){switch(C){case Nu.Always:return!1;case Nu.BeforeDragging:return s;default:return!s}}}function Xx(a,r){return Mu(s=>a?s||(typeof r=="function"?r(a):a):null,[r,a])}function _S(a,r){return Xx(a,r)}function DS(a){let{callback:r,disabled:s}=a;const d=r1(r),v=ie.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:m}=window;return new m(d)},[d,s]);return ie.useEffect(()=>()=>v==null?void 0:v.disconnect(),[v]),v}function wf(a){let{callback:r,disabled:s}=a;const d=r1(r),v=ie.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:m}=window;return new m(d)},[s]);return ie.useEffect(()=>()=>v==null?void 0:v.disconnect(),[v]),v}function RS(a){return new i1(_l(a),a)}function o2(a,r,s){r===void 0&&(r=RS);const[d,v]=ie.useState(null);function m(){v(E=>{if(!a)return null;if(a.isConnected===!1){var C;return(C=E??s)!=null?C:null}const D=r(a);return JSON.stringify(E)===JSON.stringify(D)?E:D})}const A=DS({callback(E){if(a)for(const C of E){const{type:D,target:R}=C;if(D==="childList"&&R instanceof HTMLElement&&R.contains(a)){m();break}}}}),p=wf({callback:m});return Ui(()=>{m(),a?(p==null||p.observe(a),A==null||A.observe(document.body,{childList:!0,subtree:!0})):(p==null||p.disconnect(),A==null||A.disconnect())},[a]),d}function OS(a){const r=Xx(a);return Qx(a,r)}const l2=[];function kS(a){const r=ie.useRef(a),s=Mu(d=>a?d&&d!==l2&&a&&r.current&&a.parentNode===r.current.parentNode?d:Af(a):l2,[a]);return ie.useEffect(()=>{r.current=a},[a]),s}function MS(a){const[r,s]=ie.useState(null),d=ie.useRef(a),v=ie.useCallback(m=>{const A=dh(m.target);A&&s(p=>p?(p.set(A,_h(A)),new Map(p)):null)},[]);return ie.useEffect(()=>{const m=d.current;if(a!==m){A(m);const p=a.map(E=>{const C=dh(E);return C?(C.addEventListener("scroll",v,{passive:!0}),[C,_h(C)]):null}).filter(E=>E!=null);s(p.length?new Map(p):null),d.current=a}return()=>{A(a),A(m)};function A(p){p.forEach(E=>{const C=dh(E);C==null||C.removeEventListener("scroll",v)})}},[v,a]),ie.useMemo(()=>a.length?r?Array.from(r.values()).reduce((m,A)=>yl(m,A),xi):Yx(a):xi,[a,r])}function u2(a,r){r===void 0&&(r=[]);const s=ie.useRef(null);return ie.useEffect(()=>{s.current=null},r),ie.useEffect(()=>{const d=a!==xi;d&&!s.current&&(s.current=a),!d&&s.current&&(s.current=null)},[a]),s.current?Bu(a,s.current):xi}function LS(a){ie.useEffect(()=>{if(!vf)return;const r=a.map(s=>{let{sensor:d}=s;return d.setup==null?void 0:d.setup()});return()=>{for(const s of r)s==null||s()}},a.map(r=>{let{sensor:s}=r;return s}))}function US(a,r){return ie.useMemo(()=>a.reduce((s,d)=>{let{eventName:v,handler:m}=d;return s[v]=A=>{m(A,r)},s},{}),[a,r])}function Zx(a){return ie.useMemo(()=>a?lS(a):null,[a])}const c2=[];function FS(a,r){r===void 0&&(r=_l);const[s]=a,d=Zx(s?ka(s):null),[v,m]=ie.useState(c2);function A(){m(()=>a.length?a.map(E=>Kx(E)?d:new i1(r(E),E)):c2)}const p=wf({callback:A});return Ui(()=>{p==null||p.disconnect(),A(),a.forEach(E=>p==null?void 0:p.observe(E))},[a]),v}function PS(a){if(!a)return null;if(a.children.length>1)return a;const r=a.children[0];return ku(r)?r:a}function VS(a){let{measure:r}=a;const[s,d]=ie.useState(null),v=ie.useCallback(C=>{for(const{target:D}of C)if(ku(D)){d(R=>{const L=r(D);return R?{...R,width:L.width,height:L.height}:L});break}},[r]),m=wf({callback:v}),A=ie.useCallback(C=>{const D=PS(C);m==null||m.disconnect(),D&&(m==null||m.observe(D)),d(D?r(D):null)},[r,m]),[p,E]=sf(A);return ie.useMemo(()=>({nodeRef:p,rect:s,setRef:E}),[s,p,E])}const QS=[{sensor:bf,options:{}},{sensor:Cf,options:{}}],HS={current:{}},Wc={draggable:{measure:n2},droppable:{measure:n2,strategy:Nu.WhileDragging,frequency:Rh.Optimized},dragOverlay:{measure:_l}};class bu extends Map{get(r){var s;return r!=null&&(s=super.get(r))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(r=>{let{disabled:s}=r;return!s})}getNodeFor(r){var s,d;return(s=(d=this.get(r))==null?void 0:d.node.current)!=null?s:void 0}}const GS={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:of},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Wc,measureDroppableContainers:of,windowRect:null,measuringScheduled:!1},jS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:of,draggableNodes:new Map,over:null,measureDroppableContainers:of},Ef=ie.createContext(jS),Wx=ie.createContext(GS);function KS(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bu}}}function zS(a,r){switch(r.type){case qr.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:r.initialCoordinates,active:r.active}};case qr.DragMove:return a.draggable.active==null?a:{...a,draggable:{...a.draggable,translate:{x:r.coordinates.x-a.draggable.initialCoordinates.x,y:r.coordinates.y-a.draggable.initialCoordinates.y}}};case qr.DragEnd:case qr.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case qr.RegisterDroppable:{const{element:s}=r,{id:d}=s,v=new bu(a.droppable.containers);return v.set(d,s),{...a,droppable:{...a.droppable,containers:v}}}case qr.SetDroppableDisabled:{const{id:s,key:d,disabled:v}=r,m=a.droppable.containers.get(s);if(!m||d!==m.key)return a;const A=new bu(a.droppable.containers);return A.set(s,{...m,disabled:v}),{...a,droppable:{...a.droppable,containers:A}}}case qr.UnregisterDroppable:{const{id:s,key:d}=r,v=a.droppable.containers.get(s);if(!v||d!==v.key)return a;const m=new bu(a.droppable.containers);return m.delete(s),{...a,droppable:{...a.droppable,containers:m}}}default:return a}}function YS(a){let{disabled:r}=a;const{active:s,activatorEvent:d,draggableNodes:v}=ie.useContext(Ef),m=Bh(d),A=Bh(s==null?void 0:s.id);return ie.useEffect(()=>{if(!r&&!d&&m&&A!=null){if(!a1(m)||document.activeElement===m.target)return;const p=v.get(A);if(!p)return;const{activatorNode:E,node:C}=p;if(!E.current&&!C.current)return;requestAnimationFrame(()=>{for(const D of[E.current,C.current]){if(!D)continue;const R=HI(D);if(R){R.focus();break}}})}},[d,r,v,A,m]),null}function qS(a,r){let{transform:s,...d}=r;return a!=null&&a.length?a.reduce((v,m)=>m({transform:v,...d}),s):s}function XS(a){return ie.useMemo(()=>({draggable:{...Wc.draggable,...a==null?void 0:a.draggable},droppable:{...Wc.droppable,...a==null?void 0:a.droppable},dragOverlay:{...Wc.dragOverlay,...a==null?void 0:a.dragOverlay}}),[a==null?void 0:a.draggable,a==null?void 0:a.droppable,a==null?void 0:a.dragOverlay])}function ZS(a){let{activeNode:r,measure:s,initialRect:d,config:v=!0}=a;const m=ie.useRef(!1),{x:A,y:p}=typeof v=="boolean"?{x:v,y:v}:v;Ui(()=>{if(!A&&!p||!r){m.current=!1;return}if(m.current||!d)return;const C=r==null?void 0:r.node.current;if(!C||C.isConnected===!1)return;const D=s(C),R=Qx(D,d);if(A||(R.x=0),p||(R.y=0),m.current=!0,Math.abs(R.x)>0||Math.abs(R.y)>0){const L=Hx(C);L&&L.scrollBy({top:R.y,left:R.x})}},[r,A,p,d,s])}const Jx=ie.createContext({...xi,scaleX:1,scaleY:1});var ao;(function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Initializing=1]="Initializing",a[a.Initialized=2]="Initialized"})(ao||(ao={}));const $x=ie.memo(function(r){var s,d,v,m;let{id:A,accessibility:p,autoScroll:E=!0,children:C,sensors:D=QS,collisionDetection:R=tS,measuring:L,modifiers:_,...V}=r;const P=ie.useReducer(zS,void 0,KS),[H,T]=P,[F,U]=qI(),[K,X]=ie.useState(ao.Uninitialized),M=K===ao.Initialized,{draggable:{active:I,nodes:w,translate:j},droppable:{containers:ae}}=H,de=I!=null?w.get(I):null,ee=ie.useRef({initial:null,translated:null}),se=ie.useMemo(()=>{var un;return I!=null?{id:I,data:(un=de==null?void 0:de.data)!=null?un:HS,rect:ee}:null},[I,de]),Ae=ie.useRef(null),[oe,he]=ie.useState(null),[ve,ke]=ie.useState(null),Ke=Tu(V,Object.values(V)),Le=Lu("DndDescribedBy",A),Ce=ie.useMemo(()=>ae.getEnabled(),[ae]),Te=XS(L),{droppableRects:Ze,measureDroppableContainers:De,measuringScheduled:et}=NS(Ce,{dragging:M,dependencies:[j.x,j.y],config:Te.droppable}),Ne=TS(w,I),bt=ie.useMemo(()=>ve?Nh(ve):null,[ve]),gt=Dt(),Q=_S(Ne,Te.draggable.measure);ZS({activeNode:I!=null?w.get(I):null,config:gt.layoutShiftCompensation,initialRect:Q,measure:Te.draggable.measure});const W=o2(Ne,Te.draggable.measure,Q),re=o2(Ne?Ne.parentElement:null),O=ie.useRef({activatorEvent:null,active:null,activeNode:Ne,collisionRect:null,collisions:null,droppableRects:Ze,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:ae,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Z=ae.getNodeFor((s=O.current.over)==null?void 0:s.id),be=VS({measure:Te.dragOverlay.measure}),xe=(d=be.nodeRef.current)!=null?d:Ne,We=M?(v=be.rect)!=null?v:W:null,ht=!!(be.nodeRef.current&&be.rect),ft=OS(ht?null:W),Pe=Zx(xe?ka(xe):null),pt=kS(M?Z??Ne:null),Ye=FS(pt),Mt=qS(_,{transform:{x:j.x-ft.x,y:j.y-ft.y,scaleX:1,scaleY:1},activatorEvent:ve,active:se,activeNodeRect:W,containerNodeRect:re,draggingNodeRect:We,over:O.current.over,overlayNodeRect:be.rect,scrollableAncestors:pt,scrollableAncestorRects:Ye,windowRect:Pe}),Et=bt?yl(bt,j):null,Kt=MS(pt),bn=u2(Kt),jt=u2(Kt,[W]),on=yl(Mt,bn),rn=We?aS(We,Mt):null,qt=se&&rn?R({active:se,collisionRect:rn,droppableRects:Ze,droppableContainers:Ce,pointerCoordinates:Et}):null,En=Px(qt,"id"),[pn,Bn]=ie.useState(null),Ht=ht?Mt:yl(Mt,jt),rt=nS(Ht,(m=pn==null?void 0:pn.rect)!=null?m:null,W),Vt=ie.useRef(null),we=ie.useCallback((un,lt)=>{let{sensor:an,options:It}=lt;if(Ae.current==null)return;const Qt=w.get(Ae.current);if(!Qt)return;const St=un.nativeEvent,Rt=new an({active:Ae.current,activeNode:Qt,event:St,options:It,context:O,onAbort(Ft){if(!w.get(Ft))return;const{onDragAbort:Tt}=Ke.current,Zt={id:Ft};Tt==null||Tt(Zt),F({type:"onDragAbort",event:Zt})},onPending(Ft,mn,Tt,Zt){if(!w.get(Ft))return;const{onDragPending:In}=Ke.current,fn={id:Ft,constraint:mn,initialCoordinates:Tt,offset:Zt};In==null||In(fn),F({type:"onDragPending",event:fn})},onStart(Ft){const mn=Ae.current;if(mn==null)return;const Tt=w.get(mn);if(!Tt)return;const{onDragStart:Zt}=Ke.current,yn={activatorEvent:St,active:{id:mn,data:Tt.data,rect:ee}};mu.unstable_batchedUpdates(()=>{Zt==null||Zt(yn),X(ao.Initializing),T({type:qr.DragStart,initialCoordinates:Ft,active:mn}),F({type:"onDragStart",event:yn}),he(Vt.current),ke(St)})},onMove(Ft){T({type:qr.DragMove,coordinates:Ft})},onEnd:Lt(qr.DragEnd),onCancel:Lt(qr.DragCancel)});Vt.current=Rt;function Lt(Ft){return async function(){const{active:Tt,collisions:Zt,over:yn,scrollAdjustedTranslate:In}=O.current;let fn=null;if(Tt&&In){const{cancelDrop:dt}=Ke.current;fn={activatorEvent:St,active:Tt,collisions:Zt,delta:In,over:yn},Ft===qr.DragEnd&&typeof dt=="function"&&await Promise.resolve(dt(fn))&&(Ft=qr.DragCancel)}Ae.current=null,mu.unstable_batchedUpdates(()=>{T({type:Ft}),X(ao.Uninitialized),Bn(null),he(null),ke(null),Vt.current=null;const dt=Ft===qr.DragEnd?"onDragEnd":"onDragCancel";if(fn){const Sn=Ke.current[dt];Sn==null||Sn(fn),F({type:dt,event:fn})}})}}},[w]),Se=ie.useCallback((un,lt)=>(an,It)=>{const Qt=an.nativeEvent,St=w.get(It);if(Ae.current!==null||!St||Qt.dndKit||Qt.defaultPrevented)return;const Rt={active:St};un(an,lt.options,Rt)===!0&&(Qt.dndKit={capturedBy:lt.sensor},Ae.current=It,we(an,lt))},[w,we]),Je=BS(D,Se);LS(D),Ui(()=>{W&&K===ao.Initializing&&X(ao.Initialized)},[W,K]),ie.useEffect(()=>{const{onDragMove:un}=Ke.current,{active:lt,activatorEvent:an,collisions:It,over:Qt}=O.current;if(!lt||!an)return;const St={active:lt,activatorEvent:an,collisions:It,delta:{x:on.x,y:on.y},over:Qt};mu.unstable_batchedUpdates(()=>{un==null||un(St),F({type:"onDragMove",event:St})})},[on.x,on.y]),ie.useEffect(()=>{const{active:un,activatorEvent:lt,collisions:an,droppableContainers:It,scrollAdjustedTranslate:Qt}=O.current;if(!un||Ae.current==null||!lt||!Qt)return;const{onDragOver:St}=Ke.current,Rt=It.get(En),Lt=Rt&&Rt.rect.current?{id:Rt.id,rect:Rt.rect.current,data:Rt.data,disabled:Rt.disabled}:null,Ft={active:un,activatorEvent:lt,collisions:an,delta:{x:Qt.x,y:Qt.y},over:Lt};mu.unstable_batchedUpdates(()=>{Bn(Lt),St==null||St(Ft),F({type:"onDragOver",event:Ft})})},[En]),Ui(()=>{O.current={activatorEvent:ve,active:se,activeNode:Ne,collisionRect:rn,collisions:qt,droppableRects:Ze,draggableNodes:w,draggingNode:xe,draggingNodeRect:We,droppableContainers:ae,over:pn,scrollableAncestors:pt,scrollAdjustedTranslate:on},ee.current={initial:We,translated:rn}},[se,Ne,qt,rn,w,xe,We,Ze,ae,pn,pt,on]),ES({...gt,delta:j,draggingRect:rn,pointerCoordinates:Et,scrollableAncestors:pt,scrollableAncestorRects:Ye});const st=ie.useMemo(()=>({active:se,activeNode:Ne,activeNodeRect:W,activatorEvent:ve,collisions:qt,containerNodeRect:re,dragOverlay:be,draggableNodes:w,droppableContainers:ae,droppableRects:Ze,over:pn,measureDroppableContainers:De,scrollableAncestors:pt,scrollableAncestorRects:Ye,measuringConfiguration:Te,measuringScheduled:et,windowRect:Pe}),[se,Ne,W,ve,qt,re,be,w,ae,Ze,pn,De,pt,Ye,Te,et,Pe]),$e=ie.useMemo(()=>({activatorEvent:ve,activators:Je,active:se,activeNodeRect:W,ariaDescribedById:{draggable:Le},dispatch:T,draggableNodes:w,over:pn,measureDroppableContainers:De}),[ve,Je,se,W,T,Le,w,pn,De]);return Oa.createElement(Mx.Provider,{value:U},Oa.createElement(Ef.Provider,{value:$e},Oa.createElement(Wx.Provider,{value:st},Oa.createElement(Jx.Provider,{value:rt},C)),Oa.createElement(YS,{disabled:(p==null?void 0:p.restoreFocus)===!1})),Oa.createElement(WI,{...p,hiddenTextDescribedById:Le}));function Dt(){const un=(oe==null?void 0:oe.autoScrollEnabled)===!1,lt=typeof E=="object"?E.enabled===!1:E===!1,an=M&&!un&&!lt;return typeof E=="object"?{...E,enabled:an}:{enabled:an}}}),WS=ie.createContext(null),f2="button",JS="Draggable";function $S(a){let{id:r,data:s,disabled:d=!1,attributes:v}=a;const m=Lu(JS),{activators:A,activatorEvent:p,active:E,activeNodeRect:C,ariaDescribedById:D,draggableNodes:R,over:L}=ie.useContext(Ef),{role:_=f2,roleDescription:V="draggable",tabIndex:P=0}=v??{},H=(E==null?void 0:E.id)===r,T=ie.useContext(H?Jx:WS),[F,U]=sf(),[K,X]=sf(),M=US(A,r),I=Tu(s);Ui(()=>(R.set(r,{id:r,key:m,node:F,activatorNode:K,data:I}),()=>{const j=R.get(r);j&&j.key===m&&R.delete(r)}),[R,r]);const w=ie.useMemo(()=>({role:_,tabIndex:P,"aria-disabled":d,"aria-pressed":H&&_===f2?!0:void 0,"aria-roledescription":V,"aria-describedby":D.draggable}),[d,_,P,H,V,D.draggable]);return{active:E,activatorEvent:p,activeNodeRect:C,attributes:w,isDragging:H,listeners:d?void 0:M,node:F,over:L,setNodeRef:U,setActivatorNodeRef:X,transform:T}}function e4(){return ie.useContext(Wx)}const t4="Droppable",n4={timeout:25};function r4(a){let{data:r,disabled:s=!1,id:d,resizeObserverConfig:v}=a;const m=Lu(t4),{active:A,dispatch:p,over:E,measureDroppableContainers:C}=ie.useContext(Ef),D=ie.useRef({disabled:s}),R=ie.useRef(!1),L=ie.useRef(null),_=ie.useRef(null),{disabled:V,updateMeasurementsFor:P,timeout:H}={...n4,...v},T=Tu(P??d),F=ie.useCallback(()=>{if(!R.current){R.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{C(Array.isArray(T.current)?T.current:[T.current]),_.current=null},H)},[H]),U=wf({callback:F,disabled:V||!A}),K=ie.useCallback((w,j)=>{U&&(j&&(U.unobserve(j),R.current=!1),w&&U.observe(w))},[U]),[X,M]=sf(K),I=Tu(r);return ie.useEffect(()=>{!U||!X.current||(U.disconnect(),R.current=!1,U.observe(X.current))},[X,U]),ie.useEffect(()=>(p({type:qr.RegisterDroppable,element:{id:d,key:m,disabled:s,node:X,rect:L,data:I}}),()=>p({type:qr.UnregisterDroppable,key:m,id:d})),[d]),ie.useEffect(()=>{s!==D.current.disabled&&(p({type:qr.SetDroppableDisabled,id:d,key:m,disabled:s}),D.current.disabled=s)},[d,m,s,p]),{active:A,rect:L,isOver:(E==null?void 0:E.id)===d,node:X,over:E,setNodeRef:M}}function If(a,r,s){const d=a.slice();return d.splice(s<0?d.length+s:s,0,d.splice(r,1)[0]),d}function a4(a,r){return a.reduce((s,d,v)=>{const m=r.get(d);return m&&(s[v]=m),s},Array(a.length))}function Kc(a){return a!==null&&a>=0}function i4(a,r){if(a===r)return!0;if(a.length!==r.length)return!1;for(let s=0;s<a.length;s++)if(a[s]!==r[s])return!1;return!0}function s4(a){return typeof a=="boolean"?{draggable:a,droppable:a}:a}const ev=a=>{let{rects:r,activeIndex:s,overIndex:d,index:v}=a;const m=If(r,d,s),A=r[v],p=m[v];return!p||!A?null:{x:p.left-A.left,y:p.top-A.top,scaleX:p.width/A.width,scaleY:p.height/A.height}},zc={scaleX:1,scaleY:1},tv=a=>{var r;let{activeIndex:s,activeNodeRect:d,index:v,rects:m,overIndex:A}=a;const p=(r=m[s])!=null?r:d;if(!p)return null;if(v===s){const C=m[A];return C?{x:0,y:s<A?C.top+C.height-(p.top+p.height):C.top-p.top,...zc}:null}const E=o4(m,v,s);return v>s&&v<=A?{x:0,y:-p.height-E,...zc}:v<s&&v>=A?{x:0,y:p.height+E,...zc}:{x:0,y:0,...zc}};function o4(a,r,s){const d=a[r],v=a[r-1],m=a[r+1];return d?s<r?v?d.top-(v.top+v.height):m?m.top-(d.top+d.height):0:m?m.top-(d.top+d.height):v?d.top-(v.top+v.height):0:0}const nv="Sortable",rv=Oa.createContext({activeIndex:-1,containerId:nv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ev,disabled:{draggable:!1,droppable:!1}});function av(a){let{children:r,id:s,items:d,strategy:v=ev,disabled:m=!1}=a;const{active:A,dragOverlay:p,droppableRects:E,over:C,measureDroppableContainers:D}=e4(),R=Lu(nv,s),L=p.rect!==null,_=ie.useMemo(()=>d.map(M=>typeof M=="object"&&"id"in M?M.id:M),[d]),V=A!=null,P=A?_.indexOf(A.id):-1,H=C?_.indexOf(C.id):-1,T=ie.useRef(_),F=!i4(_,T.current),U=H!==-1&&P===-1||F,K=s4(m);Ui(()=>{F&&V&&D(_)},[F,_,V,D]),ie.useEffect(()=>{T.current=_},[_]);const X=ie.useMemo(()=>({activeIndex:P,containerId:R,disabled:K,disableTransforms:U,items:_,overIndex:H,useDragOverlay:L,sortedRects:a4(_,E),strategy:v}),[P,R,K.draggable,K.droppable,U,_,H,E,L,v]);return Oa.createElement(rv.Provider,{value:X},r)}const l4=a=>{let{id:r,items:s,activeIndex:d,overIndex:v}=a;return If(s,d,v).indexOf(r)},u4=a=>{let{containerId:r,isSorting:s,wasDragging:d,index:v,items:m,newIndex:A,previousItems:p,previousContainerId:E,transition:C}=a;return!C||!d||p!==m&&v===A?!1:s?!0:A!==v&&r===E},c4={duration:200,easing:"ease"},iv="transform",f4=Cl.Transition.toString({property:iv,duration:0,easing:"linear"}),d4={roleDescription:"sortable"};function h4(a){let{disabled:r,index:s,node:d,rect:v}=a;const[m,A]=ie.useState(null),p=ie.useRef(s);return Ui(()=>{if(!r&&s!==p.current&&d.current){const E=v.current;if(E){const C=_l(d.current,{ignoreTransform:!0}),D={x:E.left-C.left,y:E.top-C.top,scaleX:E.width/C.width,scaleY:E.height/C.height};(D.x||D.y)&&A(D)}}s!==p.current&&(p.current=s)},[r,s,d,v]),ie.useEffect(()=>{m&&A(null)},[m]),m}function sv(a){let{animateLayoutChanges:r=u4,attributes:s,disabled:d,data:v,getNewIndex:m=l4,id:A,strategy:p,resizeObserverConfig:E,transition:C=c4}=a;const{items:D,containerId:R,activeIndex:L,disabled:_,disableTransforms:V,sortedRects:P,overIndex:H,useDragOverlay:T,strategy:F}=ie.useContext(rv),U=g4(d,_),K=D.indexOf(A),X=ie.useMemo(()=>({sortable:{containerId:R,index:K,items:D},...v}),[R,v,K,D]),M=ie.useMemo(()=>D.slice(D.indexOf(A)),[D,A]),{rect:I,node:w,isOver:j,setNodeRef:ae}=r4({id:A,data:X,disabled:U.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...E}}),{active:de,activatorEvent:ee,activeNodeRect:se,attributes:Ae,setNodeRef:oe,listeners:he,isDragging:ve,over:ke,setActivatorNodeRef:Ke,transform:Le}=$S({id:A,data:X,attributes:{...d4,...s},disabled:U.draggable}),Ce=FI(ae,oe),Te=!!de,Ze=Te&&!V&&Kc(L)&&Kc(H),De=!T&&ve,et=De&&Ze?Le:null,bt=Ze?et??(p??F)({rects:P,activeNodeRect:se,activeIndex:L,overIndex:H,index:K}):null,gt=Kc(L)&&Kc(H)?m({id:A,items:D,activeIndex:L,overIndex:H}):K,Q=de==null?void 0:de.id,W=ie.useRef({activeId:Q,items:D,newIndex:gt,containerId:R}),re=D!==W.current.items,O=r({active:de,containerId:R,isDragging:ve,isSorting:Te,id:A,index:K,items:D,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:C,wasDragging:W.current.activeId!=null}),Z=h4({disabled:!O,index:K,node:w,rect:I});return ie.useEffect(()=>{Te&&W.current.newIndex!==gt&&(W.current.newIndex=gt),R!==W.current.containerId&&(W.current.containerId=R),D!==W.current.items&&(W.current.items=D)},[Te,gt,R,D]),ie.useEffect(()=>{if(Q===W.current.activeId)return;if(Q!=null&&W.current.activeId==null){W.current.activeId=Q;return}const xe=setTimeout(()=>{W.current.activeId=Q},50);return()=>clearTimeout(xe)},[Q]),{active:de,activeIndex:L,attributes:Ae,data:X,rect:I,index:K,newIndex:gt,items:D,isOver:j,isSorting:Te,isDragging:ve,listeners:he,node:w,overIndex:H,over:ke,setNodeRef:Ce,setActivatorNodeRef:Ke,setDroppableNodeRef:ae,setDraggableNodeRef:oe,transform:Z??bt,transition:be()};function be(){if(Z||re&&W.current.newIndex===K)return f4;if(!(De&&!a1(ee)||!C)&&(Te||O))return Cl.Transition.toString({...C,property:iv})}}function g4(a,r){var s,d;return typeof a=="boolean"?{draggable:a,droppable:!1}:{draggable:(s=a==null?void 0:a.draggable)!=null?s:r.draggable,droppable:(d=a==null?void 0:a.droppable)!=null?d:r.droppable}}function uf(a){if(!a)return!1;const r=a.data.current;return!!(r&&"sortable"in r&&typeof r.sortable=="object"&&"containerId"in r.sortable&&"items"in r.sortable&&"index"in r.sortable)}const p4=[Hn.Down,Hn.Right,Hn.Up,Hn.Left],ov=(a,r)=>{let{context:{active:s,collisionRect:d,droppableRects:v,droppableContainers:m,over:A,scrollableAncestors:p}}=r;if(p4.includes(a.code)){if(a.preventDefault(),!s||!d)return;const E=[];m.getEnabled().forEach(R=>{if(!R||R!=null&&R.disabled)return;const L=v.get(R.id);if(L)switch(a.code){case Hn.Down:d.top<L.top&&E.push(R);break;case Hn.Up:d.top>L.top&&E.push(R);break;case Hn.Left:d.left>L.left&&E.push(R);break;case Hn.Right:d.left<L.left&&E.push(R);break}});const C=$I({collisionRect:d,droppableRects:v,droppableContainers:E});let D=Px(C,"id");if(D===(A==null?void 0:A.id)&&C.length>1&&(D=C[1].id),D!=null){const R=m.get(s.id),L=m.get(D),_=L?v.get(L.id):null,V=L==null?void 0:L.node.current;if(V&&_&&R&&L){const H=Af(V).some((M,I)=>p[I]!==M),T=lv(R,L),F=y4(R,L),U=H||!T?{x:0,y:0}:{x:F?d.width-_.width:0,y:F?d.height-_.height:0},K={x:_.left,y:_.top};return U.x&&U.y?K:Bu(K,U)}}}};function lv(a,r){return!uf(a)||!uf(r)?!1:a.data.current.sortable.containerId===r.data.current.sortable.containerId}function y4(a,r){return!uf(a)||!uf(r)||!lv(a,r)?!1:a.data.current.sortable.index<r.data.current.sortable.index}function m4({id:a,field:r,updateField:s,removeField:d}){const{attributes:v,listeners:m,setNodeRef:A,transform:p,transition:E,isDragging:C}=sv({id:a}),D={transform:Cl.Transform.toString(p),transition:E,zIndex:C?50:"auto",opacity:C?.5:1};return q.jsxs("div",{ref:A,style:D,className:"flex items-start gap-2 mb-4 bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[q.jsx("div",{...v,...m,className:"mt-2 cursor-grab text-gray-400 hover:text-gray-600 p-1",children:q.jsx($2,{className:"w-4 h-4"})}),q.jsxs("div",{className:"flex-1 space-y-2",children:[q.jsx("div",{children:q.jsx("input",{type:"text",value:r.name,onChange:R=>s(a,"name",R.target.value),className:"w-full px-0 py-0 border-none font-medium text-xs text-indigo-600 focus:outline-none focus:ring-0 bg-transparent",placeholder:" ()"})}),q.jsxs("div",{className:"relative",children:[q.jsx("input",{type:r.name.toLowerCase().includes("")||r.name.toLowerCase().includes("password")?"password":"text",value:r.value,onChange:R=>s(a,"value",R.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-8",placeholder:""}),(r.name.toLowerCase().includes("")||r.name.toLowerCase().includes("password"))&&q.jsx("button",{onClick:()=>s(a,"generate",!0),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-600 p-1",title:"",children:q.jsx(qh,{className:"w-4 h-4"})})]})]}),q.jsx("button",{onClick:()=>d(a),className:"mt-2 text-gray-400 hover:text-red-500 p-1",children:q.jsx(Su,{className:"w-4 h-4"})})]})}function x4(){const{dek:a}=Sl(),[r,s]=ie.useState([]),[d,v]=ie.useState([]),[m,A]=ie.useState(""),[p,E]=ie.useState(null),[C,D]=ie.useState({}),[R,L]=ie.useState(!1),[_,V]=ie.useState(!1),[P,H]=ie.useState(!1),[T,F]=ie.useState(!1),[U,K]=ie.useState(null),[X,M]=ie.useState(null),[I,w]=ie.useState(null),[j,ae]=ie.useState(""),[de,ee]=ie.useState([]),[se,Ae]=ie.useState([]),[oe,he]=ie.useState(""),[ve,ke]=ie.useState(!1),[Ke,Le]=ie.useState(null),[Ce,Te]=ie.useState(!1),[Ze,De]=ie.useState(""),[et,Ne]=ie.useState(!1),[bt,gt]=ie.useState(null),[Q,W]=ie.useState(16),[re,O]=ie.useState(!0),[Z,be]=ie.useState(!0),[xe,We]=ie.useState(!0),[ht,ft]=ie.useState("!@#$%^&*()_+~`|}{[]:;?><,./-="),Pe=Lx(ml(bf,{activationConstraint:{delay:200,tolerance:5}}),ml(o1,{activationConstraint:{delay:200,tolerance:5}}),ml(Cf,{coordinateGetter:ov}));ie.useEffect(()=>{pt(),Ye()},[a]);const pt=async()=>{if(!a)return;const Se=(await At.accounts.toArray()).filter(st=>st.delFlag!==1),Je=await Promise.all(Se.map(async st=>{const $e=await Promise.all(st.fields.map(async Dt=>({name:Dt.fieldName,value:await ds(a,Dt.fieldValue)})));return{...st,decryptedFields:$e}}));s(Je.sort((st,$e)=>st.favorite!==$e.favorite?st.favorite?-1:1:$e.time-st.time))},Ye=async()=>{const we=await At.tags.toArray();v(we.sort((Se,Je)=>(Se.rank||0)-(Je.rank||0)))},Mt=we=>{he(we),ke(!0)},Et=async we=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(we),Mt("");else{const Se=document.createElement("textarea");Se.value=we,Se.style.position="fixed",Se.style.left="-999999px",Se.style.top="-999999px",document.body.appendChild(Se),Se.focus(),Se.select();try{document.execCommand("copy"),Mt("")}catch(Je){console.error("Fallback: Oops, unable to copy",Je),Mt("")}document.body.removeChild(Se)}}catch(Se){console.error("Failed to copy: ",Se),Mt("")}},Kt=()=>{w(null),ae(""),ee([]),Ae([{id:_o(),name:"",value:""},{id:_o(),name:"",value:""},{id:_o(),name:"",value:""}])},bn=we=>{w(we.id),ae(we.name),ee(we.labels||[]),Ae(we.decryptedFields.map(Se=>({id:_o(),name:Se.name,value:Se.value}))),L(!0),Le(null),V(!1)},jt=async()=>{if(!(!a||!j))try{const we=se.filter(st=>st.name.trim()!==""),Se=await Promise.all(we.map(async st=>({fieldName:st.name.trim(),fieldValue:await ds(a,await li(a,st.value))}))),Je=await Promise.all(we.map(async st=>({fieldName:st.name.trim(),fieldValue:await li(a,st.value)})));I?(await At.accounts.update(I,{name:j,labels:de,fields:Je,time:Date.now()}),Mt("")):(await At.accounts.put({id:_o(),name:j,labels:de,favorite:!1,time:Date.now(),delFlag:0,fields:Je}),Mt("")),pt(),L(!1)}catch(we){console.error("",we),Mt("")}},on=async we=>{await At.accounts.update(we.id,{favorite:!we.favorite,time:Date.now()}),pt()},rn=async()=>{U&&(await At.accounts.update(U,{delFlag:1,time:Date.now()}),await pt(),Mt(""),H(!1),K(null),Le(null),V(!1))},qt=we=>{K(we),H(!0),Le(null)},En=(we,Se)=>{const Je=`${we}-${Se}`;D(st=>({...st,[Je]:!st[Je]}))},pn=(we,Se,Je)=>{if(Se==="generate"){gt(we),Ne(!0);return}Ae(se.map(st=>st.id===we?{...st,[Se]:Je}:st))},Bn=we=>{Ae(se.filter(Se=>Se.id!==we))},Ht=()=>{Ae([...se,{id:_o(),name:"",value:""}])},rt=we=>{const{active:Se,over:Je}=we;if(Je&&Se.id!==Je.id){const st=se.findIndex(Dt=>Dt.id===Se.id),$e=se.findIndex(Dt=>Dt.id===Je.id);Ae(If(se,st,$e))}},Vt=()=>{const we="abcdefghijklmnopqrstuvwxyz",Se="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Je="0123456789",st=ht||"!@#$%^&*()_+~`|}{[]:;?><,./-=";let $e=we;xe&&($e+=Se),Z&&($e+=Je),re&&($e+=st);let Dt="";for(let un=0;un<Q;un++)Dt+=$e.charAt(Math.floor(Math.random()*$e.length));bt&&Ae(se.map(un=>un.id===bt?{...un,value:Dt}:un)),Et(Dt),Ne(!1)};return q.jsxs("div",{className:"pb-20",onClick:()=>Le(null),children:[q.jsx("div",{className:"sticky top-0 bg-gray-50 pt-4 pb-2 z-20",children:q.jsxs("div",{className:"flex items-center justify-between mb-4",children:[q.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("button",{onClick:()=>F(!0),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-white rounded-full transition-colors",children:q.jsx(wh,{className:"w-5 h-5"})}),q.jsx("button",{onClick:()=>{Kt(),L(!0)},className:"p-2 bg-indigo-600 text-white rounded-full shadow-sm hover:bg-indigo-700 transition-colors",children:q.jsx(bh,{className:"w-5 h-5"})})]})]})}),q.jsxs("div",{className:"flex gap-4 items-start",children:[q.jsx("div",{className:"w-20 sm:w-24 flex-shrink-0 sticky top-20 max-h-[calc(100vh-140px)] overflow-y-auto scrollbar-hide py-1",children:q.jsxs("div",{className:"flex flex-col gap-1",children:[q.jsx("button",{onClick:()=>E(null),className:ga("w-full text-center py-2.5 rounded-xl text-xs font-medium transition-all",p===null?"bg-indigo-600 text-white shadow-sm":"bg-transparent text-gray-500 hover:bg-gray-100"),children:""}),d.map(we=>q.jsx("button",{onClick:()=>E(we.label),className:ga("w-full text-center py-2.5 rounded-xl text-xs font-medium transition-all break-all px-2",p===we.label?"bg-indigo-600 text-white shadow-sm":"bg-transparent text-gray-500 hover:bg-gray-100"),children:we.label},we.id))]})}),q.jsx("div",{className:"flex-1 min-w-0",children:q.jsxs("div",{className:"space-y-3",children:[r.filter(we=>{var Se,Je;return(we.name.includes(m)||((Se=we.labels)==null?void 0:Se.some(st=>st.includes(m))))&&(!p||((Je=we.labels)==null?void 0:Je.includes(p)))}).map(we=>{var Se;return q.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 relative overflow-hidden active:scale-[0.99] transition-transform cursor-pointer",onClick:()=>{M(we),V(!0)},children:[q.jsxs("div",{className:"flex justify-between items-start mb-2",children:[q.jsxs("div",{className:"flex flex-col gap-1",children:[q.jsx("h3",{className:"font-medium text-gray-900 text-lg",children:we.name}),we.labels&&we.labels.length>0&&q.jsx("div",{className:"flex flex-wrap gap-1",children:we.labels.map(Je=>q.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full",children:Je},Je))})]}),q.jsx("div",{className:"flex items-center gap-1",children:q.jsx("button",{onClick:Je=>{Je.stopPropagation(),on(we)},className:ga("p-1.5 rounded-full transition-colors",we.favorite?"text-yellow-500":"text-gray-300 hover:text-gray-400"),children:q.jsx(tx,{className:ga("w-5 h-5",we.favorite&&"fill-current")})})})]}),q.jsx("div",{className:"text-sm text-gray-500 truncate",children:((Se=we.decryptedFields.find(Je=>Je.name.includes("")||Je.name.includes("")))==null?void 0:Se.value)||""}),q.jsxs("div",{className:"mt-3 text-[10px] text-gray-400",children:[": ",new Date(we.time).toLocaleString()]})]},we.id)}),r.filter(we=>{var Se,Je;return(we.name.includes(m)||((Se=we.labels)==null?void 0:Se.some(st=>st.includes(m))))&&(!p||((Je=we.labels)==null?void 0:Je.includes(p)))}).length===0&&q.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:m||p?"":""})]})})]}),q.jsx(pa,{isOpen:T,onClose:()=>F(!1),title:"",children:q.jsxs("div",{className:"space-y-4 py-2",children:[q.jsxs("div",{className:"relative",children:[q.jsx(wh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),q.jsx("input",{type:"text",placeholder:"...",value:m,onChange:we=>A(we.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",autoFocus:!0}),m&&q.jsx("button",{onClick:()=>A(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:q.jsx(Su,{className:"w-4 h-4"})})]}),q.jsxs("div",{className:"max-h-[60vh] overflow-y-auto space-y-2",children:[m&&r.filter(we=>{var Se;return we.name.toLowerCase().includes(m.toLowerCase())||((Se=we.labels)==null?void 0:Se.some(Je=>Je.toLowerCase().includes(m.toLowerCase())))}).map(we=>{var Se;return q.jsxs("div",{onClick:()=>{M(we),V(!0),F(!1)},className:"p-3 bg-white border border-gray-100 rounded-xl hover:bg-indigo-50 transition-colors cursor-pointer",children:[q.jsx("div",{className:"font-medium text-gray-900",children:we.name}),q.jsx("div",{className:"text-xs text-gray-500 truncate",children:((Se=we.decryptedFields.find(Je=>Je.name.includes("")))==null?void 0:Se.value)||""})]},we.id)}),m&&r.filter(we=>{var Se;return we.name.toLowerCase().includes(m.toLowerCase())||((Se=we.labels)==null?void 0:Se.some(Je=>Je.toLowerCase().includes(m.toLowerCase())))}).length===0&&q.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:""}),!m&&q.jsx("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:""})]}),q.jsx("button",{onClick:()=>F(!1),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-medium",children:""})]})}),q.jsx(pa,{isOpen:R,onClose:()=>L(!1),title:I?"":"",children:q.jsxs("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto px-1 pb-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"text",value:j,onChange:we=>ae(we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:": Google, "})]}),q.jsxs("div",{children:[q.jsxs("div",{className:"flex items-center justify-between mb-2",children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),q.jsxs("button",{onClick:Ht,className:"text-xs text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[q.jsx(bh,{className:"w-3 h-3"})," "]})]}),q.jsx($x,{sensors:Pe,collisionDetection:Vx,onDragEnd:rt,children:q.jsx(av,{items:se.map(we=>we.id),strategy:tv,children:se.map(we=>q.jsx(m4,{id:we.id,field:we,updateField:pn,removeField:Bn},we.id))})})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:de.map(we=>q.jsxs("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-600 rounded-lg text-sm flex items-center gap-1",children:[we,q.jsx("button",{onClick:()=>ee(de.filter(Se=>Se!==we)),className:"hover:text-indigo-800",children:q.jsx(Su,{className:"w-3 h-3"})})]},we))}),Ce?q.jsxs("div",{className:"flex gap-2",children:[q.jsx("input",{type:"text",value:Ze,onChange:we=>De(we.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"",autoFocus:!0}),q.jsx("button",{onClick:we=>{we.preventDefault();const Se=Ze.trim();Se&&!de.includes(Se)&&(ee([...de,Se]),At.tags.put({label:Se,time:Date.now(),rank:Date.now()}),Ye()),Te(!1),De("")},className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700",children:""}),q.jsx("button",{onClick:we=>{we.preventDefault(),Te(!1),De("")},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200",children:""})]}):q.jsxs("div",{className:"flex gap-2",children:[q.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",onChange:we=>{we.target.value&&!de.includes(we.target.value)&&ee([...de,we.target.value]),we.target.value=""},children:[q.jsx("option",{value:"",children:"..."}),d.filter(we=>!de.includes(we.label)).map(we=>q.jsx("option",{value:we.label,children:we.label},we.id))]}),q.jsx("button",{onClick:we=>{we.preventDefault(),Te(!0)},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm whitespace-nowrap hover:bg-gray-200",children:""})]})]}),q.jsx("button",{onClick:jt,disabled:!j,className:"w-full py-3 mt-4 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})}),q.jsx(pa,{isOpen:_,onClose:()=>V(!1),title:(X==null?void 0:X.name)||"",children:X&&q.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pb-4",children:[X.labels&&X.labels.length>0&&q.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:X.labels.map(we=>q.jsx("span",{className:"text-xs px-2 py-1 bg-indigo-50 text-indigo-600 rounded-full",children:we},we))}),q.jsx("div",{className:"space-y-3",children:X.decryptedFields.map(we=>{const Se=we.name.toLowerCase().includes("")||we.name.toLowerCase().includes("password"),Je=`${X.id}-${we.name}`,st=C[Je];return q.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>Et(we.value),children:[q.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[q.jsx("span",{className:"text-xs text-gray-500 mb-1",children:we.name}),q.jsx("span",{className:"text-sm font-mono text-gray-800 truncate",children:Se&&!st?"":we.value})]}),q.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[Se&&q.jsx("button",{onClick:$e=>{$e.stopPropagation(),En(X.id,we.name)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-md",children:st?q.jsx(_w,{className:"w-5 h-5"}):q.jsx(Rw,{className:"w-5 h-5"})}),q.jsx("div",{className:"p-2 text-gray-400 hover:text-indigo-600 rounded-md",children:q.jsx(W2,{className:"w-5 h-5"})})]})]},we.name)})}),q.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[q.jsxs("button",{onClick:()=>bn(X),className:"flex-1 py-2.5 bg-indigo-50 text-indigo-600 rounded-xl font-medium hover:bg-indigo-100 transition-colors flex items-center justify-center gap-2",children:[q.jsx(ex,{className:"w-4 h-4"})," "]}),q.jsxs("button",{onClick:()=>qt(X.id),className:"flex-1 py-2.5 bg-red-50 text-red-600 rounded-xl font-medium hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[q.jsx(mf,{className:"w-4 h-4"})," "]})]})]})}),q.jsx(pa,{isOpen:et,onClose:()=>Ne(!1),title:"",children:q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{children:[q.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[": ",Q]}),q.jsx("input",{type:"range",min:"8",max:"64",value:Q,onChange:we=>W(Number(we.target.value)),className:"w-full"})]}),q.jsxs("div",{className:"space-y-2",children:[q.jsxs("label",{className:"flex items-center gap-2",children:[q.jsx("input",{type:"checkbox",checked:xe,onChange:we=>We(we.target.checked),className:"rounded text-indigo-600"}),q.jsx("span",{className:"text-sm text-gray-700",children:" (A-Z)"})]}),q.jsxs("label",{className:"flex items-center gap-2",children:[q.jsx("input",{type:"checkbox",checked:Z,onChange:we=>be(we.target.checked),className:"rounded text-indigo-600"}),q.jsx("span",{className:"text-sm text-gray-700",children:" (0-9)"})]}),q.jsxs("label",{className:"flex items-center gap-2",children:[q.jsx("input",{type:"checkbox",checked:re,onChange:we=>O(we.target.checked),className:"rounded text-indigo-600"}),q.jsx("span",{className:"text-sm text-gray-700",children:""})]}),re&&q.jsx("div",{className:"pl-6",children:q.jsx("input",{type:"text",value:ht,onChange:we=>ft(we.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""})})]}),q.jsx("button",{onClick:Vt,className:"w-full py-3 mt-4 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors",children:""})]})}),q.jsxs(pa,{isOpen:P,onClose:()=>H(!1),title:"",children:[q.jsx("div",{className:"py-4 text-center text-gray-700",children:""}),q.jsxs("div",{className:"flex gap-3 mt-4",children:[q.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),q.jsx("button",{onClick:rn,className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:""})]})]}),q.jsx(io,{message:oe,visible:ve,onClose:()=>ke(!1)})]})}function v4({id:a,tag:r,onDelete:s}){const{attributes:d,listeners:v,setNodeRef:m,transform:A,transition:p,isDragging:E}=sv({id:a}),C={transform:Cl.Transform.toString(A),transition:p,zIndex:E?50:"auto",opacity:E?.5:1};return q.jsxs("div",{ref:m,style:C,className:"flex items-center justify-between p-3 bg-white border border-gray-100 rounded-xl mb-2 shadow-sm",children:[q.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[q.jsx("div",{...d,...v,className:"cursor-grab text-gray-400 hover:text-gray-600 p-1",children:q.jsx($2,{className:"w-5 h-5"})}),q.jsx("span",{className:"font-medium text-gray-700",children:r.label})]}),q.jsx("button",{onClick:()=>s(r.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:q.jsx(mf,{className:"w-5 h-5"})})]})}function A4(){const{logout:a,autoLockTime:r,setAutoLockTime:s,masterKey:d,dek:v}=Sl(),m=ie.useRef(null),[A,p]=ie.useState(!1),[E,C]=ie.useState(""),[D,R]=ie.useState(!1),[L,_]=ie.useState(!1),[V,P]=ie.useState(!1),[H,T]=ie.useState(!1),[F,U]=ie.useState(null),[K,X]=ie.useState(""),[M,I]=ie.useState([]),w=Lx(ml(bf,{activationConstraint:{delay:100,tolerance:5}}),ml(o1,{activationConstraint:{delay:100,tolerance:5}}),ml(Cf,{coordinateGetter:ov})),[j,ae]=ie.useState(""),[de,ee]=ie.useState(!1),se=lt=>{ae(lt),ee(!0)},[Ae,oe]=ie.useState(!1),[he,ve]=ie.useState(""),[ke,Ke]=ie.useState(""),[Le,Ce]=ie.useState(""),[Te,Ze]=ie.useState(!1),[De,et]=ie.useState(!1),[Ne,bt]=ie.useState(""),[gt,Q]=ie.useState(""),[W,re]=ie.useState(""),[O,Z]=ie.useState(!1),[be,xe]=ie.useState("webdav"),[We,ht]=ie.useState("github"),[ft,Pe]=ie.useState(""),[pt,Ye]=ie.useState(""),[Mt,Et]=ie.useState(""),[Kt,bn]=ie.useState("/PassKeep/backup.json"),[jt,on]=ie.useState(!1),[rn,qt]=ie.useState(!1);ie.useEffect(()=>{const lt=async()=>{const It=await At.securityData.get(1);It&&(et(!0),bt(It.question),Q(""))},an=async()=>{if(!v)return;const It=await At.syncData.get(1);if(It){xe(It.type);try{const Qt=JSON.parse(await ds(v,It.config));Pe(Qt.url||""),Ye(Qt.user||""),Et(Qt.pwd||""),bn(Qt.path||"/PassKeep/backup.json"),ht(Qt.platform||"github"),on(Qt.autoBackup||!1)}catch{}}};lt(),an(),En()},[v]);const En=async()=>{const lt=await At.tags.toArray();I(lt.sort((an,It)=>(an.rank||0)-(It.rank||0)))},pn=async lt=>{const{active:an,over:It}=lt;if(It&&an.id!==It.id){const Qt=M.findIndex(Lt=>Lt.id===an.id),St=M.findIndex(Lt=>Lt.id===It.id),Rt=If(M,Qt,St);I(Rt),await At.transaction("rw",At.tags,async()=>{for(let Lt=0;Lt<Rt.length;Lt++){const Ft=Rt[Lt].id;Ft!==void 0&&await At.tags.update(Ft,{rank:Lt})}})}},Bn=async()=>{F!==null&&(await At.tags.delete(F),U(null),T(!1),En(),se(""))},Ht=lt=>{U(lt),T(!0)},rt=async()=>{const lt=K.trim();if(!lt)return;if(M.some(It=>It.label===lt)){se("");return}await At.tags.put({label:lt,time:Date.now(),rank:M.length>0?Math.max(...M.map(It=>It.rank||0))+1:0}),X(""),En(),se("")},Vt=async()=>{_(!0)},we=async()=>{try{const lt=await At.baseData.toArray(),an=await At.securityData.toArray(),It=await At.tags.toArray(),Qt=await At.totps.toArray(),St=await At.accounts.toArray(),Rt=await At.syncData.toArray(),Lt={version:Date.now(),baseData:lt,securityData:an,tags:It,totps:Qt,accounts:St,syncData:Rt},Ft=new Blob([JSON.stringify(Lt,null,2)],{type:"application/json"}),mn=URL.createObjectURL(Ft),Tt=document.createElement("a");Tt.href=mn,Tt.download="data.json",document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt),URL.revokeObjectURL(mn)}catch{se("")}},Se=()=>{var lt;(lt=m.current)==null||lt.click()},Je=async lt=>{var It;const an=(It=lt.target.files)==null?void 0:It[0];if(an){try{const Qt=await an.text();if(!Qt||Qt==="undefined"){se("");return}const St=JSON.parse(Qt);if(!St.baseData||St.baseData.length===0){se("");return}if(d)try{if(await ds(d,St.baseData[0].checkKey)!=="success")throw new Error}catch{se("");return}await At.transaction("rw",[At.baseData,At.securityData,At.tags,At.totps,At.accounts,At.syncData],async()=>{if(await At.baseData.clear(),await At.baseData.bulkAdd(St.baseData),St.securityData&&(await At.securityData.clear(),await At.securityData.bulkAdd(St.securityData)),St.tags&&(await At.tags.clear(),await At.tags.bulkAdd(St.tags)),St.totps)for(const Rt of St.totps){const Lt=await At.totps.get(Rt.id);(!Lt||Lt.time<Rt.time)&&await At.totps.put(Rt)}if(St.accounts)for(const Rt of St.accounts){const Lt=await At.accounts.get(Rt.id);(!Lt||Lt.time<Rt.time)&&await At.accounts.put(Rt)}St.syncData&&(await At.syncData.clear(),await At.syncData.bulkAdd(St.syncData))}),se(""),setTimeout(()=>{window.location.reload()},1500)}catch{se("")}m.current&&(m.current.value="")}},st=async()=>{if(ke!==Le){se("");return}if(!/^\d{8}$/.test(ke)){se("8");return}try{const lt=await At.baseData.get(1);if(!lt)return;const an=pl(lt.salt),It=await fs(he,an),Qt=await ba(It);if(await ds(Qt,lt.checkKey)!=="success"){se("");return}const Rt=await Eu(),Lt=await fs(ke,Rt),Ft=await ba(Lt),mn=await gl(Qt,lt.dataKey),Tt=await li(Ft,mn),Zt=await li(Ft,"success");await At.baseData.update(1,{salt:Iu(Rt),checkKey:Zt,dataKey:Tt,time:Date.now()}),se(""),oe(!1),ve(""),Ke(""),Ce(""),setTimeout(()=>{a()},1500)}catch{se("")}},$e=async()=>{if(!Ne||!gt||!W){se("");return}try{const lt=await At.baseData.get(1);if(!lt)return;const an=pl(lt.salt),It=await fs(W,an),Qt=await ba(It);if(await ds(Qt,lt.checkKey)!=="success"){se("");return}const Rt=await Eu(),Lt=await fs(gt,Rt),Ft=await ba(Lt),mn=await gl(Qt,lt.dataKey),Tt=await li(Ft,mn);await At.securityData.put({id:1,question:Ne,answerSalt:Iu(Rt),resetKey:Tt,time:Date.now()}),se(""),et(!0),Q(""),re(""),Ze(!1)}catch{se("")}},Dt=async()=>{if(!v)return;const lt=JSON.stringify({url:ft,user:pt,pwd:Mt,path:Kt,platform:We,autoBackup:jt}),an=await li(v,lt);await At.syncData.put({id:1,type:be,config:an,lastPush:Date.now(),lastPull:0,latestVersion:0}),se(""),Z(!1)},un=[{icon:q.jsx(bw,{className:"w-5 h-5"}),label:"",onClick:()=>Z(!0)},{icon:q.jsx(nE,{className:"w-5 h-5"}),label:"",onClick:()=>P(!0)},{icon:q.jsx(oE,{className:"w-5 h-5"}),label:"",onClick:we},{icon:q.jsx(J2,{className:"w-5 h-5"}),label:"",onClick:Se},{icon:q.jsx(Ww,{className:"w-5 h-5"}),label:"",onClick:()=>Ze(!0),warning:!De},{icon:q.jsx(qh,{className:"w-5 h-5"}),label:"",onClick:()=>oe(!0)},{icon:q.jsx(xw,{className:"w-5 h-5"}),label:"",onClick:()=>R(!0),value:r===0?"":`${r}`}];return q.jsxs("div",{className:"pb-20",children:[q.jsx("div",{className:"sticky top-0 bg-gray-50 pt-4 pb-4 z-10",children:q.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})}),q.jsxs("div",{className:"bg-indigo-50 rounded-2xl p-4 mb-6 border border-indigo-100",children:[q.jsx("h2",{className:"text-indigo-900 font-medium mb-1",children:""}),q.jsx("p",{className:"text-indigo-700 text-sm",children:""})]}),q.jsx("input",{type:"file",accept:".json",className:"hidden",ref:m,onChange:Je}),q.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden mb-6",children:un.map((lt,an)=>q.jsxs("button",{onClick:lt.onClick,className:`w-full flex items-center justify-between p-4 text-left text-gray-700 hover:bg-gray-50 transition-colors ${an!==un.length-1?"border-b border-gray-50":""}`,children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:"text-indigo-600",children:lt.icon}),q.jsx("span",{className:"font-medium",children:lt.label}),lt.warning&&q.jsx(iE,{className:"w-4 h-4 text-amber-500"})]}),lt.value&&q.jsx("span",{className:"text-sm text-gray-400",children:lt.value})]},an))}),q.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[q.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 p-4 text-left text-gray-700 hover:bg-gray-50 transition-colors border-b border-gray-50",children:[q.jsx("div",{className:"text-gray-500",children:q.jsx(Gw,{className:"w-5 h-5"})}),q.jsx("span",{className:"font-medium",children:""})]}),q.jsxs("button",{onClick:Vt,className:"w-full flex items-center gap-3 p-4 text-left text-red-600 hover:bg-red-50 transition-colors",children:[q.jsx("div",{className:"text-red-500",children:q.jsx(mf,{className:"w-5 h-5"})}),q.jsx("span",{className:"font-medium",children:""})]})]}),q.jsxs(pa,{isOpen:L,onClose:()=>_(!1),title:"",children:[q.jsxs("div",{className:"py-4 text-center text-red-600 font-medium",children:["",q.jsx("br",{}),q.jsx("br",{}),"MFA"]}),q.jsxs("div",{className:"flex gap-3 mt-4",children:[q.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),q.jsx("button",{onClick:async()=>{await At.delete(),window.location.reload()},className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:""})]})]}),q.jsxs(pa,{isOpen:A,onClose:()=>p(!1),title:"",children:[q.jsx("div",{className:"py-4 text-center text-gray-700",children:E}),q.jsx("button",{onClick:()=>p(!1),className:"w-full mt-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:""})]}),q.jsx(pa,{isOpen:D,onClose:()=>R(!1),title:"",children:q.jsx("div",{className:"space-y-2 py-2",children:[{label:"1 ",value:1},{label:"5 ",value:5},{label:"15 ",value:15},{label:"30 ",value:30},{label:"",value:0}].map(lt=>q.jsxs("button",{onClick:()=>{s(lt.value),R(!1)},className:`w-full flex items-center justify-between p-4 rounded-xl transition-colors ${r===lt.value?"bg-indigo-50 text-indigo-700 font-medium":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-100"}`,children:[q.jsx("span",{children:lt.label}),r===lt.value&&q.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"})]},lt.value))})}),q.jsx(pa,{isOpen:V,onClose:()=>P(!1),title:"",children:q.jsxs("div",{className:"py-2",children:[q.jsxs("div",{className:"flex gap-2 mb-6",children:[q.jsx("input",{type:"text",value:K,onChange:lt=>X(lt.target.value),onKeyDown:lt=>lt.key==="Enter"&&rt(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""}),q.jsx("button",{onClick:rt,disabled:!K.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:""})]}),q.jsx("p",{className:"text-xs text-gray-500 mb-4",children:""}),q.jsxs("div",{className:"max-h-[50vh] overflow-y-auto px-1",children:[q.jsx($x,{sensors:w,collisionDetection:Vx,onDragEnd:pn,children:q.jsx(av,{items:M.map(lt=>lt.id),strategy:tv,children:M.map(lt=>q.jsx(v4,{id:lt.id,tag:lt,onDelete:Ht},lt.id))})}),M.length===0&&q.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:""})]}),q.jsx("button",{onClick:()=>P(!1),className:"w-full mt-6 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors",children:""})]})}),q.jsxs(pa,{isOpen:H,onClose:()=>T(!1),title:"",children:[q.jsxs("div",{className:"py-4 text-center text-gray-700",children:["",q.jsx("p",{className:"text-xs text-gray-400 mt-2",children:""})]}),q.jsxs("div",{className:"flex gap-3 mt-4",children:[q.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:""}),q.jsx("button",{onClick:Bn,className:"flex-1 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:""})]})]}),q.jsx(pa,{isOpen:Ae,onClose:()=>oe(!1),title:"",children:q.jsxs("div",{className:"space-y-4 py-2",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"password",value:he,onChange:lt=>ve(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"password",value:ke,onChange:lt=>Ke(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:" (8)"})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"password",value:Le,onChange:lt=>Ce(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""})]}),q.jsx("button",{onClick:st,disabled:!he||!ke||!Le,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:""})]})}),q.jsx(pa,{isOpen:Te,onClose:()=>Ze(!1),title:"",children:q.jsxs("div",{className:"space-y-4 py-2",children:[De&&q.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm mb-4",children:""}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"text",value:Ne,onChange:lt=>bt(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",placeholder:""})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"text",value:gt,onChange:lt=>Q(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",placeholder:""})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),q.jsx("input",{type:"password",value:W,onChange:lt=>re(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-base",placeholder:""})]}),q.jsx("button",{onClick:$e,disabled:!Ne||!gt||!W,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:""})]})}),q.jsx(pa,{isOpen:O,onClose:()=>Z(!1),title:"",children:q.jsxs("div",{className:"space-y-4 py-2",children:[q.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[q.jsx("button",{onClick:()=>xe("webdav"),className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-colors ${be==="webdav"?"bg-white text-indigo-600 shadow-sm":"text-gray-500"}`,children:"WebDAV"}),q.jsx("button",{onClick:()=>xe("git"),className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-colors ${be==="git"?"bg-white text-indigo-600 shadow-sm":"text-gray-500"}`,children:"Git"})]}),be==="git"&&q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Git "}),q.jsxs("select",{value:We,onChange:lt=>ht(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[q.jsx("option",{value:"github",children:"GitHub"}),q.jsx("option",{value:"codeup",children:"Codeup"}),q.jsx("option",{value:"gitee",children:"Gitee"}),q.jsx("option",{value:"gitcode",children:"GitCode"})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:be==="webdav"?" (URL)":" (Repository URL)"}),q.jsx("input",{type:"text",value:ft,onChange:lt=>Pe(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:be==="webdav"?"https://dav.example.com":"https://github.com/user/repo.git"})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:be==="webdav"?"":" (Branch)"}),q.jsx("input",{type:"text",value:pt,onChange:lt=>Ye(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:be==="webdav"?"username":"main"})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:be==="webdav"?" / ":" (Access Token)"}),q.jsx("input",{type:"password",value:Mt,onChange:lt=>Et(lt.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"********"})]}),q.jsxs("div",{className:"flex items-center justify-between pt-2",children:[q.jsx("span",{className:"text-sm font-medium text-gray-700",children:""}),q.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[q.jsx("input",{type:"checkbox",className:"sr-only peer",checked:jt,onChange:lt=>on(lt.target.checked)}),q.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),q.jsx("p",{className:"text-xs text-gray-500",children:""}),q.jsxs("div",{className:"pt-4 space-y-2",children:[q.jsx("button",{onClick:Dt,className:"w-full py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:""}),!jt&&q.jsxs("div",{className:"flex gap-2 pt-2",children:[q.jsx("button",{onClick:()=>se(""),className:"flex-1 py-2 bg-indigo-50 text-indigo-600 rounded-lg font-medium hover:bg-indigo-100 transition-colors",children:""}),q.jsx("button",{onClick:()=>se(""),className:"flex-1 py-2 bg-indigo-50 text-indigo-600 rounded-lg font-medium hover:bg-indigo-100 transition-colors",children:""})]})]})]})}),q.jsx(io,{message:j,visible:de,onClose:()=>ee(!1)})]})}function C4(){const{isInitialized:a,isLocked:r}=Sl();return a===null?q.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:"Loading..."}):a?r?q.jsx(s3,{}):q.jsx(sb,{children:q.jsx(LC,{children:q.jsxs(fl,{element:q.jsx(a3,{}),children:[q.jsx(fl,{path:"/mfa",element:q.jsx(UI,{})}),q.jsx(fl,{path:"/accounts",element:q.jsx(x4,{})}),q.jsx(fl,{path:"/my",element:q.jsx(A4,{})}),q.jsx(fl,{path:"*",element:q.jsx(OC,{to:"/mfa",replace:!0})})]})})}):q.jsx(i3,{})}function b4(){return q.jsx(aw,{children:q.jsx(C4,{})})}MA.createRoot(document.getElementById("root")).render(q.jsx(ie.StrictMode,{children:q.jsx(b4,{})}));
